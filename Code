IF(@componentGroupId=11)
	BEGIN
	  -------------- Fetch data-----------
	  INSERT INTO pr.BPSTransportAllowance_log (FK_BPStransportID, AssociateID, OfficeType,
	    TravelType, StartDate, EndDate, StartTime, EndTime, StartDateTime, EndDateTime, ProjectID,
		Amount, Grade, SetID, Approvedby, Fk_ApprovedRoleID, ApprovedDate, RejectedBy,
		RejectedDate, RejectionReason, Fk_RejectedRoleID, Createdby, Createddate, Modifiedby,
		Modifieddate, Remarks, Rowstatus,[Status], Logcreatedby, LogCreateddate, City)
	  SELECT TA.PK_BPStransportID, TA.AssociateID, TA.OfficeType, TA.TravelType, TA.StartDate, 
	    TA.EndDate, TA.StartTime, TA.EndTime, TA.StartDateTime, TA.EndDateTime, TA.ProjectID,
		TA.Amount, TA.Grade, TA.SetID, TA.Approvedby, TA.Fk_ApprovedRoleID, TA.ApprovedDate,
		TA.RejectedBy, TA.RejectedDate, TA.RejectionReason, TA.Fk_RejectedRoleID,
		TA.Createdby, TA.Createddate, TA.Modifiedby, TA.Modifieddate, TA.Remarks,
		TA.Rowstatus, TA.[Status], STP.CreatedBy, GETDATE(), TA.City	   
	  FROM PR.BPSTransportAllowance TA INNER JOIN STG.ExceptiontovalidAllowance STP WITH (NOLOCK) 
        ON TA.PK_BPStransportID = STP.UniqueID 
      WHERE  TA.Rowstatus = 1 AND STP.RowStatus = 1 AND TA.[Status] IN (1,3,4,8,14,18,17,15,16,12)
	  -----------------Update----------------
      UPDATE BTP SET BTP.RowStatus = 0, BTP.ModifiedBy = STP.CreatedBy, BTP.ModifiedDate = GETDATE(),
	    BTP.Remarks = STP.Remarks, BTP.RejectionReason = STP.RejectionReason, BTP.RejectedBy = STP.CreatedBy
	  FROM PR.BPSTransportAllowance BTP WITH (NOLOCK) INNER JOIN STG.ExceptiontovalidAllowance STP WITH (NOLOCK) 
        ON BTP.PK_BPStransportID = STP.UniqueID 
      WHERE  BTP.Rowstatus = 1 AND STP.RowStatus = 1 AND BTP.[Status] IN (1,3,4,8,14,18,17,15,16,12)
	 
	END
