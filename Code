$(document).on('click', '#editstartdate', function () {
    $('.popup_new .innerErrorHolder').text('');
    $("#editstartdate").datepicker("destroy");
    $("#editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var currentdate = new Date();
    currentdate.setMonth(currentdate.getMonth() - 1, 15);
    var prevmonthdate = new Date(currentdate);
    var maximumdate = new Date(prevmonthdate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 15);
    var minimumdate = new Date(maximumdate);

    $("#editstartdate").datepicker("option", "minDate", minimumdate);
    $("#editstartdate").datepicker("option", "maxDate", prevmonthdate);

});
$(document).on('change', '#editstartdate', function () {
    $("#editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var fromdate = new Date($("#editstartdate").val());
    var minimumdate = new Date(fromdate);
    var fromdate1 = new Date($("#editstartdate").val());
    fromdate1.setDate(fromdate.getDate() + 1);
    var frommonth = fromdate.getMonth();
    var frommonth1 = fromdate1.getMonth();
    if (frommonth == frommonth1) {
        fromdate.setDate(fromdate.getDate() + 1);
    }
    else {
        fromdate.setDate(fromdate.getDate() + 0);
    }
    var toDate = new Date(fromdate);

    $("#editenddate").datepicker("option", "minDate", minimumdate);
    $("#editenddate").datepicker("option", "maxDate", toDate);

});


//$(document).on('click', '#editexceptionstartdate', function () {
//    $("#editexceptionstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
//    var currentdate = new Date();
//    currentdate.setMonth(currentdate.getMonth() - 1, 15);
//    var prevmonthdate = new Date(currentdate);
//    var maximumdate = new Date(prevmonthdate);
//    maximumdate.setMonth(maximumdate.getMonth() - 6, 15);
//    var minimumdate = new Date(maximumdate);

//    $("#editexceptionstartdate").datepicker("option", "minDate", minimumdate);
//    $("#editexceptionstartdate").datepicker("option", "maxDate", prevmonthdate);
//});

$(document).on('change', '#editexceptionstartdate', function () {

    $("#editexceptionstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var fromdate = new Date($("#editexceptionstartdate").val());
    var minimumdate = new Date(fromdate);
    var fromdate1 = new Date($("#editexceptionstartdate").val());
    fromdate1.setDate(fromdate.getDate() + 1);
    var frommonth = fromdate.getMonth();
    var frommonth1 = fromdate1.getMonth();
    if (frommonth == frommonth1) {
        fromdate.setDate(fromdate.getDate() + 1);
    }
    else {
        fromdate.setDate(fromdate.getDate() + 0);
    }
    var toDate = new Date(fromdate);

    $("#editexceptionenddate").datepicker("option", "minDate", minimumdate);
    $("#editexceptionenddate").datepicker("option", "maxDate", toDate);

});
