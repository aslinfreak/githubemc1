This is html file
<!--<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>One cognizant</title>
    <link href="../Styles/style.css" rel="stylesheet" />
    <link href="../Styles/jquery.dataTables.css" rel="stylesheet" />
    <link href="../Styles/customStyle.css" rel="stylesheet" />
    <link href="../Styles/main.css" rel="stylesheet" />
    <link href="../Styles/thickbox.css" rel="stylesheet" />
    <link href="../Styles/jscrollpane.css" rel="stylesheet" />
    <link href="../Styles/jquery.timeentry.css" rel="stylesheet" />
    <link href="../Styles/jquery.ui.datepicker.css" rel="stylesheet" />
    <link href="../Styles/customSelectBox.css" rel="stylesheet" />
    <link href="../Styles/jquery.jscrollpane.css" rel="stylesheet" />
    <link href="../Styles/brandingStyles.css" rel="stylesheet" />
    <!-- <link href="../Styles/jquery.mCustomScrollbar.css" rel="stylesheet" />-->
    <script type="text/javascript" src="../Scripts/jquery.js"></script>
    <!--<script type="text/javascript" src="../Scripts/jquery-migrate-1.0.0.js"></script>-->
    <!--    <script src="../Scripts/jquery.mCustomScrollbar.concat.min.js" type="text/javascript"></script>-->
    <script type="text/javascript" src="../Scripts/jquery.mousewheel.js"></script>
    <script type="text/javascript" src="../Scripts/jquery.jScrollPane.js"></script>
    <script type="text/javascript" src="../Scripts/script.js"></script>
    <script type="text/javascript" src="../Scripts/sort.js"></script>
    <script type="text/javascript" src="../Scripts/tinycarousel.js"></script>
    <script type="text/javascript" src="../Scripts/tinyscroll.js"></script>
    <script type="text/javascript" src="../Scripts/jqui.js"></script>
    <script type="text/javascript" src="../Scripts/jquery.dataTables.js"></script>
    <script type="text/javascript" src="../Scripts/customfile.js"></script>
    <script src="../Scripts/jquery.numeric.js" type="text/javascript"></script>
    <script src="../Scripts/ajaxupload.js" type="text/javascript"></script>
    <script src="../Scripts/thickbox.js" type="text/javascript"></script>
    <script type="text/javascript" src="../Scripts/custom.js"></script>
    <script type="text/javascript" src="../Scripts/customfile.min.js"></script>
    <script src="../Scripts/jquery.timeentry.js" type="text/javascript"></script>
    <script type="text/javascript" src="../Scripts/jquery.placeholder.js"></script>
    <script type="text/javascript" src="../Scripts/SelectBox.js"></script>
    <script type="text/javascript" src="../Scripts/purify.js"></script>
    <script src="../Common_JSFiles/FileUploadCount.js" type="text/javascript"></script>
    <input type="hidden" id="Appmail_hidden" runat="server" />
    <!--<script src="../JSFiles/UploadData.js?ver=1" type="text/javascript"></script>-->
    <link href="../SGP_Styles/SGP_UploadData.css" rel="stylesheet" />
    <style type="text/css">
        /*<!--for popup 4 -->*/
    </style>
</head>
<body style="background: transparent" class="noJS">
    <form id="form1" runat="server" autocomplete="off">
        <div class="upload_page">
            <div class="top">
            </div>
            <div class="middle clearfix pt-3 h-auto" style="height: 490px;">
                <ul class="top_menus flft">
                    <li class="mleft10">
                        <label class="mt-1">
                            Component
                        </label>
                        <select class="styled" name="bon" id="bonus" style=" height: 28px; text-indent: 3px !important;--bgX:60%;width:180px;">
                            <option value="-1">--Select Component--</option>
                        </select>
                    </li>
                </ul>
                <ul class="top_menus pull-right">
                    <li class="mleft40 ml-0 mt-1" id="upload" style="margin-left:245px;">
                        <span class="flft mleft20">
                            <img src="../Images/divider.png" />
                        </span> <a onclick="OnUploadButtonClick()" id="uploadData"
                                   class="flft mleft10 link uploadIcon" style="cursor: pointer;">
                            <img id="upload_img" src="../Images/upload_folder.png"  />
                            <span style="" class="">Upload Data</span>
                        </a><a id="clck" class="thickbox"></a>
                    </li>
                    <li class="mleft100 ml-0 mt-1" id="download">
                        <span class="flft mleft20">
                            <img src="../Images/divider.png" />
                        </span> <a onclick="opentemplate()" id="emptyTemplte" class="flft mleft10 link downloadIcon" style="cursor: pointer;">
                            <img src="../Images/download_folder.png"  />
                            <span>Download Empty Template</span>
                        </a>
                    </li>
                    <li id="cutoff" class="mleft180 ml-2">
                        <span class="flft mleft20">
                            <!--<img src="../Images/divider.png" />-->
                        </span>
                        <label class="mleft10">
                            Cut Off date:
                        </label><span class="cutofflbl"></span>
                    </li>
                </ul>
                <div id="divApprovalmsg" class="mleft20" style="float: right; position: absolute; margin-left: 500px; font-family: Gellix !important; margin-top: 30px; font-size: 14px; color: #00547E; width: 400px">
                    <marquee width="100%"></marquee>
                </div>
                <div class="clear">
                </div>
                <div class="flrt top_head mt-3">
                    <a class="download_1 flft mleft20 downloadIcon" id="dwnload_Data" style="cursor: pointer;">
                        <!--<img src="../Images/download_icon.png" />-->
                        <span>Download Data Template</span>
                    </a><span id="dwnload_Datadivider" class="flft mleft10 mtop5">
                        <!--<img src="../Images/divider.png" />-->
                    </span><a class="download_1 flft mleft20 downloadIcon" id="dwnload_Report"
                              style="cursor: pointer;">
                        <!--<img src="../Images/download_icon.png" />-->
                        <span>Export Processed Report</span>
                    </a>
                </div>
                <div class="mtop10 mleft10 flft row_2_data w-auto">
                    <div class=" flft rowdatatop" id="divprojfilter" style="display: none;">
                        <label style="width:67px;">Project ID</label>
                        <span class="" id="selectprojid"></span>
                        <select class="styled" id="proid" name="projid">
                            <option value="-1">--select ProjectID--</option>
                        </select>
                    </div>
                    <div id="filterdrpdwn">
                        <div class=" flft">
                            <select class="styled" id="drpdown_filter" name="assid" style="width: 152px;">
                                <option value="-1">--Select Filter--</option>
                            </select>
                        </div>
                        <input type="text" class="txtbx_med_180 search flft" id="aid" />
                        <img class="search_b spriteImage" alt="" style="--x:-2575px;--y:-1110px;width:20px;height:20px;cursor: pointer;" />
                    </div>
                    <div id="searchtxt" class="pull-left"></div>
                    <input type="button" class="new_btn mtop4 btn btn-primary" value="New" style="margin-left: 25px;" />
                    <input type="button" class="delete_btn mtop4 btn btn-secondary" value="Delete" id="deletebtn" style="margin-left:5px;" />
                </div>
                <div class="error_msg_reject">
                    <img class='spriteImage' style="--x:-2665px;--y:-404px;width:45px;height:45px" />
                    <p>
                        Please select a record to delete
                    </p>
                </div>
                <div class="clear">
                </div>
                <div class="table_content clearfix">
                    <div class="header clearfix">
                        <div class="flft w-100">

                            <a class=" mleft10" id="a_valid">Valid Data</a><a class="selected mleft10" id="a_exceptions">Exceptions</a><a id="a_otherGeo">Other Geography</a>
                            <img class="mtop4 flft spriteImage" style="margin-left: 10px; cursor: pointer; --x: -2693px; --y: -1019px; width: 20px; height: 20px"
                                 id="refresh_grid" title="Refresh" />
                            <!--      <a class="customize flrt" id="customize">Customize</a>-->
                            <ul id="ulMonth" class="top_menus" style="float: left;">
                                <li class="mleft50">
                                    <label style="font-size: 14px; width: 50px; float: left;">
                                        Month
                                    </label>
                                    <select class="styled" name="Month" id="ddlMonth" style="width: 100px;--bgX:61%">
                                        <option value="-1">--Select Month--</option>
                                    </select>
                                </li>
                            </ul>

                            <ul id="ulRecord" class="top_menus pull-right mb-0" style="display: none;">
                                <li class="ml-0 left-0" style="position:relative;">
                                    <a id="mailattach">Mail Attachment</a>
                                    <a id="customize">Customize</a>
                                    <label style="font-size: 12px; width: auto; float: left;" id="disLabel" class="">
                                        Display Records
                                    </label>
                                    <select class="styled" name="Record" id="displayrecords" style="margin-left: 10px;">

                                        <option value="250" selected="selected">250</option>
                                        <option value="500">500</option>
                                        <option value="750">750</option>
                                        <option value="1000">1000</option>
                                    </select>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div id="SPDDetails">
                        <div class="dataTableScroll" id="" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport" style="height:258px; overflow:scroll">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblSPD" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="ITADetails">
                        <div class="dataTableScroll" id="" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport" style="height:258px; overflow:scroll">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblITA" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="INDDetails">
                        <div class="dataTableScroll" id="" style="display: none">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport" style="height:258px; overflow:scroll">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblIND" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="MDDetails">
                        <div class="dataTableScroll" id="" style="display: none">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport" style="height:258px; overflow:scroll">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblMD" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="SPDetails">
                        <div class="dataTableScroll" id="" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport" style="height:258px; overflow:scroll">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblSP" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="SCDetails">
                        <div class="dataTableScroll" id="" style="display: none">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport" style="height:258px; overflow:scroll">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblSC" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="OOBDetails">
                        <div class="dataTableScroll" id="" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport" style="height:258px; overflow:scroll">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblOOB" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="PSUDetails">
                        <div class="dataTableScroll" id="" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport" style="height:258px; overflow:scroll">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblPSU" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="SDDetails">
                        <div class="dataTableScroll" id="" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport" style="height:258px; overflow:scroll">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblSD" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="refDetails">
                        <div class="dataTableScroll" id="" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblReferral" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>
                    <div>
                    </div>
                    <div id="Joiningbonus">
                        <div class="dataTableScroll" id="Div1" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblJoining" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>
                    <div>
                    </div>

                    <div id="SchoolFee" style="display:none;">
                        <div class="dataTableScroll" id="Div3" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport" style="height:258px;">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblSchoolfee" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>
                    <div>
                    </div>

                    <div id="shiftdetails" style="display:none;">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_shift" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>

                        <ul class="btnlist" style="margin-left: 250px !important; margin-top: 10px !important; display: none;">
                            <li>
                                <input name="editbtn" id="uploadeditbtn" class="disablebutton btn btn-primary" value="Edit" type="button" style="background: url(../Images/Edit_btn.png) no-repeat; border: none; margin-top:3px;" />

                            </li>
                            <li><input type="button" class="delete_btn mtop4 btn btn-secondary" value="Delete" id="SAdeletebtn" style="margin-left:0px !important;" /></li>
                        </ul>
                        <div class="refPage" id="shiftrefPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>
                    <div>
                    </div>

                    <div class="tbl_upload_holder trt_tbl" id="AdditionalPayoutdetails">
                        <div style="overflow:scroll;height:303px;">
                            <table class="tbl_upload" id="tblAdditionalPayout" cellpadding="0" cellspacing="0">
                                <thead id="HeaderAdditionalPayout">

                                </thead>
                                <tbody id="AdditionalPayoutGridValues"></tbody>
                            </table>
                        </div>
                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>

                    </div>

                    <div id="additionaldeductions">

                        <div class="dataTableScroll" id="" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbldeduction" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="SARdetails">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_sar" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>

                        <ul class="btnlist" style="margin-left: 250px !important; margin-top: 10px !important; display: none;">
                            <li>
                                <input name="editbtn" id="Button1" class="disablebutton" type="button" style="background: url(../Images/Edit_btn.png) no-repeat; width: 62px; height: 25px; border: none;" />

                            </li>
                            <li><input type="button" class="delete_btn mtop4 btn btn-secondary" value="Delete" id="Button2" style="margin-left:5px;" /></li>
                        </ul>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>


                    <!--Netherland Components-->

                    <div id="SignOnBonus">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" style="width: 1129px !important; display: none;" id="tblSignonBonus" cellpadding="0" cellspacing="0">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="InsuranceTaxation">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblInsurancetax" cellpadding="0" cellspacing="0"
                                           style="width: 1129px !important; display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="RewardsandRegonition">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblrewards" cellpadding="0" cellspacing="0"
                                           style="width: 1129px !important; display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="Relocation">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblRelocation" cellpadding="0" cellspacing="0"
                                           style="display: none; width: 1129px">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="Transition">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblTransition" cellpadding="0" cellspacing="0"
                                           style="display: none; width: 1129px">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="Honorarium">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblHonorarium" cellpadding="0" cellspacing="0"
                                           style="display: none; width: 1129px">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="divOnCallAllowance">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_oncall" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="divStatutoryPayout">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_Statutory" cellpadding="0" cellspacing="0"
                                           style="display: none;width:1129px">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="divHighTemp">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_Hightemp" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="CarDamageTrafficFine">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblCarDamageTrafficFine" cellpadding="0" cellspacing="0"
                                           style="display: none;width:1129px;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="divNetTravelAllowance">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_netTravel" cellpadding="0" cellspacing="0"
                                           style="display: none;width:1129px">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="CommutingAllowance">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_Commuting" cellpadding="0" cellspacing="0"
                                           style="display: none; width: 1129px !important;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <!--APAC Components-->

                    <div id="APACSchoolFee" style="display:none;">
                        <div class="dataTableScroll" id="Div3" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport" style="height:258px;">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblSchoolfeeAPAC" cellpadding="0" cellspacing="0"
                                           style="display: none;width:1129px;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="divMaternityAllowance">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_maternity" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="InCityOnsiteAllowance">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_InCityOnsiteAllowance" cellpadding="0" cellspacing="0"
                                           style="display: none; width: 1129px;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <!-- CE Regions-->

                    <div id="divBenefits">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_benefits" cellpadding="0" cellspacing="0"
                                           style="display: none; width: 1129px;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="divWellness">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_Wellness" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>

                        <ul class="btnlist" style="margin-left: 250px !important; margin-top: 10px !important; display: none;">
                            <li>
                                <input name="editbtn" id="Button3" class="disablebutton" type="button" style="background: url(../Images/Edit_btn.png) no-repeat; width: 62px; height: 25px; border: none;" />

                            </li>
                            <li><input type="button" class="delete_btn mtop4 btn btn-secondary" value="Delete" id="Button4" style="margin-left:5px;" /></li>
                        </ul>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="divMobileTaxation">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_MobileTaxation" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>

                        <ul class="btnlist" style="margin-left: 250px !important; margin-top: 10px !important; display: none;">
                            <li>
                                <input name="editbtn" id="Button5" class="disablebutton" type="button" style="background: url(../Images/Edit_btn.png) no-repeat; width: 62px; height: 25px; border: none;" />

                            </li>
                            <li><input type="button" class="delete_btn mtop4 btn btn-secondary" value="Delete" id="Button6" style="margin-left:5px;" /></li>
                        </ul>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="divCE_SchoolFee" style="display:none;">
                        <div class="dataTableScroll" id="Div3" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport" style="height:258px;">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblSchoolfee_CE" cellpadding="0" cellspacing="0"
                                           style="display: none;width:1129px;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="divUK_Travel">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tblTravelUK" cellpadding="0" cellspacing="0"
                                           style="display: none;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>

                        <ul class="btnlist" style="margin-left: 250px !important; margin-top: 10px !important; display: none;">
                            <li>
                                <input name="editbtn" id="Button5" class="disablebutton" type="button" style="background: url(../Images/Edit_btn.png) no-repeat; width: 62px; height: 25px; border: none;" />

                            </li>
                            <li><input type="button" class="delete_btn mtop4 btn btn-secondary" value="Delete" id="Button6" style="margin-left:5px;" /></li>
                        </ul>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <!-- PHL Regions -->
                    <div id="SAODetails">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_SAODetails" cellpadding="0" cellspacing="0"
                                           style="display: none; width: 1129px;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="LAADetails">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_LAADetails" cellpadding="0" cellspacing="0"
                                           style="display: none; width: 1129px;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>

                    <div id="HDMFDetails">
                        <div class="dataTableScroll" style="display: none;">
                            <div class="scrollbar">
                                <div class="track">
                                    <div class="thumb">
                                        <div class="end">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="viewport">
                                <div class="overview_scroll">
                                    <table class="tbl_upload" id="tbl_HDMFDetails" cellpadding="0" cellspacing="0"
                                           style="display: none; width: 1129px;">
                                        <thead></thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div>
                        </div>
                        <div class="refPage" style="display: none;">
                            <label class="totrec" style="font-size: 12px;"></label>
                            <input type="button" class="ref_first" value="First" />
                            <input type="button" class="ref_prev" value="Prev" />
                            <span class="pagesdiv paging_full_numbers">
                                <a class='pageselected'>1</a>
                                <a>2</a>
                            </span>
                            <input type="button" class="ref_next" value="Next" />
                            <input type="button" class="ref_last" value="Last" />
                        </div>
                    </div>


                    <div class="clear">
                    </div>
                    <a onclick="getusermanual()" id="divApprovalmsg1">User Manual</a>
                    <a onclick="getFAQ()" id="divFAQ" style="display:none;margin-left:30px">FAQ</a>
                </div>
            </div>
            <div class="clear">
            </div>
            <div class="bottom">
            </div>
        </div>

        <div class="background_bg">
        </div>
        <div class="popup_new disp">
            <div class="top"></div>

            <div class="">
                <div class="">
                    <div class="middle">
                        <p class="head">
                            New Details
                        </p>
                        <a class="close_popup">
                            <img class='spriteImage' style="--x:-2201px;--y:-1414px;width:13px;height:13px" />
                        </a>
                        <div class="inner_cont clearfix flft" style="width: 678px!important; height: 300px;">
                            <br />
                            <ul>
                                <li>

                                    <label>Referrer ID:</label><span>12345</span>
                                </li>
                                <li>
                                    <label>Referrer Name:</label><span>xyz</span>
                                </li>
                                <li>
                                    <label>Referrer Grade:</label><span>Associate</span>
                                </li>
                                <li>
                                    <label>Referrer Department:</label><span>xyz</span>
                                </li>
                                <li>
                                    <label>Referrer BG Status:</label><span>
                                        <select class="styled">
                                            <option>Positive</option>
                                        </select>
                                    </span>
                                </li>
                            </ul>
                            <ul>

                                <li>
                                    <label>Referrer ID:</label><span>12345</span>
                                </li>
                                <li>
                                    <label>Referrer Name:</label><span>xyz</span>
                                </li>
                                <li>
                                    <label>Referrer Grade:</label><span>Associate</span>
                                </li>
                                <li>
                                    <label>Referrer DOJ:</label><span>xyz</span>
                                </li>
                                <li>
                                    <label>Referrer BG Status:</label><span>
                                        <select class="styled">
                                            <option>Positive</option>
                                        </select>
                                    </span>
                                </li>
                            </ul>
                            <ul>
                                <li>
                                    <label>Amount:</label><span><input type="text" class="txtbx_ul" /></span>
                                </li>
                                <li>
                                    <label>Project ID:</label><span>xyz</span>
                                </li>
                                <li>
                                    <label>SPL Case Reason:</label><span>
                                        <select class="styled">
                                            <option>Positive</option>
                                        </select>
                                    </span>
                                </li>
                                <li>
                                    <label>Remarks:</label><span>pqr</span>
                                </li>
                            </ul>
                            <!--<div class="clear">
                            </div>-->
                        </div>
                        <div class="contentErrorHolder">
                            <div class="clsErrorHolder scroll-pane">
                                <div class="innerErrorHolder">
                                </div>
                            </div>
                        </div>
                        <input type="button" id="btn_save" class="save_btn mleft280 my-3 btn btn-primary" value="Save" style="margin-left:265px !important;" />
                        <input type="button" class="cancel_btn mleft10 my-3 btn btn-secondary" value="Cancel" />
                        <!-- <div class="clear">
                        </div>-->
                    </div>
                </div>
            </div>

            <!-- <div class="bottom">
            </div>-->
        </div>


        <div class="popup_edit disp">

            <!--<div class="top">
            </div>-->
            <div class="top"></div>
            <div class="middle">
                <p class="head">
                    Edit Details
                </p>
                <a class="close_popup">
                    <img class='spriteImage' style="--x:-2201px;--y:-1414px;width:13px;height:13px" />
                </a>
                <!--<div class="clear">
                </div>-->
                <div class="inner_cont clearfix flft">
                    <!-- <ul class="mtop10">
                        <li>

                           <label>Referrer ID:</label><span>12345</span>
                       </li>
                       <li>
                           <label>Referrer Name:</label><span>xyz</span>
                       </li>
                       <li>
                           <label>Referrer Grade:</label><span>Associate</span>
                       </li>
                       <li>
                            <label>Referrer Department:</label><span>xyz</span>
                        </li>
                        <li>
                            <label>Referrer BG Status:</label><span>
                                <select class="styled">
                                    <option>Positive</option>
                                </select>
                            </span>
                        </li>
                    </ul>
                    <ul class="mtop20">-->

                </div>
                <div class="contentErrorHolder">
                    <div class="clsErrorHolder scroll-pane">
                        <div class="innerErrorHolder">
                        </div>
                    </div>
                </div>
                <input type="button" id="btn_Update" class="update_btn mleft280 my-3 btn btn-primary" value="Update" />
                <input type="button" id="btn_cancel" class="cancel_btn mleft10 my-3 btn btn-secondary" value="Cancel" />
            </div>
        </div>
        <div class="popup_view disp">
            <a class="close_popup">
                <img class='spriteImage' style="--x:-2201px;--y:-1414px;width:13px;height:13px" />
            </a>
            <div class="top">
            </div>
            <div class="middle">
                <p class="head">
                    View Details
                </p>
                <div class="clear">
                </div>
                <div class="inner_cont clearfix flft">
                    <div class="clear">
                    </div>
                </div>
                <!-- <input type="button" class="cancel_btn mleft10 mtop20 mbot20" />-->
                <div class="clear">
                </div>
            </div>
            <div class="bottom">
            </div>
        </div>
        <iframe id="iframeExcel" style="border: none; overflow: hidden; display: none;" frameborder="0"
                allowtransparency="true"></iframe>
        </div>
        </div>
    </form>
    <div class="background_bg" id="idbackground_bg" runat="server">
    </div>
    <div class="popup_msg popUpalignapproval" id="idpopup_msg" style="display: none"
         runat="server">
        <a class="close_popup">
            <img class='spriteImage' style="--x:-2201px;--y:-1414px;width:13px;height:13px" onclick="succpopupclose()" />
        </a>
        <div class="top">
        </div>
        <div class="middle clearfix">
            <div class="divBorder">
                <img class='spriteImage' style="--x:-2542px;--y:-404px;width:45px;height:46px" /><p id="tagsucc">
                </p>
                <div class="clear">
                </div>
                <div class="popup_btns mtop20 mbot20">
                    <input type="button" class="ok_btn btn btn-primary" value="OK" onclick="succpopupclose()" />
                </div>
            </div>
            <div class="clear">
            </div>
        </div>
        <div class="bottom">
        </div>
    </div>
    <div class="popup_msg1 popUpalignapproval" style="display: none;" runat="server" id="idpopup_msg1">
        <a class="close_popup">
            <img class='spriteImage' style="--x:-2201px;--y:-1414px;width:13px;height:13px" onclick="errpopupclose()" />
        </a>
        <div class="top">
        </div>
        <div class="middle clearfix">

            <div class="clear">
            </div>
            <div class="divBorder">
                <img class='spriteImage' style="--x:-2665px;--y:-404px;width:45px;height:45px" />
                <div class="" id="scrollbar1" runat="server">
                    <div class="scrollbar" id="scrollbardiv" runat="server">
                        <div class="track">
                            <div class="thumb">
                                <div class="end">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="viewport">
                        <div class="overview_scroll">
                            <p id="tagerr" runat="server">There are no records to download</p>
                        </div>
                    </div>
                </div>
                <div class="clear">
                </div>
                <div class="popup_btns mtop20 mbot20">
                    <input type="button" class="ok_btn btn btn-primary" value="OK" onclick="errpopupclose()" id="errclose" style="vertical-align: middle; cursor: pointer; border: none;" />
                </div>
            </div>
            <div class="clear">
            </div>
        </div>
        <div class="bottom">
        </div>
    </div>
    <div class="popup_info popUpalignapproval" style="display: none">
        <a class="close_popup">
            <img class='spriteImage' style="--x:-2201px;--y:-1414px;width:13px;height:13px" onclick="infopopupclose()" />
        </a>
        <div class="top">
        </div>
        <div class="middle clearfix">
            <div class="divBorder">
                <img class='spriteImage' style="--x:-2665px;--y:-404px;width:45px;height:45px" /><p id="infopopupmsg">
                </p>
                <div class="clear">
                </div>
                <div class="popup_btns mtop20 mbot20">
                    <input type="button" class="yes_btn btn btn-primary" value="Yes" />
                    <input type="button" class="no_btn mleft20 btn btn-secondary" style="margin-top:0px!important" value="No"
                           onclick="infopopupclose()" />
                </div>
            </div>
            <div class="clear">
            </div>
        </div>
        <div class="bottom">
        </div>
    </div>


    <div id="progressBackgroundFilter">
    </div>
    <div id="processMessage">
        <center>
            <img src="../Images/progressbar.gif" />
        </center>
    </div>
    <div class="background_bg"></div>

    <!-- SDA new popup-->
    <div class="popup_uploadwrap disp" id="6thdayAllowance_popup">
        <div class="close_uploadpopup">
            <img class='spriteImage' style="--x:-2201px;--y:-1414px;width:13px;height:13px" />
        </div>
        <div class="popup_uploadtop"></div>
        <div class="popup_uploadmid">
            <div class="headwrap">6th Day Allowance</div>
            <div class="clear"></div>
            <div class="pop_upinner_cont clearfix" style="width: 870px;">
                <div id="popup_tab1_wrapper" class="scrollpopup" style="width: 870px; height: 100px">

                    <table border="0" cellspacing="0" cellpadding="0" class="popup_tab1" id="6thdayAllowance_tab1" style="width: 870px; height: 90px;">
                        <tr>
                            <th class="SANewtd1">ShiftType</th>
                            <th class="SANewtd2">AssociateID</th>
                            <th class="SANewtd3">StartDate</th>
                            <th class="SANewtd4">EndDate</th>
                            <th class="SANewtd5">StartTime</th>
                            <th class="SANewtd6">EndTime</th>
                            <th class="SANewtd7">ProjectId</th>
                            <th class="SANewtd8">&nbsp;</th>
                            <!--: 10px"></tr>-->
                        </tr>

                        <tr style="padding-bottom: 2px;">

                            <td>
                                <select class="styled" id="6thDayPayoutType" name="6thDayPayoutType" style="line-height: 27px; height: 25px;">
                                    <option value="-1" sdadaypayouttype="-1">--select--</option>
                                </select>
                            </td>

                            <td>
                                <input name="" type="text" class="popstartdate" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 6px;" maxlength="7" id="AssoId" />
                            </td>

                            <td>
                                <input name="" type="text" class="popup_date" oncopy="return false" onpaste="return false" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px;margin-left:2px;" id="6thStartDate" />
                            </td>
                            <td>
                                <input name="" type="text" class="popup_date" oncopy="return false" onpaste="return false" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 2px;" id="6thEndate" />
                            </td>
                            <td>
                                <p class="popTimeHolder">
                                    <input type="text" class="defaultEntry poptime" value="09:00" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px" id="PopStartTime" />
                                </p>
                            </td>
                            <td>
                                <p class="popTimeHolder">
                                    <input type="text" class="defaultEntry poptime" value="09:00" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px;" id="PopEndTime" />
                                </p>
                            </td>

                            <td>
                                <!--<input name="" type="text" class="popstartdate" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; width: 90px;" maxlength="10" id="6thProjid" />-->
                                <label class="popstartdate" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; width: 90px;border:0px solid #929292;" id="6thProjid"></label>
                            </td>
                            <!--<td>
                                <input name="" type="text" class="popstartdate" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px;" id="BPSAmount" maxlength="4" />
                            </td>-->
                            <td>
                                <input type="button" class="update_btn btn btn-primary" value="Update" id="update_newpopup" />
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="clear"></div>
                <div contenteditable="false" class="popdivcontedit" readonly="true">
                    Comments / exceptions

                </div>

                <div class="clear"></div>
                <div class="tblpopadd_upwrap scrollpopup" style="border: 1px solid #c8c8c8;height:auto;" id="6thDayTable2">
                    <div style="min-width: 865px">
                        <table class="popup_tab2 shifttime" id="6thdayAllowance_tab2" cellpadding="0" cellspacing="0" style="min-width: 865px !important; ">
                            <thead style="width: 865px !important; ">
                                <tr>
                                    <th class="SANewtd1">ShiftType</th>
                                    <th class="SANewtd2">AssociateID</th>
                                    <th class="SANewtd3">StartDate</th>
                                    <th class="SANewtd4">EndDate</th>
                                    <th class="SANewtd5">StartTime</th>
                                    <th class="SANewtd6">EndTime</th>
                                    <th class="SANewtd7">ProjectId</th>
                                    <th class="SANewtd8">Status</th>
                                    <th class="SANewtd9">Edit</th>
                                    <th class="SANewtd9">Delete</th>
                                </tr>
                            </thead>
                            <tbody id="tbody6thDay"></tbody>
                        </table>
                    </div>
                </div>
                <input type="button" class="save_btn btn btn-primary my-3" value="Save" id="btn_Save6thDay" style="margin-left: 400px; margin-top: 5px;" />
            </div>
            <div class="clear"></div>
            <div class="clear"></div>
        </div>
        <div class="popup_uploadbtm"></div>
    </div>
    <!-- SDA new popup Ends-->
    <!--NSA New Popup-->
    <div class="popup_uploadwrap disp" id="NSA_newpopup">
        <div class="close_uploadpopup">
            <img class='spriteImage' style="--x:-2201px;--y:-1414px;width:13px;height:13px" />
        </div>
        <div class="popup_uploadtop"></div>
        <div class="popup_uploadmid">
            <div class="headwrap"><span id="Span2">NSA</span></div>
            <div class="clear"></div>
            <div class="pop_upinner_cont clearfix" style="width: 860px;">
                <div id="popupNSA_tab1_wrapper" class="scrollpopup" style="width: 860px; height:110px;">

                    <table border="0" cellspacing="0" cellpadding="0" class="popup_tab1" id="Nsa_tbl1" style="width: 860px; height: 100px;">
                        <tr>
                            <th class="CLNewtd2">AssociateID</th>
                            <th class="CLNewtd3">StartDate</th>
                            <th class="CLNewtd4">EndDate</th>
                            <th class="CLNewtd5">StartTime</th>
                            <th class="CLNewtd6">EndTime</th>
                            <th class="CLNewtd7">ProjectId</th>
                            <th class="CLNewtd8">&nbsp;</th>
                            <!--<tr style="height: 10px"></tr>-->
                        </tr>

                        <tr style="padding-bottom: 2px;">

                            <!--<td>
                                <select class="styled" id="NSAPayoutType" name="NSAPayoutType" style="line-height: 27px; height: 25px;">
                                    <option value="-1">--select--</option>
                                </select>
                            </td>-->
                            <td>
                                <input name="" type="text" class="popstartdate" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 6px;" maxlength="7" id="NSAAssoId" />
                            </td>

                            <td>
                                <input name="" type="text" class="popup_date" oncopy="return false" onpaste="return false" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 2px;" id="Nsa_startDate" />
                            </td>
                            <td>
                                <input name="" type="text" class="popup_date" oncopy="return false" onpaste="return false" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px;margin-left:2px;" id="Nsa_endDate" />
                            </td>
                            <td style="width: 65px;">
                                <p class="popTimeHolder">
                                    <input type="text" class="defaultEntry poptime" id="Nsa_StartTime" value="09:00" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 15px;" />
                                </p>
                            </td>
                            <td style="width: 65px;">
                                <p class="popTimeHolder">
                                    <input type="text" class="defaultEntry poptime" id="Nsa_EndTime" value="09:00" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 15px;" />
                                </p>
                            </td>
                            <td>
                                <!--<input name="" type="text" class="popstartdate" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px;width:100px;" maxlength="10" id="NSAProjId" />-->
                                <label class="popstartdate" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; width: 100px;border:0px solid #929292;" id="NSAProjId"></label>
                            </td>
                            <td>
                                <input type="button" class="update_btn btn btn-primary" value="Update" id="NSAupdate_newpopup" />
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="clear"></div>
                <div contenteditable="false" class="popdivcontedit" style="width:859px;" readonly="true">
                    Comments / exceptions

                </div>

                <div class="clear"></div>

                <div class="tblpopadd_upwrap" id="NSATable2" style="border: 1px solid #c8c8c8;height:auto;">
                    <div style="width: 858px;">
                        <table class="Nsa_tbladd_upload popup_tab2 shifttime" id="Nsa_tbl2" cellpadding="0" cellspacing="0" style="width:858px !important">
                            <thead>
                                <tr>
                                    <th class="CLNewtd2">AssociateID</th>
                                    <th class="CLNewtd3">StartDate</th>
                                    <th class="CLNewtd4">EndDate</th>
                                    <th class="CLNewtd5">StartTime</th>
                                    <th class="CLNewtd6">EndTime</th>
                                    <th class="CLNewtd7">ProjectId</th>
                                    <th class="CLNewtd8">Status</th>
                                    <th class="CLNewtd9">Edit</th>
                                    <th class="CLNewtd10">Delete</th>
                                </tr>
                            </thead>
                            <tbody id="tbody_NSA"></tbody>
                        </table>
                    </div>
                </div>
                <input type="button" class="save_btn btn btn-primary my-3" value="Save" id="btn_SaveNSA" style="margin-left: 400px; margin-top: 5px;" />
            </div>
            <div class="clear"></div>
            <div class="clear"></div>
        </div>
        <div class="popup_uploadbtm"></div>
    </div>
    <!--NSA New Popup Ends-->
    <!--NSA Edit PopUp-->
    <!--edit popup starts-->
    <!--6thday edit popup-->
    <div class=" popup_uploadwrap disp editpopup" id="6thDayeditPopup">
        <div class="close_uploadpopup">
            <img class='spriteImage' style="--x:-2201px;--y:-1414px;width:13px;height:13px" />
        </div>
        <div class="popup_uploadtop"></div>
        <div class="popup_uploadmid">
            <div class="headwrap">6th Day allowance</div>
            <div class="clear"></div>
            <div class="pop_upinner_cont clearfix" style="width: 870px !important">
                <div class="tblpopadd_upwrap scrollpopup" id="div6thDay_edit" style="width: 870px; border: 1px solid #c8c8c8;">
                    <div style="width: 1100px;">
                        <table class="tblpopadd_upload shifttime" id="6th_edit" cellpadding="0" cellspacing="0">
                            <thead>
                                <tr>
                                    <th class="SAtd2">ShiftType</th>
                                    <th class="SAtd2">AssociateID</th>
                                    <th class="SAtd3">StartDate</th>
                                    <th class="SAtd4">EndDate</th>
                                    <th class="SAtd5">StartTime</th>
                                    <th class="SAtd6">EndTime</th>
                                    <th class="SAtd7">ProjectId</th>
                                    <th class="SAtd9">
                                        <img alt="" class='spriteImage' style="--x:-2343px;--y:-1110px;width:20px;height:20px" title="" />
                                    </th>
                                    <th class="SAtd8">Status</th>
                                </tr>
                            </thead>
                            <tbody id="edit6thValues"></tbody>
                        </table>
                    </div>
                </div>

            </div>
            <div class="clear"></div>
            <input type="button" class="save_btn mleft32m mtop10 mbot5 btn btn-primary my-3" value="Save" id="SDAEdit_Save" />
            <div class="clear"></div>
        </div>
        <div class="popup_uploadbtm"></div>
    </div>
    <!--6thday edit popup Ends-->
    <!--NSA-->
    <div class=" popup_uploadwrap disp editpopup" id="NSAeditPopup">
        <div class="close_uploadpopup">
            <img class='spriteImage' style="--x:-2201px;--y:-1414px;width:13px;height:13px" />
        </div>
        <div class="popup_uploadtop"></div>
        <div class="popup_uploadmid">
            <div class="headwrap"><span id="Span1">NSA</span></div>
            <div class="clear"></div>
            <div class="pop_upinner_cont clearfix" style="width: 860px !important">
                <div class="tblpopadd_upwrap" id="divNSA_edit" style="width: 860px; border: 1px solid #c8c8c8;">
                    <div style="width: 860px;">
                        <table class="tblpopadd_upload shifttime" id="NSAedit" cellpadding="0" cellspacing="0">
                            <thead>
                                <tr>
                                    <th class="NSAEtd1">AssociateID </th>
                                    <th class="NSAEtd2">StartDate</th>
                                    <th class="NSAEtd3">EndDate</th>
                                    <th class="NSAEtd4">StartTime</th>
                                    <th class="NSAEtd5">EndTime</th>
                                    <th class="NSAEtd6">Project ID</th>
                                    <th class="NSAEtd7">
                                        <img alt="" class='spriteImage' style="--x:-2343px;--y:-1110px;width:20px;height:20px" />
                                    </th>
                                    <th class="NSAEtd8">Status</th>
                                </tr>
                            </thead>
                            <tbody id="editNSAvalues"></tbody>
                        </table>
                    </div>
                </div>

            </div>
            <div class="clear"></div>
            <input type="button" class="save_btn mleft32m mtop10 mbot5 btn btn-primary" value="Save" id="NSAEdit_Save" />
            <div class="clear"></div>
        </div>
        <div class="popup_uploadbtm"></div>
    </div>
    <!--NSA Ends-->
    <!--      <div class="popup_edit disp" id="editpopup">
          <div class="middle" id="edit" style="height: 270px; width: 705px; background-image: url(../Images/popup_middle.png)">
              <p class="head">
                   Edit
              </p>
              <a class="close_popup">
                  <img class='spriteImage' style="--x:-2201px;--y:-1414px;width:13px;height:13px" />
              </a>
              <div class="inner_cont clearfix flft" style="width: 638px; height: 100px;">
            <!--      <ul class="mtop10" id="editval">
                     <!-- <li>
                          <label>AssociateID</label><span id="edit_associateid"></span>
                      </li>

                      <li>
                          <label>AssociateName</label><span id="edit_associatename"></span>
                      </li>
                      <li>
                          <label>Occupancy Type</label>
                          <select class="styled" id="Select1" name="SAR_occupancttype" style="line-height: 27px; height: 25px;">
                              <option value="-1">--select--</option>
                          </select>

                      </li>
                      <li>
                          <label>Project Id<span class="red">*</span></label><span><input type="text" class="txtbx_ul" id="edit_projectid" style="text-indent: 3px;" /></span>
                      </li>
                      <li>
                          <label>Start Date</label><span><input type="text" class="txtbx_ul" id="edit_startdate" style="text-indent: 3px;" /></span>
                      </li>
                      <li>
                          <label>End Date</label><span><input type="text" class="txtbx_ul" id="edit_enddate" style="text-indent: 3px;" /></span>
                      </li>
                      <li>
                          <label>No of Days</label><span><input type="text" class="txtbx_ul" id="edit_totaldays" style="text-indent: 3px;" /></span>
                      </li>
                  </ul>
              </div>
              <div class="contentErrorHolder">
                  <div class="clsErrorHolder scroll-pane">
                      <div class="innerErrorHolder">
                      </div>
                  </div>
              </div>
              <input type="button" id="btn_Update" class="update_btn mleft280 mtop20" />
              <input type="button" id="Button4" class="cancel_btn mleft10 mtop20" />
          </div>
      </div>-->
    <div class="customize_popup disp">
        <div class="top"></div>
        <div class="middle">
            <a href="#" class="close_popup">
                <img class='spriteImage' style="--x:-2201px;--y:-1414px;width:13px;height:13px" />
            </a>
            <p class="head">Customize</p>
            <div class="clear"></div>
            <div id="customize_popup_scroll">
                <div class="scrollbar">
                    <div class="track" style="margin-right: -2px !important; margin-left: -1px !important;">
                        <div class="thumb">
                            <div class="end"></div>
                        </div>
                    </div>
                </div>
                <div class="viewport">
                    <div class="overview_scroll">
                        <ul id="GridData"></ul>  <!--style="width:150px;overflow:scroll;height:360px;"-->
                        <div class="clear"></div>
                    </div>
                </div>
                <div class="clear"></div>
            </div>
            <input type="button" class="apply_btn btn btn-primary" value="Apply" />
        </div>
        <div class="bottom"></div>
    </div>
    <script src="../SGP_JSFiles/SGP_UploadData.js" type="text/javascript"></script>
</body>
</html>









This the js file

/// <reference path="../JSFiles/UploaderViewCutOffDates.js" />
var assStatus = 0;
var cutoffdate = '';
var cutoffStartdate = '';
var reworkstartcutoff = '';
var reworkendcutoff = '';
var isCutOffDateOver = 0;
var ApprovalStatus = '';
var orderBy = '';
var sortOrder = 1;
var page = 1;
var sortFlag = 1;
var prevOrderBy = "";
var totpages = 0;
var totRec = 0;
var RoleId = 0;
var shiftTypes = '';
var startDate = '';
var expDate = '';
var appStartDate = '';
var appExpDate = '';
var loginId = 0;
var searchflag = 0;
var OnLoad = 1;
var CustomizeNSA = '~1~2~3~4~5~8~';
var CustomizeSDA = '~1~2~3~4~5~6~9~';
var CustomizeSDAAPAC = '~1~2~3~4~5~6~8~9~';
var CustomizeRB = '~1~2~3~4~5~6~7~8~9~10~';
var CustomizeJB = '~1~2~3~4~5~';
var CustomizeAD = '~1~2~4~5~6~7~'
var CustomizeAP = '~1~2~3~4~6~9';
var CustomizeSF = '~1~2~3~4~';
var CustomizeSAR = '~1~2~3~4~5~6~';
//NLD
var CustomizeSoB = '~1~5~6~7~';
var CustomizeRel = '~1~4~5~6~7~8~';
var CustomizeTax = '~1~2~3~4~5~6~8~';
var CustomizeRR = '~1~4~5~6~8~9~10~';
var CustomizeCar = '~1~2~5~6~7~';
var CustomizeTran = '~1~6~7~8~';
var CustomizeOT = '~1~2~3~4~5~6~7~9~10';
var CustomizeHon = '~1~2~5~6~7~';
//APAC//
var CustomizeSF_APAC = '~1~2~3~4~5~6~10~';
var CustomizeMA = '~1~4~5~6~7~8';
var CustomizePark = '1~2~3~4~8~';
//APAC//
var roleid = '';
var trtuploadvalid = '';
var colspanlength = '';
var trtglobaldrpdownval = '';
var onChange = 0;
var PayoutType = '';
var browserName = '';
var UsrAgnt = '';
var shiftcount = 1;
var monthHTML = '';
var CountryId = '';
var frequenyvalue = '';
var monthlyamount = '';
var monthlyamount_1 = '';
var messageflag = 0;
var trans_monthlyamount = 0;
var LV_ActualWorkingDays = 0;
var LV_LeaveDays = 0;
var LV_TrainingDays = 0;
var LV_HolidaysWorked = 0;
var LV_EligibleVouchers = 0;
var LV_LwdDate = '';
var array1 = new Array();
var array2 = new Array();
var subcomponent = '';
var LV_EAMCFDays = 0;
var ServianAssociatedtls = '';
var FileUploadID = '';
var MailUploadID = '';
var SplCaseMail = '';
var ocm = '';
var OcmEnabledCMPGroupIdList = "";
var clienturl = '';
var upload = 0;
var otproject = '';
var OTnew = 0;
var OTedit = 0;
var OCAnew = 0;
var OCAdit = 0;
var ocaproject = '';
var FreqFlag = 0;
var FlagStatus = '';
var checkmultipletrnsport = 0;
var DeclarationFlag = "";
$(document).ready(function () {
    $('div[class^=error_msg]').css('display', 'none');
    checkPageAccess();
    GetConfigFromSession();
    //var browser_version = $.browser.version;
    //var UsrAgnt = navigator.userAgent;

    //if (UsrAgnt.indexOf("Chrome") > -1) {
    //    browserName = "Google Chrome";
    //} else if (UsrAgnt.indexOf("Safari") > -1) {
    //    browserName = "Apple Safari";
    //} else if (UsrAgnt.indexOf("Opera") > -1) {
    //    browserName = "Opera";
    //} else if (UsrAgnt.indexOf("Firefox") > -1) {
    //    browserName = "Mozilla Firefox";
    //} else if (UsrAgnt.indexOf("MSIE") > -1) {
    //    browserName = "Microsoft Internet Explorer";
    //}
    //else browserName = "Others";
    //browserName = browserName + ' ' + browser_version;


    var bodyTag = document.getElementsByTagName("body")[0];
    bodyTag.className = bodyTag.className.replace("noJS", "hasJS");
    $('#shiftpopassoid').numeric();

    GetCountryFromSession();
    if (CountryId == 3 || CountryId == 14 || CountryId == 15 || CountryId == 16 || CountryId == 17) {
        $('#divFAQ').show();
    }
    else {
        $('#divFAQ').hide();
    }
    GetRoleFromSession();

    $(".poptxtbox").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $(".popup_date").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#ValidityEndDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#editMailValidityDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#sar_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#sar_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#sp_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#sp_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#sp_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#sp_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#Insurancestartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#editinsurancedate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#Nsa_startDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#6thStartDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#OC_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#OC_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#OC_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#OC_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });

    $("#OT_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $("#OT_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });

    $("#IC_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#IC_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#CE_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#CE_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#CE_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#CE_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#DateGranted").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });

    $("#Incityeditstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#Incityeditenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });

    $("#netstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#commutestartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#editcommutedate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });

    $("#editnetdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });

    $("#MB_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#MB_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#MB_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#MB_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    //$(".popup_startdate,.popup_Editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $("#LV_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#LV_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#LV_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#LV_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#Retention_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#PSUSatrtDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#PSUPayout_Date").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });

    $("#Lnstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $("#Lnenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });

    var BPSminDate = new Date();
    BPSminDate.setMonth(BPSminDate.getMonth() - 6, 1);
    var minimumdate = new Date(BPSminDate);
    var BPSmaxDate = new Date();
    var year = BPSmaxDate.getFullYear();
    var leapyear = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
    var prevmonth = (BPSmaxDate.getMonth()) - 1;
    if (prevmonth == "0" || prevmonth == "2" || prevmonth == "4" || prevmonth == "6" || prevmonth == "7" || prevmonth == "9" || prevmonth == "11") {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth() - 1, 31);
    }
    else if ((prevmonth == "1") && (leapyear == false)) {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth() - 1, 28);
    }
    else if ((prevmonth == "1") && (leapyear == true)) {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth() - 1, 29);
    }
    else {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth() - 1, 30);
    }
    var toDate = new Date(BPSmaxDate);
    $(".popup_date#sar_startdate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#sar_enddate").datepicker("option", "maxDate", toDate);

    $(".popup_date#OC_startdate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#OC_enddate").datepicker("option", "maxDate", toDate);

    $(".popup_date#IC_startdate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#IC_enddate").datepicker("option", "maxDate", toDate);

    $(".popup_date#CE_startdate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#CE_enddate").datepicker("option", "maxDate", toDate);

    $(".popup_date#MB_startdate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#MB_enddate").datepicker("option", "maxDate", toDate);

    $(".popup_date#MB_editstartdate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#MB_editenddate").datepicker("option", "maxDate", toDate);

    $(".popup_date#OT_startdate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#OT_enddate").datepicker("option", "maxDate", toDate);

    $(".popup_date#Incityeditstartdate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#Incityeditenddate").datepicker("option", "maxDate", toDate);

    $(".popup_date#OC_editstartdate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#OC_editenddate").datepicker("option", "maxDate", toDate);

    $(".popup_date#Insurancestartdate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#Insurancestartdate").datepicker("option", "maxDate", toDate);

    $(".popup_date#netstartdate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#netstartdate").datepicker("option", "maxDate", toDate);

    $(".popup_date#sp_startdate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#sp_startdate").datepicker("option", "maxDate", toDate);

    $(".popup_date#sp_editstartdate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#sp_editstartdate").datepicker("option", "maxDate", toDate);

    $(".popup_date#commutestartdate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#commutestartdate").datepicker("option", "maxDate", toDate);

    $(".popup_date#editcommutedate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#editcommutedate").datepicker("option", "maxDate", toDate);

    $(".popup_date#editinsurancedate").datepicker("option", "minDate", minimumdate);
    $(".popup_date#editinsurancedate").datepicker("option", "maxDate", toDate);


    $('.scroll-pane').jScrollPane({ verticalDragMinHeight: 8, verticalDragMaxHeight: 8, horizontalDragMinWidth: 82, horizontalDragMaxWidth: 82, autoReinitialise: true });

    monthHTML = '';
    monthHTML += '<option value="0">All</option>' + '<option value="1">January</option>' + '<option value="2">February</option>' + '<option value="3">March</option>' + '<option value="4">April</option>' + '<option value="5">May</option>' + '<option value="6">June</option>' + '<option value="7">July</option>' + '<option value="8">August</option>' + '<option value="9">September</option>' + '<option value="10">October</option>' + '<option value="11">November</option>' + '<option value="12">December</option>';
    $('#ddlMonth').html(monthHTML);
    var d = new Date();
    var CurrentMonth = d.getMonth() + 1;
    $('#ddlMonth').find('option:nth-child(' + (CurrentMonth + 1) + ')').attr('selected', 'selected');
    $('#selectMonth').text($('#ddlMonth').find('option:nth-child(' + (CurrentMonth + 1) + ')').text());
    $("#pjid").keydown(function (event) {
        if (event.keyCode == 46 || event.keyCode == 8 || event.keyCode == 9 || event.keyCode == 27 || event.keyCode == 13 ||
            // Allow: Ctrl+A
            (event.keyCode == 65 && event.ctrlKey === true) ||
            // Allow: Ctrl+C
            (event.keyCode == 67 && event.ctrlKey === true) ||
            // Allow: Ctrl+V
            (event.keyCode == 86 && event.ctrlKey === true) ||
            // Allow: home, end, left, rig
            (event.keyCode >= 35 && event.keyCode <= 39)) {
            // let it happen, don't do anything
            return;
        }
        else {
            // Ensure that it is a number and stop the keypress
            if (event.shiftKey || (event.keyCode < 48 || event.keyCode > 57) && (event.keyCode < 96 || event.keyCode > 105)) {
                event.preventDefault();
            }
        }
    });
    GetSession();

    $('#divApprovalmsg1').css('color', 'red');
    $('#divApprovalmsg1').animate({ 'color': 'blue' }, StartApprovalmsgAnimate);
    //TRT upload
    $('#usermanual').css('color', 'red');
    $('#usermanual').animate({ 'color': 'blue' }, StartApprovalmsgAnimate);

    $('#divFAQ').css('color', 'red');
    $('#divFAQ').animate({ 'color': 'blue' }, StartApprovalmsgAnimate);

    $("#popup_tab1_wrapper_UBS").bind("mousewheel", function () {
        return false;
    });
    $('#TransWorkedDays').numeric();

    $('#Nsa_startDate').datepicker();
    $('#6thStartDate').datepicker();
    $("#editsplcase").trigger('onload');
    $("#splcase").trigger('onload');

});

$(document).on('click', '#ValidityEndDate', function () {
    var currentDate = new Date();
    $(this).datepicker("destroy");
    $(this).datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $(this).datepicker("option", "minDate", currentDate);
    $(this).datepicker("show");

});

$(document).on('click', '#editMailValidityDate', function () {
    var currentDate = new Date();
    $(this).datepicker("destroy");
    $(this).datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    $(this).datepicker("option", "minDate", currentDate);
    $(this).datepicker("show");

});

$(document).on('change', '#MISCSubComponent', function () {
    subcomponent = $('#MISCSubComponent').val();
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '","subcomponentid":"' + subcomponent + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetPayoutTypeonchangeofsubcomponent",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {
            if (msg.d.length > 0) {
                if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
                    var payouttype = '';
                    //payouttype += "<option value='-1'>--Select PayoutType--</option>";
                    $.each(msg.d[0], function (i, data) {
                        payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                    });
                    $('#SBPayoutType').html(payouttype);
                    $('#SBPayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSBPayoutType').text($("#SBPayoutType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');
                }

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });

});

function checkPageAccess() {
    var datastring = '{"pageUrl":"' + DOMPurify.sanitize(window.location.href) + '"}';
    $.ajax({
        type: "POST",
        url: "../WebMethods.aspx/CheckAccess",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        cache: false,
        async: false,
        responseType: "json",
        data: datastring,
        success: function (msg) {
            if (!msg.d) {
                window.location.href = '../HTML/AccessDenied.htm';
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function GetConfigFromSession() {
    $.ajax({
        type: "GET",
        url: "../WebMethods.aspx/FetchConfigFromSession",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        async: false,
        cache: false,
        success: function (msg) {
            ocm = msg.d[0];
            clienturl = msg.d[1];
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function GetFileFromSession(isAfterFileUpload) {
    $.ajax({
        type: "GET",
        url: "../WebMethods.aspx/FetchFileFromSession",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        async: false,
        cache: false,
        success: function (msg) {
            FileUploadID = msg.d[0];
            if (msg.d.length > 1) {
                MailUploadID = msg.d[1];
                SplCaseMail = msg.d[2];
            }
        },
        complete: function () {
            if (isAfterFileUpload == 1) {
                ShowAttachementIcon();
            }
            if (isAfterFileUpload == 2) {
                ShowAttachementIconEditCase();
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function getStartDate(compId) {
    var datastring = '{"componentId":"' + compId + '","projectId":"' + $('#proid').val() + '"}';
    $.ajax({
        type: "POST",
        url: "../WebMethods.aspx/FetchEditRenewGridData",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        cache: false,
        async: false,
        responseType: "json",
        data: datastring,
        success: function (msg) {
            if (msg.d.length > 0) {
                $.each(msg.d, function (i, data) {
                    appStartDate = data.ValidFrom;
                    appExpDate = data.ExpiryDate;
                });

            }
            else {
                appStartDate = '';
                appExpDate = '';
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);

        }
    });
}

function CheckSpecialCaseDropdown() {
    //Dropdownlist Selectedchange event
    var val = $("#refsplcase").val();
    if (val == '-1') {
        $('#aft_upload').hide();
        $('#frame').hide();

    }
    else {
        $('#aft_upload').show();
        $('#frame').show();
    }

    var valnew = $("#Joiningsplcase").val();
    if (valnew == '-1') {
        $('#aft_upload').hide();
        $('#frame').hide();
    }
    else {
        $('#aft_upload').show();
        $('#frame').show();
    }

}

$(document).on('change', '#Joiningsplcase', function () {
    var val = $("#Joiningsplcase").val();
    if (val == '-1') {
        $('#aft_upload').hide();
        $('#frame').hide();
    }
    else {
        $('#aft_upload').show();
        $('#frame').show();
    }
    return false;
});

$(document).on('change', '#Deductiontype', function () {
    var val = $(this).val();
    if (val == 'Salary Advance') {
        $('#projecthide').hide();
    }
    else {
        $('#projecthide').show();
    }
    return false;
});

$(document).on('change', '#deductiontypeval', function () {
    var val = $(this).val();
    if (val == 'Salary Advance') {
        $('#editproject').hide();
    }
    else {
        $('#editproject').show();
    }
    return false;
});

$(document).on('change', '#Joiningsplcase1', function () {
    var val = $("#Joiningsplcase1").val();
    if (val == '-1') {
        $('#aft_upload1').hide();
        $('#frame1').hide();
    }
    else {
        $('#aft_upload1').show();
        $('#frame1').show();
    }
    return false;
});

$(document).on('change', '#refsplcase', function () {
    var val = $("#refsplcase").val();
    if (val == '-1') {
        $('#aft_upload').hide();
        $('#frame').hide();
    }
    else {
        $('#aft_upload').show();
        $('#frame').show();
    }
    return false;
});

$(document).on('change', '#refsplcase1', function () {
    var val = $("#refsplcase1").val();
    if (val == '-1') {
        $('#aft_upload1').hide();
        $('#frame1').hide();
    }
    else {
        $('#aft_upload1').show();
        $('#frame1').show();
    }
    return false;
});

$(document).on('change', '#splcaseAD', function () {
    var val = $("#splcaseAD").val();
    if (val == '-1') {
        $('#aft_uploadhide').hide();
        $('#frame1').hide();
    }
    else {
        $('#aft_uploadhide').show();
        $('#frame1').show();
    }
    return false;
});

$(document).on('change', '#editsplcaseAD', function () {
    var val = $("#editsplcaseAD").val();
    if (val == '-1') {
        $('#aft_uploadhide').hide();
        $('#editframe1').hide();
    }
    else {
        $('#aft_uploadhide').show();
        $('#editframe1').show();
    }
    return false;
});

function GetSession() {
    $.ajax({
        type: "GET",
        url: "../WebMethods.aspx/CheckSession",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (msg) {
            if (msg.d == 1) {
                document.location.href = "../HTML/SessionTimeOut.htm";
            }
            else if (msg.d == 2) {
                document.location.href = "../HTML/AccessDenied.htm";
            }
            else {
                CheckSpecialCaseDropdown();
                getAssociateFromSession();
                getComponentNames();
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function GetCountryFromSession() {
    $.ajax({
        type: "GET",
        url: "../WebMethods.aspx/FetchCountryFromSession",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        async: false,
        cache: false,
        success: function (msg) {
            CountryId = msg.d;
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function GetRoleFromSession() {
    $.ajax({
        type: "GET",
        url: "../WebMethods.aspx/FetchRoleFromSession",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        async: false,
        cache: false,
        success: function (msg) {
            RoleId = msg.d;
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function succpopupclose(flag) {
    $('#form1').removeAttr("disabled");
    $('#form1').css("background-color", "");
    $('#divPopUp2').css('display', 'none');
    $('.popup_msg').css('display', 'none');
    $('.background_bg').css('display', 'none');
    $("#uploadeditbtn").addClass("disablebutton");
    $("#editbtn_BPS").addClass("disablebutton");
    $("#editbtn_UBS").addClass("disablebutton");
    $("#editbtn_CLBPSNsa").addClass("disablebutton");
    $("#editbtn_trans").addClass("disablebutton");
    $('.background_bg').css('display', 'none');

    if (upload == "1") {
        $('.TB_overlayBG').css('z-index', '100');
        $('.background_bg').css('display', 'block');
        upload = "0";
    }
    //if ($('#bonus').val() == 48 && CountryId == 17 && flag == 1) {
    //    $('.background_bg').css('display', 'block');
    //}
    //else {
    //    $('.background_bg').css('display', 'none');
    //}
}
function succpopup_1(message) {
    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
    $('#form1').attr("disabled", "disabled");
    $('#form1').css("background-color", "#c8c8c8");
    $('.popup_msg1').css('display', 'block');

    $('.background_bg').css('display', 'block');
    $("#tagerr").html('');
    $("#tagerr").append(DOMPurify.sanitize(message));
}
function succpopupclose_1() {
    $('#form1').removeAttr("disabled");
    $('#form1').css("background-color", "");
    $('#divPopUp2').css('display', 'none');
    $('.popup_msg1').css('display', 'none');
    //$('.background_bg').css('display', 'none');
    //$("#uploadeditbtn").addClass("disablebutton");
    //$("#editbtn_BPS").addClass("disablebutton");
    //$("#editbtn_UBS").addClass("disablebutton");
    //$("#editbtn_CLBPSNsa").addClass("disablebutton");
    //$("#editbtn_trans").addClass("disablebutton");
    if ($('#bonus').val() == 48 && CountryId == 17) {
        $('.background_bg').css('display', 'block');
    }
    else {
        $('.background_bg').css('display', 'none');
    }
    $('.background_bg').css('display', 'block');
}


function errpopupclose() {
    var componentid = $('#bonus').val();
    if ((componentid == 48 && messageflag == 1)) {
        $('#form1').removeAttr("disabled");
        $('#form1').css("background-color", "");
        $('#divPopUp2').css('display', 'none');
        $('.popup_msg1').css('display', 'none');
        $('.background_bg').css('display', 'block');
    }
    else {
        $('.close_popup').css("display", 'block');
        $('.customize_popup disp').hide();
        $('#form1').removeAttr("disabled");
        $('#form1').css("background-color", "");
        $('.popup_msg1').css('display', 'none');

        $('.popup_new').css('display', 'none');
        $("#uploadeditbtn").addClass("disablebutton");
        $("#editbtn_BPS").addClass("disablebutton");
        $(".background_bg").fadeOut("slow");
        $('.popup_edit').fadeOut("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
    }
    messageflag = 0;
    //$('.background_bg').css('display', 'none');


}

function errorpopup(message) {
    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
    $('#form1').attr("disabled", "disabled");
    $('#form1').css("background-color", "#c8c8c8");
    $('.popup_msg1').css('display', 'block');
    $('.background_bg').css('display', 'block');
    $("#tagerr").html('');
    //SAST fix Client DOM XSS

    $("#tagerr").append(DOMPurify.sanitize(message));


    if (message.length > 240) {

        $('#tagerr').css({ "margin-left": "0px", "font-size": "14px" });
        $("#scrollbar1 .scrollbar").css("display", "block");
        $("#scrollbar3 .scrollbar").css("display", "block");
    }
    else {
        $("#scrollbar1 .scrollbar").css("display", "none");
        $("#scrollbar3 .scrollbar").css("display", "none");

    }
    $('#scrollbar3,#scrollbar1').tinyscrollbar({ sizethumb: 22 });
}

function errorpopup_1(message) {
    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
    $('#form1').attr("disabled", "disabled");
    $('#form1').css("background-color", "#c8c8c8");
    $('.popup_msg1').css('display', 'block');
    $('.background_bg').css('display', 'block');
    $("#tagerr").html('');
    //SAST fix Client DOM XSS
    $("#tagerr").append(DOMPurify.sanitize(message));

    if (message.length > 240) {
        $('#tagerr').css({ "font-size": "14px" });
        $("#middle_1").css("height", "205px");
        $("#border_1").css("height", "200px");
        $("#viewport_1").css("height", "150px");
        $("#popup_btns_1 ").removeClass("mtop20 mbot20");
        $("#popup_btns_1").css({ "margin-bottom": "12px", "margin-top": "53px" });
    }
    else {
        $("#middle_1").css("height", "160px");
        $("#border_1").css("height", "155px");
        $("#viewport_1").css("height", "95px");
        $("#popup_btns_1 ").removeClass("mtop20 mbot20");
        $("#popup_btns_1").css({ "margin-bottom": "12px", "margin-top": "0px" });
    }

}

function succpopup(message, flag) {
    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
    $('#form1').attr("disabled", "disabled");
    $('#form1').css("background-color", "#c8c8c8");
    $('.popup_msg').css('display', 'block');
    $('.background_bg').css('display', 'block');
    $("#tagsucc").html('');
    $("#tagsucc").append(DOMPurify.sanitize(message));
    if (message == "File uploaded successfully.") {
        upload = "1";
    }
}

function infopopup(message) {
    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
    $('#form1').attr("disabled", "disabled");
    $('#form1').css("background-color", "#c8c8c8");
    $('.popup_info').css('display', 'block');
    $('.background_bg').css('display', 'block');
    $("#infopopupmsg").html('');
    $("#infopopupmsg").append(DOMPurify.sanitize(message));
}

function infopopupclose() {
    $('#form1').removeAttr("disabled");
    $('#form1').css("background-color", "");
    $('.popup_info').css('display', 'none');
    $('.background_bg').css('display', 'none');
}

function getAssociateFromSession() {
    $.ajax({
        type: "GET",
        url: "../WebMethods.aspx/FetchAssociateFromSession",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        cache: false,
        success: function (msg) {
            loginId = msg.d;
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function getComponentNames() {
    var comp = $("#bonus").val();
    $.ajax({
        type: "GET",
        url: "../WebMethods.aspx/GetComponentGroupNames",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        cache: false,
        async: false,
        success: function (msg) {
            if (msg.d.length > 0) {
                var option_html = '';
                var compDrpdown = '';
                if (CountryId == 8 || CountryId == 9) {
                    compDrpdown = msg.d.sort((a, b) => b.ComponentGroupId - a.ComponentGroupId);;
                }
                else {
                    compDrpdown = msg.d;
                }
                $.each(compDrpdown, function (i, data) {
                    option_html += "<option value='" + data.ComponentGroupId + "'>" + data.ComponentGroupName + "</option>";
                });
                $('#bonus').html(option_html);

                //adding for shift allowance
                $('#bonus').find('option:nth-child(1)').attr('selected', 'selected');
                var compName = $('#bonus').find('option:nth-child(1)').text();
                $("#selectbon").text(compName);

                //IsAssociateServianContino();

                if ($('#bonus').val() == 15 || $('#bonus').val() == 16 || $('#bonus').val() == 41) {
                    $('#deletebtn').hide();
                    $('#SAdeletebtn').show();
                    $('#divprojfilter').show();
                    $('#drpdown_filter').parent().addClass('mleft10');
                    $('#aid').css("width", "120px").removeClass('mleft50').addClass('mleft20');
                    //  getcutoffDate();
                    // populateFilterDropdown();
                    $("#bonus").change();
                }
                else if ($('#bonus').val() == 17) {
                    $('._savelist').hide();
                    $('.btnlist').hide();
                    $('#deletebtn').show();
                    $('#divprojfilter').hide();
                    $('#drpdown_filter').parent().removeClass('mleft10')
                    $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
                    // getcutoffDate();
                    //if (comp == 14 || comp == 13 || comp == 18 || compName == 'Joining Bonus' || comp == 19 || comp == 20) {
                    //  populateFilterDropdown();

                    //}
                    $("#bonus").change();
                }
                else if ($('#bonus').val() == 29 || $('#bonus').val() == 32 || $('#bonus').val() == 33
                    || $('#bonus').val() == 46 || $('#bonus').val() == 49 || $('#bonus').val() == 50
                    || $('#bonus').val() == 34 || $('#bonus').val() == 35 || $('#bonus').val() == 36
                    || $('#bonus').val() == 37 || $('#bonus').val() == 39 || $('#bonus').val() == 40
                    || $('#bonus').val() == 31 || ($('#bonus').val() == 18) && CountryId == 3
                    || $('#bonus').val() == 24 || $('#bonus').val() == 25 || $('#bonus').val() == 42
                    || $('#bonus').val() == 26 || $('#bonus').val() == 27 || $('#bonus').val() == 28
                    || (($('#bonus').val() == 22) && CountryId == 7) || $('#bonus').val() == 21
                    || $('#bonus').val() == 52 || $('#bonus').val() == 59 || $('#bonus').val() == 57
                    || $('#bonus').val() == 85 || $('#bonus').val() == 86 || $('#bonus').val() == 87
                    || $('#bonus').val() == 88 || $('#bonus').val() == 89 || $('#bonus').val() == 76
                    || $('#bonus').val() == 77 || $('#bonus').val() == 78 || $('#bonus').val() == 82
                    || $('#bonus').val() == 91 || $('#bonus').val() == 92 || $('#bonus').val() == 93
                    || $('#bonus').val() == 95 || $('#bonus').val() == 96 || $('#bonus').val() == 97
                    || $('#bonus').val() == 90 || $('#bonus').val() == 58) {

                    $('#deletebtn').show();
                    $('#divprojfilter').hide();
                    $('#drpdown_filter').hide();
                    $('#drpdown_filter').parent().removeClass('mleft10');
                    $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
                    //  getcutoffDate();
                    // populateFilterDropdown();
                    var message = '';
                    if (($('#bonus').val() == 22) && CountryId == 7) {
                        message = "\u2022 Please note overtime allowance can only be raised if comp off is not provided by your BU. If you have not received comp off, please upload approval email from your Talent Manager to claim the overtime allowance.</br>"
                        message += "\u2022 Amount should be claimed separately for each day.</br>";
                        message += "\u2022 Amount cannot be claimed for future dates.</br>";
                        errorpopup_1(message);
                    }
                    if (($('#bonus').val() == 39) && CountryId == 7) {
                        message = "\u2022 Amount should be claimed separately for each day.</br>";
                        message += "\u2022 Amount cannot be claimed for future dates.</br>";
                        errorpopup_1(message);
                    }
                    if (($('#bonus').val() == 28) && CountryId == 7) {
                        message = "Amount cannot be claimed for future months.</br>";
                        errorpopup_1(message);
                    }

                    $("#bonus").change();
                }

                else {
                    $('#deletebtn').show();
                    $('#divprojfilter').hide();
                    $('#drpdown_filter').parent().removeClass('mleft10')
                    $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
                    $('#bid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
                    //  getcutoffDate();
                    //if (comp == 2 || comp == 3 || comp == 18 || compName == 'Joining Bonus' || comp == 19 || comp == 20) {
                    //    //populateFilterDropdown();
                    //}
                    $("#bonus").change();
                }
            }
            $('#progressBackgroundFilter,#processMessage').hide();
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function getProjIDforShiftUser() {
    var compid = $("#bonus").val();
    var datastring = '{"componentId":"' + compid + '"}';

    $.ajax({
        type: "POST",
        url: "../WebMethods.aspx/FetchProjIDforShiftUser",
        contentType: "application/json; charset=utf-8",
        data: datastring,
        dataType: "json",
        cache: false,
        success: function (msg) {
            if (msg.d.length > 0) {
                $('#proid').html('');
                var data_html = '';
                $.each(msg.d, function (i, data) {
                    data_html += "<option value='" + data.ProjectID + "'>" + data.ProjectID + "</option>";
                });
                $('#proid').html(data_html);
                $('#proid').find('option:nth-child(1)').attr('selected', 'selected');
                //var compName = $('#proid').find('option:nth-child(1)').text();
                //$("#selectprojid").text(compName);
                $("#a_valid").click();
                if ($('#a_valid').hasClass('selected')) {
                    BindValidGridtbl();
                }
                else if ($('#a_exceptions').hasClass('selected')) {
                    BindExceptionsGridtbl();
                }
                else if ($('#a_otherGeo').hasClass('selected')) {
                    BindOtherGeoGridtbl();
                }
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function getcutoffDate() {
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';
    $.ajax({
        type: "POST",
        url: "../WebMethods.aspx/GetUploaderCutOffDate",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        cache: false,
        async: false,
        data: datastring,
        success: function (msg) {
            if (msg.d.length > 0) {
                if (msg.d[0] == null) {
                    cutoffdate = 'Cutoff Date not set for Uploader';
                }
                else {
                    if ($.trim(msg.d[0][0]?.RoleActivityName) == 'Upload') {
                        cutoffdate = msg.d[0][0].CuttOffEndDate;
                        cutoffStartdate = msg.d[0][0].CuttOffStartDate;
                    }
                    if ($.trim(msg.d[0][1]?.RoleActivityName) == 'Resubmit') {
                        reworkstartcutoff = msg.d[0][1].CuttOffStartDate;
                        reworkendcutoff = msg.d[0][1].CuttOffEndDate;
                    }
                }
                if (msg.d[1] == null) {
                    ApprovalStatus = null;
                }
                else {
                    ApprovalStatus = msg.d[1][0].STATUS;
                }
            }
            //253832 - for showing other geo tab only for referral bonus
            var componentGroupId = $('#bonus').val();
            //if (componentGroupId == 2 && (CountryId != 18 && CountryId != 19) && CountryId == 2) {
            //    $('#a_otherGeo').show();

            //}
            //else 
            if (componentGroupId == 15 || componentGroupId == 16 || componentGroupId == 41) {
                $('#a_otherGeo').hide();
                $('#a_otherGeo').removeClass('selected');
                if ($('#a_valid').hasClass('selected')) {
                    $('#a_exceptions').removeClass('selected');
                    $('#a_valid').addClass('selected');
                }
                else if ($('#a_exceptions').hasClass('selected')) {
                    $('#a_exceptions').addClass('selected');
                    $('#a_valid').removeClass('selected');
                }
            }

            else {
                $('#a_otherGeo').hide();
                $('#a_otherGeo').removeClass('selected');
                $('#a_exceptions').removeClass('selected');
                $('#a_valid').addClass('selected');
            }

            if ((componentGroupId == 3) || (componentGroupId == 2) || (componentGroupId == 17) ||
                (componentGroupId == 18) || (componentGroupId == 19) || (componentGroupId == 20) ||
                (componentGroupId == 39) || (componentGroupId == 22) || (componentGroupId == 21) ||
                (componentGroupId == 23) || (componentGroupId == 24) || (componentGroupId == 31) ||
                (componentGroupId == 32) || (componentGroupId == 35) || (componentGroupId == 42) ||
                (componentGroupId == 26) || (componentGroupId == 27)) {
                //if ($('#a_valid').hasClass('selected')) {
                //    BindValidGridtbl();
                //}
                //else
                if ($('#a_exceptions').hasClass('selected')) {
                    BindExceptionsGridtbl();
                }
                else if ($('#a_otherGeo').hasClass('selected')) {
                    BindOtherGeoGridtbl();
                }
            }

            var cdate = (cutoffdate.length > 11) ? cutoffdate.substring(0, 11) + '...' : cutoffdate;
            var cstartdate = (cutoffStartdate.length > 11) ? cutoffStartdate.substring(0, 11) + '...' : cutoffStartdate;
            $('#cutoff span:nth-child(3)').text(cdate);
            $('#cutoff span:nth-child(3)').attr("title", cutoffdate);
            $(".new_btn").css("background", "url(../Images/new_btn.png) no-repeat");
            $(".delete_btn").css("background", "url(../Images/delete_btn.png) no-repeat");
            $(".new_btn").css({ "pointer-events": "", "cursor": "pointer" });
            $(".delete_btn").css({ "pointer-events": "", "cursor": "pointer" });
            $(".new_btn").removeAttr("disabled");
            $(".delete_btn").removeAttr("disabled");
            $('#uploadData').removeAttr("disabled");
            $('#uploadData').attr("enabled", "enabled");
            $('#uploadData').css({ "pointer-events": "", "cursor": "pointer" });
            $('#upload_img').attr("src", "../Images/upload_folder.png");
            $('#uploadData').attr("href", "javascript:OnUploadButtonClick();");
            $('#upload_imgcba').attr("src", "../Images/upload_folder.png");
            $('#uploadDataCba').attr("href", "javascript:OncbaUploadButtonClick();");
            $(".utext").css("border-bottom", "1px solid");
            $('#divApprovalmsg').stop();
            $('#divApprovalmsg').css('display', 'none');
            $('#svalid').removeAttr("disabled");
            $('#sbvalid').removeAttr("disabled");
            $('#ctvalid').removeAttr("disabled");

            CutOffDateCheck(cutoffdate);

        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function StartApprovalmsgAnimate() {
    $('#divApprovalmsg').css('color', 'red');
    $('#divApprovalmsg').animate({ 'color': 'blue' }, StartApprovalmsgAnimate);

    $('#divApprovalmsg1').css('color', 'red');
    $('#divApprovalmsg1').animate({ 'color': 'blue' }, StartApprovalmsgAnimate);

    $('#divFAQ').css('color', 'red');
    $('#divFAQ').animate({ 'color': 'blue' }, StartApprovalmsgAnimate);

    $('#usermanual').css('color', 'red');
    $('#usermanual').animate({ 'color': 'blue' }, StartApprovalmsgAnimate);

    $('#usermanualBps').css('color', 'red');
    $('#usermanualBps').animate({ 'color': 'blue' }, StartApprovalmsgAnimate);

    $('#usermanualCL').css('color', 'red');
    $('#usermanualCL').animate({ 'color': 'blue' }, StartApprovalmsgAnimate);

    $('#usermanualTrans').css('color', 'red');
    $('#usermanualTrans').animate({ 'color': 'blue' }, StartApprovalmsgAnimate);
}

function CutOffDateCheck(cutoffdate) {
    var d = new Date();
    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();
    if ($.trim(cutoffdate) == 'Cutoff Date not set for Uploader') {
        $(".new_btn").removeClass("disablebutton");
        $(".delete_btn").removeClass("disablebutton");

        $(".new_btn").css("background", "url(../Images/new_btn.png) no-repeat");
        $(".delete_btn").css("background", "url(../Images/delete_btn.png) no-repeat");
        $(".new_btn").css({ "pointer-events": "", "cursor": "pointer" });
        $(".delete_btn").css({ "pointer-events": "", "cursor": "pointer" });
        $(".new_btn").removeAttr("disabled");
        $(".delete_btn").removeAttr("disabled");
        $('#upload_img').attr("src", "../Images/upload_folder.png");
        $('#uploadData').attr("href", "javascript:OnUploadButtonClick();");
        $('#upload_imgCba').attr("src", "../Images/upload_folder.png");
        $('#uploadDataCba').attr("href", "javascript:OnCbaUploadButtonClick();");
        $(".utext").css("border-bottom", "1px solid");
        isCutOffDateOver = 0;
        $('#divApprovalmsg').stop();
        $('#divApprovalmsg').css('display', 'none');
        $('#svalid').removeAttr("disabled");
        $('#sarvalid').removeAttr("disabled");
        $('#cvalid').removeAttr("disabled");
        $('.sarvalidcheck').removeAttr("disabled");
        $('.sarexceptioncheck').removeAttr("disabled");
        //$('#apvalid').removeAttr("disabled");
    }
    else {
        //end date
        var cutoffdatesplit = cutoffdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
        var cutoff_date = date.getTime();

        //start date
        var cutoffstartdatesplit = cutoffStartdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
        var cutoffStart_date = date.getTime();

        var todaysplit = today.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
        var today_date = Date1.getTime();
        if ((today_date >= cutoffStart_date && today_date <= cutoff_date)) {
            $(".new_btn").removeClass("disablebutton");
            $(".delete_btn").removeClass("disablebutton");
            $(".new_btn").css("background", "url(../Images/new_btn.png) no-repeat");
            $(".delete_btn").css("background", "url(../Images/delete_btn.png) no-repeat");
            $(".new_btn").css({ "pointer-events": "", "cursor": "pointer" });
            $(".delete_btn").css({ "pointer-events": "", "cursor": "pointer" });
            $(".new_btn").removeAttr("disabled");
            $(".delete_btn").removeAttr("disabled");
            $("#uploadeditbtn").removeClass("disablebutton");
            $('#upload_img').attr("src", "../Images/upload_folder.png");
            $('#uploadData').attr("href", "javascript:OnUploadButtonClick();");
            $('#upload_imgCba').attr("src", "../Images/upload_folder.png");
            $('#uploadDataCba').attr("href", "javascript:OnCbaUploadButtonClick();");
            $(".utext").css("border-bottom", "1px solid");
            isCutOffDateOver = 0;
            $('#divApprovalmsg').stop();
            $('#divApprovalmsg').css('display', 'none');
            $('#svalid').removeAttr("disabled");
            $('#sarvalid').removeAttr("disabled");
            $('#sbvalid').removeAttr("disabled");
            $('#ctvalid').removeAttr("disabled");
            $('#cvalid').removeAttr("disabled");
            $('.sarvalidcheck').removeAttr("disabled");
            $('.sarexceptioncheck').removeAttr("disabled");
            //$('#apvalid').removeAttr("disabled");
        }
        else {
            $(".new_btn").addClass("disablebutton");
            $(".delete_btn").addClass("disablebutton");
            // $('.new_btn').attr("src", "../Images/new_disabled.png");
            $('.new_btn').css("background", "url(../Images/new_disabled.png) no-repeat;");
            $('.delete_btn').css("background", "url(../Images/delete_disabled.png) no-repeat;");
            $('.new_btn').css({ "pointer-events": "none", "cursor": "default" });
            $('.delete_btn').css({ "pointer-events": "none", "cursor": "default" });
            //$('.new_btn').attr("disabled", "disabled");
            //$('.delete_btn').attr("disabled", "disabled");         
            $("#uploadeditbtn").addClass("disablebutton");
            $('#upload_img').attr("src", "../Images/upload_folder_disabled.png");
            $('#uploadData').removeAttr("href", "javascript:OnUploadButtonClick();");
            $('#uploadData').css({ "pointer-events": "none", "cursor": "default" });
            $('#upload_imgcba').attr("src", "../Images/upload_folder_disabled.png");
            $('#uploadDataCba').removeAttr("href");
            $(".utext").css("border-bottom", "none");
            isCutOffDateOver = 1;
            $('#divApprovalmsg').find('marquee').text('The window period for this month has been crossed- hence upload has been disabled');
            $('#divApprovalmsg').css('display', 'block');
            $('#svalid').attr("disabled", "disabled");
            //$('#apvalid').attr("disabled", "disabled");
            $('#sarvalid').attr("disabled", "disabled");
            $('.sarvalidcheck').attr("disabled", "disabled");
            $('.sarexceptioncheck').attr("disabled", "disabled");
            $('#sbvalid').attr("disabled", "disabled");
            $('#ctvalid').attr("disabled", "disabled");
            $('#cvalid').attr("disabled", "disabled");
            StartApprovalmsgAnimate();
        }
    }
}

function getTotalPages() {
    var componentGroupId = $("#bonus").val();
    var value, value1, value2, value3, value4;
    var ddlValue = '';
    if (componentGroupId == 15 || componentGroupId == 16 || componentGroupId == 41) {
        var ddlValue = $('#drpdown_filter').val();
        var projectID = $('#proid').val();
    }
    if (componentGroupId == 48 && CountryId == 17) {
        value = $('#bid').val();
        value1 = $('#bid1').val();
        value2 = $('#bid2').val();
        value3 = $('#bid3').val();
        value4 = $('#bid4').val();
    }
    else {
        value = $('#aid').val();
        value1 = $('#aid1').val();
        value2 = $('#aid2').val();
        value3 = $('#aid3').val();
        value4 = $('#aid4').val();
    }

    if (value1 == undefined) {
        value1 = '';
    }
    if (value2 == undefined) {
        value2 = '';
    }
    if (value3 == undefined) {
        value3 = '';
    }
    //}

    var iDisplayLength = $("#displayrecords").val();
    var type = 0;
    var Month = $('#ddlMonth').val();
    var Quarterul = $('#ddlQuarter').val();
    Quarter = Quarterul - 1;
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {

        type = 2;
    }
    else if ($("#a_otherGeo").hasClass('selected')) {
        type = 3;
    }

    if ((componentGroupId == 3 && CountryId != 20) || (componentGroupId == 2 && CountryId != 20) || componentGroupId == 17 || componentGroupId == 18
        || (componentGroupId == 19 && CountryId == 2) || (componentGroupId == 20 && CountryId == 2) || componentGroupId == 25
        || componentGroupId == 42 || componentGroupId == 26 || componentGroupId == 27) {
        if (value1 == "" && value2 == "" && value3 == "") {
            if (type == 1) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftlValidData";

            }
            else if (type == 2) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftExceptionData";

            }
            else if (type == 3) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetOtherGeographyUploaderData";
            }
        }
        else {
            if (type == 1) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderValidReferralShiftDataSearchuploader";
            }
            else if (type == 2) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderExceptionDataSearchuploader";
            }
            else if (type == 3) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetOtherGeographyUploaderDataSearch";
            }
        }
    }

    if (componentGroupId == 15 || componentGroupId == 16 || componentGroupId == 41) {
        if (value1 == "" && value2 == "" && value3 == "") {
            if (type == 1) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"' + $('#proid').val() + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftlValidData";

            }
            else if (type == 2) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"' + $('#proid').val() + '","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftExceptionData";

            }
        }
        else {
            if (type == 1) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"' + $('#proid').val() + '","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderValidReferralShiftDataSearchuploader";
            }
            else if (type == 2) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"' + $('#proid').val() + '","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderExceptionDataSearchuploader";
            }
        }
    }
    if (((componentGroupId == 18 || componentGroupId == 23 || componentGroupId == 24) && CountryId != 2) || componentGroupId == 28
        || componentGroupId == 29 || componentGroupId == 30 || componentGroupId == 32 || componentGroupId == 33 || componentGroupId == 46
        || componentGroupId == 49 || componentGroupId == 34 || componentGroupId == 35 || componentGroupId == 36 || componentGroupId == 37
        || componentGroupId == 38 || (componentGroupId == 39 && CountryId == 3) || (componentGroupId == 22 && CountryId == 3)
        || componentGroupId == 31 || ((componentGroupId == 51 || componentGroupId == 45) && CountryId == 15) || componentGroupId == 47
        || componentGroupId == 48 || componentGroupId == 50 || componentGroupId == 52 || (componentGroupId == 53 && (CountryId == 18 || CountryId == 19))
        || componentGroupId == 59 || componentGroupId == 60 || componentGroupId == 62
        || componentGroupId == 64 || componentGroupId == 65 || componentGroupId == 68 || componentGroupId == 69
        || componentGroupId == 70 || componentGroupId == 61 || componentGroupId == 63 || componentGroupId == 57
        || ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) ||
        componentGroupId == 54 || componentGroupId == 55 || componentGroupId == 56 || componentGroupId == 75 ||
        (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71 || componentGroupId == 72
        || componentGroupId == 74 || componentGroupId == 73 ||
        componentGroupId == 82 || componentGroupId == 91 || componentGroupId == 95
        || componentGroupId == 92 || componentGroupId == 93 || componentGroupId == 96 || componentGroupId == 97
        || componentGroupId == 76 || componentGroupId == 77 || componentGroupId == 78
        || componentGroupId == 79 || componentGroupId == 80 || componentGroupId == 81
        || componentGroupId == 83 || componentGroupId == 84 || componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87 || componentGroupId == 88
        || componentGroupId == 89 || ((componentGroupId == 3 || componentGroupId == 29 || componentGroupId == 58
            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20 || componentGroupId == 90)
        || componentGroupId == 94) {
        if (value1 == "" && value2 == "" && value3 == "") {
            if (type == 1) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftlValidData";

            }
            else if (type == 2) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftExceptionData";

            }
        }
        else {
            if (type == 1) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderValidReferralShiftDataSearchuploader";
            }
            else if (type == 2) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderExceptionDataSearchuploader";
            }
        }
    }
    /* AUS NZ OT SD OCA */
    if ((componentGroupId == 22 || componentGroupId == 39 || componentGroupId == 101) && (CountryId == 8 || CountryId == 9)) {
        var Months = $('#ddlMonth').val();
        if (value1 == "" && value2 == "" && value3 == "") {
            if (type == 1) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","months":"' + Months + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftlValidData_OT";
            }
        }
        else {
            if (type == 1) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderValidReferralShiftDataSearchuploader";
            }
        }
    }
    /* AUS NZ OT SD OCA */
    if (((componentGroupId == 19 || componentGroupId == 20) && CountryId != 2) || ((componentGroupId == 22 && CountryId != 3 && CountryId != 8 && CountryId != 9))
        || componentGroupId == 21 || (componentGroupId == 39 && (CountryId == 7)) || componentGroupId == 42
        || componentGroupId == 26 || componentGroupId == 27 || componentGroupId == 28 || (componentGroupId == 101 && CountryId != 8)) {
        if (value1 == "" && value2 == "" && value3 == "") {
            if (type == 1) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftlValidData";

            }
            else if (type == 2) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftExceptionData";

            }
            else if (type == 3) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetOtherGeographyUploaderData";
            }
        }
        else {
            if (type == 1) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderValidReferralShiftDataSearchuploader";
            }
            else if (type == 2) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetUploaderExceptionDataSearchuploader";
            }
            else if (type == 3) {
                datastring = '{"componentGroupId":"' + componentGroupId + '","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"1"}';
                url = "../APAC_WebMethods.aspx/GetOtherGeographyUploaderDataSearch";
            }
        }
    }
    $.ajax({
        type: "POST",
        url: url,
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        contentType: "application/json;charset=utf-8",
        success: appendPageNumbers,
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function appendPageNumbers(result) {
    $(".ref_prev").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_first").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_next").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_last").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_next").removeClass("disablebutton");
    $(".ref_prev").removeClass("disablebutton");
    $(".ref_last").removeClass("disablebutton");
    $(".ref_first").removeClass("disablebutton");
    $(".pagesdiv").html("");
    if (result.d.length > 0) {
        $.each(result.d, function (i, data) {
            totpages = data.Pages;
            totRec = data.Total;
        });
    }
    else {
        totpages = 0;
        totRec = 0;
    }
    if (totRec <= 5) {
        page = 1;
    }
    $(".totrec").html("Total (" + totRec + ") ");
    if (totpages > 0) {
        if (page <= 5) {
            var tot = (totpages > 5) ? 5 : totpages;
            for (i = 1; i <= tot; i++) {
                $(".pagesdiv").append("<a class='pages paginate_button ref_pagination'>" + i + "</a>");
            }
        }
        else {
            $(".pagesdiv").html("");
            if (totpages < 5) {
                for (i = 1; i <= totpages; i++) {
                    $(".pagesdiv").append("<a class='pages paginate_button ref_pagination'>" + i + "</a>");
                }
            }
            else {
                for (i = (page - 4); i <= page && i >= 1; i++) {
                    $(".pagesdiv").append("<a class='pages paginate_button ref_pagination'>" + i + "</a>");
                }
            }
        }
        $(".pages").removeClass("pageselected");
        $("a.pages:contains(" + page + ")").addClass("pageselected");
        if (page == 1) {
            $(".ref_prev").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
            $(".ref_prev").addClass("disablebutton");
            $(".ref_first").addClass("disablebutton");
            $(".ref_first").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        }
        if (tot == 1) {
            $(".ref_next").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
            $(".ref_next").addClass("disablebutton");
            $(".ref_last").addClass("disablebutton");
            $(".ref_last").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        }
        if (page == totpages) {
            $(".ref_next").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
            $(".ref_next").addClass("disablebutton");
            $(".ref_last").addClass("disablebutton");
            $(".ref_last").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        }

    }
    else {
        $(".ref_prev").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        $(".ref_first").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        $(".ref_next").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        $(".ref_last").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        $(".ref_next").addClass("disablebutton");
        $(".ref_prev").addClass("disablebutton");
        $(".ref_last").addClass("disablebutton");
        $(".ref_first").addClass("disablebutton");
    }
}

function enableDisable(dir) {
    if (dir == 1) {
        if (page > 5) {
            $(".pagesdiv").html("");
            for (i = (page - 4); i <= page && i <= totpages; i++) {
                $(".pagesdiv").append("<a class='pages paginate_button ref_pagination'>" + i + "</a>");
            }
        }
        $(".pages").removeClass("pageselected");
        $("a.pages:contains(" + page + ")").addClass("pageselected");
        if (page == totpages) {
            $(".ref_next").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
            $(".ref_last").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
            $(".ref_next").addClass("disablebutton");
            $(".ref_last").addClass("disablebutton");
        }
    }
    else {
        if (page >= 5) {
            $(".pagesdiv").html("");
            for (i = (page - 4); i <= page && i >= 1; i++) {
                $(".pagesdiv").append("<a class='pages paginate_button ref_pagination'>" + i + "</a>");
            }
        }
        $(".pages").removeClass("pageselected");
        $("a.pages:contains(" + page + ")").addClass("pageselected");
        if (page == 1) {
            $(".ref_prev").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
            $(".ref_first").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
            $(".ref_prev").addClass("disablebutton");
            $(".ref_first").addClass("disablebutton");
        }
    }
}

$(document).on("change", "#displayrecords", function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    $("#NoData").remove();
    $("#aid1").val('');
    $("#aid2").val('');
    $("#aid3").val('');
    $("#bid1").val('');
    $("#bid2").val('');
    $("#bid3").val('');
    $("#rvalid").prop("checked", false);
    $("#sfvalid").prop("checked", false);
    $("#jvalid").prop("checked", false);
    $("#taxvalid").prop("checked", false);
    $("#sarvalid").prop("checked", false);
    $("#advalid").prop("checked", false);
    $("#svalid").prop("checked", false);
    $("#apvalid").prop("checked", false);
    $("#highvalid").prop("checked", false);
    $("#sbvalid").prop("checked", false);
    $("#ctvalid").prop("checked", false);
    $("#cvalid").prop("checked", false);
    $("#netvalidcheckbox").prop("checked", false);

    $(".referralvalid").prop("checked", false);
    $(".shiftvalid").prop("checked", false);
    $(".APvalid").prop("checked", false);
    $(".Highvalid").prop("checked", false);
    var preval = $("#displayrecords").data("prev");

    var newval = $("#displayrecords").val();
    var compid = $('#bonus').val();
    var dis = (preval * page) - (preval / 2);
    page = Math.ceil(dis / newval);
    if (preval == null) {
        page = 1;
    }
    getTotalPages();
    page = (page > totpages) ? totpages : page;
    var componentGroupId = $("#bonus").val();
    var value;
    if (componentGroupId == 48 && CountryId == 17) {
        value = $('#bid').val();
    }
    else {
        value = $('#aid').val();
    }
    var type = 0;
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {

        type = 2;
    }
    else if ($("#a_otherGeo").hasClass('selected')) {
        type = 3;
    }
    if (value == "") {
        if (type == 1) {
            BindValidGridtbl();
        }
        else if (type == 2) {


            BindExceptionsGridtbl();

        }
        else if (type == 3) {
            BindOtherGeoGridtbl();
        }
    }
    else {
        keyPressEnter();
    }
    $("#displayrecords").data("prev", $("#displayrecords").val());
    //$("#displayrecords").attr("data-prev", $("#displayrecords").val());
    $(".pages").removeClass("pageselected");
    $("a.pages:contains(" + page + ")").addClass("pageselected");
    //$(".ref_prev").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    //$(".ref_next").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    //$(".ref_first").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    //$(".ref_last").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    //$(".ref_next").removeClass("disablebutton");
    //$(".ref_prev").removeClass("disablebutton");
    //$(".ref_last").removeClass("disablebutton");
    //$(".ref_first").removeClass("disablebutton");
    newval = parseInt(newval);
    preval = parseInt(preval);
    if (newval > preval) {
        enableDisable(1);
    }
    else {
        enableDisable(2);
    }
    if (page == 0) {
        page = 1;
    }
});

$(document).on("click", "th.sort", function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    var sel = $(this);
    orderBy = $(this).attr("column");
    var componentGroupId = $("#bonus").val();
    var value;
    if (componentGroupId == 48 && CountryId == 17) {
        value = $('#bid').val();
    }
    else {
        value = $('#aid').val();
    }
    if (prevOrderBy == orderBy) {
        if (sortFlag == 1) {
            sortFlag = 2;
            sortOrder = 2;
            var type = 0;
            if ($('#a_valid').hasClass('selected')) {
                type = 1;
            }
            else if ($('#a_exceptions').hasClass('selected')) {

                type = 2;
            }
            else if ($("#a_otherGeo").hasClass('selected')) {
                type = 3;
            }
            if (value == "") {
                if (type == 1) {
                    BindValidGridtbl();
                }
                else if (type == 2) {
                    BindExceptionsGridtbl();

                }
                else if (type == 3) {
                    BindOtherGeoGridtbl();
                }
            }
            else {
                keyPressEnter();
            }
            $("th[column='" + orderBy + "']").addClass("sortdown");
        }
        else {
            sortFlag = 1;
            sortOrder = 1;
            $("th[column='" + orderBy + "']").removeClass("sortdown");
            var type = 0;
            if ($('#a_valid').hasClass('selected')) {
                type = 1;
            }
            else if ($('#a_exceptions').hasClass('selected')) {

                type = 2;
            }
            else if ($("#a_otherGeo").hasClass('selected')) {
                type = 3;
            }
            if (value == "") {
                if (type == 1) {
                    BindValidGridtbl();
                }
                else if (type == 2) {
                    BindExceptionsGridtbl();

                }
                else if (type == 3) {
                    BindOtherGeoGridtbl();
                }
            }
            else {
                keyPressEnter();
            }
        }
    }
    else {
        sortFlag = 1;
        sortOrder = 1;
        var type = 0;
        if ($('#a_valid').hasClass('selected')) {
            type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {

            type = 2;
        }
        else if ($("#a_otherGeo").hasClass('selected')) {
            type = 3;
        }
        if (value == "") {
            if (type == 1) {
                BindValidGridtbl();
            }
            else if (type == 2) {
                ////console.log("type2")
                BindExceptionsGridtbl();

            }
            else if (type == 3) {
                BindOtherGeoGridtbl();
            }
        }
        else {
            keyPressEnter();
        }
        $("th.sort").removeClass("sortdown");
    }
    prevOrderBy = orderBy;
});

$(document).on("click", ".pages", function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    $("#rvalid").prop("checked", false);
    $("#advalid").prop("checked", false);
    $(".referralvalid").prop("checked", false);
    $("#svalid").prop("checked", false);
    $("#apvalid").prop("checked", false);
    $("#highvalid").prop("checked", false);
    $(".shiftvalid").prop("checked", false);
    $(".ref_prev").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_next").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_first").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_last").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_next").removeClass("disablebutton");
    $(".ref_prev").removeClass("disablebutton");
    $(".ref_last").removeClass("disablebutton");
    $(".ref_first").removeClass("disablebutton");
    $(".pages").removeClass("pageselected");
    $("#jvalid").prop("checked", false);
    $("#taxvalid").prop("checked", false);
    $("#sfvalid").prop("checked", false);
    $("#sarvalid").prop("checked", false);
    $("#svalid").prop("checked", false);
    $("#apvalid").prop("checked", false);
    $("#sbvalid").prop("checked", false);
    $("#ctvalid").prop("checked", false);
    $("#cvalid").prop("checked", false);
    $("#netvalidcheckbox").prop("checked", false);
    page = $(this).text();
    $(this).addClass("pageselected");

    var componentGroupId = $("#bonus").val();
    var value;
    if (componentGroupId == 48 && CountryId == 17) {
        value = $('#bid').val();
    }
    else {
        value = $('#aid').val();
    }

    var type = 0;
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    else if ($("#a_otherGeo").hasClass('selected')) {
        type = 3;
    }
    if (value == "") {
        if (type == 1) {
            BindValidGridtbl();
        }
        else if (type == 2) {
            var Qtrvalue = $('#ddlQuarter').val();


            BindExceptionsGridtbl();

        }

        else if (type == 3) {
            BindOtherGeoGridtbl();
        }
    }
    else {
        keyPressEnter();
    }
    page = parseInt(page);
    totpages = parseInt(totpages);
    if (page == 1) {
        $(".ref_prev").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        $(".ref_first").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        $(".ref_first").addClass("disablebutton");
        $(".ref_prev").addClass("disablebutton");
    }
    if (page == totpages) {
        $(".ref_next").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        $(".ref_last").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        $(".ref_next").addClass("disablebutton");
        $(".ref_last").addClass("disablebutton");
    }
});

$(document).on("click", ".ref_first", function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    $(".ref_prev").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_next").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_first").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_last").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $("#rvalid").prop("checked", false);
    $("#advalid").prop("checked", false);
    $("#jvalid").prop("checked", false);
    $("#taxvalid").prop("checked", false);
    $("#sfvalid").prop("checked", false);
    $("#sarvalid").prop("checked", false);
    //$(".referralvalid").prop("checked", false);
    $("#svalid").prop("checked", false);
    $("#apvalid").prop("checked", false);
    $("#sbvalid").prop("checked", false);
    $("#ctvalid").prop("checked", false);
    $("#cvalid").prop("checked", false);
    $("#netvalidcheckbox").prop("checked", false);
    $(".shiftvalid").prop("checked", false);
    $(".ref_next").removeClass("disablebutton");
    $(".ref_prev").removeClass("disablebutton");
    $(".ref_last").removeClass("disablebutton");
    $(".ref_first").removeClass("disablebutton");
    page = 1;
    var componentGroupId = $("#bonus").val();
    var value;
    if (componentGroupId == 48 && CountryId == 17) {
        value = $('#bid').val();
    }
    else {
        value = $('#aid').val();
    }
    //   var value = $("#aid").val();
    var type = 0;
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    else if ($("#a_otherGeo").hasClass('selected')) {
        type = 3;
    }
    if (value == "") {
        if (type == 1) {
            BindValidGridtbl();
        }
        else if (type == 2) {
            var Qtrvalue = $('#ddlQuarter').val();


            BindExceptionsGridtbl();

        }

        else if (type == 3) {
            BindOtherGeoGridtbl();
        }
    }
    else {
        keyPressEnter();
    }
    $(".pagesdiv").html("");
    var tot = (totpages > 5) ? 5 : totpages;
    for (i = 1; i <= tot; i++) {
        $(".pagesdiv").append("<a class='pages paginate_button ref_pagination'>" + i + "</a>");
    }
    $(".pages").removeClass("pageselected");
    $("a.pages:contains(1)").addClass("pageselected");
    $(".ref_prev").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
    $(".ref_first").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
    $(".ref_prev").addClass("disablebutton");
    $(".ref_first").addClass("disablebutton");
    if (tot == 1) {
        $(".ref_next").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        $(".ref_last").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        $(".ref_next").addClass("disablebutton");
        $(".ref_last").addClass("disablebutton");
    }
});

$(document).on("click", ".ref_last", function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    $(".ref_prev").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_next").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_first").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_last").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $("#rvalid").prop("checked", false);
    $("#advalid").prop("checked", false);
    $("#svalid").prop("checked", false);
    $("#apvalid").prop("checked", false);
    $("#jvalid").prop("checked", false);
    $("#taxvalid").prop("checked", false);
    $("#sfvalid").prop("checked", false);
    $("#sarvalid").prop("checked", false);
    $(".shiftvalid").prop("checked", false);
    $("#sbvalid").prop("checked", false);
    $("#ctvalid").prop("checked", false);
    $("#cvalid").prop("checked", false);
    $("#netvalidcheckbox").prop("checked", false);
    $(".ref_next").removeClass("disablebutton");
    $(".ref_prev").removeClass("disablebutton");
    $(".ref_last").removeClass("disablebutton");
    $(".ref_first").removeClass("disablebutton");
    page = totpages;
    var componentGroupId = $("#bonus").val();
    var value;
    if (componentGroupId == 48 && CountryId == 17) {
        value = $('#bid').val();
    }
    else {
        value = $('#aid').val();
    }
    //  var value = $("#aid").val();
    var type = 0;
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    else if ($("#a_otherGeo").hasClass('selected')) {
        type = 3;
    }
    if (value == "") {
        if (type == 1) {
            BindValidGridtbl();
        }
        else if (type == 2) {
            var Qtrvalue = $('#ddlQuarter').val();

            BindExceptionsGridtbl();

        }

        else if (type == 3) {
            BindOtherGeoGridtbl();
        }
    }
    else {
        keyPressEnter();
    }
    $(".pagesdiv").html("");
    if (totpages < 5) {
        for (i = 1; i <= totpages; i++) {
            $(".pagesdiv").append("<a class='pages paginate_button ref_pagination'>" + i + "</a>");
        }
    }
    else {
        for (i = (page - 4); i <= page && i >= 1; i++) {
            $(".pagesdiv").append("<a class='pages paginate_button ref_pagination'>" + i + "</a>");
        }
    }
    $(".pages").removeClass("pageselected");
    $("a.pages:contains(" + page + ")").addClass("pageselected");
    $(".ref_next").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
    $(".ref_last").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
    $(".ref_next").addClass("disablebutton");
    $(".ref_last").addClass("disablebutton");
    if (page == 1) {
        $(".ref_prev").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        $(".ref_first").attr("disabled", "disabled").css({ "pointer-events": "none", "cursor": "default" });
        $(".ref_prev").addClass("disablebutton");
        $(".ref_first").addClass("disablebutton");
    }
});

$(document).on("click", ".ref_next", function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    $(".ref_prev").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_next").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_first").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_last").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $("#rvalid").prop("checked", false);
    $("#advalid").prop("checked", false);
    $("#jvalid").prop("checked", false);
    $("#taxvalid").prop("checked", false);
    $("#sfvalid").prop("checked", false);
    $("#sarvalid").prop("checked", false);
    $("#svalid").prop("checked", false);
    $("#apvalid").prop("checked", false);
    $("#sbvalid").prop("checked", false);
    $("#ctvalid").prop("checked", false);
    $("#cvalid").prop("checked", false);
    $("#netvalidcheckbox").prop("checked", false);
    $(".shiftvalid").prop("checked", false);
    $(".ref_next").removeClass("disablebutton");
    $(".ref_prev").removeClass("disablebutton");
    $(".ref_last").removeClass("disablebutton");
    $(".ref_first").removeClass("disablebutton");
    page = parseInt(page);
    totpages = parseInt(totpages);
    if ((page + 1) <= totpages) {
        page = page + 1;
        var componentGroupId = $("#bonus").val();
        var value;
        if (componentGroupId == 48 && CountryId == 17) {
            value = $('#bid').val();
        }
        else {
            value = $('#aid').val();
        }

        // var value = $("#aid").val();
        var type = 0;
        if ($('#a_valid').hasClass('selected')) {
            type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {
            type = 2;
        }
        else if ($("#a_otherGeo").hasClass('selected')) {
            type = 3;
        }
        if (value == "") {
            if (type == 1) {
                BindValidGridtbl();
            }
            else if (type == 2) {
                var Qtrvalue = $('#ddlQuarter').val();

                BindExceptionsGridtbl();

            }

            else if (type == 3) {
                BindOtherGeoGridtbl();
            }
        }
        else {
            keyPressEnter();
        }
        enableDisable(1);
    }
});

$(document).on("click", ".ref_prev", function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    $(".ref_prev").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_next").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_first").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $(".ref_last").removeAttr("disabled").css({ "pointer-events": "", "cursor": "pointer" });
    $("#rvalid").prop("checked", false);
    $("#advalid").prop("checked", false);
    $("#svalid").prop("checked", false);
    $("#apvalid").prop("checked", false);
    $("#jvalid").prop("checked", false);
    $("#taxvalid").prop("checked", false);
    $("#sfvalid").prop("checked", false);
    $("#sarvalid").prop("checked", false);
    $("#cvalid").prop("checked", false);
    $("#netvalidcheckbox").prop("checked", false);
    $("#sbvalid").prop("checked", false);
    $("#ctvalid").prop("checked", false);

    $(".shiftvalid").prop("checked", false);
    $(".ref_next").removeClass("disablebutton");
    $(".ref_prev").removeClass("disablebutton");
    $(".ref_last").removeClass("disablebutton");
    $(".ref_first").removeClass("disablebutton");
    page = parseInt(page);
    if ((page - 1) >= 1) {
        page = page - 1;
        var componentGroupId = $("#bonus").val();
        var value;
        if (componentGroupId == 48 && CountryId == 17) {
            value = $('#bid').val();
        }
        else {
            value = $('#aid').val();
        }

        // var value = $("#aid").val();
        var type = 0;
        if ($('#a_valid').hasClass('selected')) {
            type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {
            type = 2;
        }
        else if ($("#a_otherGeo").hasClass('selected')) {
            type = 3;
        }
        if (value == "") {
            if (type == 1) {
                BindValidGridtbl();
            }
            else if (type == 2) {
                var Qtrvalue = $('#ddlQuarter').val();

                BindExceptionsGridtbl();

            }
            else if (type == 3) {
                BindOtherGeoGridtbl();
            }
        }
        else {
            keyPressEnter();
        }
        enableDisable(2);
    }
});

//edit
$(document).on('click', '#OC_editenddate', function () {
    if (CountryId == 3) {
        $("#OC_editenddate").datepicker("destroy");
        $("#OC_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        if ($('#OC_editstartdate').val() == '') {
            $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
            $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
            //$('.popdivcontedit').css('color', 'red').text('Please select Start Date');
        }
        else if ($('#OC_editstartdate').val() != '') {
            $("#OC_editenddate").datepicker("destroy");
            $("#OC_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
            var fromdate = new Date($("#OC_editstartdate").val());
            var minimumdate = new Date(fromdate);
            var fromdate1 = new Date($("#OC_editstartdate").val());
            fromdate1.setDate(fromdate.getDate() + 1);
            var frommonth = fromdate.getMonth();
            var frommonth1 = fromdate1.getMonth();

            fromdate.setDate(fromdate.getDate() + 1);

            var toDate = new Date(fromdate);

            $("#OC_editeditenddate").datepicker("option", "minDate", minimumdate);
            $("#OC_editeditenddate").datepicker("option", "maxDate", toDate);
        }
    }
    else if (CountryId != 3) {
        $("#OC_editenddate").datepicker("destroy");
        $("#OC_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        if ($('#OC_editstartdate').val() == '') {
            $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
            $("#OC_editenddate").datepicker("destroy");
            $("#OC_editenddate").datepicker('hide');

        }
        else if ($('#OC_editstartdate').val() != '') {
            $('.popup_edit .innerErrorHolder').text('');
            $("#OC_editenddate").datepicker("destroy");
            $("#OC_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
            var fromdate = new Date($("#OC_editstartdate").val());
            var minimumdate = new Date(fromdate);
            var fromdate1 = new Date($("#OC_editstartdate").val());
            fromdate1.setDate(fromdate.getDate() + 1);
            var frommonth = fromdate.getMonth();
            var frommonth1 = fromdate1.getMonth();

            fromdate.setDate(fromdate.getDate() + 1);

            var toDate = new Date(fromdate);

            var startdate = $('#OC_editstartdate').val();
            var datearr = SetDateForServianAssociate(startdate, 2);
            if (datearr.length > 0) {
                minimumdate = datearr[0];
                toDate = datearr[1];
            }

            $("#OC_editenddate").datepicker("option", "minDate", minimumdate);
            $("#OC_editenddate").datepicker("option", "maxDate", toDate);
            $("#OC_editenddate").datepicker('show');
        }
    }
});

$(document).on('click', '#OC_editstartdate', function () {
    if (CountryId == 3) {
        $('.popdivcontedit').text('');
        $("#OC_editstartdate").datepicker("destroy");
        $("#OC_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var currentdate = new Date();
        currentdate.setMonth(currentdate.getMonth(), 18);
        var prevmonthdate = new Date(currentdate);
        var maximumdate = new Date(prevmonthdate);
        maximumdate.setMonth(maximumdate.getMonth() - 6, 19);
        var minimumdate = new Date(maximumdate);

        $("#OC_editstartdate").datepicker("option", "minDate", minimumdate);
        $("#OC_editstartdate").datepicker("option", "maxDate", prevmonthdate);

    }
    else if (CountryId != 3) {
        $('.popdivcontedit').text('');
        $("#OC_editstartdate").datepicker("destroy");
        $("#OC_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var currentdate = new Date();
        currentdate.setMonth(currentdate.getMonth(), 18);
        var prevmonthdate = new Date(currentdate);
        var maximumdate = new Date(prevmonthdate);
        maximumdate.setMonth(maximumdate.getMonth() - 6, 19);
        var minimumdate = new Date(maximumdate);

        var startdate = $('#OC_editstartdate').val();
        var datearr = SetDateForServianAssociate(startdate, 1);
        if (datearr.length > 0) {
            minimumdate = datearr[0];
            prevmonthdate = datearr[1];
        }

        $("#OC_editstartdate").datepicker("option", "minDate", minimumdate);
        $("#OC_editstartdate").datepicker("option", "maxDate", prevmonthdate);
        $("#OC_editstartdate").datepicker('show');
    }
});

$(document).on('change', '#OC_editstartdate', function () {
    if (CountryId == 3) {
        $("#OC_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var fromdate = new Date($("#OC_editstartdate").val());
        var minimumdate = new Date(fromdate);
        var fromdate1 = new Date($("#OC_editstartdate").val());
        fromdate1.setDate(fromdate.getDate() + 1);
        var frommonth = fromdate.getMonth();
        var frommonth1 = fromdate1.getMonth();
        if (frommonth == frommonth1) {
            fromdate.setDate(fromdate.getDate() + 1);
        }
        else {
            fromdate.setDate(fromdate.getDate() + 0);
        }
        var toDate = new Date(fromdate);

        $("#OC_editenddate").datepicker("option", "minDate", minimumdate);
        $("#OC_editenddate").datepicker("option", "maxDate", toDate);
    }
    else if (CountryId != 3) {
        $("#OC_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var fromdate = new Date($("#OC_editstartdate").val());
        var minimumdate = new Date(fromdate);
        var fromdate1 = new Date($("#OC_editstartdate").val());
        fromdate1.setDate(fromdate.getDate() + 1);
        var frommonth = fromdate.getMonth();
        var frommonth1 = fromdate1.getMonth();
        if (frommonth == frommonth1) {
            fromdate.setDate(fromdate.getDate() + 1);
        }
        else {
            fromdate.setDate(fromdate.getDate() + 0);
        }
        var toDate = new Date(fromdate);

        var startdate = $('#OC_editstartdate').val();
        var datearr = SetDateForServianAssociate(startdate, 1);
        if (datearr.length > 0) {
            minimumdate = datearr[0];
            toDate = datearr[1];
        }

        $("#OC_editenddate").datepicker("option", "minDate", minimumdate);
        $("#OC_editenddate").datepicker("option", "maxDate", toDate);

        var componentGroupId = $('#bonus').val();
        if ((CountryId == 8 && componentGroupId == 22) || (CountryId == 9 && componentGroupId == 22)) {
            PopulateOTProject(startdate);
            if (otproject != '' && otproject != undefined && otproject != "undefined" && otproject != 'undefined') {
                $('.popup_edit #OT_Projectid').val(otproject).attr('selected', 'selected');
            }

        }
        else if ((CountryId == 8 && componentGroupId == 101) || (CountryId == 9 && componentGroupId == 39)) {
            PopulateOTProject(startdate);
            if (ocaproject != '' && ocaproject != undefined && ocaproject != "undefined" && ocaproject != 'undefined') {
                $('.popup_edit #OCA_ProjectID').val(ocaproject).attr('selected', 'selected');
            }
        }
    }
});

$(document).on('click', '#sar_enddate', function () {
    $("#sar_enddate").datepicker("destroy");
    $("#sar_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if (($('#sar_startdate').val() == '') && (!$(this).parents('#editval').find('#sar_startdate').hasClass('singSASD'))) {
        $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
        $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
    }
    else if ($('#sar_startdate').val() != '') {
        $("#sar_enddate").datepicker("destroy");
        $("#sar_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var today = new Date();
        var fromdate = new Date($("#sar_startdate").val());
        fromdate = new Date(fromdate);
        var toDate = new Date(fromdate);
        toDate.setFullYear(fromdate.getFullYear() + 1);
        toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
        $("#sar_enddate").datepicker("option", "minDate", fromdate);
        $("#sar_enddate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#sar_startdate', function () {
    $('.popdivcontedit').text('');
    $("#sar_startdate").datepicker("destroy");
    $("#sar_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    ///var currentdate = new Date();
    var currentdate = new Date();
    var year = currentdate.getFullYear();
    var month = currentdate.getMonth();
    if (month == "0" || month == "2" || month == "4" || month == "6" || month == "7" || month == "9" || month == "11")
        currentdate.setMonth(currentdate.getMonth(), 31);
    else if (month == "3" || month == "5" || month == "8" || month == "10")
        currentdate.setMonth(currentdate.getMonth(), 30);
    else if (month == "1" && year % 4 != 0)
        currentdate.setMonth(currentdate.getMonth(), 28);
    else if (month == "1" && year % 4 == 0)
        currentdate.setMonth(currentdate.getMonth(), 29);
    var toDate = new Date(currentdate);
    var maximumdate = new Date(toDate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 1);
    var minimumdate = new Date(maximumdate);

    //$("#sar_startdate").datepicker("option", "minDate", minimumdate);
    //$("#sar_startdate").datepicker("option", "maxDate", toDate);

    $("#sar_startdate").datepicker("option", "minDate", minimumdate);
    $("#sar_startdate").datepicker("option", "maxDate", toDate);

});

$(document).on('click', '#Lnstartdate', function () {
    $('.popdivcontedit').text('');

    $(".popup_date ").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $("#Lnstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $('#popup_date').datepicker('show');
    $('#Lnstartdate').datepicker('show');


});

$(document).on('click', '#Lnenddate', function () {
    $("#Lnenddate").datepicker("destroy");
    $("#Lnenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#Lnstartdate').val() == '') {
        $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
        $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
    }
    else if ($('#Lnstartdate').val() != '') {
        $("#Lnenddate").datepicker("destroy");
        $("#Lnenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        $('#Lnenddate').datepicker('show');
        var today = new Date();
        var fromdate = new Date($("#Lnstartdate").val());
        fromdate = new Date(fromdate);
        var toDate = new Date(fromdate);
        toDate.setFullYear(fromdate.getFullYear() + 10);
        toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
        $("#Lnenddate").datepicker("option", "minDate", fromdate);
        $("#Lnenddate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#Insurancestartdate', function () {
    $('.popdivcontedit').text('');

    $(".popup_date ").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $("#Insurancestartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });

    var currentdate = new Date();
    var year = currentdate.getFullYear();
    var month = currentdate.getMonth();
    if (month == "0" || month == "2" || month == "4" || month == "6" || month == "7" || month == "9" || month == "11")
        currentdate.setMonth(currentdate.getMonth(), 31);
    else if (month == "3" || month == "5" || month == "8" || month == "10")
        currentdate.setMonth(currentdate.getMonth(), 30);
    else if (month == "1" && year % 4 != 0)
        currentdate.setMonth(currentdate.getMonth(), 28);
    else if (month == "1" && year % 4 == 0)
        currentdate.setMonth(currentdate.getMonth(), 29);
    var toDate = new Date(currentdate);
    var maximumdate = new Date(toDate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 1);
    var minimumdate = new Date(maximumdate);
    $("#Insurancestartdate").datepicker("option", "minDate", minimumdate);
    $("#Insurancestartdate").datepicker("option", "maxDate", toDate);
    $('#popup_date').datepicker('show');
    $('#Insurancestartdate').datepicker('show');
});

$(document).on('click', '#editinsurancedate', function () {
    $('.popdivcontedit').text('');

    $(".popup_date ").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $("#editinsurancedate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });

    var currentdate = new Date();
    var year = currentdate.getFullYear();
    var month = currentdate.getMonth();
    if (month == "0" || month == "2" || month == "4" || month == "6" || month == "7" || month == "9" || month == "11")
        currentdate.setMonth(currentdate.getMonth(), 31);
    else if (month == "3" || month == "5" || month == "8" || month == "10")
        currentdate.setMonth(currentdate.getMonth(), 30);
    else if (month == "1" && year % 4 != 0)
        currentdate.setMonth(currentdate.getMonth(), 28);
    else if (month == "1" && year % 4 == 0)
        currentdate.setMonth(currentdate.getMonth(), 29);
    var toDate = new Date(currentdate);
    var maximumdate = new Date(toDate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 1);
    var minimumdate = new Date(maximumdate);
    $("#editinsurancedate").datepicker("option", "minDate", minimumdate);
    $("#editinsurancedate").datepicker("option", "maxDate", toDate);
    $('#popup_date').datepicker('show');
    $('#editinsurancedate').datepicker('show');
});

$(document).on('click', '#commutestartdate', function () {
    $('.popdivcontedit').text('');

    $(".popup_date ").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $("#commutestartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });

    var currentdate = new Date();
    var year = currentdate.getFullYear();
    var month = currentdate.getMonth();
    if (month == "0" || month == "2" || month == "4" || month == "6" || month == "7" || month == "9" || month == "11")
        currentdate.setMonth(currentdate.getMonth(), 31);
    else if (month == "3" || month == "5" || month == "8" || month == "10")
        currentdate.setMonth(currentdate.getMonth(), 30);
    else if (month == "1" && year % 4 != 0)
        currentdate.setMonth(currentdate.getMonth(), 28);
    else if (month == "1" && year % 4 == 0)
        currentdate.setMonth(currentdate.getMonth(), 29);
    var toDate = new Date(currentdate);
    var maximumdate = new Date(toDate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 1);
    var minimumdate = new Date(maximumdate);
    $("#commutestartdate").datepicker("option", "minDate", minimumdate);
    $("#commutestartdate").datepicker("option", "maxDate", toDate);
    $('#popup_date').datepicker('show');
    $('#commutestartdate').datepicker('show');
});

$(document).on('click', '#editcommutedate', function () {
    $('.popdivcontedit').text('');

    $(".popup_date ").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $("#editcommutedate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });

    var currentdate = new Date();
    var year = currentdate.getFullYear();
    var month = currentdate.getMonth();
    if (month == "0" || month == "2" || month == "4" || month == "6" || month == "7" || month == "9" || month == "11")
        currentdate.setMonth(currentdate.getMonth(), 31);
    else if (month == "3" || month == "5" || month == "8" || month == "10")
        currentdate.setMonth(currentdate.getMonth(), 30);
    else if (month == "1" && year % 4 != 0)
        currentdate.setMonth(currentdate.getMonth(), 28);
    else if (month == "1" && year % 4 == 0)
        currentdate.setMonth(currentdate.getMonth(), 29);
    var toDate = new Date(currentdate);
    var maximumdate = new Date(toDate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 1);
    var minimumdate = new Date(maximumdate);
    $("#editcommutedate").datepicker("option", "minDate", minimumdate);
    $("#editcommutedate").datepicker("option", "maxDate", toDate);
    $('#popup_date').datepicker('show');
    $('#editcommutedate').datepicker('show');

});

$(document).on('click', '#netstartdate', function () {
    $('.popdivcontedit').text('');

    $(".popup_date ").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $("#netstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });

    var currentdate = new Date();
    var year = currentdate.getFullYear();
    var month = currentdate.getMonth();
    if (month == "0" || month == "2" || month == "4" || month == "6" || month == "7" || month == "9" || month == "11")
        currentdate.setMonth(currentdate.getMonth(), 31);
    else if (month == "3" || month == "5" || month == "8" || month == "10")
        currentdate.setMonth(currentdate.getMonth(), 30);
    else if (month == "1" && year % 4 != 0)
        currentdate.setMonth(currentdate.getMonth(), 28);
    else if (month == "1" && year % 4 == 0)
        currentdate.setMonth(currentdate.getMonth(), 29);
    var toDate = new Date(currentdate);
    var maximumdate = new Date(toDate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 1);
    var minimumdate = new Date(maximumdate);
    $("#netstartdate").datepicker("option", "minDate", minimumdate);
    $("#netstartdate").datepicker("option", "maxDate", toDate);
    $('#popup_date').datepicker('show');
    $('#netstartdate').datepicker('show');
});

$(document).on('click', '#editnetdate', function () {
    $('.popdivcontedit').text('');

    $(".popup_date ").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $("#editnetdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });

    var currentdate = new Date();
    var year = currentdate.getFullYear();
    var month = currentdate.getMonth();
    if (month == "0" || month == "2" || month == "4" || month == "6" || month == "7" || month == "9" || month == "11")
        currentdate.setMonth(currentdate.getMonth(), 31);
    else if (month == "3" || month == "5" || month == "8" || month == "10")
        currentdate.setMonth(currentdate.getMonth(), 30);
    else if (month == "1" && year % 4 != 0)
        currentdate.setMonth(currentdate.getMonth(), 28);
    else if (month == "1" && year % 4 == 0)
        currentdate.setMonth(currentdate.getMonth(), 29);
    var toDate = new Date(currentdate);
    var maximumdate = new Date(toDate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 1);
    var minimumdate = new Date(maximumdate);
    $("#editnetdate").datepicker("option", "minDate", minimumdate);
    $("#editnetdate").datepicker("option", "maxDate", toDate);
    $('#popup_date').datepicker('show');
    $('#editnetdate').datepicker('show');
});

$(document).on('click', '.popup_EditEnddate', function () {
    if (CountryId == 2) {
        if ($(this).closest('tr').find(".popup_Editstartdate").val() == '') {
            $('.popdivcontedit').css('color', 'red').text('Please select Start Date');
        }
        else if ($(this).closest('tr').find(".popup_Editstartdate").val() != '') {
            $(this).datepicker("destroy");
            $(this).datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
            var fromdate = new Date($(this).closest('tr').find(".popup_Editstartdate").val());
            var minimumdate = new Date(fromdate);
            var fromdate1 = new Date($(this).closest('tr').find(".popup_Editstartdate").val());
            fromdate1.setDate(fromdate.getDate() + 1);
            var frommonth = fromdate.getMonth();
            var frommonth1 = fromdate1.getMonth();

            fromdate.setDate(fromdate.getDate() + 1);

            var toDate = new Date(fromdate);

            $(this).datepicker("option", "minDate", minimumdate);
            $(this).datepicker("option", "maxDate", toDate);
        }
    }
    else if (CountryId != 2) {
        $("#popup_EditEnddate").datepicker("destroy");
        $("#popup_EditEnddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        if ($('#popup_Editstartdate').val() == '') {
            $('.popdivcontedit').css('color', 'red').text('Please select Start Date');
        }
        else if ($('#popup_Editstartdate').val() != '') {
            $("#popup_EditEnddate").datepicker("destroy");
            $("#popup_EditEnddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
            var fromdate = new Date($("#popup_Editstartdate").val());
            var minimumdate = new Date(fromdate);
            var fromdate1 = new Date($("#popup_Editstartdate").val());
            fromdate1.setDate(fromdate.getDate() + 1);
            var frommonth = fromdate.getMonth();
            var frommonth1 = fromdate1.getMonth();

            fromdate.setDate(fromdate.getDate() + 1);

            var toDate = new Date(fromdate);

            $(this).datepicker("option", "minDate", minimumdate);
            $(this).datepicker("option", "maxDate", toDate);
        }
    }
});

$(document).on('click', '.popup_Editstartdate', function () {
    if (CountryId == 2) {
        $(this).datepicker("destroy");
        $(this).datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });

        var currentdate = new Date();
        var month = currentdate.getMonth();
        if (month == "0" || month == "2" || month == "4" || month == "6" || month == "7" || month == "9" || month == "11")
            currentdate.setMonth(currentdate.getMonth(), 31);
        else if (month == "3" || month == "5" || month == "8" || month == "10")
            currentdate.setMonth(currentdate.getMonth(), 30);
        else if (month == "1" && year % 4 != 0)
            currentdate.setMonth(currentdate.getMonth(), 28);
        else if (month == "1" && year % 4 == 0)
            currentdate.setMonth(currentdate.getMonth(), 29);

        var prevmonthdate = new Date(currentdate);
        var maximumdate = new Date(prevmonthdate);
        maximumdate.setMonth(maximumdate.getMonth() - 6, 1);
        var minimumdate = new Date(maximumdate);

        $(this).datepicker("option", "minDate", minimumdate);
        $(this).datepicker("option", "maxDate", prevmonthdate);
        $(this).datepicker('show');
    }
    else if (CountryId != 2) {
        $('.popdivcontedit').text('');

        $(this).datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var currentdate = new Date();
        var year = currentdate.getFullYear();
        var month = currentdate.getMonth();

        currentdate.setMonth(currentdate.getMonth(), 19);
        var toDate = new Date(currentdate);
        var maximumdate = new Date(toDate);
        maximumdate.setMonth(maximumdate.getMonth() - 6, 18);
        var minimumdate = new Date(maximumdate);

        //$("#sar_startdate").datepicker("option", "minDate", minimumdate);
        //$("#sar_startdate").datepicker("option", "maxDate", toDate);

        $(this).datepicker("option", "minDate", minimumdate);
        $(this).datepicker("option", "maxDate", toDate);
        $(this).datepicker('show');
    }
});

$(document).on('change', '.popup_Editstartdate', function () {
    if (CountryId = 2) {


        $(this).datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var fromdate = new Date($(this).val());
        var minimumdate = new Date(fromdate);
        var fromdate1 = new Date($(this).val());
        fromdate1.setDate(fromdate.getDate() + 1);
        var frommonth = fromdate.getMonth();
        var frommonth1 = fromdate1.getMonth();
        if (frommonth == frommonth1) {
            fromdate.setDate(fromdate.getDate() + 1);
        }
        else {
            fromdate.setDate(fromdate.getDate() + 0);
        }
        var toDate = new Date(fromdate);
        $(".popup_EditEnddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        $(this).closest('tr').find(".popup_EditEnddate").datepicker("option", "minDate", minimumdate);
        $(this).closest('tr').find(".popup_EditEnddate").datepicker("option", "maxDate", toDate);
    }
    else if (CountryId != 2) {
        $(this).datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var fromdate = new Date($(this).val());
        var minimumdate = new Date(fromdate);
        var fromdate1 = new Date($(this).val());
        fromdate1.setDate(fromdate.getDate() + 1);
        var frommonth = fromdate.getMonth();
        var frommonth1 = fromdate1.getMonth();
        if (frommonth == frommonth1) {
            fromdate.setDate(fromdate.getDate() + 1);
        }
        else {
            fromdate.setDate(fromdate.getDate() + 0);
        }
        var toDate = new Date(fromdate);

        $(this).closest('tr').find(".popup_EditEnddate").datepicker("option", "minDate", minimumdate);
        $(this).closest('tr').find(".popup_EditEnddate").datepicker("option", "maxDate", toDate);
    }
});

//APAC DATEPICKER CHANGE
$(document).on('click', '#OC_enddate', function () {
    if (CountryId != 3) {
        $("#OC_enddate").datepicker("destroy");
        $("#OC_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        if ($('#OC_startdate').val() == '') {
            $("#OC_enddate").datepicker("destroy");
            $('.ui-datepicker').hide();
            $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select Start Date');
        }
        else if ($('#OC_startdate').val() != '') {
            $('.popup_new .innerErrorHolder').text('');
            $("#OC_enddate").datepicker("destroy");
            $("#OC_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });

            var fromdate = new Date($("#OC_startdate").val());
            var minimumdate = new Date(fromdate);
            var fromdate1 = new Date($("#OC_startdate").val());
            fromdate1.setDate(fromdate.getDate() + 1);
            var frommonth = fromdate.getMonth();
            var frommonth1 = fromdate1.getMonth();

            fromdate.setDate(fromdate.getDate() + 1);

            var toDate = new Date(fromdate);

            var startdate = $('#OC_startdate').val();
            var datearr = SetDateForServianAssociate(startdate, 2);
            if (datearr.length > 0) {
                minimumdate = datearr[0];
                toDate = datearr[1];
            }

            $("#OC_enddate").datepicker("option", "minDate", minimumdate);
            $("#OC_enddate").datepicker("option", "maxDate", toDate);
            $('#popup_date').datepicker('show');
            $('#OC_enddate').datepicker('show');
        }
    }
    else if (CountryId == 3) {
        $("#OC_enddate").datepicker("destroy");
        //$("#OC_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        if ($('#OC_startdate').val() == '') {
            $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
            $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
            $("#OC_enddate").datepicker("destroy");
            $(".popup_date").datepicker("destroy");
        }
        else if ($('#OC_startdate').val() != '') {
            $("#OC_enddate").datepicker("destroy");
            $("#OC_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });

            var fromdate = new Date($("#OC_startdate").val());
            var minimumdate = new Date(fromdate);
            var fromdate1 = new Date($("#OC_startdate").val());
            fromdate1.setDate(fromdate.getDate() + 1);
            var frommonth = fromdate.getMonth();
            var frommonth1 = fromdate1.getMonth();

            fromdate.setDate(fromdate.getDate() + 1);

            var toDate = new Date(fromdate);


            $("#OC_enddate").datepicker("option", "minDate", minimumdate);
            $("#OC_enddate").datepicker("option", "maxDate", toDate);
            $('#OC_enddate').datepicker('show');
        }
    }
});

$(document).on("change", "#OC_startdate", function () {
    if (CountryId != 3) {
        $("#OC_enddate").datepicker("destroy");
        $("#OC_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        if ($('#OC_startdate').val() == '') {
            $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select Start Date');
        }
        else {
            $('.popup_new .innerErrorHolder').text('');
        }
        if ($('#OC_startdate').val() != '' && (CountryId != 8 && CountryId != 9 && componentGroupId != 39)) {
            $("#OC_enddate").datepicker("destroy");
            $("#OC_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
            $('.popup_new .innerErrorHolder').text('');
            var fromdate = new Date($("#OC_startdate").val());
            var minimumdate = new Date(fromdate);
            var fromdate1 = new Date($("#OC_startdate").val());
            fromdate1.setDate(fromdate.getDate() + 1);
            var frommonth = fromdate.getMonth();
            var frommonth1 = fromdate1.getMonth();
            fromdate.setDate(fromdate.getDate() + 1);

            var toDate = new Date(fromdate);

            $("#OC_enddate").datepicker("option", "minDate", minimumdate);
            $("#OC_enddate").datepicker("option", "maxDate", toDate);
        }
        if (CountryId == 8 || CountryId == 9) {
            var startdate = $('#OC_startdate').val();
            PopulateOTProject(startdate);
            if (ocaproject != '' && ocaproject != undefined && ocaproject != "undefined" && ocaproject != 'undefined') {
                $('.popup_new #OCA_ProjectID').val(ocaproject).attr('selected', 'selected');
            }
        }

    }
    else if (CountryId == 3) {
        $("#OC_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var fromdate = new Date($("#OC_startdate").val());
        var minimumdate = new Date(fromdate);
        var fromdate1 = new Date($("#OC_startdate").val());
        fromdate1.setDate(fromdate.getDate() + 1);
        var frommonth = fromdate.getMonth();
        var frommonth1 = fromdate1.getMonth();
        if (frommonth == frommonth1) {
            fromdate.setDate(fromdate.getDate() + 1);
        }
        else {
            fromdate.setDate(fromdate.getDate() + 0);
        }
        var toDate = new Date(fromdate);

        $("#OC_enddate").datepicker("option", "minDate", minimumdate);
        $("#OC_enddate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#OC_startdate', function () {
    if (CountryId != 3) {
        $('.popdivcontedit').text('');

        $("#OC_startdate").datepicker("destroy");
        $(".popup_date ").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        $("#OC_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var currentdate = new Date();
        var year = currentdate.getFullYear();
        var month = currentdate.getMonth();

        currentdate.setMonth(currentdate.getMonth(), 18);
        var toDate = new Date(currentdate);
        var maximumdate = new Date(toDate);
        maximumdate.setMonth(maximumdate.getMonth() - 6, 18);
        var minimumdate = new Date(maximumdate);

        //$("#sar_startdate").datepicker("option", "minDate", minimumdate);
        //$("#sar_startdate").datepicker("option", "maxDate", toDate);

        var startdate = $('#OC_startdate').val();
        var datearr = SetDateForServianAssociate(startdate, 1);
        if (datearr.length > 0) {
            minimumdate = datearr[0];
            toDate = datearr[1];
        }

        $("#OC_startdate").datepicker("option", "minDate", minimumdate);
        $("#OC_startdate").datepicker("option", "maxDate", toDate);
        $('#popup_date').datepicker("show");
        $('#OC_startdate').datepicker("show");
    }
    else if (CountryId == 3) {
        $('.popdivcontedit').text('');
        $("#OC_startdate").datepicker("destroy");
        $("#OC_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        ////$('.popup_date').datepicker('show');        
        var currentdate = new Date();
        currentdate.setMonth(currentdate.getMonth(), 18);
        var prevmonthdate = new Date(currentdate);
        var maximumdate = new Date(prevmonthdate);
        maximumdate.setMonth(maximumdate.getMonth() - 6, 19);
        var minimumdate = new Date(maximumdate);

        $("#OC_startdate").datepicker("option", "minDate", minimumdate);
        $("#OC_startdate").datepicker("option", "maxDate", prevmonthdate);
        $('#OC_startdate').datepicker('show');

    }
});

//Statuory payout
$(document).on('click', '#sp_enddate', function () {
    $("#sp_enddate").datepicker("destroy");
    $("#sp_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#sp_startdate').val() == '') {
        $('.popdivcontedit').css('color', 'red').text('Please select Start Date');
    }
    else if ($('#sp_startdate').val() != '') {
        $("#sp_enddate").datepicker("destroy");
        $("#sp_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var fromdate = new Date($("#sp_startdate").val());
        var minimumdate = new Date(fromdate);
        var fromdate1 = new Date($("#sp_startdate").val());
        fromdate1.setDate(fromdate.getDate() + 1);
        var frommonth = fromdate.getMonth();
        var frommonth1 = fromdate1.getMonth();

        fromdate.setDate(fromdate.getDate() + 1);

        var toDate = new Date(fromdate);

        $("#sp_enddate").datepicker("option", "minDate", minimumdate);
        $("#sp_enddate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#sp_startdate', function () {
    $('.popdivcontedit').text('');
    $("#sp_startdate").datepicker("destroy");
    $("#sp_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var currentdate = new Date();
    currentdate.setMonth(currentdate.getMonth(), 18);
    var prevmonthdate = new Date(currentdate);
    var maximumdate = new Date(prevmonthdate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 19);
    var minimumdate = new Date(maximumdate);

    $("#sp_startdate").datepicker("option", "minDate", minimumdate);
    $("#sp_startdate").datepicker("option", "maxDate", prevmonthdate);


});

$(document).on('change', '#sp_startdate', function () {
    $("#sp_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var fromdate = new Date($("#sp_startdate").val());
    var minimumdate = new Date(fromdate);
    var fromdate1 = new Date($("#sp_startdate").val());
    fromdate1.setDate(fromdate.getDate() + 1);
    var frommonth = fromdate.getMonth();
    var frommonth1 = fromdate1.getMonth();
    if (frommonth == frommonth1) {
        fromdate.setDate(fromdate.getDate() + 1);
    }
    else {
        fromdate.setDate(fromdate.getDate() + 0);
    }
    var toDate = new Date(fromdate);

    $("#sp_enddate").datepicker("option", "minDate", minimumdate);
    $("#sp_enddate").datepicker("option", "maxDate", toDate);

});

$(document).on('click', '#sp_editenddate', function () {
    $("#sp_editenddate").datepicker("destroy");
    $("#sp_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#sp_editstartdate').val() == '') {
        $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select Start Date');
        $("#sp_editenddate").datepicker('hide');
    }
    else {
        $('.popup_edit .innerErrorHolder').text('');
    }
    if ($('#sp_editstartdate').val() != '' && ($('#bonus').val() !== 39 && (CountryId !== 8 || CountryId !== 9))) {
        $("#sp_enddate").datepicker("destroy");
        $("#sp_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var fromdate = new Date($("#sp_editstartdate").val());
        var minimumdate = new Date(fromdate);
        var fromdate1 = new Date($("#sp_editstartdate").val());
        fromdate1.setDate(fromdate.getDate() + 1);
        var frommonth = fromdate.getMonth();
        var frommonth1 = fromdate1.getMonth();

        fromdate.setDate(fromdate.getDate() + 1);

        var toDate = new Date(fromdate);

        var startdate = $('#sp_editstartdate').val();
        var datearr = SetDateForServianAssociate(startdate, 2);
        if (datearr.length > 0) {
            minimumdate = datearr[0];
            toDate = datearr[1];
        }

        $("#sp_editenddate").datepicker("option", "minDate", minimumdate);
        $("#sp_editenddate").datepicker("option", "maxDate", toDate);
        $("#sp_editenddate").datepicker('show');
    }
});

$(document).on('click', '#sp_editstartdate', function () {
    $('.popdivcontedit').text('');
    $("#sp_editstartdate").datepicker("destroy");
    $("#sp_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var currentdate = new Date();
    currentdate.setMonth(currentdate.getMonth(), 18);
    var prevmonthdate = new Date(currentdate);
    var maximumdate = new Date(prevmonthdate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 19);
    var minimumdate = new Date(maximumdate);

    var startdate = $('#sp_editstartdate').val();
    var datearr = SetDateForServianAssociate(startdate, 1);
    if (datearr.length > 0) {
        minimumdate = datearr[0];
        prevmonthdate = datearr[1];
    }
    $("#sp_editstartdate").datepicker("option", "minDate", minimumdate);
    $("#sp_editstartdate").datepicker("option", "maxDate", prevmonthdate);
    $("#sp_editstartdate").datepicker('show');
    $('#sp_editstartdate').val(startdate);
});

$(document).on('change', '#sp_editstartdate', function () {
    $("#sp_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var fromdate = new Date($("#sp_editstartdate").val());
    var minimumdate = new Date(fromdate);
    var fromdate1 = new Date($("#sp_editstartdate").val());
    fromdate1.setDate(fromdate.getDate() + 1);
    var frommonth = fromdate.getMonth();
    var frommonth1 = fromdate1.getMonth();
    if (frommonth == frommonth1) {
        fromdate.setDate(fromdate.getDate() + 1);
    }
    else {
        fromdate.setDate(fromdate.getDate() + 0);
    }
    var toDate = new Date(fromdate);

    $("#sp_editenddate").datepicker("option", "minDate", minimumdate);
    $("#sp_editenddate").datepicker("option", "maxDate", toDate);

    if (CountryId == 8 || CountryId == 9) {
        var startdate = $('#sp_editstartdate').val();
        PopulateOTProject(startdate);
        if (ocaproject != '' && ocaproject != undefined && ocaproject != "undefined" && ocaproject != 'undefined') {
            $('.popup_edit #OCA_ProjectID').val(ocaproject).attr('selected', 'selected');
        }
    }

});

//OVERTIME
$(document).on('click', '#OT_enddate', function () {
    $("#OT_enddate").datepicker("destroy");
    $("#OT_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $('#OT_enddate').datepicker('hide');
    if ($('#OT_startdate').val() == '') {
        $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
        $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
        $('.ui-datepicker').hide();

    }
    else if ($('#OT_startdate').val() != '') {
        $('.popup_new .innerErrorHolder').text('');
        $("#OT_enddate").datepicker("destroy");
        $("#OT_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        $('#OT_enddate').datepicker('show');
        var fromdate = new Date($("#OT_startdate").val());
        var minimumdate = new Date(fromdate);
        var fromdate1 = new Date($("#OT_startdate").val());
        fromdate1.setDate(fromdate.getDate() + 1);
        var frommonth = fromdate.getMonth();
        var frommonth1 = fromdate1.getMonth();

        fromdate.setDate(fromdate.getDate() + 1);

        var toDate = new Date(fromdate);

        var startdate = $('#OT_startdate').val();
        var datearr = SetDateForServianAssociate(startdate, 2);
        if (datearr.length > 0) {
            minimumdate = datearr[0];
            toDate = datearr[1];
        }

        $("#OT_enddate").datepicker("option", "minDate", minimumdate);
        $("#OT_enddate").datepicker("option", "maxDate", toDate);
        $('#OT_enddate').datepicker('show');
    }
});

$(document).on('click', '#OT_startdate', function () {
    $('.popdivcontedit').text('');
    $("#OT_startdate").datepicker("destroy");
    $("#OT_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });

    var currentdate = new Date();
    currentdate.setMonth(currentdate.getMonth(), 18);
    var prevmonthdate = new Date(currentdate);
    var maximumdate = new Date(prevmonthdate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 19);
    var minimumdate = new Date(maximumdate);

    var startdate = $('#OT_startdate').val();
    var datearr = SetDateForServianAssociate(startdate, 1);
    if (datearr.length > 0) {
        minimumdate = datearr[0];
        prevmonthdate = datearr[1];
    }

    $("#OT_startdate").datepicker("option", "minDate", minimumdate);
    $("#OT_startdate").datepicker("option", "maxDate", prevmonthdate);
    $('#OT_startdate').datepicker('show');

});

$(document).on('change', '#OT_startdate', function () {
    $("#OT_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $('.popup_new .innerErrorHolder').text('');
    var fromdate = new Date($("#OT_startdate").val());
    var minimumdate = new Date(fromdate);
    var fromdate1 = new Date($("#OT_startdate").val());
    fromdate1.setDate(fromdate.getDate() + 1);
    var frommonth = fromdate.getMonth();
    var frommonth1 = fromdate1.getMonth();
    if (frommonth == frommonth1) {
        fromdate.setDate(fromdate.getDate() + 1);
    }
    else {
        fromdate.setDate(fromdate.getDate() + 0);
    }
    var toDate = new Date(fromdate);

    var startdate = $('#OT_startdate').val();
    var datearr = SetDateForServianAssociate(startdate, 1);
    if (datearr.length > 0) {
        minimumdate = datearr[0];
        toDate = datearr[1];
    }
    $("#OT_enddate").datepicker("option", "minDate", minimumdate);
    $("#OT_enddate").datepicker("option", "maxDate", toDate);
    if (CountryId == 8 || CountryId == 9) {
        PopulateOTProject(startdate);
        if (otproject != '' && otproject != undefined && otproject != "undefined" && otproject != 'undefined') {
            $('.popup_new #OT_Projectid').val(otproject).attr('selected', 'selected');
        }

    }

});

//NSA
$(document).on('click', '#Nsa_endDate', function () {
    $("#Nsa_endDate").datepicker("destroy");
    $("#Nsa_endDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#Nsa_startDate').val() == '') {
        $('.popdivcontedit').css('color', 'red').text('Please select Start Date');
    }
    else if ($('#Nsa_startDate').val() != '') {
        $("#Nsa_endDate").datepicker("destroy");
        $("#Nsa_endDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var fromdate = new Date($("#Nsa_startDate").val());
        var minimumdate = new Date(fromdate);
        var fromdate1 = new Date($("#Nsa_startDate").val());
        fromdate1.setDate(fromdate.getDate() + 1);
        var frommonth = fromdate.getMonth();
        var frommonth1 = fromdate1.getMonth();

        fromdate.setDate(fromdate.getDate() + 1);

        var toDate = new Date(fromdate);

        $("#Nsa_endDate").datepicker("option", "minDate", minimumdate);
        $("#Nsa_endDate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#Nsa_startDate', function () {
    $('.popdivcontedit').text('');
    $("#Nsa_startDate").datepicker("destroy");
    $("#Nsa_startDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var currentdate = new Date();
    currentdate.setMonth(currentdate.getMonth(), 18);
    var prevmonthdate = new Date(currentdate);
    var maximumdate = new Date(prevmonthdate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 19);
    var minimumdate = new Date(maximumdate);

    $("#Nsa_startDate").datepicker("option", "minDate", minimumdate);
    $("#Nsa_startDate").datepicker("option", "maxDate", prevmonthdate);


});

$(document).on('change', '#Nsa_startDate', function () {
    $("#Nsa_startDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var fromdate = new Date($("#Nsa_startDate").val());
    var minimumdate = new Date(fromdate);
    var fromdate1 = new Date($("#Nsa_startDate").val());
    fromdate1.setDate(fromdate.getDate() + 1);
    var frommonth = fromdate.getMonth();
    var frommonth1 = fromdate1.getMonth();
    if (frommonth == frommonth1) {
        fromdate.setDate(fromdate.getDate() + 1);
    }
    else {
        fromdate.setDate(fromdate.getDate() + 0);
    }
    var toDate = new Date(fromdate);

    $("#Nsa_endDate").datepicker("option", "minDate", minimumdate);
    $("#Nsa_endDate").datepicker("option", "maxDate", toDate);

});

//6THDAY
$(document).on('click', '#6thEndate', function () {
    $("#6thEndate").datepicker("destroy");
    $("#6thEndate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#6thStartDate').val() == '') {
        $('.popdivcontedit').css('color', 'red').text('Please select Start Date');
    }
    else if ($('#6thStartDate').val() != '') {
        $("#6thEndate").datepicker("destroy");
        $("#6thEndate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var fromdate = new Date($("#6thStartDate").val());
        var minimumdate = new Date(fromdate);
        var fromdate1 = new Date($("#6thStartDate").val());
        fromdate1.setDate(fromdate.getDate() + 1);
        var frommonth = fromdate.getMonth();
        var frommonth1 = fromdate1.getMonth();

        fromdate.setDate(fromdate.getDate() + 1);

        var toDate = new Date(fromdate);

        $("#6thEndate").datepicker("option", "minDate", minimumdate);
        $("#6thEndate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#6thStartDate', function () {
    $('.popdivcontedit').text('');
    $("#6thStartDate").datepicker("destroy");
    $("#6thStartDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var currentdate = new Date();
    currentdate.setMonth(currentdate.getMonth(), 18);
    var prevmonthdate = new Date(currentdate);
    var maximumdate = new Date(prevmonthdate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 19);
    var minimumdate = new Date(maximumdate);

    $("#6thStartDate").datepicker("option", "minDate", minimumdate);
    $("#6thStartDate").datepicker("option", "maxDate", prevmonthdate);


});

$(document).on('change', '#6thStartDate', function () {
    $("#6thStartDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var fromdate = new Date($("#6thStartDate").val());
    var minimumdate = new Date(fromdate);
    var fromdate1 = new Date($("#6thStartDate").val());
    fromdate1.setDate(fromdate.getDate() + 1);
    var frommonth = fromdate.getMonth();
    var frommonth1 = fromdate1.getMonth();
    if (frommonth == frommonth1) {
        fromdate.setDate(fromdate.getDate() + 1);
    }
    else {
        fromdate.setDate(fromdate.getDate() + 0);
    }
    var toDate = new Date(fromdate);

    $("#6thEndate").datepicker("option", "minDate", minimumdate);
    $("#6thEndate").datepicker("option", "maxDate", toDate);

});
// Incity datepicker

$(document).on('click', '#IC_enddate', function () {
    $("#IC_enddate").datepicker("destroy");
    $("#IC_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#IC_startdate').val() == '') {
        $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
        $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
    }
    else if ($('#IC_startdate').val() != '') {
        $("#IC_enddate").datepicker("destroy");
        $("#IC_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var today = new Date();
        var fromdate = new Date($("#IC_startdate").val());
        fromdate = new Date(fromdate.getTime() + 24 * 60 * 60 * 1000);
        var toDate = new Date(fromdate);
        toDate.setFullYear(fromdate.getFullYear() + 1);
        toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
        $("#IC_enddate").datepicker("option", "minDate", fromdate);
        $("#IC_enddate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#IC_startdate', function () {
    $('.popdivcontedit').text('');
    $("#IC_startdate").datepicker("destroy");
    $("#IC_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    ///var currentdate = new Date();
    var BPSminDate = new Date();
    BPSminDate.setMonth(BPSminDate.getMonth() - 5, 1);
    var minimumdate = new Date(BPSminDate);
    var BPSmaxDate = new Date();
    var year = BPSmaxDate.getFullYear();
    var leapyear = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
    var prevmonth = (BPSmaxDate.getMonth());
    if (prevmonth == "0" || prevmonth == "2" || prevmonth == "4" || prevmonth == "6" || prevmonth == "7" || prevmonth == "9" || prevmonth == "11") {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 31);
    }

    else if ((prevmonth == "1") && (leapyear == false)) {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 28);
    }
    else if ((prevmonth == "1") && (leapyear == true)) {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 29);
    }
    else {

        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 30);

    }
    var toDate = new Date(BPSmaxDate);
    $("#IC_startdate").datepicker("option", "minDate", minimumdate);
    $("#IC_startdate").datepicker("option", "maxDate", toDate);


});

$(document).on('click', '#DateGranted', function () {
    $('.popdivcontedit').text('');

    $(".popup_date ").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $("#DateGranted").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $('#popup_date').datepicker('show');
    $('#DateGranted').datepicker('show');

});

$(document).on('click', '#Incityeditenddate', function () {
    $("#Incityeditenddate").datepicker("destroy");
    $("#Incityeditenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#Incityeditstartdate').val() == '') {
        $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
        $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
    }
    else if ($('#Incityeditstartdate').val() != '') {
        $("#Incityeditenddate").datepicker("destroy");
        $("#Incityeditenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var today = new Date();
        var fromdate = new Date($("#Incityeditstartdate").val());
        fromdate = new Date(fromdate.getTime() + 24 * 60 * 60 * 1000);
        var toDate = new Date(fromdate);
        toDate.setFullYear(fromdate.getFullYear() + 1);
        toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
        $("#Incityeditenddate").datepicker("option", "minDate", fromdate);
        $("#Incityeditenddate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#Incityeditstartdate', function () {
    $('.popdivcontedit').text('');
    $("#Incityeditstartdate").datepicker("destroy");
    $("#Incityeditstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    ///var currentdate = new Date();
    var BPSminDate = new Date();
    BPSminDate.setMonth(BPSminDate.getMonth() - 5, 1);
    var minimumdate = new Date(BPSminDate);
    var BPSmaxDate = new Date();
    var year = BPSmaxDate.getFullYear();
    var leapyear = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
    var prevmonth = (BPSmaxDate.getMonth());
    if (prevmonth == "0" || prevmonth == "2" || prevmonth == "4" || prevmonth == "6" || prevmonth == "7" || prevmonth == "9" || prevmonth == "11") {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 31);
    }

    else if ((prevmonth == "1") && (leapyear == false)) {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 28);
    }
    else if ((prevmonth == "1") && (leapyear == true)) {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 29);
    }
    else {

        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 30);

    }
    var toDate = new Date(BPSmaxDate);
    $("#Incityeditstartdate").datepicker("option", "minDate", minimumdate);
    $("#Incityeditstartdate").datepicker("option", "maxDate", toDate);

});

// CE SF datepicker

$(document).on('click', '#CE_enddate', function () {
    $("#CE_enddate").datepicker("destroy");
    $("#CE_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#CE_startdate').val() == '') {
        $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
        $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
    }
    else if ($('#CE_startdate').val() != '') {
        $("#CE_enddate").datepicker("destroy");
        $("#CE_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var today = new Date();
        var fromdate = new Date($("#CE_startdate").val());
        fromdate = new Date(fromdate.getTime() + 24 * 60 * 60 * 1000);
        var toDate = new Date(fromdate);
        toDate.setFullYear(fromdate.getFullYear() + 1);
        toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
        $("#CE_enddate").datepicker("option", "minDate", fromdate);
        $("#CE_enddate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#CE_startdate', function () {
    $('.popdivcontedit').text('');
    $("#CE_startdate").datepicker("destroy");
    $("#CE_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    ///var currentdate = new Date();
    var BPSminDate = new Date();
    BPSminDate.setMonth(BPSminDate.getMonth() - 5, 1);
    var minimumdate = new Date(BPSminDate);
    var BPSmaxDate = new Date();
    var year = BPSmaxDate.getFullYear();
    var leapyear = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
    var prevmonth = (BPSmaxDate.getMonth());
    if (prevmonth == "0" || prevmonth == "2" || prevmonth == "4" || prevmonth == "6" || prevmonth == "7" || prevmonth == "9" || prevmonth == "11") {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 31);
    }
    else if ((prevmonth == "1") && (leapyear == false)) {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 28);
    }
    else if ((prevmonth == "1") && (leapyear == true)) {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 29);
    }
    else {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 30);
    }
    var toDate = new Date(BPSmaxDate);
    $("#CE_startdate").datepicker("option", "minDate", minimumdate);
    $("#CE_startdate").datepicker("option", "maxDate", toDate);
});

$(document).on('click', '#CE_editenddate', function () {
    $("#CE_editenddate").datepicker("destroy");
    $("#CE_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#CE_editstartdate').val() == '') {
        $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
        $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
    }
    else if ($('#CE_editstartdate').val() != '') {
        $("#CE_editenddate").datepicker("destroy");
        $("#CE_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var today = new Date();
        var fromdate = new Date($("#CE_editstartdate").val());
        fromdate = new Date(fromdate.getTime() + 24 * 60 * 60 * 1000);
        var toDate = new Date(fromdate);
        toDate.setFullYear(fromdate.getFullYear() + 1);
        toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
        $("#CE_editenddate").datepicker("option", "minDate", fromdate);
        $("#CE_editenddate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#CE_editstartdate', function () {
    $('.popdivcontedit').text('');
    $("#CE_editstartdate").datepicker("destroy");
    $("#CE_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    ///var currentdate = new Date();
    var BPSminDate = new Date();
    BPSminDate.setMonth(BPSminDate.getMonth() - 5, 1);
    var minimumdate = new Date(BPSminDate);
    var BPSmaxDate = new Date();
    var year = BPSmaxDate.getFullYear();
    var leapyear = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
    var prevmonth = (BPSmaxDate.getMonth());
    if (prevmonth == "0" || prevmonth == "2" || prevmonth == "4" || prevmonth == "6" || prevmonth == "7" || prevmonth == "9" || prevmonth == "11") {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 31);
    }
    else if ((prevmonth == "1") && (leapyear == false)) {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 28);
    }
    else if ((prevmonth == "1") && (leapyear == true)) {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 29);
    }
    else {
        BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 30);
    }
    var toDate = new Date(BPSmaxDate);
    $("#CE_editstartdate").datepicker("option", "minDate", minimumdate);
    $("#CE_editstartdate").datepicker("option", "maxDate", toDate);
});

// France Datepicker

$(document).on('click', '#LV_startdate', function () {
    $('.popdivcontedit').text('');
    $("#LV_startdate").datepicker("destroy");
    $("#LV_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });


    var LV_minDate = new Date();
    /// var LV_minDate = "2019/11/27";
    //var LV_minDate = "Tue Nov 27 12:09:22 UTC+0530 2019";
    LV_minDate.setFullYear(LV_minDate.getFullYear() - 1);
    //var lastmonth = 11- LV_minDate.getMonth();
    //LV_minDate.setMonth(LV_minDate.getMonth() + lastmonth, 1);
    LV_minDate.setMonth(11, 1);
    var minimumdate = new Date(LV_minDate);

    var LV_maxDate = new Date();
    LV_maxDate.setFullYear(LV_maxDate.getFullYear() + 1);
    //var firstmonth = LV_maxDate.getMonth() ;
    LV_maxDate.setMonth(0, 31);
    var toDate = new Date(LV_maxDate);

    $("#LV_startdate").datepicker("option", "minDate", minimumdate);
    $("#LV_startdate").datepicker("option", "maxDate", toDate);

});

$(document).on('change', '#LV_startdate', function () {
    var obj = $(this);

    $("#LV_enddate").text('');
    var startdate = $(this).val();
    var today = new Date();
    var LV_maxDate = new Date(startdate);

    var year = LV_maxDate.getFullYear();
    var lastDay = new Date(LV_maxDate.getFullYear(), LV_maxDate.getMonth() + 1, 0);

    $("#LV_enddate").datepicker("option", "minDate", LV_maxDate);
    $("#LV_enddate").datepicker("option", "maxDate", lastDay);

});

$(document).on('click', '#LV_enddate', function () {
    $("#LV_enddate").datepicker("destroy");
    $("#LV_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#LV_startdate').val() == '') {
        $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
        $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
    }
    else {
        var startdate = $('#LV_startdate').val();
        var today = new Date();
        var LV_maxDate = new Date(startdate);

        var year = LV_maxDate.getFullYear();
        var lastDay = new Date(LV_maxDate.getFullYear(), LV_maxDate.getMonth() + 1, 0);

        $("#LV_enddate").datepicker("option", "minDate", LV_maxDate);
        $("#LV_enddate").datepicker("option", "maxDate", lastDay);
    }
    ////else if ($('#LV_startdate').val() != '') {
    ////    $("#LV_enddate").datepicker("destroy");
    ////    $("#LV_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    ////    var today = new Date();
    ////    var fromdate = new Date($("#LV_startdate").val());
    ////    fromdate = new Date(fromdate.getTime() + 24 * 60 * 60 * 1000);
    ////    var toDate = new Date(fromdate);
    ////    toDate.setFullYear(fromdate.getMonth() + 1);
    ////    toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
    ////    $("#LV_enddate").datepicker("option", "minDate", fromdate);
    ////    $("#LV_enddate").datepicker("option", "maxDate", toDate);
    ////}
});


$(document).on('click', '#LV_editstartdate', function () {
    $('.popdivcontedit').text('');
    $("#LV_editstartdate").datepicker("destroy");
    $("#LV_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });


    var LV_minDate = new Date();
    /// var LV_minDate = "2019/11/27";
    //var LV_minDate = "Tue Nov 27 12:09:22 UTC+0530 2019";
    LV_minDate.setFullYear(LV_minDate.getFullYear() - 1);
    //var lastmonth = 11- LV_minDate.getMonth();
    //LV_minDate.setMonth(LV_minDate.getMonth() + lastmonth, 1);
    LV_minDate.setMonth(11, 1);
    var minimumdate = new Date(LV_minDate);

    var LV_maxDate = new Date();
    LV_maxDate.setFullYear(LV_maxDate.getFullYear() + 1);
    //var firstmonth = LV_maxDate.getMonth() ;
    LV_maxDate.setMonth(0, 31);
    var toDate = new Date(LV_maxDate);

    $("#LV_editstartdate").datepicker("option", "minDate", minimumdate);
    $("#LV_editstartdate").datepicker("option", "maxDate", toDate);

});

$(document).on('change', '#LV_editstartdate', function () {
    var obj = $(this);

    $("#LV_editenddate").text('');
    var startdate = $(this).val();
    var today = new Date();
    var LV_maxDate = new Date(startdate);

    var year = LV_maxDate.getFullYear();
    var lastDay = new Date(LV_maxDate.getFullYear(), LV_maxDate.getMonth() + 1, 0);

    $("#LV_editenddate").datepicker("option", "minDate", LV_maxDate);
    $("#LV_editenddate").datepicker("option", "maxDate", lastDay);

});

$(document).on('click', '#LV_editenddate', function () {
    $("#LV_editenddate").datepicker("destroy");
    $("#LV_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#LV_editstartdate').val() == '') {
        $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
        $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
    }
    else {
        var startdate = $('#LV_editstartdate').val();
        var today = new Date();
        var LV_maxDate = new Date(startdate);

        var year = LV_maxDate.getFullYear();
        var lastDay = new Date(LV_maxDate.getFullYear(), LV_maxDate.getMonth() + 1, 0);

        $("#LV_editenddate").datepicker("option", "minDate", LV_maxDate);
        $("#LV_editenddate").datepicker("option", "maxDate", lastDay);
    }
    ////else if ($('#LV_startdate').val() != '') {
    ////    $("#LV_enddate").datepicker("destroy");
    ////    $("#LV_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    ////    var today = new Date();
    ////    var fromdate = new Date($("#LV_startdate").val());
    ////    fromdate = new Date(fromdate.getTime() + 24 * 60 * 60 * 1000);
    ////    var toDate = new Date(fromdate);
    ////    toDate.setFullYear(fromdate.getMonth() + 1);
    ////    toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
    ////    $("#LV_enddate").datepicker("option", "minDate", fromdate);
    ////    $("#LV_enddate").datepicker("option", "maxDate", toDate);
    ////}
});
//edit datepicker
$(document).on('click', '#sp_enddate', function () {
    $("#sp_enddate").datepicker("destroy");
    $("#sp_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#sp_startdate').val() == '') {
        $('.popdivcontedit').css('color', 'red').text('Please select Start Date');
    }
    else if ($('#sp_startdate').val() != '') {
        $("#sp_enddate").datepicker("destroy");
        $("#sp_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var fromdate = new Date($("#sp_startdate").val());
        var minimumdate = new Date(fromdate);
        var fromdate1 = new Date($("#sp_startdate").val());
        fromdate1.setDate(fromdate.getDate() + 1);
        var frommonth = fromdate.getMonth();
        var frommonth1 = fromdate1.getMonth();

        fromdate.setDate(fromdate.getDate() + 1);

        var toDate = new Date(fromdate);

        $("#sp_enddate").datepicker("option", "minDate", minimumdate);
        $("#sp_enddate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#sp_startdate', function () {
    $('.popdivcontedit').text('');
    $("#sp_startdate").datepicker("destroy");
    $("#sp_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var currentdate = new Date();
    currentdate.setMonth(currentdate.getMonth(), 18);
    var prevmonthdate = new Date(currentdate);
    var maximumdate = new Date(prevmonthdate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 19);
    var minimumdate = new Date(maximumdate);

    $("#sp_startdate").datepicker("option", "minDate", minimumdate);
    $("#sp_startdate").datepicker("option", "maxDate", prevmonthdate);


});

$(document).on('change', '#sp_startdate', function () {
    $("#sp_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var fromdate = new Date($("#sp_startdate").val());
    var minimumdate = new Date(fromdate);
    var fromdate1 = new Date($("#sp_startdate").val());
    fromdate1.setDate(fromdate.getDate() + 1);
    var frommonth = fromdate.getMonth();
    var frommonth1 = fromdate1.getMonth();
    if (frommonth == frommonth1) {
        fromdate.setDate(fromdate.getDate() + 1);
    }
    else {
        fromdate.setDate(fromdate.getDate() + 0);
    }
    var toDate = new Date(fromdate);

    $("#sp_enddate").datepicker("option", "minDate", minimumdate);
    $("#sp_enddate").datepicker("option", "maxDate", toDate);

});

//OVERTIME
$(document).on('click', '#OT_editenddate', function () {
    $("#OT_editenddate").datepicker("destroy");
    $("#OT_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#OT_editstartdate').val() == '') {
        $('.popdivcontedit').css('color', 'red').text('Please select Start Date');
    }
    else if ($('#OT_editstartdate').val() != '') {
        $("#OT_editenddate").datepicker("destroy");
        $("#OT_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var fromdate = new Date($("#OT_editstartdate").val());
        var minimumdate = new Date(fromdate);
        var fromdate1 = new Date($("#OT_editstartdate").val());
        fromdate1.setDate(fromdate.getDate() + 1);
        var frommonth = fromdate.getMonth();
        var frommonth1 = fromdate1.getMonth();

        fromdate.setDate(fromdate.getDate() + 1);

        var toDate = new Date(fromdate);

        $("#OT_editenddate").datepicker("option", "minDate", minimumdate);
        $("#OT_editenddate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#OT_editstartdate', function () {
    $('.popdivcontedit').text('');
    $("#OT_editstartdate").datepicker("destroy");
    $("#OT_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var currentdate = new Date();
    currentdate.setMonth(currentdate.getMonth(), 18);
    var prevmonthdate = new Date(currentdate);
    var maximumdate = new Date(prevmonthdate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 19);
    var minimumdate = new Date(maximumdate);

    $("#OT_editstartdate").datepicker("option", "minDate", minimumdate);
    $("#OT_editstartdate").datepicker("option", "maxDate", prevmonthdate);


});

$(document).on('change', '#OT_editstartdate', function () {
    $("#OT_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var fromdate = new Date($("#OT_editstartdate").val());
    var minimumdate = new Date(fromdate);
    var fromdate1 = new Date($("#OT_editstartdate").val());
    fromdate1.setDate(fromdate.getDate() + 1);
    var frommonth = fromdate.getMonth();
    var frommonth1 = fromdate1.getMonth();
    if (frommonth == frommonth1) {
        fromdate.setDate(fromdate.getDate() + 1);
    }
    else {
        fromdate.setDate(fromdate.getDate() + 0);
    }
    var toDate = new Date(fromdate);

    $("#OT_editenddate").datepicker("option", "minDate", minimumdate);
    $("#OT_editenddate").datepicker("option", "maxDate", toDate);

});

// Incity datepicker
$(document).on('click', '#IC_editenddate', function () {
    $("#IC_editenddate").datepicker("destroy");
    $("#IC_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#IC_editstartdate').val() == '') {
        $('.popdivcontedit').css('color', 'red').text('Please select Start Date');
    }
    else if ($('#IC_editstartdate').val() != '') {
        $("#IC_editenddate").datepicker("destroy");
        $("#IC_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var today = new Date();
        var fromdate = new Date($("#IC_editstartdate").val());
        fromdate = new Date(fromdate.getTime() + 24 * 60 * 60 * 1000);
        var toDate = new Date(fromdate);
        toDate.setFullYear(fromdate.getFullYear() + 1);
        toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
        //startDate = (fromdate >= today) ? fromdate : today;
        $("#IC_editenddate").datepicker("option", "minDate", fromdate);
        $("#IC_editenddate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#IC_editstartdate', function () {
    $('.popdivcontedit').text('');
    $("#IC_editstartdate").datepicker("destroy");
    $("#IC_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var currentdate = new Date();
    currentdate.setMonth(currentdate.getMonth(), 18);
    var prevmonthdate = new Date(currentdate);
    var maximumdate = new Date(prevmonthdate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 19);
    var minimumdate = new Date(maximumdate);

    $("#IC_editstartdate").datepicker("option", "minDate", minimumdate);
    $("#IC_editstartdate").datepicker("option", "maxDate", prevmonthdate);


});

$(document).on('change', '#IC_editstartdate', function () {
    $("#IC_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var today = new Date();
    var fromdate = new Date($("#IC_editstartdate").val());
    fromdate = new Date(fromdate.getTime() + 24 * 60 * 60 * 1000);
    var toDate = new Date(fromdate);
    toDate.setFullYear(fromdate.getFullYear() + 1);
    toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
    //startDate = (fromdate >= today) ? fromdate : today;
    $("#IC_editenddate").datepicker("option", "minDate", fromdate);
    $("#IC_editenddate").datepicker("option", "maxDate", toDate);

});

$(document).on('click', '#MB_startdate', function () {
    var componentGroupId = $('#bonus').val();
    $('.popdivcontedit').text('');
    //console.log('1');
    $("#MB_startdate").datepicker("destroy");
    $("#MB_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    //$("#MB_startdate").datepicker("show");

    if (componentGroupId == 48 && CountryId != 17) {
        var BPSminDate = new Date();
        var minimumdate = new Date(BPSminDate);
        var BPSmaxDate = new Date();
        var year = BPSmaxDate.getFullYear();
        var leapyear = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
        var prevmonth = (BPSmaxDate.getMonth());
        if (prevmonth == "0" || prevmonth == "2" || prevmonth == "4" || prevmonth == "6" || prevmonth == "7" || prevmonth == "9" || prevmonth == "11") {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 31);
        }
        else if ((prevmonth == "1") && (leapyear == false)) {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 28);
        }
        else if ((prevmonth == "1") && (leapyear == true)) {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 29);
        }
        else {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 30);
        }
        var toDate = new Date(BPSmaxDate);
    }
    else if (componentGroupId == 47) {
        var BPSminDate = new Date();
        var minimumdate = new Date(BPSminDate);
        var BPSmaxDate = new Date();
        var year = BPSmaxDate.getFullYear();
        var leapyear = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
        var prevmonth = (BPSmaxDate.getMonth());
        if (prevmonth == "0" || prevmonth == "2" || prevmonth == "4" || prevmonth == "6" || prevmonth == "7" || prevmonth == "9" || prevmonth == "11") {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 31);
        }
        else if ((prevmonth == "1") && (leapyear == false)) {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 28);
        }
        else if ((prevmonth == "1") && (leapyear == true)) {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 29);
        }
        else {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 30);
        }
        var toDate = new Date(BPSmaxDate);
    }

    $("#MB_startdate").datepicker("option", "minDate", minimumdate);
    $("#MB_startdate").datepicker("option", "maxDate", toDate);


});

$(document).on('change', '#MB_startdate', function () {
    var obj = $(this);

    $("#MB_enddate").text('');
    var componentGroupId = $('#bonus').val();
    if (componentGroupId == 48 && CountryId != 17) {
        var startdate = $(this).val();

        //$("#MB_enddate").datepicker("destroy");


        //$("#MB_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var today = new Date();
        var BPSmaxDate = new Date(startdate);

        var year = BPSmaxDate.getFullYear();
        var leapyear = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
        var prevmonth = (BPSmaxDate.getMonth()) - 1;
        if (prevmonth == "0" || prevmonth == "2" || prevmonth == "4" || prevmonth == "6" || prevmonth == "7" || prevmonth == "9" || prevmonth == "11") {
            BPSmaxDate.setMonth(prevmonth, 31);
        }
        else if ((prevmonth == "1") && (leapyear == false)) {
            BPSmaxDate.setMonth(prevmonth, 28);
        }
        else if ((prevmonth == "1") && (leapyear == true)) {
            BPSmaxDate.setMonth(prevmonth, 29);
        }
        else {
            BPSmaxDate.setMonth(prevmonth, 30);
        }
        BPSmaxDate = new Date(BPSmaxDate.getTime() + 24 * 60 * 60 * 1000);
        var toDate = new Date(BPSmaxDate);
        toDate.setFullYear(BPSmaxDate.getFullYear() + 1);
        toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
        toDate = toDate.getMonth() + 1 + "/" + toDate.getDate() + "/" + toDate.getFullYear();
        if (toDate == "NaN/NaN/NaN") {
            $("#MB_enddate").text('');
        }
        else {
            $("#MB_enddate").append($.trim(toDate));
        }

    }
});

$(document).on('click', '#MB_enddate', function () {
    var componentGroupId = $('#bonus').val();
    if (componentGroupId == 47) {
        $("#MB_enddate").datepicker("destroy");
        $("#MB_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        //$("#MB_enddate").datepicker("show");
        if ($('#MB_startdate').val() == '') {
            $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
            $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
        }
        else {
            var minimumdate = $("#MB_startdate").val();
            $("#MB_enddate").datepicker("option", "minDate", minimumdate);
        }
    }
});

$(document).on('change', '#MB_enddate', function () {
    var componentGroupId = $('#bonus').val();
    if (componentGroupId == 47) {
        $("#MB_enddate").datepicker("destroy");
        $("#MB_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        $("#MB_enddate").datepicker("show");
        if ($('#MB_startdate').val() == '') {
            $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
            $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
        }
        else {
            var minimumdate = $("#MB_startdate").val();
            $("#MB_enddate").datepicker("option", "minDate", minimumdate);
        }
    }
});

$(document).on('focusout', '#MB_startdate', function () {
    var obj = $(this);

    $("#MB_enddate").text('');
    var componentGroupId = $('#bonus').val();
    if (componentGroupId == 48 && CountryId != 17) {
        var startdate = $(this).val();

        //$("#MB_enddate").datepicker("destroy");
        //$("#MB_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var today = new Date();
        var BPSmaxDate = new Date(startdate);

        var year = BPSmaxDate.getFullYear();
        var leapyear = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
        var prevmonth = (BPSmaxDate.getMonth());
        if (prevmonth == "0" || prevmonth == "2" || prevmonth == "4" || prevmonth == "6" || prevmonth == "7" || prevmonth == "9" || prevmonth == "11") {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 31);
        }
        else if ((prevmonth == "1") && (leapyear == false)) {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 28);
        }
        else if ((prevmonth == "1") && (leapyear == true)) {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 29);
        }
        else {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 30);
        }
        BPSmaxDate = new Date(BPSmaxDate.getTime() + 24 * 60 * 60 * 1000);
        var toDate = new Date(BPSmaxDate);
        toDate.setFullYear(BPSmaxDate.getFullYear() + 1);
        toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
        toDate = toDate.getMonth() + 1 + "/" + toDate.getDate() + "/" + toDate.getFullYear();
        if (toDate == "NaN/NaN/NaN") {
            $("#MB_enddate").text('');
        }
        else {
            $("#MB_enddate").append($.trim(toDate));
        }
    }
});

$(document).on('click', '#MB_editstartdate', function () {
    var componentGroupId = $('#bonus').val();
    $('.popdivcontedit').text('');
    //console.log('1');
    $("#MB_editstartdate").datepicker("destroy");
    $("#MB_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    //$("#MB_startdate").datepicker("show");

    if (componentGroupId == 48 && CountryId != 17) {
        var BPSminDate = new Date();
        var minimumdate = new Date(BPSminDate);
        var BPSmaxDate = new Date();
        var year = BPSmaxDate.getFullYear();
        var leapyear = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
        var prevmonth = (BPSmaxDate.getMonth());
        if (prevmonth == "0" || prevmonth == "2" || prevmonth == "4" || prevmonth == "6" || prevmonth == "7" || prevmonth == "9" || prevmonth == "11") {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 31);
        }
        else if ((prevmonth == "1") && (leapyear == false)) {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 28);
        }
        else if ((prevmonth == "1") && (leapyear == true)) {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 29);
        }
        else {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 30);
        }
        var toDate = new Date(BPSmaxDate);
    }
    else if (componentGroupId == 47) {
        var BPSminDate = new Date();
        var minimumdate = new Date(BPSminDate);
        var BPSmaxDate = new Date();
        var year = BPSmaxDate.getFullYear();
        var leapyear = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
        var prevmonth = (BPSmaxDate.getMonth());
        if (prevmonth == "0" || prevmonth == "2" || prevmonth == "4" || prevmonth == "6" || prevmonth == "7" || prevmonth == "9" || prevmonth == "11") {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 31);
        }
        else if ((prevmonth == "1") && (leapyear == false)) {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 28);
        }
        else if ((prevmonth == "1") && (leapyear == true)) {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 29);
        }
        else {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 30);
        }
        var toDate = new Date(BPSmaxDate);
    }

    $("#MB_editstartdate").datepicker("option", "minDate", minimumdate);
    $("#MB_editstartdate").datepicker("option", "maxDate", toDate);


});

$(document).on('change', '#MB_editstartdate', function () {
    var obj = $(this);

    $("#MB_editenddate").text('');
    var componentGroupId = $('#bonus').val();
    if (componentGroupId == 48 && CountryId != 17) {
        var startdate = $(this).val();

        //$("#MB_enddate").datepicker("destroy");


        //$("#MB_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var today = new Date();
        var BPSmaxDate = new Date(startdate);

        var year = BPSmaxDate.getFullYear();
        var leapyear = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
        var prevmonth = (BPSmaxDate.getMonth()) - 1;
        if (prevmonth == "0" || prevmonth == "2" || prevmonth == "4" || prevmonth == "6" || prevmonth == "7" || prevmonth == "9" || prevmonth == "11") {
            BPSmaxDate.setMonth(prevmonth, 31);
        }
        else if ((prevmonth == "1") && (leapyear == false)) {
            BPSmaxDate.setMonth(prevmonth, 28);
        }
        else if ((prevmonth == "1") && (leapyear == true)) {
            BPSmaxDate.setMonth(prevmonth, 29);
        }
        else {
            BPSmaxDate.setMonth(prevmonth, 30);
        }
        BPSmaxDate = new Date(BPSmaxDate.getTime() + 24 * 60 * 60 * 1000);
        var toDate = new Date(BPSmaxDate);
        toDate.setFullYear(BPSmaxDate.getFullYear() + 1);
        toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
        toDate = toDate.getMonth() + 1 + "/" + toDate.getDate() + "/" + toDate.getFullYear();
        if (toDate == "NaN/NaN/NaN") {
            $("#MB_editenddate").text('');
        }
        else {
            $("#MB_editenddate").append($.trim(toDate));
        }

    }
});

$(document).on('click', '#MB_editenddate', function () {
    var componentGroupId = $('#bonus').val();
    if (componentGroupId == 47) {
        $("#MB_editenddate").datepicker("destroy");
        $("#MB_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        //$("#MB_enddate").datepicker("show");
        if ($('#MB_editstartdate').val() == '') {
            $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
            $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
        }
        else {
            var minimumdate = $("#MB_editstartdate").val();
            $("#MB_editenddate").datepicker("option", "minDate", minimumdate);
        }
    }
});

$(document).on('change', '#MB_editenddate', function () {
    var componentGroupId = $('#bonus').val();
    if (componentGroupId == 47) {
        $("#MB_editenddate").datepicker("destroy");
        $("#MB_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        $("#MB_editenddate").datepicker("show");
        if ($('#MB_editstartdate').val() == '') {
            $('.popup_new .innerErrorHolder').css('color', 'red').text('Please select StartDate');
            $('.popup_edit .innerErrorHolder').css('color', 'red').text('Please select StartDate');
        }
        else {
            var minimumdate = $("#MB_editstartdate").val();
            $("#MB_editenddate").datepicker("option", "minDate", minimumdate);
        }
    }
});

$(document).on('focusout', '#MB_editstartdate', function () {
    var obj = $(this);

    $("#MB_editenddate").text('');
    var componentGroupId = $('#bonus').val();
    if (componentGroupId == 48 && CountryId != 17) {
        var startdate = $(this).val();

        //$("#MB_enddate").datepicker("destroy");
        //$("#MB_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var today = new Date();
        var BPSmaxDate = new Date(startdate);

        var year = BPSmaxDate.getFullYear();
        var leapyear = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
        var prevmonth = (BPSmaxDate.getMonth());
        if (prevmonth == "0" || prevmonth == "2" || prevmonth == "4" || prevmonth == "6" || prevmonth == "7" || prevmonth == "9" || prevmonth == "11") {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 31);
        }
        else if ((prevmonth == "1") && (leapyear == false)) {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 28);
        }
        else if ((prevmonth == "1") && (leapyear == true)) {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 29);
        }
        else {
            BPSmaxDate.setMonth(BPSmaxDate.getMonth(), 30);
        }
        BPSmaxDate = new Date(BPSmaxDate.getTime() + 24 * 60 * 60 * 1000);
        var toDate = new Date(BPSmaxDate);
        toDate.setFullYear(BPSmaxDate.getFullYear() + 1);
        toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
        toDate = toDate.getMonth() + 1 + "/" + toDate.getDate() + "/" + toDate.getFullYear();
        if (toDate == "NaN/NaN/NaN") {
            $("#MB_editenddate").text('');
        }
        else {
            $("#MB_editenddate").append($.trim(toDate));
        }
    }
});

$(document).on('click', '#Retention_enddate', function () {

    $("#Retention_enddate").datepicker("destroy");
    $("#Retention_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $("#Retention_enddate").datepicker("option", "currentText", "Now");
    $("#Retention_enddate").datepicker("show");

    if ($('#Retention_enddate').val() != '') {
        var today = new Date();
        var fromdate = new Date($("#Retention_enddate").val());
        fromdate = new Date(fromdate);
        var toDate = new Date(fromdate);
        toDate.setFullYear(fromdate.getFullYear() + 10);
        toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
        $("#Retention_enddate").datepicker("option", "minDate", fromdate);
        $("#Retention_enddate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#PSUPayout_Date', function () {

    $("#PSUPayout_Date").datepicker("destroy");
    $("#PSUPayout_Date").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $("#PSUPayout_Date").datepicker("show");

});

$(document).on('click', '#PSUSatrtDate', function () {

    $("#PSUSatrtDate").datepicker("destroy");
    $("#PSUSatrtDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    $("#PSUSatrtDate").datepicker("show");

});


$(document).on('change', '#proid', function () {
    if ($('#a_valid').hasClass('selected')) {
        BindValidGridtbl();
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        BindExceptionsGridtbl(); //Shift: CBA chk is not required
    }
});

// MANUAL DATATABLE OPERATIONS END
function BindValidGridtbl() {
    var componentGroupId = $('#bonus').val();
    if ((CountryId == 8 || CountryId == 9) && (componentGroupId == 39 || componentGroupId == 22 || componentGroupId == 101)) {
        $('#ulMonth').css('display', "block");
    } else {
        $('#ulMonth').css('display', "none");
    }
    var datastring = '';
    var url = '';
    //var Months = $('#ddlMonth').val();
    /* AUS NZ OT SD OCA */
    if ((componentGroupId == 22 || componentGroupId == 39 || componentGroupId == 101) && (CountryId == 8 || CountryId == 9)) {
        var Months = $('#ddlMonth').val();
        var iDisplayLength = $("#displayrecords").val();
        datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","months":"' + Months + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"0"}';
        url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftlValidData_OT";
    }
    else if ((componentGroupId == 22 || componentGroupId == 39 || componentGroupId == 101) && (CountryId == 5 || CountryId == 6 || CountryId == 7 ||
        CountryId == 10 || CountryId == 11 || CountryId == 12 || CountryId == 13)) {
        var iDisplayLength = $("#displayrecords").val();
        datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"0"}';
        url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftlValidData";
    }
    /* AUS NZ OT SD OCA */
    if ((componentGroupId == 2 && CountryId != 20) || (componentGroupId == 3 && CountryId != 20) || componentGroupId == 17 || componentGroupId == 18 || componentGroupId == 19
        || componentGroupId == 20 || componentGroupId == 21) {
        var iDisplayLength = $("#displayrecords").val();
        datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"0"}';
        url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftlValidData";
    }
    else if (componentGroupId == 15 || componentGroupId == 16 || componentGroupId == 41) {
        var iDisplayLength = $("#displayrecords").val();
        datastring = '{"componentGroupId":"' + componentGroupId + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"0","projectID":"' + $('#proid').val() + '"}';
        url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftlValidData";
    }
    else if ((componentGroupId == 29 && CountryId != 20) || (componentGroupId == 30 && CountryId != 20) || componentGroupId == 32 || componentGroupId == 33 ||
        componentGroupId == 46 || (componentGroupId == 49 && CountryId != 20) || componentGroupId == 34 || componentGroupId == 35 ||
        componentGroupId == 36 || componentGroupId == 37 || componentGroupId == 38 || (componentGroupId == 39 && CountryId == 3) ||
        (componentGroupId == 22 && CountryId == 3) || componentGroupId == 31 ||
        ((componentGroupId == 51 || componentGroupId == 45) && CountryId == 15) || componentGroupId == 47 || componentGroupId == 48
        || componentGroupId == 50 || componentGroupId == 53 || componentGroupId == 57
        || ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19))
        || componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87 || componentGroupId == 88
        || componentGroupId == 89) {
        var iDisplayLength = $("#displayrecords").val();
        datastring = '{"componentGroupId":"' + componentGroupId + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"0","projectID":"' + $('#proid').val() + '"}';
        url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftlValidData";
    }
    else if (((componentGroupId == 18 || componentGroupId == 23 || componentGroupId == 24) && CountryId != 2) ||
        componentGroupId == 28 || componentGroupId == 25 || ((componentGroupId == 39 || componentGroupId == 101) && (CountryId == 7)) || componentGroupId == 42 || componentGroupId == 26 || componentGroupId == 27 || componentGroupId == 21
        || componentGroupId == 25 || componentGroupId == 52 || componentGroupId == 59 || componentGroupId == 60 || componentGroupId == 62
        || componentGroupId == 64 || componentGroupId == 65 || componentGroupId == 68 || componentGroupId == 69 || componentGroupId == 70
        || componentGroupId == 61 || componentGroupId == 63 || componentGroupId == 54 || componentGroupId == 55 || componentGroupId == 56
        || componentGroupId == 75 || (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71 || componentGroupId == 72
        || componentGroupId == 74 || componentGroupId == 73 || componentGroupId == 82 || componentGroupId == 91 || componentGroupId == 95
        || componentGroupId == 92 || componentGroupId == 93 || componentGroupId == 96 || componentGroupId == 97 || componentGroupId == 76
        || componentGroupId == 77 || componentGroupId == 78
        || componentGroupId == 58 || componentGroupId == 79 || componentGroupId == 80 || componentGroupId == 81 || componentGroupId == 83
        || componentGroupId == 84 || componentGroupId == 94 || ((componentGroupId == 3 || componentGroupId == 29
            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20) || componentGroupId == 90) {
        var iDisplayLength = $("#displayrecords").val();
        datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"0"}';
        url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftlValidData";
    }
    $.ajax({
        type: "POST",
        url: url,
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        async: false,
        cache: false,
        data: datastring,
        success: BindValidResultset,
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function BindValidResultset(msg) {

    //$("#displayrecords").attr("data-prev", 250);
    // var CountryID = $('#countryActive').val();
    var componentGroupId = $('#bonus').val();
    if ((CountryId == 8 || CountryId == 9) && (componentGroupId == 39 || componentGroupId == 22 || componentGroupId == 101)) {
        $('#ulMonth').css('display', "block");
    } else {
        $('#ulMonth').css('display', "none");
    }
    var grid_html = '';
    //var grid_htmlhead = '';
    $('#tblReferral_wrapper').css('display', 'none');
    $('#tblJoining_wrapper').css('display', 'none');
    $('#tblNoticepay_wrapper').css('display', 'none');
    $('#tbl_InCityOnsiteAllowance_wrapper').css('display', 'none');

    $('#RewardsandRegonition').hide();
    $('#Joiningbonus').hide();
    $("#refDetails").hide();
    $("#shiftdetails").hide();
    $('#SARdetails').hide();
    $('#SchoolFee').hide();
    $('#AdditionalPayoutdetails').hide();
    $('#additionaldeductions').hide();
    $('#SignOnBonus').hide();
    $('#InsuranceTaxation').hide();
    $('#Relocation').hide();
    $('#divOnCallAllowance').hide();
    $('#CarDamageTrafficFine').hide();
    $('#divNetTravelAllowance').hide();
    $('#Transition').hide();
    $('#CommutingAllowance').hide();
    $('#divHighTemp').hide();
    $('#divStatutoryPayout').hide();
    $('#divMaternityAllowance').hide();
    $('#InCityOnsiteAllowance').hide();
    $('#Honorarium').hide();
    $('#divBenefits').hide();
    $('#divWellness').hide();
    $('#divMobileTaxation').hide();
    $('#APACSchoolFee').hide();
    $('#divCE_SchoolFee').hide();
    $('#SPDDetails').hide();
    $('#ITADetails').hide();
    $('#INDDetails').hide();
    $('#MDDetails').hide();
    $('#SPDetails').hide();
    $('#SCDetails').hide();
    $('#OOBDetails').hide();
    $('#SDetails').hide();
    $('#PSUDetails').hide();
    $('#divUK_Travel').hide();
    $('#SAODetails').hide();
    $('#LAADetails').hide();
    $('#HDMFDetails').hide();

    $('#RewardsandRegonition .dataTableScroll').css('display', 'none');
    $('#Joiningbonus .dataTableScroll').css('display', 'none');
    $('#refDetails.dataTableScroll').css('display', 'none');
    $('#shiftdetails.dataTableScroll').css('display', 'none');
    $('#SARdetails.dataTableScroll').css('display', 'none');
    $('#SchoolFee.dataTableScroll').css('display', 'none');
    $('#AdditionalPayoutdetails.dataTableScroll').css('display', 'none');
    $('#additionaldeductions .dataTableScroll').css('display', 'none');
    $('#SignOnBonus .dataTableScroll').css('display', 'none');
    $('#InsuranceTaxation .dataTableScroll').css('display', 'none');
    $('#Relocation .dataTableScroll').css('display', 'none');
    $('#divOnCallAllowance .dataTableScroll').css('display', 'none');
    $('#CarDamageTrafficFine .dataTableScroll').css('display', 'none');
    $('#divNetTravelAllowance .dataTableScroll').css('display', 'none');
    $('#InCityOnsiteAllowance .dataTableScroll').css('display', 'none');
    $('#Transition .dataTableScroll').css('display', 'none');
    $('#CommutingAllowance .dataTableScroll').css('display', 'none');
    $('#divHighTemp .dataTableScroll').css('display', 'none');
    $('#divStatutoryPayout .dataTableScroll').css('display', 'none');
    $('#divMaternityAllowance .dataTableScroll').css('display', 'none');
    $('#Honorarium .dataTableScroll').css('display', 'none');
    $('#divBenefits .dataTableScroll').css('display', 'none');
    $('#divWellness .dataTableScroll').css('display', 'none');
    $('#divBenefits .dataTableScroll').css('display', 'none');
    $('#divMobileTaxation .dataTableScroll').css('display', 'none');
    $('#APACSchoolFee .dataTableScroll').css('display', 'none');
    $('#SPDDetails .dataTableScroll').css('display', 'none');
    $('#ITADetails .dataTableScroll').css('display', 'none');
    $('#INDDetails .dataTableScroll').css('display', 'none');
    $('#MDDetails .dataTableScroll').css('display', 'none');
    $('#SPDetails .dataTableScroll').css('display', 'none');
    $('#SCDetails .dataTableScroll').css('display', 'none');
    $('#OOBDetails .dataTableScroll').css('display', 'none');
    $('#SDetails .dataTableScroll').css('display', 'none');
    $('#PSUDetails .dataTableScroll').css('display', 'none');
    $('#divUK_Travel .dataTableScroll').css('display', 'none');
    $('#SAODetails .dataTableScroll').css('display', 'none');
    $('#LAADetails .dataTableScroll').css('display', 'none');
    $('#HDMFDetails .dataTableScroll').css('display', 'none');

    $('#tblJoining').css('display', 'none');
    $('#tblReferral').css('display', 'none');
    $('#tbl_shift').css('display', 'none');
    $('#tbl_sar').css('display', 'none');
    $('#tblSchoolfee').css('display', 'none');
    $('#tblAdditionalPayout').css('display', 'none');
    $('#tbldeduction').css('display', 'none');
    $('#tblSignonBonus').css('display', 'none');
    $('#tblInsurancetax').css('display', 'none');
    $('#tblrewards').css('display', 'none');
    $('#tblRelocation').css('display', 'none');
    $('#tbl_oncall').css('display', 'none');
    $('#tblCarDamageTrafficFine').css('display', 'none');
    $('#tbl_netTravel').css('display', 'none');
    $('#tblTransition').css('display', 'none');
    $('#tbl_Commuting').css('display', 'none');
    $('#tblHonorarium').css('display', 'none');
    $('#tbl_maternity').css('display', 'none');
    $('#tbl_InCityOnsiteAllowance').css('display', 'none');
    $('#tbl_Statutory').css('display', 'none');
    $('#tbl_Hightemp').css('display', 'none');
    $('#tbl_benefits').css('display', 'none');
    $('#tbl_Wellness').css('display', 'none');
    $('#tbl_MobileTaxation').css('display', 'none');
    $('#tblSchoolfeeAPAC').css('display', 'none');
    $('#tblSPD').css('display', 'none');
    $('#tblITA').css('display', 'none');
    $('#tblIND').css('display', 'none');
    $('#tblMD').css('display', 'none');
    $('#tblSP').css('display', 'none');
    $('#tblSC').css('display', 'none');
    $('#tblOOB').css('display', 'none');
    $('#tblSD').css('display', 'none');
    $('#tblPSU').css('display', 'none');
    $('#tblTravelUK').css('display', 'none');
    $('#tbl_SAODetails').css('display', 'none');
    $('#tbl_LAADetails').css('display', 'none');
    $('#tbl_HDMFDetails').css('display', 'none');

    $('#Joiningbonus .viewport').css('display', 'none');
    $('#refDetails .viewport').css('display', 'none');
    $('#shiftdetails.viewport').css('display', 'none');
    $('#SARdetails.viewport').css('display', 'none');
    $('#SchoolFee .viewport').css('display', 'none');
    $('#AdditionalPayoutdetails.viewport').css('display', 'none');
    $('#additionaldeductions .viewport').css('display', 'none');
    $('#SignOnBonus .viewport').css('display', 'none');
    $('#InsuranceTaxation .viewport').css('display', 'none');
    $('#RewardsandRegonition .viewport').css('display', 'none');
    $('#Relocation .viewport').css('display', 'none');
    $('#divOnCallAllowance .viewport').css('display', 'none');
    $('#CarDamageTrafficFine .viewport').css('display', 'none');
    $('#divNetTravelAllowance .viewport').css('display', 'none');
    $('#InCityOnsiteAllowance .viewport').css('display', 'none');
    $('#Transition .viewport').css('display', 'none');
    $('#CommutingAllowance .viewport').css('display', 'none');
    $('#divHighTemp  .viewport').css('display', 'none');
    $('#divStatutoryPayout  .viewport').css('display', 'none');
    $('#divMaternityAllowance  .viewport').css('display', 'none');
    $('#InCityOnsiteAllowance .viewport').css('display', 'none');
    $('#Honorarium .viewport').css('display', 'none');
    $('#divBenefits .viewport').css('display', 'none');
    $('#divWellness .viewport').css('display', 'none');
    $('#divMobileTaxation .viewport').css('display', 'none');
    $('#APACSchoolFee .viewport').css('display', 'none');
    $('#tblSPD .viewport').css('display', 'none');
    $('#tblITA .viewport').css('display', 'none');
    $('#tblIND .viewport').css('display', 'none');
    $('#tblMD .viewport').css('display', 'none');
    $('#tblSP .viewport').css('display', 'none');
    $('#tblSC .viewport').css('display', 'none');
    $('#tblOOB .viewport').css('display', 'none');
    $('#tblSD .viewport').css('display', 'none');
    $('#tblPSU .viewport').css('display', 'none');
    $('#divUK_Travel .viewport').css('display', 'none');
    $('#tbl_SAODetails').css('display', 'none');
    $('#tbl_LAADetails').css('display', 'none');
    $('#tbl_HDMFDetails').css('display', 'none');

    $('#emptyTemplte').css('display', 'block');
    $('.link img').css('display', 'block');
    $('.utext1').css('display', 'block');
    $('#upload').css('display', 'block');
    $('#download').css('display', 'block');
    $('#a_exceptions').css('display', 'block');
    $('.utext1').css('margin-left', '50px');
    $('.utext1').css('margin-top', '-24px');

    if (componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87 || componentGroupId == 88 || componentGroupId == 89) {

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").hide();
        $('#divMaternityAllowance').show();
        $('#divMaternityAllowance .dataTableScroll').css('display', 'block');
        $('#tbl_maternity').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('overflow', 'scroll');
        $("#divMaternityAllowance").css('display', 'block');
        $('#tbl_maternity').find('tbody').html('');
        $('#tbl_maternity_wrapper').css('display', '');

        //$('.dataTableScroll').css('display', 'block');
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $(".inner_cont clearfix flft").css('height', '230px');
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        $("#aid3").attr("maxlength", "11");
        $("#aid3").numeric();
        $('#upload').css('display', 'block');
        $('#download').css('display', 'block');
        $('#a_exceptions').css('display', 'block');
        getTotalPages();

        var htmldata = '';
        htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="apvalid"/>';
        htmldata += '</th><th class="sort rrtbl" column="AssociateID" id="Th1">Associate ID </th>';
        htmldata += ' <th class="rrtbl">AssociateName</th>';
        htmldata += ' <th column="AdvisedMonth" class="rrtbl">AdvisedMonth</th>';
        htmldata += ' <th class="rrtbl">Year</th>';
        htmldata += '<th class="sort rrtbl" column="Amount">Loan Amount </th>';
        htmldata += '<th class="sort rrtbl" column="Amount">Interest Amount </th>';
        htmldata += '<th class="rrtbl">StartDate</th>';
        htmldata += '<th class="rrtbl">EndDate</th>';
        htmldata += '<th class="sort rrtbl" column="Amount">Previous Payment </th>';
        htmldata += '<th class="sort rrtbl" column="Amount">Balance Amount </th>';
        htmldata += ' <th class="rrtbl">Term</th>';
        htmldata += '<th class="sort rrtbl" column="Amount">Monthly Amortization </th>';
        htmldata += '<th class="sort rrtbl" column="Amount">Payment Date </th>';
        htmldata += ' <th class="rrtbl">Rejection Reason</th>';
        htmldata += ' <th class="rrtbl">Remarks</th>';
        htmldata += '<th class="sort rrtbl" column="Status">Status </th>';
        htmldata += '<th class="jbtblEdit">Edit </th></tr>';
        $('#tbl_maternity').find('thead').html('').html(htmldata);

        $("#divMaternityAllowance .refPage").css("display", "block");
        if (msg.d.length > 0) {
            var classname = '';

            $("#divMaternityAllowance .refPage").css("display", "block");

            // var SpecialCaseReason = (data.SpecialCaseReason.length > 20) ? data.SpecialCaseReason.substring(0, 20) + '...' : data.SpecialCaseReason;

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            //cut-off enddate//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            $.each(msg.d, function (i, data) {
                var remarks = '';

                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 15) ? data.Remarks.substring(0, 15) + '...' : data.Remarks;
                }
                else {
                    remarks = '';
                }
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="APvalid" id=' + (i + 1) + ' disabled="true" /></td>';

                } else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="APvalid" id=' + (i + 1) + '/></td>';

                }
                else {
                    if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="APvalid" id=' + (i + 1) + ' /></td>';

                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="APvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                    }
                }
                grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="rrtbl">' + data.AssociateName + '</td>';
                grid_html += '<td class="rrtbl" style="text-align:center;">' + data.PayrollMonth + '</td>';
                grid_html += '<td class="rrtbl" style="text-align:center;">' + data.Year + '</td>';
                grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.LoanAmount + '">' + data.LoanAmount + '</td>';
                grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.InterestAmount + '">' + data.InterestAmount + '</td>';
                grid_html += '<td class="rrtbl">' + data.StartDate + '</td>';
                grid_html += '<td class="rrtbl">' + data.EndDate + '</td>';
                grid_html += '<td class="rrtbl">' + data.PreviousPayment + '</td>';
                grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.BalanceAmount + '">' + data.BalanceAmount + '</td>';
                grid_html += '<td class="rrtbl">' + data.Term + '</td>';
                grid_html += '<td class="rrtbl">' + data.Amount + '</td>';
                grid_html += '<td class="rrtbl">' + data.PaymentDate + '</td>';
                grid_html += '<td class="rrtbl">' + data.RejectionReason + '</td>';
                grid_html += '<td class="rrtbl" title = "' + data.Remarks + '"style="text-align:center;">' + remarks + '</td>';
                grid_html += '<td class="rrtbl" status=' + data.Status + '>' + data.Status + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td class="jbtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                } else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="jbtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (data.Status == "Rejected" || data.Status == "Resubmitted") {

                        grid_html += '<td class="jbtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {

                        grid_html += '<td class="jbtblEdit"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
            });


            $('#tbl_maternity').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_maternity").append("<tr class='even' id='NoData'><td colspan='17' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#apvalid').attr("disabled", "disabled");
        }
    }

    else if (componentGroupId == 69) { //Shadow Payroll Deduction Bind valid grid

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'block');

        $('#SPDDetails').show();
        $('#SPDDetails').css('display', 'block');
        $('#SPDDetails .dataTableScroll').css('display', 'block');
        $('#tblSPD').css('display', 'block');
        $('#SPDDetails .viewport').css('display', 'block');
        $('#SPDDetails .viewport').css('overflow', 'scroll');
        $('#SPDDetails').find('tbody').html('');
        $("#ulRecord").css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd3">Associate Name </th>';
        htmldata += ' <th class="LVtd3" column="AdvisedMonth">Advised Month</th>';
        htmldata += ' <th class="LVtd3" column="Year">Advised Year</th>';
        htmldata += ' <th class="LVtd6">Employee SS(GBP)</th>';
        htmldata += ' <th class="LVtd6">Employer SS(GBP)</th>';
        htmldata += ' <th class="LVtd6">Employee SS(USD)</th>';
        htmldata += ' <th class="LVtd6">Employee SS(USD)</th>';
        htmldata += ' <th class="LVtd6">Rejection Reason</th>';
        htmldata += ' <th class="LVtd4" column="Status">Status</th>';
        htmldata += ' <th class="LVtd1">Edit</th>';
        htmldata += ' </tr>';


        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tblSPD').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {
            $("#SPDDetails .refPage").css("display", "block");

            var classname = '';

            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var gridMailIdval = "";

                //if ((data.SplCaseMail == 0) || (data.SplCaseMail == null)) {
                //    gridMailIdval = "<div></div>";
                //}
                //else {
                //    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMail + ' class="mail_btn" fileuploadid=' + data.SplCaseMail + 

                '/>';
                //}

                grid_html += '<tr  class="' + classname + '" pk_id="' + data.PK_CE_ComponentTableID + '" status=' + data.Status + '><td class="LVtd1"><input type = "checkbox" class="MTvalid" id= ' + (i + 1) + ' /></td > ';
                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.Year + '</td>';
                grid_html += '<td class="LVtd5" >' + data.EmployeeSS_GBP + '</td>';
                grid_html += '<td class="LVtd5" >' + data.EmployerSS_GBP + '</td>';
                grid_html += '<td class="LVtd5" >' + data.EmployeeSS_USD + '</td>';
                grid_html += '<td class="LVtd5" >' + data.EmployerSS_USD + '</td>';
                grid_html += '<td class="LVtd8" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '" style="text-align:center;">' + rejectionRemarks + '</td>';
                grid_html += '<td class="LVtd9" title="' + data.Status + '">' + status + '</td>';

                /// if (cutoff_date == NaN) {
                ////     grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                //// }
                /* else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                     grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
 
                 }
                 else {
                     if (data.Status == "Rejected" || data.Status == "Resubmitted") {*/
                grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                /*  }
                  else {
                      grid_html += '<td style="width:60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                  }
              }*/
                grid_html += '</tr>';

            });
            $('#tblSPD').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSPD").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    if (componentGroupId == 76 || componentGroupId == 77 || componentGroupId == 78) { //Mid year,year End,13th month

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'none');

        $('#SPDDetails').show();
        $('#SPDDetails').css('display', 'block');
        $('#SPDDetails .dataTableScroll').css('display', 'block');
        $('#tblSPD').css('display', 'block');
        $('#SPDDetails .viewport').css('display', 'block');
        $('#SPDDetails .viewport').css('overflow', 'scroll');
        $('#SPDDetails').find('tbody').html('');
        $('#SPDDetails').css('display', 'block');

        $("#SPDDetails .refPage").css("display", "block");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd3">Associate Name </th>';
        htmldata += ' <th class="LVtd3" column="AdvisedMonth">Advised Month</th>';
        htmldata += ' <th class="LVtd3" column="Year">Advised Year</th>';
        htmldata += ' <th class="LVtd3">Amount</th>';
        htmldata += ' <th class="LVtd2">PaymentDate</th>';
        htmldata += ' <th class="LVtd6">Remarks</th>';
        htmldata += ' <th class="LVtd3">Rejection Reason</th>';
        htmldata += ' <th class="Lvtd3" column="Status">Status</th>';
        htmldata += '<th class="Lvtd1" style="width:124px !important">Edit</th></tr>';


        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tblSPD').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {



            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;


                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut-off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                //if ((data.SplCaseMail == 0) || (data.SplCaseMail == null)) {
                //    gridMailIdval = "<div></div>";
                //}
                //else {
                //    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMail + ' class="mail_btn" fileuploadid=' + data.SplCaseMail + 


                //}

                grid_html += '<tr  class="' + classname + '" pk_id="' + data.PK_CE_ComponentTableID + '" status=' + data.Status + '><td class="LVtd1"><input type = "checkbox" class="MTvalid" id= ' + (i + 1) + ' /></td > ';
                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.PaymentDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Comments + '</td>';
                grid_html += '<td class="LVtd8" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '" style="text-align:center;">' + rejectionRemarks + '</td>';
                grid_html += '<td class="LVtd9" title="' + data.Status + '">' + status + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                }
                else {
                    if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                        grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        grid_html += '<td style="width:60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
                grid_html += '</tr>';

            });
            $('#tblSPD').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSPD").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 63) { //Singapore Deductions Bind valid grid
        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'none');

        $('#SPDDetails').show();
        $('#SPDDetails').css('display', 'block');
        $('#SPDDetails .dataTableScroll').css('display', 'block');
        $('#tblSPD').css('display', 'block');
        $('#SPDDetails .viewport').css('display', 'block');
        $('#SPDDetails .viewport').css('overflow', 'scroll');
        $('#SPDDetails').find('tbody').html('');
        $('#SPDDetails').css('display', 'block');


        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd5">Associate Name </th>';
        htmldata += ' <th class="LVtd6">Recovery Period</th>';
        htmldata += ' <th class="LVtd5" column="Month">Advised Month</th>';
        htmldata += ' <th class="LVtd5" column="Year">Advised Year</th>';
        htmldata += ' <th class="LVtd6">Business Unit</th>';
        htmldata += ' <th class="LVtd7">Line Description</th>';
        htmldata += ' <th class="LVtd6">Amount(SGD)</th>';
        htmldata += ' <th class="LVtd8">Amount to be Recovered(SGP)</th>';
        htmldata += ' <th class="LVtd6">Exchange Rate</th>';
        htmldata += ' <th class="LVtd8">Amount to be Recovered(GBP)</th>';
        htmldata += ' <th class="LVtd6">Balance</th>';
        htmldata += ' <th class="LVtd6">Rejection Reason</th>';
        htmldata += ' <th class="LVtd5" column="Status">Status</th>';
        htmldata += ' <th class="LVtd1">Edit</th>';

        htmldata += ' </tr>';


        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tblSPD').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {
            $("#SPDDetails .refPage").css("display", "block");

            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var gridMailIdval = "";

                //if ((data.SplCaseMail == 0) || (data.SplCaseMail == null)) {
                //    gridMailIdval = "<div></div>";
                //}
                //else {
                //    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMail + ' class="mail_btn" fileuploadid=' + data.SplCaseMail + 

                '/>';
                //}

                grid_html += '<tr  class="' + classname + '" pk_id="' + data.PK_InCityOnsiteAllowance + '" status=' + data.Status + '><td class="LVtd1"><input type = "checkbox" class="MTvalid" id= ' + (i + 1) + ' /></td > ';
                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd5" >' + data.StartDate + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd5" >' + data.BU + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Comments + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.RecoveryAmount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.ExchangeRate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.RecoveryAmount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Balance + '</td>';
                grid_html += '<td class="LVtd5" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '" style="text-align:center;">' + rejectionRemarks + '</td>';
                grid_html += '<td class="LVtd5" title="' + data.Status + '">' + status + '</td>';
                grid_html += '</tr>';

            });
            $('#tblSPD').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSPD").append("<tr class='even' id='NoData'><td colspan='16' class='text-center' style='width:95%;'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 61) { //PSU Cash Bridge Bind valid grid
        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'none');

        $('#PSUDetails').show();
        $('#PSUDetails').css('display', 'block');
        $('#PSUDetails .dataTableScroll').css('display', 'block');
        $('#tblPSU').css('display', 'block');
        $('#PSUDetails .viewport').css('display', 'block');
        $('#PSUDetails').find('tbody').html('');
        $('#PSUDetails').css('display', 'block');


        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd6" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd4">Associate Name </th>';
        htmldata += ' <th class="LVtd4" >Year of Hire</th>';
        htmldata += ' <th class="LVtd4" >Designation</th>';
        htmldata += ' <th class="LVtd4">Payout Type</th>';
        htmldata += ' <th class="LVtd4">Start Date</th>';
        htmldata += ' <th class="LVtd4">Country</th>';
        htmldata += ' <th class="LVtd6">Amount in Local Currency</th>';
        htmldata += ' <th class="LVtd4">Payout Date</th>';
        htmldata += ' <th class="LVtd6">Remarks</th>';
        htmldata += ' <th class="LVtd6">Rejection Reason</th>';
        htmldata += ' <th class="LVtd6" column="Status">Status</th>';
        htmldata += ' <th class="LVtd6">Edit</th>';

        htmldata += ' </tr>';


        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tblPSU').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {
            $("#PSUDetails .refPage").css("display", "block");

            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var gridMailIdval = "";

                //if ((data.SplCaseMail == 0) || (data.SplCaseMail == null)) {
                //    gridMailIdval = "<div></div>";
                //}
                //else {
                //    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMail + ' class="mail_btn" fileuploadid=' + data.SplCaseMail + 

                '/>';
                //}

                grid_html += '<tr  class="' + classname + '" pk_id="' + data.PK_CE_ComponentTableID + '" status=' + data.Status + '><td class="LVtd1"><input type = "checkbox" class="MTvalid" id= ' + (i + 1) + ' /></td > ';
                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3" >' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" >' + data.Year + '</td>';
                grid_html += '<td class="LVtd4" >' + data.BU + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Payout + '</td>';
                grid_html += '<td class="LVtd5" >' + data.StartDate + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Country + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.PayoutDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Comments + '</td>';
                grid_html += '<td class="LVtd8" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '" style="text-align:center;">' + rejectionRemarks + '</td>';
                grid_html += '<td class="LVtd9" title="' + data.Status + '">' + status + '</td>';
                grid_html += '</tr>';

            });
            $('#tblPSU').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblPSU").append("<tr class='even' id='NoData'><td colspan='14' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    else if (componentGroupId == 82 || componentGroupId == 91) {
        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails,#SDDetails').css('display', 'none');

        $('#PSUDetails').show();
        $('#PSUDetails').css('display', 'block');
        $('#PSUDetails .dataTableScroll').css('display', 'block');
        $('#tblPSU').css('display', 'block');
        $('#PSUDetails .viewport').css('display', 'block');
        $('#PSUDetails').find('tbody').html('');
        $('#PSUDetails').css('display', 'block');

        $('#ulRecord,#ulMonth').css('display', 'none');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd4" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd4">Associate Name </th>';
        htmldata += ' <th class="LVtd4" >Advised Month</th>';
        htmldata += ' <th class="LVtd4" >Advised Year</th>';
        htmldata += ' <th class="LVtd4">Principal Amount</th>';
        htmldata += ' <th class="LVtd6">Semimonthly Amortization amount </th>';
        htmldata += ' <th class="LVtd4">Project ID </th>';
        htmldata += ' <th class="LVtd6">No of Installments</th>';
        htmldata += ' <th class="LVtd6">Payment Date</th>';
        htmldata += ' <th class="LVtd6">Remarks</th>';
        htmldata += ' <th class="LVtd6">Rejection Reason</th>';
        htmldata += ' <th class="LVtd6" column="Status">Status</th>';
        htmldata += ' <th class="LVtd6">Edit</th>';

        htmldata += ' </tr>';

        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tblPSU').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {
            $("#PSUDetails .refPage").css("display", "block");

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var gridMailIdval = "";
                //if ((data.SplCaseMail == 0) || (data.SplCaseMail == null)) {
                //    gridMailIdval = "<div></div>";
                //}
                //else {
                //    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMail + ' class="mail_btn" fileuploadid=' + data.SplCaseMail + 
                '/>';
                //}
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut-off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                grid_html += '<tr  class="' + classname + '" pk_id="' + data.PK_CE_ComponentTableID + '" status=' + data.Status + '><td class="LVtd1"><input type = "checkbox" class="MTvalid" id= ' + (i + 1) + ' /></td > ';
                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3" >' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" >' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Year + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.SemiAmount + '</td>';
                grid_html += '<td class="LVtd2" >' + data.ProjectID + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Installment + '</td>';
                grid_html += '<td class="LVtd5" >' + data.PayoutDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Comments + '</td>';
                grid_html += '<td class="LVtd8" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '" style="text-align:center;">' + rejectionRemarks + '</td>';
                grid_html += '<td class="LVtd9" title="' + data.Status + '">' + status + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"  style="pointer-events:none; cursor:default" disabled="disabled" /></td>';
                        }
                        else {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td>';
                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td>';
                    }
                }
                grid_html += '</tr>';

            });
            $('#tblPSU').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblPSU").append("<tr class='even' id='NoData'><td colspan='14' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    else if (componentGroupId == 95 || componentGroupId == 92 || componentGroupId == 93 || componentGroupId == 96 || componentGroupId == 97
        || componentGroupId == 90) {
        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails,#SDDetails').css('display', 'none');

        $('#PSUDetails').show();
        $('#PSUDetails').css('display', 'block');
        $('#PSUDetails .dataTableScroll').css('display', 'block');
        $('#tblPSU').css('display', 'block');
        $('#PSUDetails .viewport').css('display', 'block');
        $('#PSUDetails').find('tbody').html('');
        $('#PSUDetails').css('display', 'block');

        $('#ulRecord,#ulMonth').css('display', 'none');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd4" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd4">Associate Name </th>';
        htmldata += ' <th class="LVtd4" >Advised Month</th>';
        htmldata += ' <th class="LVtd4" >Advised Year</th>';
        htmldata += ' <th class="LVtd4">Principal Amount</th>';
        htmldata += ' <th class="LVtd6">Semimonthly Amortization amount </th>';
        htmldata += ' <th class="LVtd6">No of Installments</th>';
        htmldata += ' <th class="LVtd6">Payment Date</th>';
        htmldata += ' <th class="LVtd6">Remarks</th>';
        htmldata += ' <th class="LVtd6">Rejection Reason</th>';
        htmldata += ' <th class="LVtd6" column="Status">Status</th>';
        htmldata += ' <th class="LVtd6">Edit</th>';

        htmldata += ' </tr>';


        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tblPSU').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {
            $("#PSUDetails .refPage").css("display", "block");

            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var gridMailIdval = "";

                //if ((data.SplCaseMail == 0) || (data.SplCaseMail == null)) {
                //    gridMailIdval = "<div></div>";
                //}
                //else {
                //    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMail + ' class="mail_btn" fileuploadid=' + data.SplCaseMail + 

                '/>';
                //}
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut-off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                grid_html += '<tr  class="' + classname + '" pk_id="' + data.PK_CE_ComponentTableID + '" status=' + data.Status + '><td class="LVtd1"><input type = "checkbox" class="MTvalid" id= ' + (i + 1) + ' /></td > ';
                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3" >' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" >' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Year + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.SemiAmount + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Installment + '</td>';
                grid_html += '<td class="LVtd5" >' + data.PayoutDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Comments + '</td>';
                grid_html += '<td class="LVtd8" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '" style="text-align:center;">' + rejectionRemarks + '</td>';
                grid_html += '<td class="LVtd9" title="' + data.Status + '">' + status + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"  style="pointer-events:none; cursor:default" disabled="disabled" /></td>';

                        }
                        else {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td>';

                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td>';
                    }
                }
                grid_html += '</tr>';

            });
            $('#tblPSU').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblPSU").append("<tr class='even' id='NoData'><td colspan='14' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 70) { //India Net Deduction Bind valid grid


        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'none');

        $('#INDDetails').show();
        $('#INDDetails').css('display', 'block');
        $('#INDDetails .dataTableScroll').css('display', 'block');
        $('#tblIND').css('display', 'block');
        $('#INDDetails .viewport').css('display', 'block');
        $('#INDDetails .viewport').css('overflow', 'scroll');
        $('#INDDetails').find('tbody').html('');
        $('#INDDetails').css('display', 'block');


        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd4" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd5">Associate Name </th>';
        htmldata += ' <th class="LVtd6" column="AdvisedMonth">Advised Month</th>';
        htmldata += ' <th class="LVtd6" column="Year">Advised Year</th>';
        htmldata += ' <th class="LVtd7">Recovery Amount</th>';
        htmldata += ' <th class="LVtd6">Currency</th>';
        htmldata += ' <th class="LVtd7">Exchange Rate</th>';
        htmldata += ' <th class="LVtd8">Recovey Amount (INR)</th>';
        htmldata += ' <th class="LVtd6">Balance (INR)</th>';
        htmldata += ' <th class="LVtd7">Rejection Reason</th>';
        htmldata += ' <th class="LVtd5" column="Status">Status</th>';
        // htmldata += ' <th class="LVtd1">Edit</th>';

        htmldata += ' </tr>';


        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tblIND').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {
            $("#INDDetails .refPage").css("display", "block");

            var classname = '';

            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var gridMailIdval = "";

                //if ((data.SplCaseMail == 0) || (data.SplCaseMail == null)) {
                //    gridMailIdval = "<div></div>";
                //}
                //else {
                //    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMail + ' class="mail_btn" fileuploadid=' + data.SplCaseMail + 

                '/>';
                //}

                grid_html += '<tr  class="' + classname + '" pk_id="' + data.PK_CE_ComponentTableID + '" status=' + data.Status + '><td class="LVtd1"><input type = "checkbox" class="MTvalid" id= ' + (i + 1) + ' /></td > ';
                grid_html += '<td class=" LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.Year + '</td>';
                grid_html += '<td class="LVtd5" >' + data.RecoveryAmount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Currency + '</td>';
                grid_html += '<td class="LVtd5" >' + data.ExchangeRate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.RecoveryAmount_1 + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Balance + '</td>';
                grid_html += '<td class="LVtd8" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '" style="text-align:center;">' + rejectionRemarks + '</td>';
                grid_html += '<td class="LVtd9" title="' + data.Status + '">' + status + '</td>';
                grid_html += '</tr>';

            });
            $('#tblIND').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblIND").append("<tr class='even' id='NoData'><td colspan='13' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 68) { //Miscellaneous Deduction Bind valid grid

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'none');

        $('#MDDetails').show();
        $('#MDDetails').css('display', 'block');
        $('#MDDetails .dataTableScroll').css('display', 'block');
        $('#tblMD').css('display', 'block');
        $('#MDDetails .viewport').css('display', 'block');
        $('#MDDetails .viewport').css('overflow', 'scroll');
        $('#MDDetails').find('tbody').html('');
        $('#MDDetails').css('display', 'block');


        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd8" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd8">Associate Name </th>';
        htmldata += ' <th class="LVtd8" column="DeductionType">DeductionType</th>';
        htmldata += ' <th class="LVtd8" >Amount</th>';
        htmldata += ' <th class="LVtd8">Currency</th>';
        htmldata += ' <th class="LVtd11">Rejection Reason</th>';
        htmldata += ' <th class="LVtd8" column="Status">Status</th>';
        ////htmldata += ' <th class="LVtd1">Edit</th>';
        htmldata += ' </tr>';



        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tblMD').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {
            $("#MDDetails .refPage").css("display", "block");

            var classname = '';

            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var gridMailIdval = "";


                grid_html += '<tr  class="' + classname + '" pk_id="' + data.PK_CE_ComponentTableID + '" status=' + data.Status + '><td class="LVtd1"><input type = "checkbox" class="MTvalid" id= ' + (i + 1) + ' /></td > ';
                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3" >' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" >' + data.DeductionType + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Currency + '</td>';
                grid_html += '<td class="LVtd8" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '" style="text-align:center;">' + rejectionRemarks + '</td>';
                grid_html += '<td class="LVtd9" title="' + data.Status + '">' + status + '</td>';
                grid_html += '</tr>';

            });
            $('#tblMD').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblMD").append("<tr class='even' id='NoData'><td colspan='8' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 64) { //Special Pay Bind valid grid

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();

        $('#SPDetails').show();
        $('#SPDetails').css('display', 'block');
        $('#SPDetails .dataTableScroll').css('display', 'block');
        $('#tblSP').css('display', 'block');
        $('#SPDetails .viewport').css('display', 'block');
        $('#SPDetails .viewport').css('overflow', 'scroll');
        $('#SPDetails').find('tbody').html('');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd3">Associate Name </th>';
        htmldata += ' <th class="LVtd6" column="AdvisedMonth">Advised Month</th>';
        htmldata += ' <th class="LVtd6" column="Year">Advised Year</th>';
        htmldata += ' <th class="LVtd5">Amount</th>';
        htmldata += ' <th class="LVtd5">Currency</th>';
        htmldata += ' <th class="LVtd3">Rejection Reason</th>';
        htmldata += ' <th class="LVtd5" column="Status">Status</th>';
        htmldata += ' <th class="LVtd3">Edit</th>';
        htmldata += ' </tr>';


        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tblSP').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {
            $("#tblSP .refPage").css("display", "block");

            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var gridMailIdval = "";

                //if ((data.SplCaseMail == 0) || (data.SplCaseMail == null)) {
                //    gridMailIdval = "<div></div>";
                //}
                //else {
                //    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMail + ' class="mail_btn" fileuploadid=' + data.SplCaseMail + 

                '/>';
                //}

                grid_html += '<tr  class="' + classname + '" pk_id="' + data.PK_CE_ComponentTableID + '" status=' + data.Status + '><td class="LVtd1"><input type = "checkbox" class="WBvalid" id= ' + (i + 1) + ' /></td > ';
                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.Year + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Currency + '</td>';
                grid_html += '<td class="LVtd8" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '" style="text-align:center;">' + rejectionRemarks + '</td>';
                grid_html += '<td class="LVtd9" title="' + data.Status + '">' + status + '</td>';
                grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                grid_html += '</tr>';

            });
            $('#tblSP').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSP").append("<tr class='even' id='NoData'><td colspan='10' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }

    }

    else if (componentGroupId == 62) { //Sales Commission Bind valid grid

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'block');

        $('#SCDetails').show();
        $('#SCDetails').css('display', 'block');
        $('#SCDetails .dataTableScroll').css('display', 'block');
        $('#tblSC').css('display', 'block');
        $('#SCDetails .viewport').css('display', 'block');
        $('#SCDetails .viewport').css('overflow', 'scroll');
        $('#SCDetails').find('tbody').html('');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd5">Associate Name </th>';
        htmldata += ' <th class="LVtd6">Business Unit</th>';
        htmldata += ' <th class="LVtd8">Annual Bonus as per</br> offer</th>';
        htmldata += ' <th class="LVtd8">Annual Bonus Payout</th>';
        htmldata += ' <th class="LVtd6">H1 Bonus paid</th>';
        htmldata += ' <th class="LVtd6">H2 Bonus paid</th>';
        htmldata += ' <th class="LVtd3">Rejection Reason</th>';
        htmldata += ' <th class="LVtd5" column="Status">Status</th>';
        htmldata += ' <th class="LVtd3">Edit</th>';

        htmldata += ' </tr>';


        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tblSC').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {
            $("#SCDetails .refPage").css("display", "block");

            var classname = '';

            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var gridMailIdval = "";

                //if ((data.SplCaseMail == 0) || (data.SplCaseMail == null)) {
                //    gridMailIdval = "<div></div>";
                //}
                //else {
                //    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMail + ' class="mail_btn" fileuploadid=' + data.SplCaseMail + 

                '/>';
                //}

                grid_html += '<tr  class="' + classname + '" pk_id="' + data.PK_CE_ComponentTableID + '" status=' + data.Status + '><td class="LVtd1"><input type = "checkbox" class="WBvalid" id= ' + (i + 1) + ' /></td > ';
                grid_html += '<td class="LVtd3" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3" >' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" >' + data.BU + '</td>';
                grid_html += '<td class="LVtd4" >' + data.EmployeeSS_GBP + '</td>';
                grid_html += '<td class="LVtd5" >' + data.EmployerSS_GBP + '</td>';
                grid_html += '<td class="LVtd5" >' + data.EmployeeSS_USD + '</td>';
                grid_html += '<td class="LVtd5" >' + data.EmployerSS_USD + '</td>';
                grid_html += '<td class="LVtd3" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '" style="text-align:center;">' + rejectionRemarks + '</td>';
                grid_html += '<td class="LVtd9" title="' + data.Status + '">' + status + '</td>';
                grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                grid_html += '</tr>';

            });
            $('#tblSC').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSC").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 65) { //India Travel Advance Bind valid grid

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'block');

        $('#ITADetails').show();
        $('#ITADetails').css('display', 'block');
        $('#ITADetails .dataTableScroll').css('display', 'block');
        $('#tblITA').css('display', 'block');
        $('#ITADetails .viewport').css('display', 'block');
        $('#ITADetails .viewport').css('overflow', 'scroll');
        $('#ITADetails').find('tbody').html('');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd5">Associate Name </th>';
        htmldata += ' <th class="LVtd6" column="AdvisedMonth">AdvisedMonth</th>';
        htmldata += ' <th class="LVtd6" column="Year">AdvisedYear</th>';
        htmldata += ' <th class="LVtd5">TravelID</th>';
        htmldata += ' <th class="LVtd5">Balance</th>';
        htmldata += ' <th class="LVtd8">Foreign Currency</th>';
        htmldata += ' <th class="LVtd8">Recovery Amount</th>';
        htmldata += ' <th class="LVtd6">Currency</th>';
        htmldata += ' <th class="LVtd7">RejectionReason</th>';
        htmldata += ' <th class="LVtd4" column="Status">Status</th>';
        //// htmldata += ' <th class="LVtd1">Edit</th>';
        htmldata += ' </tr>';


        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tblITA').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {
            $("#ITADetails .refPage").css("display", "block");

            var classname = '';

            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var gridMailIdval = "";

                //if ((data.SplCaseMail == 0) || (data.SplCaseMail == null)) {
                //    gridMailIdval = "<div></div>";
                //}
                //else {
                //    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMail + ' class="mail_btn" fileuploadid=' + data.SplCaseMail + 

                '/>';
                //}

                grid_html += '<tr  class="' + classname + '" pk_id="' + data.PK_CE_ComponentTableID + '" status=' + data.Status + '><td class="LVtd1"><input type = "checkbox" class="MTvalid" id= ' + (i + 1) + ' /></td > ';
                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.Year + '</td>';
                grid_html += '<td class="LVtd5" >' + data.TravelID + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Balance + '</td>';
                grid_html += '<td class="LVtd10" >' + data.ForeignCurrency + '</td>';
                grid_html += '<td class="LVtd10" >' + data.RecoveryAmount + '</td>';
                grid_html += '<td class="LVtd10" >' + data.Currency + '</td>';
                grid_html += '<td class="LVtd8" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '" style="text-align:center;">' + rejectionRemarks + '</td>';
                grid_html += '<td class="LVtd9" title="' + data.Status + '">' + status + '</td>';
                grid_html += '</tr>';

            });
            $('#tblITA').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblITA").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 60) { //One Off Bonus valid grid

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();

        $('#OOBDetails').show();
        $('#OOBDetails').css('display', 'block');
        $('#OOBDetails .dataTableScroll').css('display', 'block');
        $('#tblOOB').css('display', 'block');
        $('#OOBDetails .viewport').css('display', 'block');
        $('#OOBDetails').find('tbody').html('');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd6" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd5">Associate Name </th>';
        htmldata += ' <th class="LVtd6">Current Grade</th>';
        htmldata += ' <th class="LVtd5">Hire Type</th>';
        htmldata += ' <th class="LVtd5">Country</th>';
        htmldata += ' <th class="LVtd5">Currency</th>';
        htmldata += ' <th class="LVtd7">One Off Bonus</th>';
        htmldata += ' <th class="LVtd7">Comments</th>';
        htmldata += ' <th class="LVtd7">Rejection Reason</th>';
        htmldata += ' <th class="LVtd4" column="Status">Status</th>';
        htmldata += ' <th class="LVtd1">Edit</th>';
        htmldata += ' </tr>';

        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tblOOB').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {
            $("#OOBDetails .refPage").css("display", "block");

            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var gridMailIdval = "";

                grid_html += '<tr  class="' + classname + '" pk_id="' + data.PK_CE_ComponentTableID + '" status=' + data.Status + '><td class="LVtd1"><input type = "checkbox" class="MTvalid" id= ' + (i + 1) + ' /></td > ';
                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3">' + data.BU + '</td>';
                grid_html += '<td class="LVtd4">' + data.HireType + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Country + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Currency + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Comments + '</td>';
                grid_html += '<td class="LVtd8" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '" style="text-align:center;">' + rejectionRemarks + '</td>';
                grid_html += '<td class="LVtd9" title="' + data.Status + '">' + status + '</td>';
                grid_html += '</tr>';

            });
            $('#tblOOB').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblOOB").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 3 && CountryId != 20) {

        $('#searchtxt').css('display', 'block');
        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").show();
        $('#a_otherGeo').hide();

        $("#Joiningbonus").show();
        $('#tblJoining').css('display', 'block');
        $('#Joiningbonus .viewport').css('display', 'block');
        $('#Joiningbonus .viewport').css('overflow', 'scroll');
        $('#Joiningbonus .dataTableScroll').css('display', 'block');

        $('#tblJoining').find('tbody').html('');
        $('#tblJoining_wrapper').css('display', 'block');

        //$('.dataTableScroll').css('display', 'block');
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");
        $("#Joiningbonus").css('display', 'block');
        $('#customize').css('left', '370px');
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "10px");

        $(".inner_cont clearfix flft").css('height', '230px');
        $('#Joiningbonus .viewport').css('overflow', 'scroll');
        getTotalPages();
        //$('#tblJoining').css('display', 'none');
        if (CustomizeJB != '~1~2~3~4~5~') {
            var htmldata = '';
            htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="jvalid"/>';
            htmldata += '</th><th class="sort jbtbl" column="AssociateID" id="Th1">Associate ID </th>';
            htmldata += '<th class="sort jbtbl" column="ProjectID" id="Th3">Project ID  </th>';
            htmldata += '<th class="jbtbl" id="Th4">Recruitment Type </th>';
            htmldata += '<th class="jbtbl">BG status  </th>';
            htmldata += '<th class="sort jbtbl" column="Status">Status </th>';
            if (CustomizeJB.indexOf("~6~") > -1) {
                htmldata += ' <th column="RejectionReason" class="jbtbl">RejectionReason</th>';
            }
            if (CustomizeJB.indexOf("~7~") > -1) {
                htmldata += ' <th class="jbtbl">Grade</th>';
            }
            if (CustomizeJB.indexOf("~8~") > -1) {
                htmldata += ' <th class="jbtbl">Amount</th>';
            }
            if (CustomizeJB.indexOf("~9~") > -1) {
                htmldata += ' <th class="jbtbl">Special Case Reason</th>';
            }
            if (CustomizeJB.indexOf("~10~") > -1) {
                htmldata += ' <th class="jbtbl">Special Case Mail</th>';
            }
            if (CustomizeJB.indexOf("~11~") > -1) {
                htmldata += ' <th class="jbtbl">Remarks</th>';
            }
            //htmldata += ' <th width="40px">View  </th>';
            htmldata += '<th class="jbtblEdit">Edit </th></tr>';
            $('#tblJoining').find('thead').html('').html(htmldata);
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th width="35px"><input type="checkbox" id="jvalid" /></th>';
            htmldata += '<th class="sort jbtbl" column="AssociateID"  id="Th1">Associate ID </th>';
            htmldata += '<th class="sort jbtbl" column="ProjectID" id="Th3">Project ID </th>';
            htmldata += '<th class="jbtbl">Recruitment Type </th>';
            htmldata += '<th class="jbtbl">BG status </th>';
            htmldata += '<th class="sort jbtbl" column="Status">Status</th>';
            htmldata += '<th width="60px">Edit</th></tr>';
            $('#tblJoining').find('thead').html('').html(htmldata);
        }

        $("#Joiningbonus .refPage").css("display", "block");
        if (msg.d.length > 0) {
            var classname = '';
            $("#Joiningbonus .refPage").css("display", "block");
            if (CustomizeJB != '~1~2~3~4~5~') {
                $.each(msg.d, function (i, data) {

                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';

                    var SpecialCaseReason = (data.SpecialCaseReason.length > 20) ? data.SpecialCaseReason.substring(0, 20) + '...' : data.SpecialCaseReason;
                    if (data.Remarks != null) {
                        remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                    } else {
                        remarks = '';
                    }
                    var d = new Date();
                    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                    //cut-off enddate//
                    var cutoffdatesplit = cutoffdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                    var cutoff_date = date.getTime();

                    //cut off start  date //
                    var cutoffstartdatesplit = cutoffStartdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                    var cutoffStart_date = date.getTime();

                    var todaysplit = today.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                    var today_date = Date1.getTime();

                    var SplCaseMailUploadId = data.SplCaseMailUploadId;
                    var gridMailIdval = "";
                    if (SplCaseMailUploadId == 0) {
                        gridMailIdval = "<div></div>";
                    }
                    else {
                        gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMailUploadId + ' class="mail_btn" fileuploadid=' + data.SplCaseMailUploadId + '/>';
                    }

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_JoiningBonusID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        grid_html += '<td class="jbtbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="jbtbl">' + data.ProjectId + '</td>';
                        grid_html += '<td class="jbtbl">' + data.RecruitmentType + '</td>';
                        grid_html += '<td class="jbtbl" style="text-align:center;">' + data.BGstatus + '</td>'
                        grid_html += '<td class="jbtbl">' + data.Status + '</td>';
                        if (CustomizeJB.indexOf("~6~") > -1) {
                            grid_html += '<td class="jbtbl" RejectionReason="' + data.RejectionReason + '">' + data.RejectionReason + '</td>';
                        }
                        if (CustomizeJB.indexOf("~7~") > -1) {
                            grid_html += '<td class="jbtbl" style="text-align:center;" Grade="' + data.Grade + '">' + data.Grade + '</td>';
                        }
                        if (CustomizeJB.indexOf("~8~") > -1) {
                            grid_html += '<td class="jbtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                        }
                        if (CustomizeJB.indexOf("~9~") > -1) {
                            grid_html += '<td class="jbtbl" style="text-align:center;" SpecialCaseReason="' + data.SpecialCaseReason + '">' + data.SpecialCaseReason + '</td>';
                        }
                        if (CustomizeJB.indexOf("~10~") > -1) {
                            grid_html += '<td class="jbtbl" style="text-align:center;">' + gridMailIdval + '</td>';
                        }
                        if (CustomizeJB.indexOf("~11~") > -1) {
                            grid_html += '<td class="jbtbl" style="text-align:center;" Remarks="' + data.Remarks + '">' + data.Remarks + '</td>';
                        }
                        grid_html += '<td class="jbtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_JoiningBonusID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + '  /></td>';
                        grid_html += '<td class="jbtbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="jbtbl">' + data.ProjectId + '</td>';
                        grid_html += '<td class="jbtbl">' + data.RecruitmentType + '</td>';
                        grid_html += '<td class="jbtbl" style="text-align:center;">' + data.BGstatus + '</td>'
                        grid_html += '<td class="jbtbl">' + data.Status + '</td>';

                        if (CustomizeJB.indexOf("~6~") > -1) {
                            grid_html += '<td class="jbtbl" RejectionReason="' + data.RejectionReason + '">' + data.RejectionReason + '</td>';
                        }
                        if (CustomizeJB.indexOf("~7~") > -1) {
                            grid_html += '<td class="jbtbl" style="text-align:center;" Grade="' + data.Grade + '">' + data.Grade + '</td>';
                        }
                        if (CustomizeJB.indexOf("~8~") > -1) {
                            grid_html += '<td class="jbtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                        }
                        if (CustomizeJB.indexOf("~9~") > -1) {
                            grid_html += '<td class="jbtbl" style="text-align:center;" SpecialCaseReason="' + data.SpecialCaseReason + '">' + data.SpecialCaseReason + '</td>';
                        }
                        if (CustomizeJB.indexOf("~10~") > -1) {
                            grid_html += '<td class="jbtbl" style="text-align:center;">' + gridMailIdval + '</td>';
                        }
                        if (CustomizeJB.indexOf("~11~") > -1) {
                            grid_html += '<td class="jbtbl" style="text-align:center;" Remarks="' + data.Remarks + '">' + data.Remarks + '</td>';
                        }
                        grid_html += '<td class="jbtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_JoiningBonusID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="jbtbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="jbtbl">' + data.ProjectId + '</td>';
                            grid_html += '<td class="jbtbl">' + data.RecruitmentType + '</td>';
                            grid_html += '<td class="jbtbl" style="text-align:center;">' + data.BGstatus + '</td>';
                            grid_html += '<td class="jbtbl">' + data.Status + '</td>';

                            if (CustomizeJB.indexOf("~6~") > -1) {
                                grid_html += '<td class="jbtbl" RejectionReason="' + data.RejectionReason + '">' + data.RejectionReason + '</td>';
                            }
                            if (CustomizeJB.indexOf("~7~") > -1) {
                                grid_html += '<td class="jbtbl" style="text-align:center;" Grade="' + data.Grade + '">' + data.Grade + '</td>';
                            }
                            if (CustomizeJB.indexOf("~8~") > -1) {
                                grid_html += '<td class="jbtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            }
                            if (CustomizeJB.indexOf("~9~") > -1) {
                                grid_html += '<td class="jbtbl" style="text-align:center;" SpecialCaseReason="' + data.SpecialCaseReason + '">' + data.SpecialCaseReason + '</td>';
                            }
                            if (CustomizeJB.indexOf("~10~") > -1) {
                                grid_html += '<td class="jbtbl" style="text-align:center;">' + gridMailIdval + '</td>';
                            }
                            if (CustomizeJB.indexOf("~11~") > -1) {
                                grid_html += '<td class="jbtbl" style="text-align:center;" Remarks="' + data.Remarks + '">' + data.Remarks + '</td>';
                            }
                            grid_html += '<td class="jbtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_JoiningBonusID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="jbtbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="jbtbl">' + data.ProjectId + '</td>';
                            grid_html += '<td class="jbtbl">' + data.RecruitmentType + '</td>';
                            grid_html += '<td class="jbtbl" style="text-align:center;">' + data.BGstatus + '</td>';
                            grid_html += '<td class="jbtbl">' + data.Status + '</td>';

                            if (CustomizeJB.indexOf("~6~") > -1) {
                                grid_html += '<td class="jbtbl" RejectionReason="' + data.RejectionReason + '">' + data.RejectionReason + '</td>';
                            }
                            if (CustomizeJB.indexOf("~7~") > -1) {
                                grid_html += '<td class="jbtbl" style="text-align:center;" Grade="' + data.Grade + '">' + data.Grade + '</td>';
                            }
                            if (CustomizeJB.indexOf("~8~") > -1) {
                                grid_html += '<td class="jbtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            }
                            if (CustomizeJB.indexOf("~9~") > -1) {
                                grid_html += '<td class="jbtbl" style="text-align:center;" SpecialCaseReason="' + data.SpecialCaseReason + '">' + data.SpecialCaseReason + '</td>';
                            }
                            if (CustomizeJB.indexOf("~10~") > -1) {
                                grid_html += '<td class="jbtbl" style="text-align:center;">' + gridMailIdval + '</td>';
                            }
                            if (CustomizeJB.indexOf("~11~") > -1) {
                                grid_html += '<td class="jbtbl" style="text-align:center;" Remarks="' + data.Remarks + '">' + data.Remarks + '</td>';
                            }
                            grid_html += '<td class="jbtblEdit"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }

                });

            }
            else {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';
                    var SpecialCaseReason = (data.SpecialCaseReason.length > 20) ? data.SpecialCaseReason.substring(0, 20) + '...' : data.SpecialCaseReason;
                    if (data.Remarks != null) {
                        remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                    }
                    else {
                        remarks = '';
                    }
                    var d = new Date();
                    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                    //cut-off enddate//
                    var cutoffdatesplit = cutoffdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                    var cutoff_date = date.getTime();

                    //cut off start  date //
                    var cutoffstartdatesplit = cutoffStartdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                    var cutoffStart_date = date.getTime();

                    var todaysplit = today.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                    var today_date = Date1.getTime();

                    var SplCaseMailUploadId = data.SplCaseMailUploadId;
                    var gridMailIdval = "";
                    if (SplCaseMailUploadId == 0) {
                        gridMailIdval = "<div></div>";
                    }
                    else {
                        gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMailUploadId + ' class="mail_btn" fileuploadid=' + data.SplCaseMailUploadId + '/>';
                    }

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_JoiningBonusID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="jbtbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="jbtbl">' + data.ProjectId + '</td>';
                        grid_html += '<td class="jbtbl">' + data.RecruitmentType + '</td>';
                        grid_html += '<td class="jbtbl">' + data.BGstatus + '</td>';
                        grid_html += '<td class="jbtbl">' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_JoiningBonusID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="jbtbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="jbtbl">' + data.ProjectId + '</td>';
                        grid_html += '<td class="jbtbl">' + data.RecruitmentType + '</td>';
                        grid_html += '<td class="jbtbl">' + data.BGstatus + '</td>';
                        grid_html += '<td class="jbtbl">' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_JoiningBonusID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="jbtbl">' + data.AssociateID + '</td><td class="jbtbl">' + data.ProjectId + '</td>';
                            grid_html += '<td class="jbtbl">' + data.RecruitmentType + '</td><td class="jbtbl">' + data.BGstatus + '</td>';
                            grid_html += '<td class="jbtbl">' + data.Status + '</td><td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_JoiningBonusID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="jbtbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="jbtbl">' + data.ProjectId + '</td>';
                            grid_html += '<td class="jbtbl">' + data.RecruitmentType + '</td>';
                            grid_html += '<td class="jbtbl">' + data.BGstatus + '</td>';
                            grid_html += '<td class="jbtbl">' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }

            $('#tblJoining').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblJoining").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }

    }
    //Referral Bonus
    else if (componentGroupId == 2 && CountryId == 2) {



        $('#searchtxt').css('display', 'block');
        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").show();
        $('#a_otherGeo').show();

        $("#refDetails").show();
        $('#refDetails .dataTableScroll').css('display', 'block');
        $('#tblReferral').css('display', 'block');
        $('#refDetails .viewport').css('display', 'block');
        $('#refDetails .viewport').css('overflow', 'scroll');
        $('#refDetails .dataTableScroll').css('display', 'block');
        $('#tblReferralHead .viewport').css('overflow', 'scroll');
        $('#tblReferral').find('tbody').html('');
        $('#tblReferral_wrapper').css('display', 'block');
        $('#tblReferralHead').css('display', 'block');
        $('#tblReferralHead_wrapper').css('display', 'block');
        //$('.dataTableScroll').css('display', 'block');

        $('#tblReferral').find('thead tr th:nth-child(10)').text('Status');
        $('#tblReferral').find('thead tr th:nth-child(10)').addClass("sort");
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");

        getTotalPages();
        $("#NoData").remove();
        if (CustomizeRB != '~1~2~3~4~5~6~7~8~9~10~') {
            var htmldata = '';
            htmldata += '<tr><th class="td1"><input type="checkbox" id="rvalid" /></th>';
            htmldata += ' <th id="Th5" class="sort td8" column="ReferrorAssociateID">Referrer ID </th>';
            htmldata += ' <th class="sort td8" column="RefereeAssociateID">Referee ID </th>';
            htmldata += ' <th class="sort td8" column="RefereeBGstatus">Referee  <br />BG status</th>';
            htmldata += ' <th class="sort td8" column="SetId">SetId </th>';
            htmldata += ' <th class="sort td8" column="ProjectId">ProjectId </th>';
            htmldata += ' <th class="sort td8" column="Amount">Amount </th>';
            htmldata += ' <th column="SpecialCaseReason" class="td8">Special Case <br />Reason</th>';
            htmldata += ' <th column="SpecialCaseMail" class="td8">Special Case Mail</th>';
            htmldata += ' <th class="sort td8" column="Status">Status</th>';
            htmldata += ' <th column="Remarks" class="td8">Remarks</th>';

            if (CustomizeRB.indexOf("~11~") > -1) {
                htmldata += ' <th class="td8" column="UploaderID">Uploader ID</th>'
            }
            if (CustomizeRB.indexOf("~12~") > -1) {
                htmldata += ' <th class="td8" column="RefereeDOJ">Referee DOJ</th>'
            }
            if (CustomizeRB.indexOf("~13~") > -1) {
                htmldata += ' <th class="td8" column="RejectionReason">Rejection Reason</th>'
            }
            htmldata += ' <th class="td11">Edit</th></tr>';

            $('#tblReferral').find('thead').html('').html(htmldata);
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th class="td1"><input type="checkbox" id="rvalid" /></th>';
            htmldata += ' <th id="Th5" class="sort td8" column="ReferrorAssociateID">Referrer ID </th>';
            htmldata += ' <th class="sort td8" column="RefereeAssociateID">Referee ID </th>';
            htmldata += ' <th class="sort td8" column="RefereeBGstatus">Referee  <br />BG status</th>';
            htmldata += ' <th class="sort td8" column="SetId">SetId </th>';
            htmldata += ' <th class="sort td8" column="ProjectId">ProjectId </th>';
            htmldata += ' <th class="sort td8" column="Amount">Amount </th>';
            htmldata += ' <th column="SpecialCaseReason" class="td8">Special Case <br />Reason</th>';
            htmldata += ' <th column="SpecialCaseMail" class="td8">Special Case Mail</th>';
            htmldata += ' <th class="sort td8" column="Status">Status</th>';
            htmldata += ' <th column="Remarks" class="td8">Remarks</th>';
            htmldata += ' <th class="td8">Edit</th></tr>';

            $('#tblReferral').find('thead').html('').html(htmldata);
        }

        if (msg.d.length > 0) {
            $("#refDetails .refPage").css("display", "block");


            var classname = '';
            if (CustomizeRB != '~1~2~3~4~5~6~7~8~9~10~') {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';
                    if (data.Remarks != null) {
                        remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                    }
                    //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    var d = new Date();
                    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                    // End date//
                    var cutoffdatesplit = cutoffdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                    var cutoff_date = date.getTime();

                    //cut off start  date //
                    var cutoffstartdatesplit = cutoffStartdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                    var cutoffStart_date = date.getTime();

                    var todaysplit = today.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                    var today_date = Date1.getTime();

                    var SplCaseMailUploadId = data.SplCaseMailUploadId;
                    var gridMailIdval = "";
                    if (SplCaseMailUploadId == 0) {
                        gridMailIdval = "<div></div>";
                    }
                    else {
                        gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMailUploadId + ' class="mail_btn" fileuploadid=' + data.SplCaseMailUploadId + '/>';
                    }

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '"pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid td8" id=' + (i + 1) + ' /></td><td class="ref td8">' + data.ReferrorAssociateID + '</td><td class="td8">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td8">' + data.RefereeBGstatus + '</td><td class="td8">' + data.SetId + '</td><td class="td8">' + data.ProjectId + '</td><td style="text-align:center;" class="td8">' + data.Amount + '</td><td style="text-align:center;" class="td8">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td8">' + gridMailIdval + '</td><td class="td8">' + data.Status + '</td><td title="' + data.Remarks + '" style="text-align:center;" class="td8">' + remarks + '</td>';
                        if (CustomizeRB.indexOf("~11~") > -1) {
                            grid_html += '<td class="td8" style="text-align:center;" UploaderID="' + data.UploaderID + '">' + data.UploaderID + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                        }
                        if (CustomizeRB.indexOf("~12~") > -1) {
                            grid_html += '<td class="td8" style="text-align:center;" RefereeDOJ="' + data.RefereeDOJ + '">' + data.RefereeDOJ + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                        }
                        if (CustomizeRB.indexOf("~13~") > -1) {
                            grid_html += '<td class="td8" style="text-align:center;" RejectionReason="' + data.RejectionReason + '">' + data.RejectionReason + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                        }

                        grid_html += '<td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '"pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid td1" id=' + (i + 1) + ' /></td><td class="ref td8">' + data.ReferrorAssociateID + '</td><td class="td8">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td8">' + data.RefereeBGstatus + '</td><td class="td8">' + data.SetId + '</td><td class="td8">' + data.ProjectId + '</td><td style="text-align:center;" class="td8">' + data.Amount + '</td><td style="text-align:center;" class="td8">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td8">' + gridMailIdval + '</td><td class="td8">' + data.Status + '</td><td title="' + data.Remarks + '" style="text-align:center;" class="td8">' + remarks + '</td>';
                        if (CustomizeRB.indexOf("~11~") > -1) {
                            grid_html += '<td class="td8" style="text-align:center;" UploaderID="' + data.UploaderID + '">' + data.UploaderID + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                        }
                        if (CustomizeRB.indexOf("~12~") > -1) {
                            grid_html += '<td class="td8" style="text-align:center;" RefereeDOJ="' + data.RefereeDOJ + '">' + data.RefereeDOJ + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                        }
                        if (CustomizeRB.indexOf("~13~") > -1) {
                            grid_html += '<td class="td8" style="text-align:center;" RejectionReason="' + data.RejectionReason + '">' + data.RejectionReason + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                        }

                        //if (CustomizeRB.indexOf("~24~") > -1) {
                        //    grid_html += '<td class="td9" style="text-align:center;" Currency="' + data.Currency + '">' + data.Currency + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                        //}
                        grid_html += '<td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '"pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid td1" id=' + (i + 1) + ' /></td><td class="ref td8">' + data.ReferrorAssociateID + '</td><td class="td8">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td8">' + data.RefereeBGstatus + '</td><td class="td8">' + data.SetId + '</td><td class="td8">' + data.ProjectId + '</td><td style="text-align:center;" class="td8">' + data.Amount + '</td><td style="text-align:center;" class="td8">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td8">' + gridMailIdval + '</td><td class="td8">' + data.Status + '</td><td title="' + data.Remarks + '" style="text-align:center;" class="td8">' + remarks + '</td>';
                            if (CustomizeRB.indexOf("~11~") > -1) {
                                grid_html += '<td class="td8" style="text-align:center;" UploaderID="' + data.UploaderID + '">' + data.UploaderID + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                            }
                            if (CustomizeRB.indexOf("~12~") > -1) {
                                grid_html += '<td class="td8" style="text-align:center;" RefereeDOJ="' + data.RefereeDOJ + '">' + data.RefereeDOJ + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                            }
                            if (CustomizeRB.indexOf("~13~") > -1) {
                                grid_html += '<td class="td8" style="text-align:center;" RejectionReason="' + data.RejectionReason + '">' + data.RejectionReason + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                            }

                            //if (CustomizeRB.indexOf("~24~") > -1) {
                            //    grid_html += '<td class="td9" style="text-align:center;" Currency="' + data.Currency + '">' + data.Currency + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                            //}
                            grid_html += '<td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                        }
                        else {
                            grid_html += '<tr class="' + classname + '"pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid td1" id=' + (i + 1) + ' disabled="true" /></td><td class="ref td8">' + data.ReferrorAssociateID + '</td><td class="td8">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td8">' + data.RefereeBGstatus + '</td><td class="td8">' + data.SetId + '</td><td class="td8">' + data.ProjectId + '</td><td style="text-align:center;" class="td8">' + data.Amount + '</td><td style="text-align:center;" class="td8">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td8">' + gridMailIdval + '</td><td class="td8">' + data.Status + '</td><td title="' + data.Remarks + '" style="text-align:center;" class="td8">' + remarks + '</td>';
                            if (CustomizeRB.indexOf("~11~") > -1) {
                                grid_html += '<td class="td8" style="text-align:center;" UploaderID="' + data.UploaderID + '">' + data.UploaderID + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                            }
                            if (CustomizeRB.indexOf("~12~") > -1) {
                                grid_html += '<td class="td8" style="text-align:center;" RefereeDOJ="' + data.RefereeDOJ + '">' + data.RefereeDOJ + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                            }
                            if (CustomizeRB.indexOf("~13~") > -1) {
                                grid_html += '<td class="td8" style="text-align:center;" RejectionReason="' + data.RejectionReason + '">' + data.RejectionReason + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                            }

                            grid_html += '<td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }
            else {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';
                    if (data.Remarks != null) {
                        remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                    }
                    //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    var d = new Date();
                    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                    // End date//
                    var cutoffdatesplit = cutoffdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                    var cutoff_date = date.getTime();

                    //cut off start  date //
                    var cutoffstartdatesplit = cutoffStartdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                    var cutoffStart_date = date.getTime();

                    var todaysplit = today.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                    var today_date = Date1.getTime();

                    var SplCaseMailUploadId = data.SplCaseMailUploadId;
                    var gridMailIdval = "";
                    if (SplCaseMailUploadId == 0) {
                        gridMailIdval = "<div></div>";
                    }
                    else {
                        gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMailUploadId + ' class="mail_btn" fileuploadid=' + data.SplCaseMailUploadId + '/>';
                    }

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '"pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid td1" id=' + (i + 1) + ' /></td><td class="ref td8">' + data.ReferrorAssociateID + '</td><td class="td8">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td8">' + data.RefereeBGstatus + '</td><td class="td8">' + data.SetId + '</td><td class="td8">' + data.ProjectId + '</td><td style="text-align:center;" class="td8">' + data.Amount + '</td><td style="text-align:center;" class="td8">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td8">' + gridMailIdval + '</td><td class="td8">' + data.Status + '</td><td title="' + data.Remarks + '" style="text-align:center;" class="td8">' + remarks + '</td><td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '"pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid td1" id=' + (i + 1) + ' /></td><td class="ref td8">' + data.ReferrorAssociateID + '</td><td class="td8">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td8">' + data.RefereeBGstatus + '</td><td class="td8">' + data.SetId + '</td><td class="td8">' + data.ProjectId + '</td><td style="text-align:center;" class="td8">' + data.Amount + '</td><td style="text-align:center;" class="td8">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td8">' + gridMailIdval + '</td><td class="td8">' + data.Status + '</td><td title="' + data.Remarks + '" style="text-align:center;" class="td8">' + remarks + '</td><td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '"pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid td1" id=' + (i + 1) + ' /></td><td class="ref td8">' + data.ReferrorAssociateID + '</td><td class="td8">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td8">' + data.RefereeBGstatus + '</td><td class="td8">' + data.SetId + '</td><td class="td8">' + data.ProjectId + '</td><td style="text-align:center;" class="td8">' + data.Amount + '</td><td style="text-align:center;" class="td8">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td8">' + gridMailIdval + '</td><td class="td8">' + data.Status + '</td><td title="' + data.Remarks + '" style="text-align:center;" class="td8">' + remarks + '</td><td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '"pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid td1" id=' + (i + 1) + ' disabled="true" /></td><td class="ref td8">' + data.ReferrorAssociateID + '</td><td class="td8">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td8">' + data.RefereeBGstatus + '</td><td class="td8">' + data.SetId + '</td><td class="td8">' + data.ProjectId + '</td><td style="text-align:center;" class="td8">' + data.Amount + '</td><td style="text-align:center;" class="td8">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td8">' + gridMailIdval + '</td><td class="td8">' + data.Status + '</td><td title="' + data.Remarks + '" style="text-align:center;" class="td8">' + remarks + '</td><td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }
            $('#tblReferral').find('tbody').html('').html(grid_html);
            if ($(".referralvalid").length == $(".referralvalid:disabled").length) {
                $("#rvalid").attr("disabled", "disabled");
            }
            else {
                $("#rvalid").removeAttr("disabled");
            }
        }
        else {
            $("#tblReferral").append("<tr class='even' id='NoData'><td colspan='15' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    else if (componentGroupId == 2 && (CountryId == 18 || CountryId == 19)) {
        $('#searchtxt').css('display', 'block');
        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").hide();
        $('#a_otherGeo').hide();

        $("#refDetails").show();
        $('#refDetails .dataTableScroll').css('display', 'block');
        $('#tblReferral').css('display', 'block');
        $('#refDetails .viewport').css('display', 'block');
        $('#refDetails .viewport').css('overflow', 'scroll');
        $('#refDetails .dataTableScroll').css('display', 'block');
        $('#tblReferralHead .viewport').css('overflow', 'scroll');
        $('#tblReferral').find('tbody').html('');
        $('#tblReferral_wrapper').css('display', 'block');
        $('#tblReferralHead').css('display', 'block');
        $('#tblReferralHead_wrapper').css('display', 'block');
        //$('.dataTableScroll').css('display', 'block');

        //$('#tblReferral').find('thead tr th:nth-child(10)').text('Status');
        //$('#tblReferral').find('thead tr th:nth-child(10)').addClass("sort");
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        getTotalPages();
        $("#NoData").remove();

        var htmldata = '';
        htmldata += '<tr><th class="td1"><input type="checkbox" id="rvalid" /></th>';
        htmldata += ' <th id="Th5" class="sort td8" column="ReferrorAssociateID">Referrer ID </th>';
        htmldata += ' <th id="Th5" class="sort td8" column="ReferrerName">Referrer Name </th>';
        htmldata += ' <th class="sort td8" column="RefereeAssociateID">Referee ID </th>';
        htmldata += ' <th class="sort td8" column="RefereeName">Referee Name </th>';
        htmldata += ' <th class="sort td8" column="RefereeDOJ">DOJ</th>';
        htmldata += ' <th class="sort td8" column="Amount">Amount </th>';
        htmldata += ' <th class="sort td8" column="Currency">Currency </th>';
        htmldata += ' <th column="SpecialCaseMail" class="td8">Hire Reason</th>';
        htmldata += ' <th column="SpecialCaseMail" class="td8">Job Family</th>';
        htmldata += ' <th column="SpecialCaseMail" class="td8">Department</th>';
        htmldata += ' <th column="SpecialCaseMail" class="td8">Hiring Manager</th>';
        htmldata += ' <th column="SpecialCaseMail" class="td8">Advised Month</th>';
        htmldata += ' <th column="SpecialCaseMail" class="td8">Advised Year</th>';
        htmldata += ' <th column="SpecialCaseMail" class="td8">Comments</th>';
        htmldata += ' <th class="sort td8" column="Status">Status</th>';
        htmldata += ' <th class="td8" column="RejectionReason">Rejection Reason</th>';
        htmldata += ' <th class="td11">Edit</th></tr>';

        $('#tblReferral').find('thead').html('').html(htmldata);



        if (msg.d.length > 0) {
            $("#refDetails .refPage").css("display", "block");

            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var RejectionReason = '';
                if (data.RejectionReason != null) {
                    RejectionReason = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                }
                var Comments = '';
                if (data.Comments != null) {
                    Comments = (data.Comments.length > 30) ? data.Comments.substring(0, 30) + '...' : data.Comments;
                }
                //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var SplCaseMailUploadId = data.SplCaseMailUploadId;
                var gridMailIdval = "";

                grid_html += '<tr class="' + classname + '"pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid td1" id=' + (i + 1) + ' /></td>';
                grid_html += '<td class="ref td8">' + data.ReferrorAssociateID + '</td>';
                grid_html += '<td class="td8">' + data.ReferrerName + '</td>';
                grid_html += '<td class="td8">' + data.RefereeAssociateID + '</td>';
                grid_html += '<td class="td8">' + data.RefereeName + '</td>';
                grid_html += '<td class="td8">' + data.RefereeDOJ + '</td>';
                grid_html += '<td class="td8">' + data.Amount + '</td>';
                grid_html += '<td class="td8">' + data.Currency + '</td>';
                grid_html += '<td class="td8">' + data.HireReason + '</td>';
                grid_html += '<td class="td8">' + data.RefereeGrade + '</td>';
                grid_html += '<td class="td8">' + data.RefereeDepartment + '</td>';
                grid_html += '<td class="td8">' + data.HiringManager + '</td>';
                grid_html += '<td class="td8">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="td8">' + data.Year + '</td>';
                grid_html += '<td title="' + data.Comments + '" style="text-align:center;" class="td8">' + Comments + '</td>';
                grid_html += '<td class="td8">' + data.Status + '</td>';
                grid_html += '<td title="' + data.RejectionReason + '" style="text-align:center;" class="td8">' + RejectionReason + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }

                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += ' <td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr >';

                }
                else {
                    if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                        grid_html += '<td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr >';

                    }
                    else {
                        grid_html += '<td class="td11"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr >';
                    }
                }
            });

            $('#tblReferral').find('tbody').html('').html(grid_html);
            if ($(".referralvalid").length == $(".referralvalid:disabled").length) {
                $("#rvalid").attr("disabled", "disabled");
            }
            else {
                $("#rvalid").removeAttr("disabled");
            }
        }

        else {
            $("#tblReferral").append("<tr class='even' id='NoData'><td colspan='19' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    else if (componentGroupId == 15) {
        $("#divApprovalmsg1").show();
        $("#mailattach").addClass('disabled');
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').show();
        $("#customize").show();
        $('#a_otherGeo').hide();


        $("#shiftdetails").show();
        $('#shiftdetails .dataTableScroll').css('display', 'block');
        $('#tbl_shift').css('display', 'table');
        $('#shiftdetails .viewport').css('overflow', 'scroll');
        $('#shiftdetails .viewport').css('display', 'block');
        $('#tbl_shift').find('tbody').html('');
        $('#tbl_shift_wrapper').css('display', 'block');
        //$('.dataTableScroll').css('display', 'block');
        $('#tbl_shift .dataTableScroll').css('display', 'table');
        $('#shiftdetails .viewport').css('overflow', 'scroll');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "10px");
        $('#aid1').css("margin-left", "5px");
        $('#aid2').css("margin-left", "5px");
        $('.delete_btn').css("margin-left", "0px");

        $("#uploadeditbtn").addClass("disablebutton");
        $('#SAdeletebtn').addClass("disablebutton");

        $("#mailattach").hide();
        getTotalPages();

        $("#NoData").remove();

        $("#aid1").attr("maxlength", "11");
        $("#aid2").attr("maxlength", "10");
        $("#aid1").numeric();
        $("#aid2").numeric();

        if (CountryId == 2) {
            if (CustomizeSDA != '~1~2~3~4~5~6~9~') {
                var htmldata = '';
                htmldata += '<tr><th class="SAtd1"><input type="checkbox" id="shiftvalid" /></th>';
                htmldata += ' <th class="sort SAtd2" column="ShiftType">ShiftType </th>';
                htmldata += ' <th class="sort SAtd3" column="AssociateID">Associate ID </th>';
                htmldata += ' <th class="SAtd4" column="StartDate">StartDate</th>';
                htmldata += ' <th class="SAtd5" column="EndDate">EndDate</th>';
                htmldata += ' <th class="SAtd6" column="StartTime">StartTime </th>';
                htmldata += ' <th class="SAtd7" column="EndTime">EndTime </th>';
                if (CustomizeSDA.indexOf("~7~") > -1) {
                    htmldata += ' <th class="SAtd8" column="ProjectId">ProjectId</th>';
                }
                if (CustomizeSDA.indexOf("~8~") > -1) {
                    htmldata += ' <th class="SAtd7" column="RejectionReason">RejectionReason</th>';
                }
                htmldata += ' <th class="sort SAtd8" column="Status">Status</th>';
                if (CustomizeSDA.indexOf("~10~") > -1) {
                    htmldata += ' <th class="SAtd7" column="UploadedBy">UploadedBy</th>';
                }
                if (CustomizeSDA.indexOf("~11~") > -1) {

                    htmldata += ' <th column="Amount" class="SAtd7">Amount</th>';
                }
                if (CustomizeSDA.indexOf("~12~") > -1) {

                    htmldata += ' <th column="SpecialCaseMail" class="SAtd7">Approval Mail</th>';
                }
                //htmldata += ' <th class="SAtd9">Edit</th></tr>';

                $('#tbl_shift').find('thead').html('').html(htmldata);
            }
            else {
                var htmldata = '';
                htmldata += '<tr><th class="SAtd1"><input type="checkbox" id="shiftvalid" /></th>';
                htmldata += ' <th class="sort SAtd2" column="ShiftType">ShiftType </th>';
                htmldata += ' <th class="sort SAtd3" column="AssociateID">Associate ID </th>';
                htmldata += ' <th class="SAtd4" column="StartDate">StartDate</th>';
                htmldata += ' <th class="SAtd5" column="EndDate">EndDate</th>';
                htmldata += ' <th class="SAtd6" column="StartTime">StartTime </th>';
                htmldata += ' <th class="SAtd7" column="EndTime">EndTime </th>';
                htmldata += ' <th class="sort SAtd8" column="Status">Status</th>';
                //htmldata += ' <th class="SAtd9">Edit</th></tr>';

                $('#tbl_shift').find('thead').html('').html(htmldata);
            }
        }
        else {
            if (CustomizeSDAAPAC != '~1~2~3~4~5~6~8~9~') {
                var htmldata = '';
                htmldata += '<tr><th class="SAtd1"><input type="checkbox" id="shiftvalid" /></th>';
                htmldata += ' <th class="sort SAtd10" column="ShiftType">ShiftType </th>';
                htmldata += ' <th class="sort SAtd10" column="AssociateID">Associate ID </th>';
                htmldata += ' <th class="SAtd10" column="StartDate">StartDate</th>';
                htmldata += ' <th class="SAtd10" column="EndDate">EndDate</th>';
                htmldata += ' <th class="SAtd10" column="StartTime">StartTime </th>';
                htmldata += ' <th class="SAtd10" column="EndTime">EndTime </th>';
                if (CustomizeSDAAPAC.indexOf("~7~") > -1) {
                    htmldata += ' <th class="SAtd10" column="Grade">Grade</th>';
                }
                htmldata += ' <th class="sort SAtd10" column="Amount">Amount</th>';
                htmldata += ' <th class="sort SAtd10" column="Status">Status</th>';

                $('#tbl_shift').find('thead').html('').html(htmldata);
            }
            else {
                var htmldata = '';
                htmldata += '<tr><th class="SAtd1"><input type="checkbox" id="shiftvalid" /></th>';
                htmldata += ' <th class="sort SAtd10" column="ShiftType">ShiftType </th>';
                htmldata += ' <th class="sort SAtd10" column="AssociateID">Associate ID </th>';
                htmldata += ' <th class="SAtd10" column="StartDate">StartDate</th>';
                htmldata += ' <th class="SAtd10" column="EndDate">EndDate</th>';
                htmldata += ' <th class="SAtd10" column="StartTime">StartTime </th>';
                htmldata += ' <th class="SAtd10" column="EndTime">EndTime </th>';
                htmldata += ' <th class="SAtd10" column="Amount">Amount </th>';
                htmldata += ' <th class="sort SAtd10" column="Status">Status</th>';
                //htmldata += ' <th class="SAtd9">Edit</th></tr>';

                $('#tbl_shift').find('thead').html('').html(htmldata);
            }
        }


        var htmldata = '';
        if (msg.d.length > 0) {
            $("#shiftvalid").removeAttr("disabled");
            $("#shiftrefPage").css("display", "block");
            $("#shiftdetails .refPage").css("display", "block");
            $('.btnlist').show();

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';

            if (CountryId == 2) {
                if (CustomizeSDA != '~1~2~3~4~5~6~9~') {
                    $.each(msg.d, function (i, data) {
                        if ((i % 2) == 0) {
                            classname = 'even';
                        }
                        else {
                            classname = 'odd';
                        }
                        var remarks = '';
                        if (data.InputRemarks != null) {
                            remarks = (data.InputRemarks.length > 25) ? data.InputRemarks.substring(0, 25) + '...' : data.InputRemarks;
                        }
                        var status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;

                        var SplCaseMailUploadId = data.SpecialCaseMail;
                        var gridMailIdval = "";
                        if ((SplCaseMailUploadId == 0) || (SplCaseMailUploadId == null)) {
                            gridMailIdval = "<div></div>";
                        }
                        else {
                            gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SpecialCaseMail + ' class="mail_btn" fileuploadid=' + data.SpecialCaseMail + '/>';
                        }

                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPShiftTimePayoutID + '"><td class="SAtd1"><input type="checkbox"  class="shiftvalid" id=' + (i + 1) + '/></td>';
                        // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>'; 
                        htmldata += '<td class="SAtd2">' + data.ShiftType + '</td>';
                        htmldata += '<td class="SAtd3">' + data.AssociateID + '</td>';
                        htmldata += '<td class="SAtd4">' + data.StartDate + '</td>';
                        htmldata += '<td class="SAtd5">' + data.EndDate + '</td>';
                        htmldata += '<td class="SAtd6">' + data.StartTime + '</td>';
                        htmldata += '<td class="SAtd7">' + data.EndTime + '</td>';
                        if (CustomizeSDA.indexOf("~7~") > -1) {
                            htmldata += '<td class="SAtd8">' + data.ProjectID + '</td>';
                        }

                        if (CustomizeSDA.indexOf("~8~") > -1) {
                            htmldata += '<td class="SAtd7">' + data.RejectionReason + '</td>';
                        }
                        htmldata += '<td class="SAtd8">' + data.Status + '</td>';
                        if (CustomizeSDA.indexOf("~10~") > -1) {
                            htmldata += '<td class="SAtd7">' + data.UploadedBy + '</td>';
                        }
                        if (CustomizeSDA.indexOf("~11~") > -1) {
                            htmldata += '<td class="SAtd7">' + data.Amount + '</td>';
                        }
                        if (CustomizeSDA.indexOf("~12~") > -1) {
                            htmldata += '<td class="SAtd7">' + gridMailIdval + '</td>';
                        }

                    });
                }
                else {
                    $.each(msg.d, function (i, data) {
                        if ((i % 2) == 0) {
                            classname = 'even';
                        }
                        else {
                            classname = 'odd';
                        }
                        var remarks = '';
                        if (data.Status != null) {
                            remarks = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                        }
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPShiftTimePayoutID + '"><td class="SAtd1"><input type="checkbox"  class="shiftvalid" id=' + (i + 1) + '/></td>';
                        // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>';
                        htmldata += '<td class="SAtd2">' + data.ShiftType + '</td>';
                        htmldata += '<td class="SAtd3">' + data.AssociateID + '</td>';
                        htmldata += '<td class="SAtd4">' + data.StartDate + '</td>';
                        htmldata += '<td class="SAtd5">' + data.EndDate + '</td>';
                        htmldata += '<td class="SAtd6">' + data.StartTime + '</td>';
                        htmldata += '<td class="SAtd7">' + data.EndTime + '</td>';
                        htmldata += '<td class="SAtd8">' + data.Status + '</td>';
                    });
                }
            }
            else {
                if (CustomizeSDAAPAC != '~1~2~3~4~5~6~8~9~') {
                    $.each(msg.d, function (i, data) {
                        if ((i % 2) == 0) {
                            classname = 'even';
                        }
                        else {
                            classname = 'odd';
                        }
                        var remarks = '';
                        if (data.InputRemarks != null) {
                            remarks = (data.InputRemarks.length > 25) ? data.InputRemarks.substring(0, 25) + '...' : data.InputRemarks;
                        }
                        var status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;

                        var SplCaseMailUploadId = data.SpecialCaseMail;
                        var gridMailIdval = "";
                        if ((SplCaseMailUploadId == 0) || (SplCaseMailUploadId == null)) {
                            gridMailIdval = "<div></div>";
                        }
                        else {
                            gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SpecialCaseMail + ' class="mail_btn" fileuploadid=' + data.SpecialCaseMail + '/>';
                        }

                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPShiftTimePayoutID + '"><td class="SAtd1"><input type="checkbox"  class="shiftvalid" id=' + (i + 1) + '/></td>';
                        // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>';
                        htmldata += '<td class="SAtd10">' + data.ShiftType + '</td>';
                        htmldata += '<td class="SAtd10">' + data.AssociateID + '</td>';
                        htmldata += '<td class="SAtd10">' + data.StartDate + '</td>';
                        htmldata += '<td class="SAtd10">' + data.EndDate + '</td>';
                        htmldata += '<td class="SAtd10">' + data.StartTime + '</td>';
                        htmldata += '<td class="SAtd10">' + data.EndTime + '</td>';
                        if (CustomizeSDAAPAC.indexOf("~7~") > -1) {
                            htmldata += '<td class="SAtd10">' + data.Grade + '</td>';
                        }
                        htmldata += '<td class="SAtd10">' + data.Amount + '</td>';
                        htmldata += '<td class="SAtd10">' + data.Status + '</td>';
                    });
                }
                else {
                    $.each(msg.d, function (i, data) {
                        if ((i % 2) == 0) {
                            classname = 'even';
                        }
                        else {
                            classname = 'odd';
                        }
                        var remarks = '';
                        if (data.Status != null) {
                            remarks = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                        }
                        htmldata += '<tr class="' + classname + '" pk_id="' + data.PK_SGPShiftTimePayoutID + '"><td class="SAtd1"><input type="checkbox" class="shiftvalid" id="' + (1 + 1) + '" ' +
                            ((CountryId == 5 && (data.Status == 'Approved by PFSS Admin' || data.Status == 'Approved by Project Manager')) ? 'disabled="disabled"' : '') +
                            '/></td>';
                        htmldata += '<td class="SAtd10">' + data.ShiftType + '</td>';
                        htmldata += '<td class="SAtd10">' + data.AssociateID + '</td>';
                        htmldata += '<td class="SAtd10">' + data.StartDate + '</td>';
                        htmldata += '<td class="SAtd10">' + data.EndDate + '</td>';
                        htmldata += '<td class="SAtd10">' + data.StartTime + '</td>';
                        htmldata += '<td class="SAtd10">' + data.EndTime + '</td>';
                        htmldata += '<td class="SAtd10">' + data.Amount + '</td>';
                        htmldata += '<td class="SAtd10">' + data.Status + '</td>';
                    });
                }
            }
            $('#tbl_shift').find('tbody').html('').html(htmldata);

        }
        else {
            $("#tbl_shift").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $(".btnlist").hide();
            $("#shiftrefPage").css("display", "none");
            $("#shiftvalid").attr("disabled", true);
            $("#shiftdetails .refPage").css("display", "none");
        }
    }

    else if (componentGroupId == 16) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').show();
        if (CountryId == 2) {
            $("#customize").show();
        }
        else {
            $("#customize").hide();
        }
        $('#a_otherGeo').hide();


        $("#shiftdetails").show();
        $('#shiftdetails .dataTableScroll').css('display', 'block');
        $('#tbl_shift').css('display', 'table');
        $('#shiftdetails .viewport').css('overflow', 'scroll');
        $('#shiftdetails .viewport').css('display', 'block');
        $('#tbl_shift').find('tbody').html('');
        $('#tbl_shift_wrapper').css('display', 'block');
        //$('.dataTableScroll').css('display', 'block');
        $('#tbl_shift .dataTableScroll').css('display', 'table');
        $('#shiftdetails .viewport').css('overflow', 'scroll');
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "20px");
        $('#aid1').css("margin-left", "5px");
        $('#aid2').css("margin-left", "5px");
        $('.delete_btn').css("margin-left", "0px");

        $("#uploadeditbtn").addClass("disablebutton");
        $('#SAdeletebtn').addClass("disablebutton");

        $("#mailattach").hide();
        getTotalPages();

        $("#NoData").remove();
        $("#aid1").attr("maxlength", "11");
        $("#aid2").attr("maxlength", "10");
        $("#aid1").numeric();
        $("#aid2").numeric();

        if (CountryId == 2) {
            if (CustomizeNSA != '~1~2~3~4~5~8~') {
                var htmldata = '';
                htmldata += '<tr><th class="NSAtd1"><input type="checkbox" id="shiftvalid" /></th>';
                htmldata += ' <th class="sort NSAtd3" column="AssociateID">Associate ID </th>';
                htmldata += ' <th class="NSAtd4" column="StartDate">StartDate</th>';
                htmldata += ' <th class="NSAtd5" column="EndDate">EndDate</th>';
                htmldata += ' <th class="NSAtd6" column="StartTime">StartTime </th>';
                htmldata += ' <th class="NSAtd7" column="EndTime">EndTime </th>';

                if (CustomizeNSA.indexOf("~6~") > -1) {
                    htmldata += ' <th class="NSAtd8" column="ProjectId">ProjectId</th>';
                }
                if (CustomizeNSA.indexOf("~7~") > -1) {
                    htmldata += ' <th class="NSAtd8" column="RejectionReason">RejectionReason</th>';
                }
                htmldata += ' <th class="NSAtd8" column="Status">Status</th>';

                if (CustomizeNSA.indexOf("~9~") > -1) {
                    htmldata += ' <th class="NSAtd7" column="UploadedBy">UploadedBy</th>';
                }
                if (CustomizeNSA.indexOf("~10~") > -1) {
                    htmldata += ' <th column="Amount" class="NSAtd7">Amount</th>';
                }
                if (CustomizeNSA.indexOf("~11~") > -1) {
                    htmldata += ' <th column="SpecialCaseMail" class="NSAtd7">ApprovalMail</th>';
                }
                //htmldata += ' <th class="SAtd9">Edit</th></tr>';

                $('#tbl_shift').find('thead').html('').html(htmldata);
            }
            else {
                var htmldata = '';
                htmldata += '<tr><th class="NSAtd1"><input type="checkbox" id="shiftvalid" /></th>';
                htmldata += ' <th class="sort NSAtd3" column="AssociateID">Associate ID </th>';
                htmldata += ' <th class="NSAtd4" column="StartDate">StartDate</th>';
                htmldata += ' <th class="NSAtd5" column="EndDate">EndDate</th>';
                htmldata += ' <th class="NSAtd6" column="StartTime">StartTime </th>';
                htmldata += ' <th class="NSAtd7" column="EndTime">EndTime </th>';
                htmldata += ' <th class="sort NSAtd8" column="Status">Status</th>';
                //htmldata += ' <th class="SAtd9">Edit</th></tr>';

                $('#tbl_shift').find('thead').html('').html(htmldata);
            }
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th class="NSAtd1"><input type="checkbox" id="shiftvalid" /></th>';
            htmldata += ' <th class="sort NSAtd13" column="AssociateID">Associate ID </th>';
            htmldata += ' <th class="NSAtd13" column="StartDate">StartDate</th>';
            htmldata += ' <th class="NSAtd13" column="EndDate">EndDate</th>';
            htmldata += ' <th class="NSAtd13" column="StartTime">StartTime </th>';
            htmldata += ' <th class="NSAtd13" column="EndTime">EndTime </th>';
            htmldata += ' <th class="sort NSAtd13" column="Amount">Amount</th>';
            htmldata += ' <th class="sort NSAtd13" column="Status">Status</th>';
            //htmldata += ' <th class="SAtd9">Edit</th></tr>';

            $('#tbl_shift').find('thead').html('').html(htmldata);
        }


        var htmldata = '';
        if (msg.d.length > 0) {
            $("#shiftvalid").removeAttr("disabled");
            $("#shiftrefPage").css("display", "block");
            //$("#shiftdetails .refPage").css("display", "block");
            $('.btnlist').show();

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';

            if (CountryId == 2) {
                if (CustomizeNSA != '~1~2~3~4~5~8~') {
                    $.each(msg.d, function (i, data) {
                        if ((i % 2) == 0) {
                            classname = 'even';
                        }
                        else {
                            classname = 'odd';
                        }
                        var remarks = '';
                        if (data.InputRemarks != null) {
                            remarks = (data.InputRemarks.length > 25) ? data.InputRemarks.substring(0, 25) + '...' : data.InputRemarks;
                        }
                        var status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;

                        var SplCaseMailUploadId = data.SpecialCaseMail;
                        var gridMailIdval = "";
                        if ((SplCaseMailUploadId == 0) || (SplCaseMailUploadId == null)) {
                            gridMailIdval = "<div></div>";
                        }
                        else {
                            gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SpecialCaseMail + ' class="mail_btn" fileuploadid=' + data.SpecialCaseMail + '/>';
                        }

                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPShiftTimePayoutID + '"><td class="NSAtd1"><input type="checkbox"  class="shiftvalid" id=' + (i + 1) + '/></td>';
                        // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>';             
                        htmldata += '<td class="NSAtd3">' + data.AssociateID + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.StartDate + '</td>';
                        htmldata += '<td class="NSAtd5">' + data.EndDate + '</td>';
                        htmldata += '<td class="NSAtd6">' + data.StartTime + '</td>';
                        htmldata += '<td class="NSAtd7">' + data.EndTime + '</td>';
                        if (CustomizeNSA.indexOf("~6~") > -1) {
                            htmldata += '<td class="NSAtd8">' + data.ProjectID + '</td>';
                        }
                        if (CustomizeNSA.indexOf("~7~") > -1) {
                            htmldata += '<td class="NSAtd8">' + data.RejectionReason + '</td>';
                        }
                        htmldata += '<td class="NSAtd7">' + data.Status + '</td>';
                        if (CustomizeNSA.indexOf("~9~") > -1) {
                            htmldata += '<td class="NSAtd7">' + data.UploadedBy + '</td>';
                        }
                        if (CustomizeNSA.indexOf("~10~") > -1) {
                            htmldata += '<td class="NSAtd7">' + data.Amount + '</td>';
                        }
                        if (CustomizeNSA.indexOf("~11~") > -1) {
                            htmldata += '<td class="NSAtd7">' + gridMailIdval + '</td>';
                        }

                    });
                }
                else {
                    $.each(msg.d, function (i, data) {
                        if ((i % 2) == 0) {
                            classname = 'even';
                        }
                        else {
                            classname = 'odd';
                        }
                        var remarks = '';
                        if (data.Status != null) {
                            remarks = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                        }
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPShiftTimePayoutID + '"><td class="NSAtd1"><input type="checkbox"  class="shiftvalid" id=' + (i + 1) + '/></td>';
                        // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>';

                        htmldata += '<td class="NSAtd3">' + data.AssociateID + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.StartDate + '</td>';
                        htmldata += '<td class="NSAtd5">' + data.EndDate + '</td>';
                        htmldata += '<td class="NSAtd6">' + data.StartTime + '</td>';
                        htmldata += '<td class="NSAtd7">' + data.EndTime + '</td>';
                        htmldata += '<td class="NSAtd8">' + data.Status + '</td>';
                    });
                }
            }
            else {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';
                    if (data.InputRemarks != null) {
                        remarks = (data.InputRemarks.length > 25) ? data.InputRemarks.substring(0, 25) + '...' : data.InputRemarks;
                    }
                    var status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;

                    var SplCaseMailUploadId = data.SpecialCaseMail;
                    var gridMailIdval = "";
                    if ((SplCaseMailUploadId == 0) || (SplCaseMailUploadId == null)) {
                        gridMailIdval = "<div></div>";
                    }
                    else {
                        gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SpecialCaseMail + ' class="mail_btn" fileuploadid=' + data.SpecialCaseMail + '/>';
                    }
                    htmldata += '<tr class="' + classname + '" pk_id="' + data.PK_SGPShiftTimePayoutID + '"><td class="NSAtd1"><input type="checkbox" class="shiftvalid" id="' + (1 + 1) + '" ' +
                        ((CountryId == 5 && (data.Status == 'Approved by PFSS Admin' || data.Status == 'Approved by Project Manager')) ? 'disabled="disabled"' : '') +
                        '/></td>';
                    htmldata += '<td class="NSAtd13">' + data.AssociateID + '</td>';
                    htmldata += '<td class="NSAtd13">' + data.StartDate + '</td>';
                    htmldata += '<td class="NSAtd13">' + data.EndDate + '</td>';
                    htmldata += '<td class="NSAtd13">' + data.StartTime + '</td>';
                    htmldata += '<td class="NSAtd13">' + data.EndTime + '</td>';
                    htmldata += '<td class="NSAtd13">' + data.Amount + '</td>';
                    htmldata += '<td class="NSAtd13">' + data.Status + '</td>';
                });
            }
            $('#tbl_shift').find('tbody').html('').html(htmldata);
        }
        else {
            $("#tbl_shift").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('.btnlist').hide();
            $("#shiftrefPage").css("display", "none");
            $("#shiftvalid").attr("disabled", true);
        }

        if (CountryId == 5 || CountryId == 6) {
            $("#mailattach").hide();
        }
    }

    else if (componentGroupId == 17 && CountryId == 2) {//SAR
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').show();
        $("#customize").show();
        $('#a_otherGeo').hide();
        $('#divprojfilter').hide();
        $('#mailattach').css("left", "265px");

        $("#SARdetails").show();
        $('#SARdetails .dataTableScroll').css('display', 'block');
        $('#tbl_sar').css('display', 'block');
        $('#SARdetails .viewport').css('display', 'block');
        $('#SARdetails .viewport').css('overflow', 'scroll');
        $('#tbl_sar .dataTableScroll').css('display', 'block');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "20px");
        $('#aid1').css("margin-left", "17px");
        ////$('.error_msg_reject').css('margin-left', '-235px');
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        $("#aid2").attr("maxlength", "10");
        $("#aid2").numeric();

        getTotalPages();

        $("#NoData").remove();
        if (CustomizeSAR != '~1~2~3~4~5~6~') {
            var htmldata = '';
            htmldata += '<tr><th class="SARtd1"><input type="checkbox" id="sarvalid" /></th>';
            htmldata += ' <th class="sort NSAtd4" column="AssociateID">Associate ID </th>';
            htmldata += ' <th class=" sort NSAtd4" column="OccupanctType">OccupancyType</th>';
            htmldata += ' <th class="NSAtd4" column="StartDate">StartDate</th>';
            htmldata += ' <th class="NSAtd4" column="EndDate">EndDate</th>';
            htmldata += ' <th class="NSAtd4" column="TotalDays">No of Days </th>';
            htmldata += ' <th class="NSAtd4" column="ProjectId">ProjectId </th>';

            if (CustomizeSAR.indexOf("~7~") > -1) {
                htmldata += ' <th class="NSAtd4" column="Amount">Amount</th>';
            }

            if (CustomizeSAR.indexOf("~8~") > -1) {
                htmldata += ' <th column="RejectionReason" class="NSAtd4">RejectionReason</th>';
            }

            if (CustomizeSAR.indexOf("~9~") > -1) {
                htmldata += ' <th column="SpecialCaseMail" class="NSAtd4">ApprovalMail</th>';
            }

            if (CustomizeSAR.indexOf("~10~") > -1) {
                htmldata += ' <th column="Status" class="NSAtd4">Status</th>';
            }
            if (CustomizeSAR.indexOf("~11~") > -1) {
                htmldata += ' <th column="CurrencyCode" class="NSAtd4">CurrencyCode</th>';
            }

            htmldata += ' <th class="SARtd5">Edit</th></tr>';

            $('#tbl_sar').find('thead').html('').html(htmldata);
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th class="SARtd1"><input type="checkbox" id="sarvalid" /></th>';
            htmldata += ' <th class="sort NSAtd4" column="AssociateID">Associate ID </th>';
            htmldata += ' <th class="NSAtd4" column="OccupanctType">OccupancyType</th>';
            htmldata += ' <th class="NSAtd4" column="StartDate">StartDate</th>';
            htmldata += ' <th class="NSAtd4" column="EndDate">EndDate</th>';
            htmldata += ' <th class="NSAtd4" column="TotalDays">No of Days </th>';
            htmldata += ' <th class="NSAtd4" column="ProjectId">ProjectId </th>';

            htmldata += ' <th class="SARtd5" >Edit</th></tr>';

            $('#tbl_sar').find('thead').html('').html(htmldata);
        }


        var htmldata = '';
        if (msg.d.length > 0) {


            $("#SARdetails .refPage").css("display", "block");
            $('.btnlist').hide();


            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';

            if (CustomizeSAR != '~1~2~3~4~5~6~') {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';
                    if (data.InputRemarks != null) {
                        remarks = (data.InputRemarks.length > 25) ? data.InputRemarks.substring(0, 25) + '...' : data.InputRemarks;
                    }
                    var status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;

                    var SplCaseMailUploadId = data.AttachMail;
                    var gridMailIdval = "";
                    if ((SplCaseMailUploadId == 0) || (SplCaseMailUploadId == null)) {
                        gridMailIdval = "<div></div>";
                    }
                    else {
                        gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.AttachMail + ' class="mail_btn" fileuploadid=' + data.AttachMail + '/>';
                    }
                    if (cutoff_date == NaN) {
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPServiceApartmentRecoveryID + '"><td class="SARtd1"><input type="checkbox"  class="sarvalidcheck" id=' + (i + 1) + ' disabled="true"/></td>';
                        // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>';             
                        htmldata += '<td class="NSAtd4">' + data.AssociateID + '</td>';

                        htmldata += '<td class="NSAtd4">' + data.OccupancyType + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.StartDate + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.EndDate + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.TotalDays + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.ProjectID + '</td>';
                        if (CustomizeSAR.indexOf("~7~") > -1) {
                            htmldata += '<td class="NSAtd4">' + data.Amount + '</td>';
                        }


                        if (CustomizeSAR.indexOf("~8~") > -1) {
                            htmldata += '<td class="NSAtd4">' + data.RejectionReason + '</td>';
                        }

                        if (CustomizeSAR.indexOf("~9~") > -1) {
                            htmldata += '<td class="NSAtd4">' + gridMailIdval + '</td>';
                        }

                        if (CustomizeSAR.indexOf("~10~") > -1) {
                            htmldata += '<td class="NSAtd4">' + data.Status + '</td>';
                        }

                        if (CustomizeSAR.indexOf("~11~") > -1) {
                            htmldata += '<td class="NSAtd4">' + data.CurrencyCode + '</td>';
                        }
                        //if (data.Status == "Rejected" || data.Status == "Resubmitted")
                        ///  htmldata += '<td class="SARtd5"><img class="edit_details" class="spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"6 /></td></tr>';
                        //else
                        htmldata += '<td class="SARtd5"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" style=" pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPServiceApartmentRecoveryID + '"><td class="SARtd1"><input type="checkbox"  class="sarvalidcheck" id=' + (i + 1) + '/></td>';
                        // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>';             
                        htmldata += '<td class="NSAtd4">' + data.AssociateID + '</td>';

                        htmldata += '<td class="NSAtd4">' + data.OccupancyType + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.StartDate + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.EndDate + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.TotalDays + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.ProjectID + '</td>';
                        if (CustomizeSAR.indexOf("~7~") > -1) {
                            htmldata += '<td class="NSAtd4">' + data.Amount + '</td>';
                        }


                        if (CustomizeSAR.indexOf("~8~") > -1) {
                            htmldata += '<td class="NSAtd4">' + data.RejectionReason + '</td>';
                        }

                        if (CustomizeSAR.indexOf("~9~") > -1) {
                            htmldata += '<td class="NSAtd4">' + gridMailIdval + '</td>';
                        }

                        if (CustomizeSAR.indexOf("~10~") > -1) {
                            htmldata += '<td class="NSAtd4">' + data.Status + '</td>';
                        }

                        if (CustomizeSAR.indexOf("~11~") > -1) {
                            htmldata += '<td class="NSAtd4">' + data.CurrencyCode + '</td>';
                        }
                        //if (data.Status == "Rejected" || data.Status == "Resubmitted")
                        htmldata += '<td class="SARtd5"><img class="edit_details" class="spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"6 /></td></tr>';
                        //else
                        //    htmldata += '<td class="SARtd5"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" style=" pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPServiceApartmentRecoveryID + '"><td class="SARtd1"><input type="checkbox"  class="sarvalidcheck" id=' + (i + 1) + '/></td>';
                            // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>';             
                            htmldata += '<td class="NSAtd4">' + data.AssociateID + '</td>';

                            htmldata += '<td class="NSAtd4">' + data.OccupancyType + '</td>';
                            htmldata += '<td class="NSAtd4">' + data.StartDate + '</td>';
                            htmldata += '<td class="NSAtd4">' + data.EndDate + '</td>';
                            htmldata += '<td class="NSAtd4">' + data.TotalDays + '</td>';
                            htmldata += '<td class="NSAtd4">' + data.ProjectID + '</td>';
                            if (CustomizeSAR.indexOf("~7~") > -1) {
                                htmldata += '<td class="NSAtd4">' + data.Amount + '</td>';
                            }


                            if (CustomizeSAR.indexOf("~8~") > -1) {
                                htmldata += '<td class="NSAtd4">' + data.RejectionReason + '</td>';
                            }

                            if (CustomizeSAR.indexOf("~9~") > -1) {
                                htmldata += '<td class="NSAtd4">' + gridMailIdval + '</td>';
                            }

                            if (CustomizeSAR.indexOf("~10~") > -1) {
                                htmldata += '<td class="NSAtd4">' + data.Status + '</td>';
                            }

                            if (CustomizeSAR.indexOf("~11~") > -1) {
                                htmldata += '<td class="NSAtd4">' + data.CurrencyCode + '</td>';
                            }
                            //if (data.Status == "Rejected" || data.Status == "Resubmitted")
                            htmldata += '<td class="SARtd5"><img class="edit_details" class="spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"6 /></td></tr>';
                        }
                        else {
                            if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                                htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPServiceApartmentRecoveryID + '"><td class="SARtd1"><input type="checkbox"  class="sarvalidcheck" id=' + (i + 1) + '/></td>';
                                // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>';             
                                htmldata += '<td class="NSAtd4">' + data.AssociateID + '</td>';

                                htmldata += '<td class="NSAtd4">' + data.OccupancyType + '</td>';
                                htmldata += '<td class="NSAtd4">' + data.StartDate + '</td>';
                                htmldata += '<td class="NSAtd4">' + data.EndDate + '</td>';
                                htmldata += '<td class="NSAtd4">' + data.TotalDays + '</td>';
                                htmldata += '<td class="NSAtd4">' + data.ProjectID + '</td>';
                                if (CustomizeSAR.indexOf("~7~") > -1) {
                                    htmldata += '<td class="NSAtd4">' + data.Amount + '</td>';
                                }


                                if (CustomizeSAR.indexOf("~8~") > -1) {
                                    htmldata += '<td class="NSAtd4">' + data.RejectionReason + '</td>';
                                }

                                if (CustomizeSAR.indexOf("~9~") > -1) {
                                    htmldata += '<td class="NSAtd4">' + gridMailIdval + '</td>';
                                }

                                if (CustomizeSAR.indexOf("~10~") > -1) {
                                    htmldata += '<td class="NSAtd4">' + data.Status + '</td>';
                                }

                                if (CustomizeSAR.indexOf("~11~") > -1) {
                                    htmldata += '<td class="NSAtd4">' + data.CurrencyCode + '</td>';
                                }
                                //if (data.Status == "Rejected" || data.Status == "Resubmitted")
                                htmldata += '<td class="SARtd5"><img class="edit_details" class="spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"6 /></td></tr>';
                                //htmldata += '<td class="SARtd5"><img class="edit_details" src="../SGP_Images/edit_icon_disabled.png"  style="pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                            }
                            else {
                                htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPServiceApartmentRecoveryID + '" ><td class="SARtd1"><input type="checkbox"  class="sarvalidcheck" id=' + (i + 1) + ' disabled="true"/></td>';
                                // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>';             
                                htmldata += '<td class="NSAtd4">' + data.AssociateID + '</td>';

                                htmldata += '<td class="NSAtd4">' + data.OccupancyType + '</td>';
                                htmldata += '<td class="NSAtd4">' + data.StartDate + '</td>';
                                htmldata += '<td class="NSAtd4">' + data.EndDate + '</td>';
                                htmldata += '<td class="NSAtd4">' + data.TotalDays + '</td>';
                                htmldata += '<td class="NSAtd4">' + data.ProjectID + '</td>';
                                if (CustomizeSAR.indexOf("~7~") > -1) {
                                    htmldata += '<td class="NSAtd4">' + data.Amount + '</td>';
                                }


                                if (CustomizeSAR.indexOf("~8~") > -1) {
                                    htmldata += '<td class="NSAtd4">' + data.RejectionReason + '</td>';
                                }

                                if (CustomizeSAR.indexOf("~9~") > -1) {
                                    htmldata += '<td class="NSAtd4">' + gridMailIdval + '</td>';
                                }

                                if (CustomizeSAR.indexOf("~10~") > -1) {
                                    htmldata += '<td class="NSAtd4">' + data.Status + '</td>';
                                }

                                if (CustomizeSAR.indexOf("~11~") > -1) {
                                    htmldata += '<td class="NSAtd4">' + data.CurrencyCode + '</td>';
                                }
                                //if (data.Status == "Rejected" || data.Status == "Resubmitted")
                                htmldata += '<td class="SARtd5"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                            }
                        }
                    }

                });

            }
            else {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';
                    if (data.Status != null) {
                        remarks = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                    }
                    if (cutoff_date == NaN) {
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPServiceApartmentRecoveryID + '" ><td class="SARtd1"><input type="checkbox"  class="sarvalidcheck" id=' + (i + 1) + ' disabled="true"/></td>';
                        // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>';

                        htmldata += '<td class="NSAtd4">' + data.AssociateID + '</td>';

                        htmldata += '<td class="NSAtd4">' + data.OccupancyType + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.StartDate + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.EndDate + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.TotalDays + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.ProjectID + '</td>';
                        //if (data.Status == "Rejected" || data.Status == "Resubmitted") 
                        htmldata += '<td class="SARtd5"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPServiceApartmentRecoveryID + '"><td class="SARtd1"><input type="checkbox"  class="sarvalidcheck" id=' + (i + 1) + '/></td>';
                        // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>';

                        htmldata += '<td class="NSAtd4">' + data.AssociateID + '</td>';

                        htmldata += '<td class="NSAtd4">' + data.OccupancyType + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.StartDate + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.EndDate + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.TotalDays + '</td>';
                        htmldata += '<td class="NSAtd4">' + data.ProjectID + '</td>';
                        //if (data.Status == "Rejected" || data.Status == "Resubmitted") 
                        htmldata += '<td class="SARtd5"><img class="edit_details" class="spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"6 /></td></tr>';
                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPServiceApartmentRecoveryID + '"><td class="SARtd1"><input type="checkbox"  class="sarvalidcheck" id=' + (i + 1) + '/></td>';
                            // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>';

                            htmldata += '<td class="NSAtd4">' + data.AssociateID + '</td>';

                            htmldata += '<td class="NSAtd4">' + data.OccupancyType + '</td>';
                            htmldata += '<td class="NSAtd4">' + data.StartDate + '</td>';
                            htmldata += '<td class="NSAtd4">' + data.EndDate + '</td>';
                            htmldata += '<td class="NSAtd4">' + data.TotalDays + '</td>';
                            htmldata += '<td class="NSAtd4">' + data.ProjectID + '</td>';
                            //if (data.Status == "Rejected" || data.Status == "Resubmitted") 
                            htmldata += '<td class="SARtd5"><img class="edit_details" class="spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"6 /></td></tr>';
                        }
                        else {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPServiceApartmentRecoveryID + '" ><td class="SARtd1"><input type="checkbox"  class="sarvalidcheck" id=' + (i + 1) + ' disabled="true"/></td>';
                            // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>';

                            htmldata += '<td class="NSAtd4">' + data.AssociateID + '</td>';

                            htmldata += '<td class="NSAtd4">' + data.OccupancyType + '</td>';
                            htmldata += '<td class="NSAtd4">' + data.StartDate + '</td>';
                            htmldata += '<td class="NSAtd4">' + data.EndDate + '</td>';
                            htmldata += '<td class="NSAtd4">' + data.TotalDays + '</td>';
                            htmldata += '<td class="NSAtd4">' + data.ProjectID + '</td>';
                            //if (data.Status == "Rejected" || data.Status == "Resubmitted") 
                            htmldata += '<td class="SARtd5"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default"   style="pointer-events:none; cursor:default" disabled="disabled"/></td></tr>';
                        }
                    }
                    //else
                    //    htmldata += '<td class="SARtd5"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled"/></td></tr>';
                });
            }

            $('#tbl_sar').find('tbody').html('').html(htmldata);

        }
        else {
            $("#tbl_sar").find('tbody').html('').html("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    else if (componentGroupId == 17 && CountryId != 2) {//SAR
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').show();
        $("#customize").hide();
        $('#a_otherGeo').hide();
        $('#divprojfilter').hide();
        $('#mailattach').css("left", "265px");

        $('#SARdetails').show();
        $('#SARdetails .dataTableScroll').css('display', 'block');
        $('#tbl_sar').css('display', 'block');
        $('#SARdetails .viewport').css('display', 'block');
        $('#SARdetails .viewport').css('overflow', 'scroll');
        $('#tbl_sar').find('tbody').html('');
        $('#tbl_sar_wrapper').css('display', 'block');

        //$("#disLabel").css("margin-left", "300px");
        // $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "20px");
        $('#aid1').css("margin-left", "17px");
        $('.error_msg_reject').css('margin-left', '-235px');

        getTotalPages();

        $("#NoData").remove();
        var htmldata = '';
        htmldata += '<tr><th class="SARtd1"><input type="checkbox" id="sarvalid" /></th>';
        htmldata += ' <th class="sort NSAtd2" column="AssociateID">Associate ID </th>';
        if (CountryId == 8) {
            htmldata += ' <th class="NSAtd3" column="GuestHouse">GuestHouse</th>';
        }
        htmldata += ' <th class=" sort NSAtd3" column="OccupancyType">OccupancyType</th>';
        htmldata += ' <th class="sort NSAEtd8" column="ProjectId">ProjectId </th>';
        htmldata += ' <th class="SAtd4" column="StartDate">StartDate</th>';
        htmldata += ' <th class="SAtd4" column="EndDate">EndDate</th>';
        htmldata += ' <th column="CurrencyCode" class="sort SARtd4">CurrencyCode</th>';
        htmldata += ' <th class="sort td4" column="TotalDays">No of Days </th>';
        htmldata += ' <th class="sort NSAtd2" column="Amount">Amount</th>';
        htmldata += ' <th column="Status" class="sort SAtd4">Status</th>';
        htmldata += ' <th column="SpecialCaseReason" class="NSAtd10">SpecialCaseReason</th>';
        //htmldata += ' <th column="RejectionReason" class="NSAtd10">RejectionReason</th>';
        htmldata += ' <th column="SpecialCaseMail" class="NSAtd10">ApprovalMail</th>';
        htmldata += ' <th class="SARtd5">Edit</th></tr>';

        $('#tbl_sar').find('thead').html('').html(htmldata);

        var htmldata = '';
        if (msg.d.length > 0) {


            $("#SARdetails .refPage").css("display", "block");
            $('.btnlist').hide();


            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                var splcaseRsn = '';
                if (data.InputRemarks != null) {
                    remarks = (data.InputRemarks.length > 25) ? data.InputRemarks.substring(0, 25) + '...' : data.InputRemarks;
                }
                var status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;

                if (data.SpecialCaseReason != null) {
                    splcaseRsn = (data.SpecialCaseReason.length > 10) ? data.SpecialCaseReason.substring(0, 10) + '..' : data.SpecialCaseReason;
                }

                var SplCaseMailUploadId = data.AttachMail;
                var gridMailIdval = "";
                if ((SplCaseMailUploadId == 0) || (SplCaseMailUploadId == null)) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.AttachMail + ' class="mail_btn" fileuploadid=' + data.AttachMail + '/>';
                }
                if (cutoff_date == NaN) {
                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPServiceApartmentRecoveryID + '"><td class="SARtd1"><input type="checkbox"  class="sarvalidcheck" id=' + (i + 1) + ' disabled="true"/></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPServiceApartmentRecoveryID + '"><td class="SARtd1"><input type="checkbox"  class="sarvalidcheck" id=' + (i + 1) + '/></td>';
                }
                else {
                    if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPServiceApartmentRecoveryID + '"><td class="SARtd1"><input type="checkbox"  class="sarvalidcheck" id=' + (i + 1) + '/></td>';
                    }
                    else {
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPServiceApartmentRecoveryID + '" ><td class="SARtd1"><input type="checkbox"  class="sarvalidcheck" id=' + (i + 1) + ' disabled="true"/></td>';
                    }
                }
                htmldata += '<td class="NSAtd2">' + data.AssociateID + '</td>';
                if (CountryId == 8) {
                    htmldata += '<td class="NSAEtd8">' + data.Guesthouse + '</td>';
                }
                htmldata += '<td class="NSAtd3">' + data.OccupancyType + '</td>';
                htmldata += '<td class="NSAEtd8">' + data.ProjectID + '</td>';
                htmldata += '<td class="SAtd4">' + data.StartDate + '</td>';
                htmldata += '<td class="SAtd4">' + data.EndDate + '</td>';
                htmldata += '<td class="SARtd4">' + data.CurrencyCode + '</td>';
                htmldata += '<td class="td4">' + data.TotalDays + '</td>';
                htmldata += '<td class="NSAtd2">' + data.Amount + '</td>';

                htmldata += '<td class="SAtd4">' + data.Status + '</td>';
                htmldata += '<td class="SARtd6" title="' + data.SpecialCaseReason + '">' + splcaseRsn + '</td>';
                //htmldata += '<td class="NSAtd9">' + data.RejectionReason + '</td>';
                htmldata += '<td class="NSAtd10">' + gridMailIdval + '</td>';

                if (cutoff_date == NaN) {
                    htmldata += '<td class="SARtd5"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" style=" pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    htmldata += '<td class="SARtd5"><img class="edit_details spriteImage"  style="--x:-2569px;--y:-929px;width:18px;height:20px"6 /></td></tr>';
                }
                else {
                    if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                        htmldata += '<td class="SARtd5"><img class="edit_details spriteImage"  style="--x:-2569px;--y:-929px;width:18px;height:20px"6 /></td></tr>';
                    }
                    else {
                        htmldata += '<td class="SARtd5"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
                $('#tbl_sar').find('tbody').html('').html(htmldata);
            });
        }
        else {
            if (CountryId == 8) {
                $("#tbl_sar").find('tbody').html('').html("<tr class='even' id='NoData'><td colspan='14' class='text-center'>No data available</td></tr>");
            }
            else {
                $("#tbl_sar").find('tbody').html('').html("<tr class='even' id='NoData'><td colspan='13' class='text-center'>No data available</td></tr>");
            }
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    else if (componentGroupId == 18 && CountryId == 2) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').show();
        $("#mailattach").css("left", "270px");
        $("#customize").show();
        $('#a_otherGeo').hide();
        $('#divprojfilter').hide();

        $('#SchoolFee').show();
        $('#SchoolFee .dataTableScroll').css('display', 'block');
        $('#tblSchoolfee').css('display', 'block');
        $('#SchoolFee .viewport').css('display', 'block');
        $('#SchoolFee .viewport').css('overflow', 'scroll');

        $('#tblSchoolfee').find('tbody').html('');
        $('#tblSchoolfee_wrapper').css('display', 'block');
        $(".new_btn").removeAttr("disabled");
        $('#customize').css('left', '370px');
        //$("#disLabel").css("margin-left", "300px");
        $("#ulRecord").css("display", "block");
        $("#a_otherGeo").css("display", "none !important");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "20px");

        //$(".new_btn").removeAttr("disabled");
        //$("#ulRecord").css("display", "block");
        //$("#a_otherGeo").css("display", "none !important");
        //$("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "285px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "-10px");

        $("#SchoolFee").css('display', 'block');
        //$('.new_btn').css("margin-left", "10px");

        getTotalPages();
        $("#NoData").remove();
        if (CustomizeSF != '~1~2~3~4~') {
            var htmldata = '';
            htmldata += '<tr><th width="30px" ><input type="checkbox" id="sfvalid" />';
            htmldata += '</th><th class="sort sf5" column="AssociateID" id="Th1">Associate ID </th>';
            htmldata += '<th class="sort sf5" column="TotalAmount" id="Th4">Total Amount </th>';
            htmldata += '<th class="sf5" column="PayrollMonth">Payroll Month </th>';
            htmldata += '<th class="sort sf5" column="Status" >Status </th>';

            if (CustomizeSF.indexOf("~5~") > -1) {
                htmldata += '<th class="sf5">Rejection Reason</th>';
            }
            if (CustomizeSF.indexOf("~6~") > -1) {
                htmldata += '<th class="sf5">Amount1</th>';
            }
            if (CustomizeSF.indexOf("~7~") > -1) {
                htmldata += '<th class="sf5">Amount2</th>';
            }
            if (CustomizeSF.indexOf("~8~") > -1) {
                htmldata += '<th class="sf5">Approval Mail</th>';
            }

            htmldata += '<th style="width:95px;">Edit</th></tr>';
            $('#tblSchoolfee').find('thead').html('').html(htmldata);
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th width="30px"><input type="checkbox" id="sfvalid" />';
            htmldata += '</th><th class="sort sf5" column="AssociateID" id="Th1">Associate ID </th>';
            htmldata += '<th class="sort sf5" column="TotalAmount" id="Th4">Total Amount </th>';
            htmldata += '<th class="sf5">Payroll Month  </th>';
            htmldata += '<th class="sort sf5" column="Status">Status </th>';
            htmldata += '<th style="width:95px;">Edit </th></tr>';
            $('#tblSchoolfee').find('thead').html('').html(htmldata);
        }
        var htmldata = '';

        if (msg.d.length > 0) {
            $("#SchoolFee .refPage").css("display", "block");

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';


            if (CustomizeSF != '~1~2~3~4~') {

                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    if (data.Status != null) {
                        status = (data.Status.length > 30) ? data.Status.substring(0, 30) + '...' : data.Status;
                    }
                    var SplCaseMailUploadId = data.FileuploadId;
                    var gridMailIdval = "";
                    if ((SplCaseMailUploadId == 0) || (SplCaseMailUploadId == null)) {
                        gridMailIdval = "<div></div>";
                    }
                    else {
                        gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileuploadId + ' class="mail_btn" fileuploadid=' + data.FileuploadId + '/>';
                    }

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td class="sf1"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        grid_html += '<td class="sf5">' + data.AssociateID + '</td>';
                        grid_html += '<td class="sf5">' + data.TotalAmount + '</td>';
                        grid_html += '<td class="sf5"style="text-align:center;">' + data.PayrollMonth + '</td>';
                        grid_html += '<td class="sf5"title="' + data.Status + '">' + status + '</td>';

                        if (CustomizeSF.indexOf("~5~") > -1) {
                            grid_html += '<td class="sf5" style="text-align:center;" RejectonReason="' + data.RejectonReason + '">' + data.RejectonReason + '</td>';
                        }
                        if (CustomizeSF.indexOf("~6~") > -1) {
                            grid_html += '<td class="sf5" style="text-align:center;" RejectonReason="' + data.Amount1 + '">' + data.Amount1 + '</td>';
                        }
                        if (CustomizeSF.indexOf("~7~") > -1) {
                            grid_html += '<td class="sf5" style="text-align:center;" RejectonReason="' + data.Amount2 + '">' + data.Amount2 + '</td>';
                        }
                        if (CustomizeSF.indexOf("~8~") > -1) {
                            grid_html += '<td class="sf5" style="text-align:center;">' + gridMailIdval + '</td>';
                        }
                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td class="sf1"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + '  /></td>';
                        grid_html += '<td class="sf5">' + data.AssociateID + '</td>';
                        grid_html += '<td class="sf5">' + data.TotalAmount + '</td>';
                        grid_html += '<td class="sf5" style="text-align:center;">' + data.PayrollMonth + '</td>';
                        grid_html += '<td class="sf5">' + data.Status + '</td>';
                        if (CustomizeSF.indexOf("~5~") > -1) {
                            grid_html += '<td class="sf5" style="text-align:center;" RejectonReason="' + data.RejectonReason + '">' + data.RejectonReason + '</td>';
                        }
                        if (CustomizeSF.indexOf("~6~") > -1) {
                            grid_html += '<td class="sf5" style="text-align:center;" RejectonReason="' + data.Amount1 + '">' + data.Amount1 + '</td>';
                        }
                        if (CustomizeSF.indexOf("~7~") > -1) {
                            grid_html += '<td class="sf5" style="text-align:center;" RejectonReason="' + data.Amount2 + '">' + data.Amount2 + '</td>';
                        }
                        if (CustomizeSF.indexOf("~8~") > -1) {
                            grid_html += '<td class="sf5" style="text-align:center;">' + gridMailIdval + '</td>';
                        }

                        grid_html += '<td class="sf9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td class="sf1"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="sf5">' + data.AssociateID + '</td>';
                            grid_html += '<td class="sf5">' + data.TotalAmount + '</td>';
                            grid_html += '<td class="sf5" style="text-align:center;">' + data.PayrollMonth + '</td>';
                            grid_html += '<td class="sf5" title="' + data.Status + '">' + status + '</td>';

                            if (CustomizeSF.indexOf("~5~") > -1) {
                                grid_html += '<td class="sf5" style="text-align:center;" RejectonReason="' + data.RejectonReason + '">' + data.RejectonReason + '</td>';
                            }
                            if (CustomizeSF.indexOf("~6~") > -1) {
                                grid_html += '<td class="sf5" style="text-align:center;" RejectonReason="' + data.Amount1 + '">' + data.Amount1 + '</td>';
                            }
                            if (CustomizeSF.indexOf("~7~") > -1) {
                                grid_html += '<td class="sf5" style="text-align:center;" RejectonReason="' + data.Amount2 + '">' + data.Amount2 + '</td>';
                            }
                            if (CustomizeSF.indexOf("~8~") > -1) {
                                grid_html += '<td class="sf5" style="text-align:center;">' + gridMailIdval + '</td>';
                            }

                            grid_html += '<td class="sf9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td class="sf1"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="sf5">' + data.AssociateID + '</td>';
                            grid_html += '<td class="sf5">' + data.TotalAmount + '</td>';
                            grid_html += '<td class="sf5" style="text-align:center;">' + data.PayrollMonth + '</td>';
                            grid_html += '<td class="sf5" title="' + data.Status + '">' + status + '</td>';

                            if (CustomizeSF.indexOf("~5~") > -1) {
                                grid_html += '<td class="sf5" style="text-align:center;" RejectonReason="' + data.RejectonReason + '">' + data.RejectonReason + '</td>';
                            }
                            if (CustomizeSF.indexOf("~6~") > -1) {
                                grid_html += '<td class="sf5 style="text-align:center;" RejectonReason="' + data.Amount1 + '">' + data.Amount1 + '</td>';
                            }
                            if (CustomizeSF.indexOf("~7~") > -1) {
                                grid_html += '<td class="sf5" style="text-align:center;" RejectonReason="' + data.Amount2 + '">' + data.Amount2 + '</td>';
                            }
                            if (CustomizeSF.indexOf("~8~") > -1) {
                                grid_html += '<td class="sf5" style="text-align:center;">' + gridMailIdval + '</td>';
                            }

                            grid_html += '<td class="sf9"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }

                });

            }
            else {
                $.each(msg.d, function (i, data) {

                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';

                    if (data.Status != null) {
                        status = (data.Status.length > 30) ? data.Status.substring(0, 30) + '...' : data.Status;
                    }

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td><input type="checkbox" class="joiningvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        grid_html += '<td class="sf5">' + data.AssociateID + '</td>';
                        grid_html += '<td class="sf5">' + data.TotalAmount + '</td>';
                        grid_html += '<td class="sf5" style="text-align:center;">' + data.PayrollMonth + '</td>';
                        grid_html += '<td class="sf5" title="' + data.Status + '">' + status + '</td>';
                        grid_html += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="sf5">' + data.AssociateID + '</td>';
                        grid_html += '<td class="sf5">' + data.TotalAmount + '</td>';
                        grid_html += '<td class="sf5" style="text-align:center;">' + data.PayrollMonth + '</td>';
                        grid_html += '<td class="sf5" title="' + data.Status + '">' + status + '</td>';
                        grid_html += '<td style="width:95px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="sf5">' + data.AssociateID + '</td>';
                            grid_html += '<td class="sf5">' + data.TotalAmount + '</td>';
                            grid_html += '<td class="sf5" style="text-align:center;">' + data.PayrollMonth + '</td>';
                            grid_html += '<td class="sf5" title="' + data.Status + '">' + status + '</td>';
                            grid_html += '<td style="width:95px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="joiningvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="sf5">' + data.AssociateID + '</td>';
                            grid_html += '<td class="sf5">' + data.TotalAmount + '</td>';
                            grid_html += '<td class="sf5" style="text-align:center;">' + data.PayrollMonth + '</td>';
                            grid_html += '<td class="sf5" title="' + data.Status + '">' + status + '</td>';
                            grid_html += '<td style="width:95px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }

                });
            }

            $('#tblSchoolfee').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSchoolfee").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();

        }
        $("#shiftDetails").hide();
        $("#shiftDetails").attr("style", "display:none !important;");
    }

    else if (componentGroupId == 18 && (CountryId != 2 && CountryId != 14 && CountryId != 15 && CountryId != 16 && CountryId != 17)) { //APAC SF
        // $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").show();
        $('#a_otherGeo').hide();
        $('#divprojfilter').hide();

        $('#APACSchoolFee').show();
        $('#APACSchoolFee .dataTableScroll').css('display', 'block');
        $("#APACSchoolFee").css('display', 'block');
        $('#tblSchoolfeeAPAC').css('display', 'block');
        $('#APACSchoolFee .viewport').css('display', 'block');
        $('#APACSchoolFee .viewport').css('overflow', 'scroll');
        $('#tblSchoolfeeAPAC').find('tbody').html('');
        $('#tblSchoolfeeAPAC_wrapper').css('display', 'block');

        $(".new_btn").removeAttr("disabled");
        $(".delete_btn").show();

        $('#customize').css('left', '370px');
        //$("#disLabel").css("margin-left", "300px");
        $("#ulRecord").css("display", "block");
        $("#a_otherGeo").css("display", "none !important");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "285px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "-10px");

        $('.new_btn').css("margin-left", "10px");

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        $("#aid2").attr("maxlength", "10");
        $("#aid2").numeric();

        getTotalPages();
        $("#NoData").remove();
        if (CustomizeSF_APAC != '~1~2~3~4~5~6~10~') {
            var htmldata = '';
            htmldata += '<tr><th width="30px" ><input type="checkbox" id="Asfvalid" />';
            htmldata += '</th><th class="sort sftbl" column="AssociateID" id="Th1">AssociateID </th>';
            htmldata += '<th class="sftbl">PayrollMonth </th>';
            htmldata += '<th class="sftbl">Year </th>';
            htmldata += '<th class="sftbl">Amount for Child1</th>';
            htmldata += '<th class="sftbl">Amount for Child2</th>';

            htmldata += '<th class="sort sftbl" column="TotalAmount">Amount</th>';
            if (CustomizeSF_APAC.indexOf("~7~") > -1) {
                htmldata += '<th class="sftbl">RejectionReason</th>';
            }
            if (CustomizeSF_APAC.indexOf("~8~") > -1) {
                htmldata += '<th class="sftbl">Approval Mail</th>';
            }
            if (CustomizeSF_APAC.indexOf("~9~") > -1) {
                htmldata += '<th class="sftbl">MailValidityEndDate</th>';
            }
            htmldata += '<th class="sort sftbl" column="Status" >Status </th>';
            htmldata += '<th style="width:60px;">Edit</th></tr>';
            $('#tblSchoolfeeAPAC').find('thead').html('').html(htmldata);
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th width="30px"><input type="checkbox" id="Asfvalid" />';
            htmldata += '</th><th class="sort sftbl" column="AssociateID" id="Th1">AssociateID </th>';
            htmldata += '<th class="sftbl">PayrollMonth </th>';
            htmldata += '<th class="sftbl">Year </th>';
            htmldata += '<th class="sftbl">Amount for Child1</th>';
            htmldata += '<th class="sftbl">Amount for Child2</th>';
            htmldata += '<th class="sort sftbl" column="TotalAmount">Amount</th>';
            htmldata += '<th class="sort sftbl" column="Status" >Status</th>';
            htmldata += '<th style="width:60px;">Edit </th></tr>';
            $('#tblSchoolfeeAPAC').find('thead').html('').html(htmldata);
        }
        var htmldata = '';

        if (msg.d.length > 0) {
            $("#APACSchoolFee .refPage").css("display", "block");

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var reworkendcutoffdatesplit = reworkendcutoff.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var reworkenddate = new Date(reworkendcutoffdatesplit[2], reworkendcutoffdatesplit[1] - 1, reworkendcutoffdatesplit[0]); //Y M D
            var reworkendcutoff_date = reworkenddate.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();

            var classname = '';

            if (CustomizeSF_APAC != '~1~2~3~4~5~6~10~') {

                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    if (data.Status != null) {
                        status = (data.Status.length > 30) ? data.Status.substring(0, 30) + '...' : data.Status;
                    }
                    var SplCaseMailUploadId = data.FileuploadId;
                    var gridMailIdval = "";
                    if ((SplCaseMailUploadId == 0) || (SplCaseMailUploadId == null)) {
                        gridMailIdval = "<div></div>";
                    }
                    else {
                        gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileuploadId + ' class="mail_btn" fileuploadid=' + data.FileuploadId + '/>';
                    }

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        grid_html += '<td class="sftbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="sftbl">' + data.PayrollMonth + '</td>';
                        grid_html += '<td class="sftbl">' + data.Year + '</td>';
                        grid_html += '<td class="sftbl" style="text-align:center;" Amount1="' + data.Amount1 + '">' + data.Amount1 + '</td>';
                        grid_html += '<td class="sftbl" style="text-align:center;" Amount2="' + data.Amount2 + '">' + data.Amount2 + '</td>';
                        grid_html += '<td class="sftbl" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                        if (CustomizeSF_APAC.indexOf("~7~") > -1) {
                            grid_html += '<td class="sftbl" style="text-align:center;" RejectonReason="' + data.RejectonReason + '">' + data.RejectonReason + '</td>';
                        }
                        if (CustomizeSF_APAC.indexOf("~8~") > -1) {
                            grid_html += '<td class="sftbl" style="text-align:center;">' + gridMailIdval + '</td>';
                        }
                        if (CustomizeSF_APAC.indexOf("~9~") > -1) {
                            grid_html += '<td class="sftbl" style="text-align:center;" >' + data.MailValidityEndDate + '</td>';
                        }

                        grid_html += '<td class="sftbl" title="' + data.Status + '">' + status + '</td>';
                        grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + '  /></td>';
                        grid_html += '<td class="sftbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="sftbl">' + data.PayrollMonth + '</td>';
                        grid_html += '<td class="sftbl">' + data.Year + '</td>';
                        grid_html += '<td class="sftbl" style="text-align:center;" Amount1="' + data.Amount1 + '">' + data.Amount1 + '</td>';
                        grid_html += '<td class="sftbl" style="text-align:center;" Amount2="' + data.Amount2 + '">' + data.Amount2 + '</td>';
                        grid_html += '<td class="sftbl" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                        if (CustomizeSF_APAC.indexOf("~7~") > -1) {
                            grid_html += '<td class="sftbl" style="text-align:center;" RejectonReason="' + data.RejectonReason + '">' + data.RejectonReason + '</td>';
                        }
                        if (CustomizeSF_APAC.indexOf("~8~") > -1) {
                            grid_html += '<td class="sftbl" style="text-align:center;">' + gridMailIdval + '</td>';
                        }
                        if (CustomizeSF_APAC.indexOf("~9~") > -1) {
                            grid_html += '<td class="sftbl" style="text-align:center;" >' + data.MailValidityEndDate + '</td>';
                        }

                        grid_html += '<td class="sftbl" title="' + data.Status + '">' + status + '</td>';

                        grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="sftbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="sftbl">' + data.PayrollMonth + '</td>';
                            grid_html += '<td class="sftbl">' + data.Year + '</td>';
                            grid_html += '<td class="sftbl" style="text-align:center;" Amount1="' + data.Amount1 + '">' + data.Amount1 + '</td>';
                            grid_html += '<td class="sftbl" style="text-align:center;" Amount2="' + data.Amount2 + '">' + data.Amount2 + '</td>';
                            grid_html += '<td class="sftbl" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                            if (CustomizeSF_APAC.indexOf("~7~") > -1) {
                                grid_html += '<td class="sftbl" style="text-align:center;" RejectonReason="' + data.RejectonReason + '">' + data.RejectonReason + '</td>';
                            }
                            if (CustomizeSF_APAC.indexOf("~8~") > -1) {
                                grid_html += '<td class="sftbl" style="text-align:center;">' + gridMailIdval + '</td>';
                            }
                            if (CustomizeSF_APAC.indexOf("~9~") > -1) {
                                grid_html += '<td class="sftbl" style="text-align:center;" >' + data.MailValidityEndDate + '</td>';
                            }

                            grid_html += '<td class="sftbl" title="' + data.Status + '">' + status + '</td>';

                            grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="sftbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="sftbl">' + data.PayrollMonth + '</td>';
                            grid_html += '<td class="sftbl">' + data.Year + '</td>';
                            grid_html += '<td class="sftbl" style="text-align:center;" Amount1="' + data.Amount1 + '">' + data.Amount1 + '</td>';
                            grid_html += '<td class="sftbl" style="text-align:center;" Amount2="' + data.Amount2 + '">' + data.Amount2 + '</td>';
                            grid_html += '<td class="sftbl" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                            if (CustomizeSF_APAC.indexOf("~7~") > -1) {
                                grid_html += '<td class="sftbl" style="text-align:center;" RejectonReason="' + data.RejectonReason + '">' + data.RejectonReason + '</td>';
                            }
                            if (CustomizeSF_APAC.indexOf("~8~") > -1) {
                                grid_html += '<td class="sftbl" style="text-align:center;">' + gridMailIdval + '</td>';
                            }
                            if (CustomizeSF_APAC.indexOf("~9~") > -1) {
                                grid_html += '<td class="sftbl" style="text-align:center;" >' + data.MailValidityEndDate + '</td>';
                            }

                            grid_html += '<td class="sftbl" title="' + data.Status + '">' + status + '</td>';

                            grid_html += '<td style="width:60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });

            }
            else {
                $.each(msg.d, function (i, data) {

                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';

                    if (data.Status != null) {
                        status = (data.Status.length > 30) ? data.Status.substring(0, 30) + '...' : data.Status;
                    }

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        grid_html += '<td class="sftbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="sftbl">' + data.PayrollMonth + '</td>';
                        grid_html += '<td class="sftbl">' + data.Year + '</td>';
                        grid_html += '<td class="sftbl" style="text-align:center;" Amount1="' + data.Amount1 + '">' + data.Amount1 + '</td>';
                        grid_html += '<td class="sftbl" style="text-align:center;" Amount2="' + data.Amount2 + '">' + data.Amount2 + '</td>';
                        grid_html += '<td class="sftbl" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                        grid_html += '<td title="' + data.Status + '">' + status + '</td>';
                        grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="sftbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="sftbl">' + data.PayrollMonth + '</td>';
                        grid_html += '<td class="sftbl">' + data.Year + '</td>';
                        grid_html += '<td class="sftbl" style="text-align:center;" Amount1="' + data.Amount1 + '">' + data.Amount1 + '</td>';
                        grid_html += '<td class="sftbl" style="text-align:center;" Amount2="' + data.Amount2 + '">' + data.Amount2 + '</td>';
                        grid_html += '<td class="sftbl" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                        grid_html += '<td title="' + data.Status + '">' + status + '</td>';
                        grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="sftbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="sftbl">' + data.PayrollMonth + '</td>';
                            grid_html += '<td class="sftbl">' + data.Year + '</td>';
                            grid_html += '<td class="sftbl" style="text-align:center;" Amount1="' + data.Amount1 + '">' + data.Amount1 + '</td>';
                            grid_html += '<td class="sftbl" style="text-align:center;" Amount2="' + data.Amount2 + '">' + data.Amount2 + '</td>';
                            grid_html += '<td class="sftbl" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                            grid_html += '<td title="' + data.Status + '">' + status + '</td>';
                            grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="sftbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="sftbl">' + data.PayrollMonth + '</td>';
                            grid_html += '<td class="sftbl">' + data.Year + '</td>';
                            grid_html += '<td class="sftbl" style="text-align:center;" Amount1="' + data.Amount1 + '">' + data.Amount1 + '</td>';
                            grid_html += '<td class="sftbl" style="text-align:center;" Amount2="' + data.Amount2 + '">' + data.Amount2 + '</td>';
                            grid_html += '<td class="sftbl" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                            grid_html += '<td title="' + data.Status + '">' + status + '</td>';
                            grid_html += '<td style="width:60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }

                });
            }

            $('#tblSchoolfeeAPAC').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSchoolfeeAPAC").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();

        }
    }

    else if (componentGroupId == 18 && (CountryId == 14 || CountryId == 15 || CountryId == 16 || CountryId == 17)) { //CE SF
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").hide();
        $('#a_otherGeo').hide();
        $('#divprojfilter').hide();

        $('#divCE_SchoolFee').show();
        $('#tblSchoolfee_CE').find('tbody').html('');
        $('#tblSchoolfee_CE_wrapper').css('display', 'block');
        $('#tblSchoolfee_CE .dataTableScroll').css('display', 'block');

        $(".new_btn").removeAttr("disabled");
        $(".delete_btn").show();

        //$('.dataTableScroll').css('display', 'block');
        $('#customize').css('left', '370px');
        //$("#disLabel").css("margin-left", "300px");
        $("#ulRecord").css("display", "block");
        $("#a_otherGeo").css("display", "none !important");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "285px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "-10px");

        $("#divCE_SchoolFee").css('display', 'block');
        $('#tblSchoolfee_CE').css('display', 'block');
        $('#divCE_SchoolFee .dataTableScroll').css('display', 'block');
        $('#divCE_SchoolFee .viewport').css('display', 'block');
        $('#divCE_SchoolFee .viewport').css('overflow', 'scroll');
        $('.new_btn').css("margin-left", "10px");

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        $("#aid2").attr("maxlength", "10");
        $("#aid2").numeric();

        getTotalPages();
        $("#NoData").remove();

        var htmldata = '';
        htmldata += '<tr><th width="30px"><input type="checkbox" id="CESchoolvalid" /></th>';
        htmldata += '<th class="sort sftbl" column="AssociateID" id="Th1">AssociateID </th>';
        htmldata += '<th class="sftbl" id="Th1">Associate Name </th>';
        htmldata += '<th class="sftbl">Child </th>';
        htmldata += '<th class="sort sftbl" column="StartDate">StartDate Of <br> Academic Year </th>';
        htmldata += '<th class="sort sftbl" column="EndDate">EndDate Of <br> Academic Year </th>';
        htmldata += '<th class="sftbl">Amount </th>';
        htmldata += '<th class="sftbl">No Of Installments</th>';
        htmldata += '<th class="sftbl">FrequencyType</th>';
        htmldata += '<th class="sftbl">Frequency <br>Selection</th>';
        htmldata += '<th class="sftbl">RejectionReason</th>';
        htmldata += '<th class="sort sftbl" column="PayoutType" >PayoutType</th>';
        htmldata += '<th class="sort sftbl" column="Status" >Status</th>';
        htmldata += '<th style="width:60px;">Edit </th></tr>';
        $('#tblSchoolfee_CE').find('thead').html('').html(htmldata);

        //var htmldata = '';

        if (msg.d.length > 0) {
            $("#divCE_SchoolFee .refPage").css("display", "block");

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var reworkendcutoffdatesplit = reworkendcutoff.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var reworkenddate = new Date(reworkendcutoffdatesplit[2], reworkendcutoffdatesplit[1] - 1, reworkendcutoffdatesplit[0]); //Y M D
            var reworkendcutoff_date = reworkenddate.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();

            var classname = '';

            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var status = '';
                var rejreason = '';

                if (data.Status != null) {
                    status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;
                }
                if (data.RejectionReason != null) {
                    rejreason = (data.RejectionReason.length > 20) ? data.RejectionReason.substring(0, 20) + '...' : data.RejectionReason;
                }

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_CESchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="CEsfvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_CESchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="CEsfvalid" id=' + (i + 1) + ' /></td>';
                }
                else {
                    if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_CESchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="CEsfvalid" id=' + (i + 1) + ' /></td>';
                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_CESchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="CEsfvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                    }
                }

                grid_html += '<td class="sftbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="sftbl">' + data.AssociateName + '</td>';
                grid_html += '<td class="sftbl">' + data.ChildType + '</td>';
                grid_html += '<td class="sftbl">' + data.StartDate + '</td>';
                grid_html += '<td class="sftbl">' + data.EndDate + '</td>';
                grid_html += '<td class="sftbl" style="text-align:center;" Amount1="' + data.Amount + '">' + data.Amount + '</td>';
                grid_html += '<td class="sftbl">' + data.NumberOfInstallment + '</td>';
                grid_html += '<td class="sftbl">' + data.FrequencyType + '</td>';
                grid_html += '<td class="sftbl">' + data.FrequencySelection + '</td>';
                grid_html += '<td class="sftbl" title= "' + data.RejectionReason + '">' + rejreason + '</td>';
                grid_html += '<td class="sftbl">' + data.PayoutType + '</td>';
                grid_html += '<td title="' + data.Status + '">' + status + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                }
                else {
                    if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                        grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        grid_html += '<td style="width:60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
            });

            $('#tblSchoolfee_CE').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSchoolfee_CE").append("<tr class='even' id='NoData'><td colspan='14' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if ((componentGroupId == 24 || componentGroupId == 23) && CountryId == 6) { //Parking allowance
        //$("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        //$("#mailattach").css("left", "270px");
        $("#customize").show();
        $('#a_otherGeo').hide();
        $('#divprojfilter').hide();

        $('#APACSchoolFee').show();
        $('#APACSchoolFee .dataTableScroll').css('display', 'block');
        $("#APACSchoolFee").css('display', 'block');
        $('#tblSchoolfeeAPAC').css('display', 'block');
        $('#APACSchoolFee .viewport').css('display', 'block');
        $('#APACSchoolFee .viewport').css('overflow', 'scroll');
        $('#tblSchoolfeeAPAC').find('tbody').html('');
        $('#tblSchoolfeeAPAC_wrapper').css('display', 'block');

        $(".new_btn").removeAttr("disabled");
        $('#customize').css('left', '370px');
        //$("#disLabel").css("margin-left", "300px");
        $("#ulRecord").css("display", "block");
        $("#a_otherGeo").css("display", "none !important");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "285px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "-10px");

        $('.new_btn').css("margin-left", "10px");
        $(".delete_btn").show();

        $("#aid1").attr("maxlength", "11");
        $("#aid2").attr("maxlength", "11");
        $("#aid1").numeric();
        $("#aid2").numeric();
        getTotalPages();
        $("#NoData").remove();
        if (CustomizePark != '1~2~3~4~8~') {
            var htmldata = '';
            htmldata += '<tr><th width="30px" ><input type="checkbox" id="Asfvalid" />';
            htmldata += '</th><th class="sort pkgtblCust" column="AssociateID" id="Th1">Associate ID </th>';
            htmldata += '<th class="pkgtblCust" column="PayrollMonth" id="Th4">PayrollMonth </th>';
            htmldata += '<th class="pkgtblCust" column="Year">Year </th>';
            htmldata += '<th class="sort pkgtblCust">Amount</th>';
            if (CustomizePark.indexOf("~5~") > -1) {
                htmldata += '<th class="pkgtblCust">RejectionReason</th>';
            }
            if (CustomizePark.indexOf("~6~") > -1) {
                htmldata += '<th class="pkgtblCust">Approval Mail</th>';
            }
            if (CustomizePark.indexOf("~7~") > -1) {
                htmldata += '<th class="sort pkgtblCust">MailValidityEndDate</th>';
            }
            htmldata += '<th class="sort pkgtblCust" column="Status" >Status </th>';
            htmldata += '<th style="width:60px;">Edit</th></tr>';
            $('#tblSchoolfeeAPAC').find('thead').html('').html(htmldata);
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th width="30px"><input type="checkbox" id="Asfvalid" />';
            htmldata += '</th><th class="sort pkgtbl" column="AssociateID" id="Th1">Associate ID </th>';
            htmldata += '<th class="pkgtbl" column="PayrollMonth" id="Th4">PayrollMonth </th>';
            htmldata += '<th class="pkgtbl" column="Year">Year </th>';
            htmldata += '<th class="sort pkgtbl" column="Amount">Amount</th>';
            htmldata += '<th class="sort pkgtbl" column="Status" >Status </th>';
            htmldata += '<th style="width:60px;">Edit </th></tr>';
            $('#tblSchoolfeeAPAC').find('thead').html('').html(htmldata);
        }
        var htmldata = '';

        if (msg.d.length > 0) {
            $("#APACSchoolFee .refPage").css("display", "block");

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var reworkendcutoffdatesplit = reworkendcutoff.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var reworkenddate = new Date(reworkendcutoffdatesplit[2], reworkendcutoffdatesplit[1] - 1, reworkendcutoffdatesplit[0]); //Y M D
            var reworkendcutoff_date = reworkenddate.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();

            var classname = '';

            if (CustomizePark != '1~2~3~4~8~') {

                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    if (data.Status != null) {
                        status = (data.Status.length > 30) ? data.Status.substring(0, 30) + '...' : data.Status;
                    }
                    var SplCaseMailUploadId = data.FileuploadId;
                    var gridMailIdval = "";
                    if ((SplCaseMailUploadId == 0) || (SplCaseMailUploadId == null)) {
                        gridMailIdval = "<div></div>";
                    }
                    else {
                        gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileuploadId + ' class="mail_btn" fileuploadid=' + data.FileuploadId + '/>';
                    }

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        grid_html += '<td class="pkgtblCust">' + data.AssociateID + '</td>';
                        grid_html += '<td class="pkgtblCust">' + data.PayrollMonth + '</td>';
                        grid_html += '<td class="pkgtblCust">' + data.Year + '</td>';
                        grid_html += '<td class="pkgtblCust" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                        if (CustomizePark.indexOf("~5~") > -1) {
                            grid_html += '<td class="pkgtblCust" style="text-align:center;" RejectonReason="' + data.RejectonReason + '">' + data.RejectonReason + '</td>';
                        }
                        if (CustomizePark.indexOf("~6~") > -1) {
                            grid_html += '<td class="pkgtblCust" style="text-align:center;">' + gridMailIdval + '</td>';
                        }
                        if (CustomizePark.indexOf("~7~") > -1) {
                            grid_html += '<td class="pkgtblCust" style="text-align:center;" >' + data.MailValidityEndDate + '</td>';
                        }

                        grid_html += '<td class="pkgtblCust" title="' + data.Status + '">' + status + '</td>';
                        grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + '  /></td>';
                        grid_html += '<td class="pkgtblCust">' + data.AssociateID + '</td>';
                        grid_html += '<td class="pkgtblCust">' + data.PayrollMonth + '</td>';
                        grid_html += '<td class="pkgtblCust">' + data.Year + '</td>';
                        grid_html += '<td class="pkgtblCust" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                        if (CustomizePark.indexOf("~5~") > -1) {
                            grid_html += '<td class="pkgtblCust" style="text-align:center;" RejectonReason="' + data.RejectonReason + '">' + data.RejectonReason + '</td>';
                        }
                        if (CustomizePark.indexOf("~6~") > -1) {
                            grid_html += '<td class="pkgtblCust" style="text-align:center;">' + gridMailIdval + '</td>';
                        }
                        if (CustomizePark.indexOf("~7~") > -1) {
                            grid_html += '<td class="pkgtblCust" style="text-align:center;" >' + data.MailValidityEndDate + '</td>';
                        }

                        grid_html += '<td class="pkgtblCust" title="' + data.Status + '">' + status + '</td>';

                        grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="pkgtblCust">' + data.AssociateID + '</td>';
                            grid_html += '<td class="pkgtblCust">' + data.PayrollMonth + '</td>';
                            grid_html += '<td class="pkgtblCust">' + data.Year + '</td>';
                            grid_html += '<td class="pkgtblCust" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                            if (CustomizePark.indexOf("~5~") > -1) {
                                grid_html += '<td class="pkgtblCust" style="text-align:center;" RejectonReason="' + data.RejectonReason + '">' + data.RejectonReason + '</td>';
                            }
                            if (CustomizePark.indexOf("~6~") > -1) {
                                grid_html += '<td class="pkgtblCust" style="text-align:center;">' + gridMailIdval + '</td>';
                            }
                            if (CustomizePark.indexOf("~7~") > -1) {
                                grid_html += '<td class="pkgtblCust" style="text-align:center;" >' + data.MailValidityEndDate + '</td>';
                            }

                            grid_html += '<td class="pkgtblCust" title="' + data.Status + '">' + status + '</td>';

                            grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="pkgtblCust">' + data.AssociateID + '</td>';
                            grid_html += '<td class="pkgtblCust">' + data.PayrollMonth + '</td>';
                            grid_html += '<td class="pkgtblCust">' + data.Year + '</td>';
                            grid_html += '<td class="pkgtblCust" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                            if (CustomizePark.indexOf("~5~") > -1) {
                                grid_html += '<td class="pkgtblCust" style="text-align:center;" RejectonReason="' + data.RejectonReason + '">' + data.RejectonReason + '</td>';
                            }
                            if (CustomizePark.indexOf("~6~") > -1) {
                                grid_html += '<td class="pkgtblCust" style="text-align:center;">' + gridMailIdval + '</td>';
                            }
                            if (CustomizePark.indexOf("~7~") > -1) {
                                grid_html += '<td class="pkgtblCust" style="text-align:center;" >' + data.MailValidityEndDate + '</td>';
                            }

                            grid_html += '<td class="pkgtblCust" title="' + data.Status + '">' + status + '</td>';

                            grid_html += '<td style="width:60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });

            }
            else {
                $.each(msg.d, function (i, data) {

                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';

                    if (data.Status != null) {
                        status = (data.Status.length > 30) ? data.Status.substring(0, 30) + '...' : data.Status;
                    }

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        grid_html += '<td class="pkgtbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="pkgtbl">' + data.PayrollMonth + '</td>';
                        grid_html += '<td class="pkgtbl">' + data.Year + '</td>';
                        grid_html += '<td class="pkgtbl" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                        grid_html += '<td class="pkgtbl" title="' + data.Status + '">' + status + '</td>';
                        grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="pkgtbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="pkgtbl">' + data.PayrollMonth + '</td>';
                        grid_html += '<td class="pkgtbl">' + data.Year + '</td>';
                        grid_html += '<td class="pkgtbl" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                        grid_html += '<td class="pkgtbl" title="' + data.Status + '">' + status + '</td>';
                        grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="pkgtbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="pkgtbl">' + data.PayrollMonth + '</td>';
                            grid_html += '<td class="pkgtbl">' + data.Year + '</td>';
                            grid_html += '<td class="pkgtbl" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                            grid_html += '<td class="pkgtbl" title="' + data.Status + '">' + status + '</td>';
                            grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + ' status=' + data.Status + '><td style="width:30px"><input type="checkbox" class="APACsfvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="pkgtbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="pkgtbl">' + data.PayrollMonth + '</td>';
                            grid_html += '<td class="pkgtbl">' + data.Year + '</td>';
                            grid_html += '<td class="pkgtbl" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                            grid_html += '<td class="pkgtbl" title="' + data.Status + '">' + status + '</td>';
                            grid_html += '<td style="width:60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }

            $('#tblSchoolfeeAPAC').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSchoolfeeAPAC").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }
    // AdditionalPayout
    else if (componentGroupId == 19 && CountryId == 2) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').show();
        $("#customize").show();
        $("#a_otherGeo").hide();

        $("#AdditionalPayoutdetails").show();
        $('#tblAdditionalPayout').css('display', 'block');
        $('#AdditionalPayoutdetails .viewport').css('display', 'block');
        $('#AdditionalPayoutdetails .viewport').css('overflow', 'scroll');
        $('#AdditionalPayoutdetails .dataTableScroll').css('display', 'block');
        $('#AdditionalPayoutdetails .refPage').css('display', 'block');
        $('#AdditionalPayoutdetails').find('tbody').html('');
        $('#AdditionalPayoutdetails_wrapper').css('display', 'block');

        //$('.refPage').css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "-32px");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "20px");
        $('.mleft50').css('margin-top', '0px');
        $(".delete_btn").show();
        $('#aid1').css("margin-left", "17px");
        $('.error_msg_reject').css('left', '355px');
        getTotalPages();

        $("#NoData").remove();
        if (CustomizeAP != '~1~2~3~4~6~9') {
            var htmldata = '';
            htmldata += '<tr><th class="APtd1"><input type="checkbox" id="apvalid" /></th>';
            htmldata += ' <th class="sort APtd2" column="AssociateID">Associate ID </th>';
            htmldata += ' <th class="APtd3" column="PayoutType">PayoutType</th>';
            htmldata += ' <th class="sort APtd4" column="ProjectID">ProjectID</th>';
            htmldata += ' <th class="APtd5" column="CurrencyCode">CurrencyCode </th>';
            if (CustomizeAP.indexOf("~5~") > -1) {
                htmldata += ' <th class="sort APtd5" column="Amount">Amount </th>';
            }
            htmldata += ' <th class="APtd6" column="SplCaseReason">SplCaseReason</th>';
            if (CustomizeAP.indexOf("~7~") > -1) {
                htmldata += ' <th class="APtd8" column="SplCaseMail">SplCaseMail</th>';
            }
            if (CustomizeAP.indexOf("~8~") > -1) {
                htmldata += ' <th class="APtd7" column="RejectionReason">RejectionReason</th>';
            }
            htmldata += ' <th column="Status" class="APtd7">Status</th>';
            if (CustomizeAP.indexOf("~10~") > -1) {
                htmldata += ' <th class="APtd7" column="Approvalmail">Approval Mail</th>';
            }

            htmldata += ' <th class="APtd9">Edit</th></tr>';

            $('#AdditionalPayoutdetails').find('thead').html('').html(htmldata);
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th class="APtd1"><input type="checkbox" id="apvalid" /></th>';
            htmldata += ' <th class="sort APtd13" column="AssociateID">Associate ID </th>';
            htmldata += ' <th class="APtd13" column="PayoutType">PayoutType</th>';
            htmldata += ' <th class="sort APtd13" column="ProjectID">ProjectID</th>';
            htmldata += ' <th class="APtd13" column="CurrencyCode">CurrencyCode </th>';
            htmldata += ' <th class="APtd6" column="SplCaseReason">SplCaseReason </th>';
            htmldata += ' <th class="sort APtd13" column="Status">Status</th>';
            htmldata += ' <th class="APtd9">Edit</th></tr>';

            $('#AdditionalPayoutdetails').find('thead').html('').html(htmldata);
        }
        var htmldata = '';
        if (msg.d.length > 0) {
            $("#AdditionalPayoutdetails .refPage").css("display", "block");
            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';

            if (CustomizeAP != '~1~2~3~4~6~9') {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }

                    var splcaseRsn = (data.SpecialCaseReason.length > 25) ? data.SpecialCaseReason.substring(0, 25) + '..' : data.SpecialCaseReason;
                    var SplCaseMailUploadId = data.SpecialCaseMail;
                    var gridMailIdval = "";
                    if ((SplCaseMailUploadId == 0) || (SplCaseMailUploadId == null)) {
                        gridMailIdval = "<div></div>";
                    }
                    else {
                        gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SpecialCaseMail + ' class="mail_btn" fileuploadid=' + data.SpecialCaseMail + '/>';
                    }

                    var fileUploadId = data.FileUploadId;
                    var attachMailIdval = "";
                    if ((fileUploadId == 0) || (fileUploadId == null)) {
                        attachMailIdval = "<div></div>";
                    }
                    else {
                        attachMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileUploadId + ' class="mail_btn" fileuploadid=' + data.FileUploadId + '/>';
                    }

                    var status;
                    if (data.Status != null) {
                        status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                    }

                    if (cutoff_date == NaN) {

                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PrimaryKey + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                        htmldata += '<td class="APtd2">' + data.AssociateID + '</td>';
                        htmldata += '<td class="APtd3">' + data.PayoutType + '</td>';
                        htmldata += '<td class="APtd4">' + data.ProjectID + '</td>';
                        htmldata += '<td class="APtd5">' + data.CurrencyCode + '</td>';

                        if (CustomizeAP.indexOf("~5~") > -1) {
                            htmldata += '<td class="APtd5">' + data.Amount + '</td>';
                        }
                        htmldata += '<td title="' + data.SpecialCaseReason + '" class="APtd7">' + splcaseRsn + '</td>';

                        if (CustomizeAP.indexOf("~7~") > -1) {
                            htmldata += '<td class="APtd8">' + gridMailIdval + '</td>';
                        }
                        if (CustomizeAP.indexOf("~8~") > -1) {
                            htmldata += '<td class="APtd7">' + data.RejectionReason + '</td>';
                        }
                        htmldata += '<td title="' + data.Status + '" class="APtd3">' + status + '</td>';
                        if (CustomizeAP.indexOf("~10~") > -1) {
                            htmldata += '<td class="APtd7">' + attachMailIdval + '</td>';
                        }

                        htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                    }
                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PrimaryKey + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + '/></td>';
                        htmldata += '<td class="APtd2">' + data.AssociateID + '</td>';
                        htmldata += '<td class="APtd3">' + data.PayoutType + '</td>';
                        htmldata += '<td class="APtd4">' + data.ProjectID + '</td>';
                        htmldata += '<td class="APtd5">' + data.CurrencyCode + '</td>';

                        if (CustomizeAP.indexOf("~5~") > -1) {
                            htmldata += '<td class="APtd5">' + data.Amount + '</td>';
                        }
                        htmldata += '<td title="' + data.SpecialCaseReason + '" class="APtd7">' + splcaseRsn + '</td>';
                        if (CustomizeAP.indexOf("~7~") > -1) {
                            htmldata += '<td class="APtd8">' + gridMailIdval + '</td>';
                        }
                        if (CustomizeAP.indexOf("~8~") > -1) {
                            htmldata += '<td class="APtd7">' + data.RejectionReason + '</td>';
                        }
                        htmldata += '<td title="' + data.Status + '" class="APtd3">' + status + '</td>';
                        if (CustomizeAP.indexOf("~10~") > -1) {
                            htmldata += '<td class="APtd7">' + attachMailIdval + '</td>';
                        }
                        htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }

                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PrimaryKey + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + '/></td>';
                            htmldata += '<td class="APtd2">' + data.AssociateID + '</td>';
                            htmldata += '<td class="APtd3">' + data.PayoutType + '</td>';
                            htmldata += '<td class="APtd4">' + data.ProjectID + '</td>';
                            htmldata += '<td class="APtd5">' + data.CurrencyCode + '</td>';

                            if (CustomizeAP.indexOf("~5~") > -1) {
                                htmldata += '<td class="APtd5">' + data.Amount + '</td>';
                            }
                            htmldata += '<td title="' + data.SpecialCaseReason + '" class="APtd7">' + splcaseRsn + '</td>';

                            if (CustomizeAP.indexOf("~7~") > -1) {
                                htmldata += '<td class="APtd8">' + gridMailIdval + '</td>';
                            }
                            if (CustomizeAP.indexOf("~8~") > -1) {
                                htmldata += '<td class="APtd7">' + data.RejectionReason + '</td>';
                            }
                            htmldata += '<td title="' + data.Status + '" class="APtd3">' + status + '</td>';
                            if (CustomizeAP.indexOf("~10~") > -1) {
                                htmldata += '<td class="APtd7">' + attachMailIdval + '</td>';
                            }
                            htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PrimaryKey + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                            htmldata += '<td class="APtd2">' + data.AssociateID + '</td>';
                            htmldata += '<td class="APtd3">' + data.PayoutType + '</td>';
                            htmldata += '<td class="APtd4">' + data.ProjectID + '</td>';
                            htmldata += '<td class="APtd5">' + data.CurrencyCode + '</td>';

                            if (CustomizeAP.indexOf("~5~") > -1) {
                                htmldata += '<td class="APtd5">' + data.Amount + '</td>';
                            }
                            htmldata += '<td title="' + data.SpecialCaseReason + '" class="APtd7">' + splcaseRsn + '</td>';
                            if (CustomizeAP.indexOf("~7~") > -1) {
                                htmldata += '<td class="APtd8">' + gridMailIdval + '</td>';
                            }
                            if (CustomizeAP.indexOf("~8~") > -1) {
                                htmldata += '<td class="APtd7">' + data.RejectionReason + '</td>';
                            }
                            htmldata += '<td title="' + data.Status + '" class="APtd3">' + status + '</td>';
                            if (CustomizeAP.indexOf("~10~") > -1) {
                                htmldata += '<td class="APtd7">' + attachMailIdval + '</td>';
                            }
                            htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }

                });
            }
            else {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var status = '';
                    if (data.Status != null) {
                        status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                    }
                    var splcaseRsn = (data.SpecialCaseReason.length > 10) ? data.SpecialCaseReason.substring(0, 10) + '..' : data.SpecialCaseReason;

                    if (cutoff_date == NaN) {
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PrimaryKey + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                    }
                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {

                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PrimaryKey + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + '/></td>';
                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PrimaryKey + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + '/></td>';
                        }
                        else {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PrimaryKey + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                        }
                    }
                    htmldata += '<td class="APtd13">' + data.AssociateID + '</td>';
                    htmldata += '<td class="APtd13">' + data.PayoutType + '</td>';
                    htmldata += '<td class="APtd13">' + data.ProjectID + '</td>';
                    htmldata += '<td class="APtd13">' + data.CurrencyCode + '</td>';
                    htmldata += '<td title="' + data.SpecialCaseReason + '" class="APtd6">' + splcaseRsn + '</td>';
                    htmldata += '<td title="' + data.Status + '" class="APtd13">' + status + '</td>';

                    if (cutoff_date == NaN) {
                        htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                    }
                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }

                });

            }
            $('#AdditionalPayoutdetails').find('tbody').html('').html(htmldata);
            if ($(".APvalid").length == $(".APvalid:disabled").length) {
                $("#apvalid").attr("disabled", "disabled");
            }
            else {
                $("#apvalid").removeAttr("disabled");
            }

        }
        else {
            $("#AdditionalPayoutGridValues").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    else if (componentGroupId == 19 && CountryId != 2) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").hide();
        $("#a_otherGeo").hide();

        $("#AdditionalPayoutdetails").show();
        $('#tblAdditionalPayout').css('display', 'block');
        $('#AdditionalPayoutdetails .viewport').css('display', 'block');
        $('#AdditionalPayoutdetails .viewport').css('overflow', 'scroll');

        $('#AdditionalPayoutdetails .dataTableScroll').css('display', 'block');
        $('#AdditionalPayoutdetails .refPage').css('display', 'block');
        $('#AdditionalPayoutdetails').find('tbody').html('');
        $('#AdditionalPayoutdetails_wrapper').css('display', 'block');

        //$('.refPage').css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "320px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "20px");
        $(".delete_btn").show();
        $('#aid1').css("margin-left", "17px");
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        $("#aid2").attr("maxlength", "10");
        $("#aid2").numeric();

        //  $('.error_msg_reject').css('left', '320px');
        getTotalPages();
        $('.error_msg_reject').css('left', '320px');
        $("#NoData").remove();
        var htmldata = '';
        htmldata += '<tr><th class="APtd1"><input type="checkbox" id="apvalid" /></th>';
        htmldata += ' <th class="sort APtd11" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="APtd10" column="PayoutType">PayoutType</th>';
        htmldata += ' <th class="sort APtd11" column="ProjectID">ProjectID</th>';
        htmldata += ' <th class="sort APtd11" column="CurrencyCode">CurrencyCode </th>';
        htmldata += ' <th class="sort APtd11" column="Amount">Amount </th>';
        htmldata += ' <th class="APtd6" column="SplCaseReason">SplCaseReason </th>';
        htmldata += ' <th class="APtd8" column="SplCaseMail">SplCaseMail</th>';
        htmldata += ' <th class="APtd10">Installments </th>';
        htmldata += ' <th class="APtd10">PayrollMonth </th>';
        htmldata += ' <th class="APtd11">Year </th>';
        htmldata += ' <th class="APtd7" column="Approvalmail">Approval Mail</th>';
        htmldata += ' <th column="Status" class="sort APtd11">Status</th>';
        htmldata += ' <th class="APtd9">Edit</th></tr>';

        $('#AdditionalPayoutdetails').find('thead').html('').html(htmldata);
        var htmldata = '';
        if (msg.d.length > 0) {
            $("#AdditionalPayoutdetails .refPage").css("display", "block");
            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var status = '';
                var splcaseRsn = '';
                if (data.Status != null) {
                    status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                }
                if (data.SpecialCaseReason != null) {
                    splcaseRsn = (data.SpecialCaseReason.length > 10) ? data.SpecialCaseReason.substring(0, 10) + '..' : data.SpecialCaseReason;

                }
                else {
                    splcaseRsn = '';
                }
                var SplCaseMailUploadId = data.SpecialCaseMail;
                var gridMailIdval = "";
                if ((SplCaseMailUploadId == 0) || (SplCaseMailUploadId == null)) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SpecialCaseMail + ' class="mail_btn" fileuploadid=' + data.SpecialCaseMail + '/>';
                }

                var fileUploadId = data.FileUploadId;
                var attachMailIdval = "";
                if ((fileUploadId == 0) || (fileUploadId == null)) {
                    attachMailIdval = "<div></div>";
                }
                else {
                    attachMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileUploadId + ' class="mail_btn" fileuploadid=' + data.FileUploadId + '/>';
                }

                if (cutoff_date == NaN) {
                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPAdditionalPayoutID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPAdditionalPayoutID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + '/></td>';
                }
                else if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPAdditionalPayoutID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + '/></td>';
                }
                htmldata += '<td class="APtd11">' + data.AssociateID + '</td>';
                htmldata += '<td class="APtd10">' + data.PayoutType + '</td>';
                htmldata += '<td class="APtd11">' + data.ProjectID + '</td>';
                htmldata += '<td class="APtd11">' + data.CurrencyCode + '</td>';
                htmldata += '<td class="APtd11">' + data.Amount + '</td>';
                htmldata += '<td title="' + data.SpecialCaseReason + '" class="APtd6">' + splcaseRsn + '</td>';
                htmldata += '<td class="APtd8">' + gridMailIdval + '</td>';
                htmldata += '<td class="APtd10">' + data.Installments + '</td>';
                htmldata += '<td class="APtd10">' + data.PayrollMonth + '</td>';
                htmldata += '<td class="APtd11">' + data.PayrollYear + '</td>';
                htmldata += '<td class="APtd7">' + attachMailIdval + '</td>';
                htmldata += '<td title="' + data.Status + '" class="APtd11">' + status + '</td>';
                if (cutoff_date == NaN) {
                    htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                    htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }

            });

            $('#AdditionalPayoutdetails').find('tbody').html('').html(htmldata);
            if ($(".APvalid").length == $(".APvalid:disabled").length) {
                $("#apvalid").attr("disabled", "disabled");
            }
            else {
                $("#apvalid").removeAttr("disabled");
            }

        }
        else {
            $("#AdditionalPayoutGridValues").append("<tr class='even' id='NoData'><td colspan='14' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    else if (componentGroupId == 20 && CountryId == 2) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').show();
        $("#customize").show();
        $("#ulRecord").css('display', 'block');
        $("#a_otherGeo").hide();

        $('#additionaldeductions').show();
        $('#additionaldeductions .dataTableScroll').css('display', 'block');
        $('#tbldeduction').css('display', 'block');
        $('#additionaldeductions .viewport').css('display', 'block');
        $('#additionaldeductions .viewport').css('overflow', 'scroll');

        $('#additionaldeductions').find('tbody').html('');
        $('#additionaldeductions_wrapper').css('display', 'block');

        //$('.dataTableScroll').css('display', 'block');

        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");
        $('#customize').css('left', '250px');
        //$('#disLabel').css('margin-left', '380px');
        //$("#disLabel").css("margin-left", "300px");
        $("#ulRecord").css("display", "block");
        $("#a_otherGeo").css("display", "none !important");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $("#mailattach").css("left", "260px");
        $('.error_msg_reject').css('left', '355px');
        getTotalPages();

        $("#NoData").remove();

        if (CustomizeAD != '~1~2~4~5~6~7~') {
            var htmldata = '';
            htmldata += '<tr><th class="Ad1"><input type="checkbox" id="advalid" /></th>';
            htmldata += ' <th id="Th5" class="sort Ad8" column="AssociateID">Associate ID</th>';
            htmldata += ' <th class="sort Ad8" column="DeductionType">Deduction Type</th>';
            htmldata += ' <th class="sort Ad8" column="CurrencyCode">Currency Code</th>';
            htmldata += ' <th class="sort Ad8" column="Amount">Amount</th>';
            htmldata += ' <th column="ProjectID" class="sort Ad8">Project ID</th>';
            htmldata += ' <th class="sort Ad8" column="Status">Status</th>';

            if (CustomizeAD.indexOf("~3~") > -1) {
                htmldata += ' <th class="Ad8" column="Installments">Installments</th>';
            }

            if (CustomizeAD.indexOf("~8~") > -1) {
                htmldata += ' <th column="ApprovalMail" class="Ad8">Approval Mail</th>';

            }
            if (CustomizeAD.indexOf("~9~") > -1) {
                htmldata += ' <th class="sort Ad8" column="RejectionReason">Rejection Reason</th>';
            }

            htmldata += ' <th class="Ad11">Edit</th></tr>';

            $('#tbldeduction').find('thead').html('').html(htmldata);
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th class="Ad1"><input type="checkbox" id="advalid" /></th>';
            htmldata += ' <th id="Th5" class="sort Ad8" column="AssociateID">Associate ID</th>';
            htmldata += ' <th class="sort Ad8" column="DeductionType">Deduction Type</th>';
            htmldata += ' <th class="sort Ad8" column="CurrencyCode">Currency Code</th>';
            htmldata += ' <th class="sort Ad8" column="Amount">Amount</th>';
            htmldata += ' <th column="ProjectID" class="sort Ad8">Project ID</th>';
            htmldata += ' <th class="sort Ad8" column="Status">Status</th>';
            htmldata += ' <th class="Ad11">Edit</th></tr>';

            $('#tbldeduction').find('thead').html('').html(htmldata);
        }

        if (msg.d.length > 0) {
            $("#additionaldeductions .refPage").css("display", "block");
            var classname = '';
            if (CustomizeAD != '~1~2~4~5~6~7~') {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';
                    if (data.Remarks != null) {
                        remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                    }
                    //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    var d = new Date();
                    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                    // End date//
                    var cutoffdatesplit = cutoffdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                    var cutoff_date = date.getTime();

                    //cut off start  date //
                    var cutoffstartdatesplit = cutoffStartdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                    var cutoffStart_date = date.getTime();

                    var todaysplit = today.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                    var today_date = Date1.getTime();

                    var SplCaseMailUploadId = data.FileUploadId;
                    var gridMailIdval = "";
                    if (SplCaseMailUploadId == 0) {
                        gridMailIdval = "<div></div>";
                    }
                    else {
                        gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileUploadId + ' class="mail_btn" fileuploadid=' + data.FileUploadId + '/>';
                    }

                    var status = '';
                    if (data.Status != null) {
                        status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                    }

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPAdditionalDeductionID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid Ad1" id=' + (i + 1) + ' /></td><td class="ref Ad8">' + data.AssociateID + '</td><td class="Ad8">' + data.DeductionType + '</td><td style="text-align:center;" class="Ad8">' + data.CurrencyCode + '</td><td class="Ad8">' + data.Amount + '</td><td class="Ad8">' + data.projectID + '</td><td style="text-align:center;" title="' + data.Status + '" class="Ad8">' + status + '</td>';

                        if (CustomizeAD.indexOf("~3~") > -1) {
                            grid_html += '<td class="sort Ad8" style="text-align:center;" Installments="' + data.Installments + '">' + data.Installments + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';

                        }

                        if (CustomizeAD.indexOf("~8~") > -1) {
                            grid_html += '<td class="Ad8" style="text-align:center;">' + gridMailIdval + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';

                        }
                        if (CustomizeAD.indexOf("~9~") > -1) {
                            grid_html += '<td class="Ad8" style="text-align:center;" RejectionReason="' + data.RejectionReason + '">' + data.RejectionReason + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                        }

                        grid_html += '<td class="Ad12"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPAdditionalDeductionID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid Ad1" id=' + (i + 1) + ' /></td><td class="ref Ad8">' + data.AssociateID + '</td><td class="Ad8">' + data.DeductionType + '</td><td style="text-align:center;" class="Ad8">' + data.CurrencyCode + '</td><td class="Ad8">' + data.Amount + '</td><td class="Ad8">' + data.ProjectID + '</td><td style="text-align:center;" title="' + data.Status + '" class="Ad8">' + status + '</td>';
                        if (CustomizeAD.indexOf("~3~") > -1) {
                            grid_html += '<td class="sort Ad8" style="text-align:center;" Installments="' + data.Installments + '">' + data.Installments + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';

                        }

                        if (CustomizeAD.indexOf("~8~") > -1) {
                            grid_html += '<td class="Ad8" style="text-align:center;">' + gridMailIdval + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';

                        }
                        if (CustomizeAD.indexOf("~9~") > -1) {
                            grid_html += '<td class="Ad8" style="text-align:center;" RejectionReason="' + data.RejectionReason + '">' + data.RejectionReason + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                        }

                        grid_html += '<td class="Ad12"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPAdditionalDeductionID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid Ad1" id=' + (i + 1) + ' /></td><td class="ref Ad8">' + data.AssociateID + '</td><td class="Ad8">' + data.DeductionType + '</td><td style="text-align:center;" class="Ad8">' + data.CurrencyCode + '</td><td class="Ad8">' + data.Amount + '</td><td class="Ad8">' + data.ProjectID + '</td><td style="text-align:center;" title="' + data.Status + '"  class="Ad8">' + status + '</td>';

                            if (CustomizeAD.indexOf("~3~") > -1) {
                                grid_html += '<td class="sort Ad8" style="text-align:center;" Installments="' + data.Installments + '">' + data.Installments + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';

                            }

                            if (CustomizeAD.indexOf("~8~") > -1) {
                                grid_html += '<td class="Ad8" style="text-align:center;">' + gridMailIdval + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';

                            }
                            if (CustomizeAD.indexOf("~9~") > -1) {
                                grid_html += '<td class="Ad8" style="text-align:center;" RejectionReason="' + data.RejectionReason + '">' + data.RejectionReason + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                            }

                            grid_html += '<td class="Atd12"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPAdditionalDeductionID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid Ad1" id=' + (i + 1) + ' /></td><td class="ref Ad8">' + data.AssociateID + '</td><td class="Ad8">' + data.DeductionType + '</td><td style="text-align:center;" class="Ad8">' + data.CurrencyCode + '</td><td class="Ad8">' + data.Amount + '</td><td class="Ad8">' + data.ProjectID + '</td><td style="text-align:center;" title="' + data.Status + '" class="Ad8">' + status + '</td>';
                            if (CustomizeAD.indexOf("~3~") > -1) {
                                grid_html += '<td class="sort Ad8" style="text-align:center;" Installments="' + data.Installments + '">' + data.Installments + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';

                            }

                            if (CustomizeAD.indexOf("~8~") > -1) {
                                grid_html += '<td class="Ad8" style="text-align:center;">' + gridMailIdval + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';

                            }
                            if (CustomizeAD.indexOf("~9~") > -1) {
                                grid_html += '<td class="Ad8" style="text-align:center;" RejectionReason="' + data.RejectionReason + '">' + data.RejectionReason + '</td>';//  '<td width="100px">' + data.Project_ID + '</td>';
                            }
                            grid_html += '<td class="Ad12"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }
            else {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var status = '';
                    if (data.Status != null) {
                        status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                    }

                    var d = new Date();
                    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                    // End date//
                    var cutoffdatesplit = cutoffdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                    var cutoff_date = date.getTime();

                    //cut off start  date //
                    var cutoffstartdatesplit = cutoffStartdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                    var cutoffStart_date = date.getTime();

                    var todaysplit = today.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                    var today_date = Date1.getTime();


                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPAdditionalDeductionID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid Ad1" id=' + (i + 1) + ' /></td><td class="ref Ad8">' + data.AssociateID + '</td><td class="Ad8">' + data.DeductionType + '</td><td style="text-align:center;" class="Ad8">' + data.CurrencyCode + '</td><td class="Ad8">' + data.Amount + '</td><td class="Ad8">' + data.ProjectID + '</td><td style="text-align:center;" title="' + data.Status + '"  class="Ad8">' + status + '</td><td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPAdditionalDeductionID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid Ad1" id=' + (i + 1) + ' /></td><td class="ref Ad8">' + data.AssociateID + '</td><td class="Ad8">' + data.DeductionType + '</td><td style="text-align:center;" class="Ad8">' + data.CurrencyCode + '</td><td class="Ad8">' + data.Amount + '</td><td class="Ad8">' + data.ProjectID + '</td><td style="text-align:center;" title="' + data.Status + '" class="Ad8">' + status + '</td><td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPAdditionalDeductionID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid Ad1" id=' + (i + 1) + ' /></td><td class="ref Ad8">' + data.AssociateID + '</td><td class="Ad8">' + data.DeductionType + '</td><td style="text-align:center;" class="Ad8">' + data.CurrencyCode + '</td><td class="Ad8">' + data.Amount + '</td><td class="Ad8">' + data.ProjectID + '</td><td style="text-align:center;" title="' + data.Status + '" class="Ad8">' + status + '</td><td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPAdditionalDeductionID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid Ad1" id=' + (i + 1) + ' /></td><td class="ref Ad8">' + data.AssociateID + '</td><td class="Ad8">' + data.DeductionType + '</td><td style="text-align:center;" class="Ad8">' + data.CurrencyCode + '</td><td class="Ad8">' + data.Amount + '</td><td class="Ad8">' + data.ProjectID + '</td><td style="text-align:center;" title="' + data.Status + '" class="Ad8">' + status + '</td><td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                    }
                });
            }
            $('#tbldeduction').find('tbody').html('').html(grid_html);
            if ($(".referralvalid").length == $(".referralvalid:disabled").length) {
                $("#advalid").attr("disabled", "disabled");
            }
            else {
                $("#advalid").removeAttr("disabled");
            }
        }
        else {
            $("#tbldeduction").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    else if (componentGroupId == 20 && CountryId != 2) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        //$('#mailattach').show();
        $("#customize").hide();


        $('#additionaldeductions').show();
        $('#additionaldeductions .dataTableScroll').css('display', 'block');
        $('#tbldeduction').css('display', 'block');
        $('#additionaldeductions .viewport').css('display', 'block');
        $('#additionaldeductions .viewport').css('overflow', 'scroll');
        $('#additionaldeductions .dataTableScroll').css('display', 'block');
        $('#additionaldeductions .refPage').css('display', 'block');
        $('#additionaldeductions').find('tbody').html('');
        $('#additionaldeductions_wrapper').css('display', 'block');

        //$('.refPage').css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "325px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "20px");
        $(".delete_btn").show();
        $('#aid1').css("margin-left", "17px");
        $('.error_msg_reject').css('left', '355px');
        getTotalPages();

        $("#NoData").remove();
        var htmldata = '';
        htmldata += '<tr><th class="APtd1"><input type="checkbox" id="apvalid" /></th>';
        htmldata += ' <th class="sort APtd11" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="APtd10" column="DeductionType">DeductionType</th>';
        htmldata += ' <th class="sort APtd11" column="ProjectID">ProjectID</th>';
        htmldata += ' <th class="APtd11" column="CurrencyCode">CurrencyCode </th>';
        htmldata += ' <th class="sort APtd11" column="Amount">Amount </th>';
        htmldata += ' <th class="APtd6" column="SplCaseReason">SplCaseReason </th>';
        //htmldata += ' <th class="APtd10">Installments </th>';
        htmldata += ' <th class="APtd10">PayrollMonth </th>';
        htmldata += ' <th class="APtd11">Year </th>';
        htmldata += ' <th class="APtd7" column="Approvalmail">Approval Mail</th>';
        htmldata += ' <th column="Status" class="APtd11">Status</th>';
        htmldata += ' <th class="APtd9">Edit</th></tr>';

        $('#additionaldeductions').find('thead').html('').html(htmldata);
        var htmldata = '';
        if (msg.d.length > 0) {
            $("#additionaldeductions .refPage").css("display", "block");
            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var status = '';
                if (data.Status != null) {
                    status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                }
                var splcaseRsn = (data.SpecialCaseReason.length > 10) ? data.SpecialCaseReason.substring(0, 10) + '..' : data.SpecialCaseReason;

                if (cutoff_date == NaN) {
                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PrimaryKey + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PrimaryKey + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + '/></td>';
                }
                //else
                //{
                ///if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PrimaryKey + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + '/></td>';
                        }
                    }
                }
                if (data.FileUploadId == 0) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileUploadId + ' class="mail_btn" fileuploadid=' + data.FileUploadId + '/>';
                }
                //// htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PrimaryKey + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                htmldata += '<td class="APtd11">' + data.AssociateID + '</td>';
                htmldata += '<td class="APtd10">' + data.DeductionType + '</td>';
                htmldata += '<td class="APtd11">' + data.ProjectID + '</td>';
                htmldata += '<td class="APtd11">' + data.CurrencyCode + '</td>';
                htmldata += '<td class="APtd11">' + data.Amount + '</td>';
                htmldata += '<td title="' + data.SpecialCaseReason + '" class="APtd6">' + splcaseRsn + '</td>';
                //htmldata += '<td class="APtd10">' + data.Installments + '</td>';
                htmldata += '<td class="APtd10">' + data.PayrollMonth + '</td>';
                htmldata += '<td class="APtd11">' + data.PayrollYear + '</td>';
                htmldata += '<td class="APtd7">' + gridMailIdval + '</td>';
                htmldata += '<td title="' + data.Status + '" class="APtd11">' + status + '</td>';
                //// htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                if (cutoff_date == NaN) {
                    htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }
                    else {
                        htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                    }
                }

            });

            // }
            $('#additionaldeductions').find('tbody').html('').html(htmldata);
            if ($(".APvalid").length == $(".APvalid:disabled").length) {
                $("#apvalid").attr("disabled", "disabled");
            }
            else {
                $("#apvalid").removeAttr("disabled");
            }

        }
        else {
            $("#tbldeduction").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    else if (componentGroupId == 25 && CountryId == 6) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").show();

        $('#divMaternityAllowance').show();
        $('#divMaternityAllowance .dataTableScroll').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('overflow', 'scroll');
        $('#tbl_maternity').css('display', 'block');
        $('#divMaternityAllowance .refPage').css('display', 'block');
        $('#divMaternityAllowance').find('tbody').html('');
        $('#divMaternityAllowance_wrapper').css('display', 'block');

        $("#aid1").attr("maxlength", "11");
        //$('.refPage').css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");

        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "-32px");
        //$("#ulRecord li").css("left", "30px");
        //$("#customize").css("margin-top", "33px");
        $("#mailattach").css("margin-top", "33px");
        //$("#disLabel").css("margin-top", "33px");
        //$("#selectRecord").css("margin-top", "36px");
        $('.new_btn').css("margin-left", "20px");
        $(".delete_btn").show();
        $('#aid1').css("margin-left", "17px");
        $('.error_msg_reject').css('left', '355px');
        getTotalPages();

        $("#NoData").remove();
        if (CustomizeMA != '~1~4~5~6~7~8') {
            var htmldata = '';
            htmldata += '<tr><th class="APtd1"><input type="checkbox" id="apvalid" /></th>';
            htmldata += ' <th class="sort MAtd2" column="AssociateID">Associate ID </th>';
            if (CustomizeMA.indexOf("~2~") > -1) {
                htmldata += ' <th class="sort MAtd5" column="Amount">Grade </th>';
            }

            if (CustomizeMA.indexOf("~3~") > -1) {
                htmldata += ' <th class="MAtd8" column="SplCaseMail">Marital Status</th>';
            }
            htmldata += ' <th class="MAtd3" column="Type">Type</th>';
            htmldata += ' <th class="sort MAtd4" column="PayrollMonth">Payroll Month</th>';
            htmldata += ' <th class="MAtd5" column="PayrollYear">Year </th>';
            htmldata += ' <th class="MAtd5" column="Amount">Amount</th>';
            htmldata += ' <th class="MAtd5" column="Status">Status</th>';

            htmldata += ' <th class="MAtd9">Edit</th></tr>';

            $('#divMaternityAllowance').find('thead').html('').html(htmldata);
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th class="APtd1"><input type="checkbox" id="apvalid" /></th>';
            htmldata += ' <th class="sort MAtd2" column="AssociateID">Associate ID </th>';
            htmldata += ' <th class="MAtd3" column="PayoutType">Type</th>';
            htmldata += ' <th class="sort MAtd4" column="PayrollMonth">Payroll Month</th>';
            htmldata += ' <th class="MAtd5" column="PayrollYear">Year </th>';
            htmldata += ' <th class="MAtd5" column="Amount">Amount</th>';
            htmldata += ' <th class="MAtd5" column="Status">Status</th>';

            htmldata += ' <th class="MAtd9">Edit</th></tr>';

            $('#divMaternityAllowance').find('thead').html('').html(htmldata);
        }
        var htmldata = '';
        if (msg.d.length > 0) {
            $("#divMaternityAllowance .refPage").css("display", "block");
            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';

            if (CustomizeMA != '~1~4~5~6~7~8') {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }

                    var status;
                    if (data.Status != null) {
                        status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                    }

                    if (cutoff_date == NaN) {

                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                        htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';
                        if (CustomizeMA.indexOf("~2~") > -1) {
                            htmldata += '<td class="APtd5">' + data.Grade + '</td>';
                        }
                        if (CustomizeMA.indexOf("~3~") > -1) {
                            htmldata += '<td class="MAtd5">' + data.MaritalStatus + '</td>';
                        }
                        htmldata += '<td class="MAtd3">' + data.Type + '</td>';
                        htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                        htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                        htmldata += '<td class="MAtd6">' + data.Amount + '</td>';
                        htmldata += '<td class="MAtd6">' + data.Status + '</td>';
                        htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                    }
                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + '/></td>';
                        htmldata += '<td class="APtd2">' + data.AssociateID + '</td>';
                        if (CustomizeMA.indexOf("~2~") > -1) {
                            htmldata += '<td class="MAtd5">' + data.Grade + '</td>';
                        }
                        if (CustomizeMA.indexOf("~3~") > -1) {
                            htmldata += '<td class="MAtd5">' + data.MaritalStatus + '</td>';
                        }
                        htmldata += '<td class="MAtd3">' + data.Type + '</td>';
                        htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                        htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                        htmldata += '<td class="MAtd6">' + data.Amount + '</td>';
                        htmldata += '<td class="MAtd6">' + data.Status + '</td>';
                        htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }

                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                            htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';
                            if (CustomizeMA.indexOf("~2~") > -1) {
                                htmldata += '<td class="MAtd5">' + data.Grade + '</td>';
                            }
                            if (CustomizeMA.indexOf("~3~") > -1) {
                                htmldata += '<td class="MAtd5">' + data.MaritalStatus + '</td>';
                            }
                            htmldata += '<td class="MAtd3">' + data.Type + '</td>';
                            htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                            htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                            htmldata += '<td class="MAtd6">' + data.Amount + '</td>';
                            htmldata += '<td class="MAtd6">' + data.Status + '</td>';
                            htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' /></td>';
                            htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';
                            if (CustomizeMA.indexOf("~2~") > -1) {
                                htmldata += '<td class="MAtd5">' + data.Grade + '</td>';
                            }
                            if (CustomizeMA.indexOf("~3~") > -1) {
                                htmldata += '<td class="MAtd5">' + data.MaritalStatus + '</td>';
                            }
                            htmldata += '<td class="MAtd3">' + data.Type + '</td>';
                            htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                            htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                            htmldata += '<td class="MAtd6">' + data.Amount + '</td>';
                            htmldata += '<td class="MAtd6">' + data.Status + '</td>';
                            htmldata += ' <td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }

                });
            }
            else {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var status = '';
                    if (data.Status != null) {
                        status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                    }


                    if (cutoff_date == NaN) {
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                        htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';

                        htmldata += '<td class="MAtd3">' + data.Type + '</td>';
                        htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                        htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                        htmldata += '<td class="MAtd6">' + data.Amount + '</td>';
                        htmldata += '<td class="MAtd6">' + data.Status + '</td>';
                        htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {

                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' /></td>';
                        htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';

                        htmldata += '<td class="MAtd3">' + data.Type + '</td>';
                        htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                        htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                        htmldata += '<td class="MAtd6">' + data.Amount + '</td>';
                        htmldata += '<td class="MAtd6">' + data.Status + '</td>';
                        htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                            if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                                htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                                htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';

                                htmldata += '<td class="MAtd3">' + data.Type + '</td>';
                                htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                                htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                                htmldata += '<td class="MAtd6">' + data.Amount + '</td>';
                                htmldata += '<td class="MAtd6">' + data.Status + '</td>';
                                htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                            }
                        }
                        else {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PrimaryKey + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + '/></td>';
                            htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';
                            htmldata += '<td class="MAtd3">' + data.Type + '</td>';
                            htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                            htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                            htmldata += '<td class="MAtd6">' + data.Amount + '</td>';
                            htmldata += '<td class="MAtd6">' + data.Status + '</td>';
                            htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }

                });

            }
            $('#divMaternityAllowance').find('tbody').html('').html(htmldata);
            if ($(".APvalid").length == $(".APvalid:disabled").length) {
                $("#apvalid").attr("disabled", "disabled");
            }
            else {
                $("#apvalid").removeAttr("disabled");
            }

        }
        else {
            $("#tbl_maternity").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 25 && CountryId == 7) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").hide();

        $('#divMaternityAllowance').show();
        $('#divMaternityAllowance .dataTableScroll').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('overflow', 'scroll');
        $('#tbl_maternity').css('display', 'block');
        $('#divMaternityAllowance .refPage').css('display', 'block');
        $('#divMaternityAllowance').find('tbody').html('');
        $('#divMaternityAllowance_wrapper').css('display', 'block');

        $("#aid1").attr("maxlength", "11");
        //$('.refPage').css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        //$("#disLabel").css("margin-top", "30px");
        //$("#selectRecord").css("margin-top", "36px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "-32px");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "20px");
        $(".delete_btn").show();
        $('#aid1').css("margin-left", "17px");
        $('.error_msg_reject').css('left', '355px');
        getTotalPages();

        $("#NoData").remove();

        var htmldata = '';
        htmldata += '<tr><th class="MAtd1"><input type="checkbox" id="apvalid" /></th>';
        htmldata += ' <th class="sort MAtd2" column="AssociateID">AssociateID </th>';
        htmldata += ' <th class="MAtd3" column="NoOfML">NoOfML</th>';
        htmldata += ' <th class="sort MAtd4" column="PayrollMonth">PayrollMonth</th>';
        htmldata += ' <th class="MAtd5" column="Year">Year </th>';
        htmldata += ' <th class="MAtd6" column="Amount">Amount</th>';
        htmldata += ' <th class="MAtd6" column="Status">Status</th>';

        htmldata += ' <th class="MAtd9">Edit</th></tr>';

        $('#divMaternityAllowance').find('thead').html('').html(htmldata);

        var htmldata = '';
        if (msg.d.length > 0) {
            $("#divMaternityAllowance .refPage").css("display", "block");
            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            ////var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            ////var date = new Date(getdate());
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var status = '';
                if (data.Status != null) {
                    status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                }
                ////var splcaseRsn = (data.SpecialCaseReason.length > 10) ? data.SpecialCaseReason.substring(0, 10) + '..' : data.SpecialCaseReason;

                if (cutoff_date == NaN) {
                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                    htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';

                    htmldata += '<td class="MAtd3">' + data.TotalMaternityLeave + '</td>';
                    htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                    htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                    htmldata += '<td class="MAtd6">' + data.Amount + '</td>';
                    htmldata += '<td class="MAtd6">' + data.Status + '</td>';
                    htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                }

                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {

                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + '/></td>';
                    htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';

                    htmldata += '<td class="MAtd3">' + data.TotalMaternityLeave + '</td>';
                    htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                    htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                    htmldata += '<td class="MAtd6">' + data.Amount + '</td>';
                    htmldata += '<td class="MAtd6">' + data.Status + '</td>';
                    htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                            htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';

                            htmldata += '<td class="MAtd3">' + data.TotalMaternityLeave + '</td>';
                            htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                            htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                            htmldata += '<td class="MAtd6">' + data.Amount + '</td>';
                            htmldata += '<td class="MAtd6">' + data.Status + '</td>';
                            htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                    }
                    else {
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                        htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';
                        htmldata += '<td class="MAtd3">' + data.TotalMaternityLeave + '</td>';
                        htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                        htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                        htmldata += '<td class="MAtd6">' + data.Amount + '</td>';
                        htmldata += '<td class="MAtd6">' + data.Status + '</td>';
                        htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                    }
                }

            });


            $('#tbl_maternity').find('tbody').html('').html(htmldata);
            if ($(".APvalid").length == $(".APvalid:disabled").length) {
                $("#apvalid").attr("disabled", "disabled");
            }
            else {
                $("#apvalid").removeAttr("disabled");
            }

        }
        else {
            $("#tbl_maternity").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 28) {  // 28 - incity allowance

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").hide();

        $('#InCityOnsiteAllowance').show();
        $('#InCityOnsiteAllowance .dataTableScroll').css('display', 'block');
        $('#tbl_InCityOnsiteAllowance').css('display', 'block');
        $('#InCityOnsiteAllowance .viewport').css('display', 'block');
        $('#InCityOnsiteAllowance .viewport').css('overflow', 'scroll');

        $('#tbl_InCityOnsiteAllowance').find('tbody').html('');
        $('#tbl_InCityOnsiteAllowance_wrapper').css('display', '');

        //$('.dataTableScroll').css('display', 'block');
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");

        $('#customize').css('left', '370px');
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        $("#ulRecord").css('display', 'block');
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "10px");
        $(".delete_btn").show();
        $(".inner_cont clearfix flft").css('height', '230px');
        $("#aid1").attr("maxlength", "10");
        $("#aid1").numeric();
        //$("#aid2").attr("maxlength", "10");
        //$("#aid2").numeric();
        getTotalPages();
        //$('#tblJoining').css('display', 'none');

        var htmldata = '';
        htmldata += '<tr><th width="35px"><input type="checkbox" id="sbvalid"/>';
        htmldata += '</th><th class="sort Incitytbl1" column="AssociateID" id="Th1">Associate ID </th>';
        htmldata += ' <th column="ProjectID" class="Incitytbl1">Project ID</th>';
        htmldata += '<th class="Incitytbl1" column="StartDate" id="Th3">StartDate  </th>';
        htmldata += '<th class="Incitytbl1" column="EndDate">EndDate </th>';
        htmldata += '<th class="Incitytbl1">Client Address </th>';
        htmldata += '<th class="sort Incitytbl1" column="OfficeLocation">Office Location </th>';
        htmldata += '<th class="sort Incitytbl1" column="NumberOfDays">No Of Days</th>';
        htmldata += '<th class="sort Incitytbl1" column="Amount">Amount</th>';
        htmldata += '<th class="sort Incitytbl1" column="Status">Status </th>';
        htmldata += '<th width="60px">Edit </th></tr>';
        $('#tbl_InCityOnsiteAllowance').find('thead').html('').html(htmldata);


        $("#InCityOnsiteAllowance .refPage").css("display", "block");
        if (msg.d.length > 0) {
            var classname = '';
            $("#InCityOnsiteAllowance .refPage").css("display", "block");

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            //cut-off enddate//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var reworkendcutoffdatesplit = reworkendcutoff.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var reworkenddate = new Date(reworkendcutoffdatesplit[2], reworkendcutoffdatesplit[1] - 1, reworkendcutoffdatesplit[0]); //Y M D
            var reworkendcutoff_date = reworkenddate.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();

            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';

                var Status = (data.Status.length > 30) ? data.Status.substring(0, 30) + '...' : data.Status;
                var clientaddress = (data.ClientAddress.length > 15) ? data.ClientAddress.substring(0, 15) + '...' : data.ClientAddress;
                var officelocation = (data.OfficeLocation.length > 15) ? data.OfficeLocation.substring(0, 15) + '...' : data.OfficeLocation;


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InCityOnsiteAllowance + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InCityOnsiteAllowance + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + '  /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InCityOnsiteAllowance + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        }
                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InCityOnsiteAllowance + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                    }
                }
                grid_html += '<td class="Incitytbl1">' + data.AssociateID + '</td>';
                grid_html += '<td class="Incitytbl1">' + data.ProjectID + '</td>';
                grid_html += '<td class="Incitytbl1">' + data.StartDate + '</td>';
                grid_html += '<td class="Incitytbl1">' + data.EndDate + '</td>';
                grid_html += '<td class="Incitytbl1" title="' + data.ClientAddress + '"  style="text-align:center;" ClientAddress="' + data.ClientAddress + '">' + clientaddress + '</td>';
                grid_html += '<td class="Incitytbl1" title="' + data.OfficeLocation + '" style="text-align:center;" OfficeLocation="' + data.OfficeLocation + '">' + officelocation + '</td>';
                grid_html += '<td class="Incitytbl1">' + data.NumberOfDays + '</td>';
                grid_html += '<td class="Incitytbl1" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                grid_html += '<td class="Incitytbl1" title="' + data.Status + '" status=' + data.Status + '>' + Status + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    if (componentGroupId == 28 && CountryId == 7 && data.Status != "Approved by PFSS Admin" && data.Status != "Approved by Home Manager") {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_detailsd spriteImage"  /></td></tr>';
                    }
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
            });
            $('#tbl_InCityOnsiteAllowance').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_InCityOnsiteAllowance").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 59) {

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "150px  !important");
        $("#customize").hide();
        $(".delete_btn").show();

        $('#SignOnBonus').show();
        $('#SignOnBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .viewport').css('display', 'block');
        $('#SignOnBonus .viewport').css('overflow', 'scroll');
        $('#tblSignonBonus').css('display', 'block');
        $('#tblSignonBonus .viewport').css('display', 'block');
        $('#tblSignonBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .refPage').css('display', 'block');
        $('#SignOnBonus').find('tbody').html('');
        $('#SignOnBonus_wrapper').css('display', 'block');

        $('#customize').css('left', '370px');
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");

        $(".inner_cont clearfix flft").css('height', '230px');

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();

        getTotalPages();

        var htmldata = '';
        htmldata += '<tr><th class="sbtbl1" width="35px"><input type="checkbox" id="sbvalid"/></th>';
        htmldata += '<th class="sort commutetbl" column="AssociateID" id="Th1">Associate ID </th>';
        htmldata += '<th class="commutetbl">Country Where</br> Bonus Accrued</th>';
        htmldata += '<th class="commutetbl">Hire Type</th>';
        // htmldata += '<th class="commutetbl">PayoutType  </th>';
        htmldata += '<th class="commutetbl">Currency</th>';
        htmldata += '<th class="commutetbl">Bonus Type</th>';
        htmldata += '<th class="commutetbl">Rejection Reason</th>';
        htmldata += '<th class="commutetbl">PerformancePay </th>';
        htmldata += '<th class="commutetbl">Target Bonus </th>';
        htmldata += '<th class="commutetbl">Calculated Plan </th>';
        htmldata += '<th class="commutetbl">Total</br> Payment </th>';
        htmldata += '<th class="commutetbl">UK Bonus</br>Sacrifice </th>';
        htmldata += '<th class="commutetbl">Active Country </th>';
        htmldata += '<th class="commutetbl">Paygroup Type </th>';
        htmldata += '<th class="commutetbl">Comments </th>';
        htmldata += '<th class="sort commutetbl" column="Status">Status </th>';
        htmldata += '<th width="60px">Edit </th></tr>';
        $('#tblSignonBonus').find('thead').html('').html(htmldata);

        if (msg.d.length > 0) {
            var classname = '';
            $("#SignOnBonus .refPage").css("display", "block");

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            //cut-off enddate//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var reworkendcutoffdatesplit = reworkendcutoff.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var reworkenddate = new Date(reworkendcutoffdatesplit[2], reworkendcutoffdatesplit[1] - 1, reworkendcutoffdatesplit[0]); //Y M D
            var reworkendcutoff_date = reworkenddate.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();

            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var rejectionreason = '';

                if (data.RejectionReason != null) {
                    rejectionreason = (data.RejectionReason.length > 20) ? data.RejectionReason.substring(0, 20) + '...' : data.RejectionReason;
                }
                else {
                    rejectionreason = '';
                }

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_YearEndBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_YearEndBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + '  /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_YearEndBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        }
                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_YearEndBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                    }
                }
                grid_html += '<td class="commutetbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="commutetbl">' + data.CountryBonus + '</td>';
                grid_html += '<td class="commutetbl">' + data.HireType + '</td>';
                //grid_html += '<td class="commutetbl">' + data.PayoutType + '</td>';
                grid_html += '<td class="commutetbl">' + data.Currency + '</td>';
                grid_html += '<td class="commutetbl">' + data.BonusType + '</td>';
                grid_html += '<td class="commutetbl" title="' + data.RejectionReason + '">' + rejectionreason + '</td>';
                grid_html += '<td class="commutetbl">' + data.PerformancePay + '</td>';
                grid_html += '<td class="commutetbl">' + data.TargetBonus + '</td>';
                grid_html += '<td class="commutetbl">' + data.CalculatedPlan + '</td>';
                grid_html += '<td class="commutetbl">' + data.TotalPayment + '</td>';
                grid_html += '<td class="commutetbl">' + data.UKBonusSacrifice + '</td>';
                grid_html += '<td class="commutetbl">' + data.ActiveCountry + '</td>';
                grid_html += '<td class="commutetbl">' + data.PaygroupType + '</td>';
                grid_html += '<td class="commutetbl">' + data.Comments + '</td>';
                grid_html += '<td class="commutetbl" status=' + data.Status + '>' + data.Status + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
            });

            $('#tblSignonBonus').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSignonBonus").append("<tr class='even' id='NoData'><td colspan='18' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#sbvalid').attr("disabled", "disabled");
        }
    }

    else if ((componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 57) && CountryId != 20) {  // 29- Sign on bonus 

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");
        if (componentGroupId == 29 && CountryId == 3) {
            $("#customize").show();
        }
        else {
            $("#customize").hide();
        }
        $('#SDDetails').hide();
        $('#SignOnBonus').show();
        $('#SignOnBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .viewport').css('display', 'block');
        $('#SignOnBonus .viewport').css('overflow', 'scroll');
        $('#tblSignonBonus').css('display', 'block');
        $('#tblSignonBonus .viewport').css('display', 'block');
        $('#tblSignonBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .refPage').css('display', 'block');
        $('#SignOnBonus').find('tbody').html('');
        $('#SignOnBonus_wrapper').css('display', 'block');

        $('#customize').css('left', '370px');
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "10px");
        if (CountryId == 18 || CountryId == 19) {
            $('.new_btn').css("margin-left", "108px");
        }
        $(".inner_cont clearfix flft").css('height', '230px');

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();

        getTotalPages();
        //$('#tblJoining').css('display', 'none');
        if (componentGroupId == 29 && CountryId == 3) {
            if (CustomizeSoB != '~1~5~6~7~') {
                var htmldata = '';
                htmldata += '<tr><th class="sbtbl1" width="35px"><input type="checkbox" id="sbvalid"/>';
                htmldata += '</th><th class="sort sbtbl2" column="AssociateID" id="Th1">Associate ID </th>';
                if (CustomizeSoB.indexOf("~2~") > -1) {
                    htmldata += ' <th class="sbtbl2">DOJ</th>';
                }
                if (CustomizeSoB.indexOf("~3~") > -1) {
                    htmldata += ' <th column="AdvisedMonth" class="sbtbl2">AdvisedMonth</th>';
                }
                if (CustomizeSoB.indexOf("~4~") > -1) {
                    htmldata += ' <th class="sbtbl2">Year</th>';
                }
                htmldata += '<th class="sort sbtbl2" column="PayoutType" id="Th3">PayoutType  </th>';
                htmldata += '<th class="sort sbtbl2" column="Amount">Amount </th>';
                htmldata += '<th class="sort sbtbl2" column="Status">Status </th>';
                htmldata += '<th width="60px">Edit </th></tr>';
                $('#tblSignonBonus').find('thead').html('').html(htmldata);
            }
            else {
                var htmldata = '';
                htmldata += '<tr><th width="35px"><input type="checkbox" id="sbvalid" /></th>';
                htmldata += '<th class="sort sbtbl" column="AssociateID"  id="Th1">Associate ID </th>';
                htmldata += '<th class="sort sbtbl" column="PayoutType" id="Th3">PayoutType  </th>';
                htmldata += '<th class="sort sbtbl" column="Amount">Amount </th>';
                htmldata += '<th class="sort sbtbl" column="Status">Status </th>';
                htmldata += '<th width="60px">Edit</th></tr>';
                $('#tblSignonBonus').find('thead').html('').html(htmldata);
            }
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th class="sbtbl1" width="35px"><input type="checkbox" id="sbvalid"/>';
            htmldata += '</th><th class="sort commutetbl" column="AssociateID" id="Th1">Associate ID </th>';
            htmldata += '<th class="commutetbl">AssociateName </th>';
            htmldata += ' <th class="commutetbl">DOJ</th>';
            htmldata += ' <th column="AdvisedMonth" class="sort commutetbl">AdvisedMonth</th>';
            htmldata += ' <th column="Year" class="sort commutetbl">Year</th>';
            htmldata += '<th class="sort commutetbl" column="PayoutType" id="Th3">PayoutType  </th>';
            htmldata += '<th class="sort commutetbl" column="Amount">Amount </th>';
            htmldata += '<th class="commutetbl">Rejection Reason</th>';
            if ((componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 57) && (CountryId == 18 || CountryId == 19)) {
                if (componentGroupId == 49 || componentGroupId == 57) {
                    htmldata += '<th class="jbtblcustom">RetentionPeriodEndDate </th>';
                    htmldata += '<th class="jbtblcustom">Project ID</th>';
                }
                htmldata += '<th class="jbtblcustom">Currency</th>';
                htmldata += '<th class="jbtblcustom">Comments</th>';
            }

            htmldata += '<th class="sort commutetbl" column="Status">Status </th>';
            htmldata += '<th width="60px">Edit </th></tr>';
            $('#tblSignonBonus').find('thead').html('').html(htmldata);
        }

        $("#SignOnBonus .refPage").css("display", "block");
        if (msg.d.length > 0) {
            var classname = '';
            $("#SignOnBonus .refPage").css("display", "block");

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            //cut-off enddate//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var reworkendcutoffdatesplit = reworkendcutoff.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var reworkenddate = new Date(reworkendcutoffdatesplit[2], reworkendcutoffdatesplit[1] - 1, reworkendcutoffdatesplit[0]); //Y M D
            var reworkendcutoff_date = reworkenddate.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            if (componentGroupId == 29 && CountryId == 3) {
                if (CustomizeSoB != '~1~5~6~7~') {
                    $.each(msg.d, function (i, data) {

                        if ((i % 2) == 0) {
                            classname = 'even';
                        }
                        else {
                            classname = 'odd';
                        }
                        var remarks = '';

                        //var SpecialCaseReason = (data.SpecialCaseReason.length > 20) ? data.SpecialCaseReason.substring(0, 20) + '...' : data.SpecialCaseReason;
                        if (cutoff_date == NaN) {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="sbtbl2">' + data.AssociateID + '</td>';
                            if (CustomizeSoB.indexOf("~2~") > -1) {
                                grid_html += '<td class="sbtbl2">' + data.DateOfJoining + '</td>';
                            }
                            if (CustomizeSoB.indexOf("~3~") > -1) {
                                grid_html += '<td class="sbtbl2" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                            }
                            if (CustomizeSoB.indexOf("~4~") > -1) {
                                grid_html += '<td class="sbtbl2" style="text-align:center;">' + data.Year + '</td>';
                            }
                            grid_html += '<td class="sbtbl2">' + data.PayoutType + '</td>';
                            grid_html += '<td class="sbtbl2" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="sbtbl2" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + '  /></td>';
                            grid_html += '<td class="sbtbl2">' + data.AssociateID + '</td>';
                            if (CustomizeSoB.indexOf("~2~") > -1) {
                                grid_html += '<td class="sbtbl2">' + data.DateOfJoining + '</td>';
                            }
                            if (CustomizeSoB.indexOf("~3~") > -1) {
                                grid_html += '<td class="sbtbl2" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                            }
                            if (CustomizeSoB.indexOf("~4~") > -1) {
                                grid_html += '<td class="sbtbl2" style="text-align:center;">' + data.Year + '</td>';
                            }
                            grid_html += '<td class="sbtbl2">' + data.PayoutType + '</td>';
                            grid_html += '<td class="sbtbl2" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="sbtbl2" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                                if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                                    grid_html += '<td class="sbtbl2">' + data.AssociateID + '</td>';
                                    if (CustomizeSoB.indexOf("~2~") > -1) {
                                        grid_html += '<td class="sbtbl2">' + data.DateOfJoining + '</td>';
                                    }
                                    if (CustomizeSoB.indexOf("~3~") > -1) {
                                        grid_html += '<td class="sbtbl2" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                                    }
                                    if (CustomizeSoB.indexOf("~4~") > -1) {
                                        grid_html += '<td class="sbtbl2" style="text-align:center;">' + data.Year + '</td>';
                                    }
                                    grid_html += '<td class="sbtbl2">' + data.PayoutType + '</td>';
                                    grid_html += '<td class="sbtbl2" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                                    grid_html += '<td class="sbtbl2" status=' + data.Status + '>' + data.Status + '</td>';
                                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                                }
                            }
                            else {
                                grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                                grid_html += '<td class="sbtbl2">' + data.AssociateID + '</td>';
                                if (CustomizeSoB.indexOf("~2~") > -1) {
                                    grid_html += '<td class="sbtbl2">' + data.DateOfJoining + '</td>';
                                }
                                if (CustomizeSoB.indexOf("~3~") > -1) {
                                    grid_html += '<td class="sbtbl2" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                                }
                                if (CustomizeSoB.indexOf("~4~") > -1) {
                                    grid_html += '<td class="sbtbl2" style="text-align:center;">' + data.Year + '</td>';
                                }
                                grid_html += '<td class="sbtbl2">' + data.PayoutType + '</td>';
                                grid_html += '<td class="sbtbl2" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                                grid_html += '<td class="sbtbl2" status=' + data.Status + '>' + data.Status + '</td>';
                                grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                            }
                        }
                    });
                }
                else {
                    $.each(msg.d, function (i, data) {
                        if ((i % 2) == 0) {
                            classname = 'even';
                        }
                        else {
                            classname = 'odd';
                        }
                        var remarks = '';

                        if (cutoff_date == NaN) {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="sbtbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="sbtbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="sbtbl">' + data.Amount + '</td>';
                            grid_html += '<td class="sbtbl">' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }

                        else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="sbtbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="sbtbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="sbtbl">' + data.Amount + '</td>';
                            grid_html += '<td class="sbtbl">' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                        }
                        else {
                            if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                                if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' /></td>';
                                    grid_html += '<td class="sbtbl">' + data.AssociateID + '</td>';
                                    grid_html += '<td class="sbtbl">' + data.PayoutType + '</td>';
                                    grid_html += '<td class="sbtbl">' + data.Amount + '</td>';
                                    grid_html += '<td class="sbtbl">' + data.Status + '</td>';
                                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                                }
                            }
                            else {
                                grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                                grid_html += '<td class="sbtbl">' + data.AssociateID + '</td>';
                                grid_html += '<td class="sbtbl">' + data.PayoutType + '</td>';
                                grid_html += '<td class="sbtbl">' + data.Amount + '</td>';
                                grid_html += '<td class="sbtbl">' + data.Status + '</td>';
                                grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                            }
                        }
                    });
                }
            }
            else {
                $.each(msg.d, function (i, data) {

                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }

                    var rejectionreason = '';

                    if (data.RejectionReason != null) {
                        rejectionreason = (data.RejectionReason.length > 20) ? data.RejectionReason.substring(0, 20) + '...' : data.RejectionReason;
                    }
                    else {
                        rejectionreason = '';
                    }

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                    }
                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + '  /></td>';
                    }
                    else {
                        if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                            if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                                grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            }
                            else {
                                grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            }
                        }
                    }
                    grid_html += '<td class="commutetbl">' + data.AssociateID + '</td>';
                    grid_html += '<td class="commutetbl">' + data.AssociateName + '</td>';
                    grid_html += '<td class="commutetbl">' + data.DateOfJoining + '</td>';
                    grid_html += '<td class="commutetbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                    grid_html += '<td class="commutetbl" style="text-align:center;">' + data.Year + '</td>';
                    grid_html += '<td class="commutetbl">' + data.PayoutType + '</td>';
                    grid_html += '<td class="commutetbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    grid_html += '<td class="commutetbl" title="' + data.RejectionReason + '">' + rejectionreason + '</td>';
                    if ((componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 57) && (CountryId == 18 || CountryId == 19)) {
                        if (componentGroupId == 49 || componentGroupId == 57) {
                            grid_html += '<td class="sbrbtbl" style="text-align:center;">' + data.RetentionEndDate + '</td>';
                            grid_html += '<td class="sbrbtbl" style="text-align:center;">' + data.ProjectID + '</td>';
                        }
                        grid_html += '<td class="sbrbtbl" style="text-align:center;">' + data.Currency + '</td>';
                        grid_html += '<td class="sbrbtbl" style="text-align:center;">' + data.Comments + '</td>';
                    }


                    grid_html += '<td class="commutetbl" status=' + data.Status + '>' + data.Status + '</td>';
                    if (cutoff_date == NaN) {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                            if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                                grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                            }
                            else {
                                grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                            }
                        }
                    }
                });
            }
            $('#tblSignonBonus').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSignonBonus").append("<tr class='even' id='NoData'><td colspan='15' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#sbvalid').attr("disabled", "disabled");
        }
    }

    else if (componentGroupId == 54 || componentGroupId == 55) {

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");
        $("#customize").hide();
        $(".delete_btn").show();

        $('#SignOnBonus').show();
        $('#SignOnBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .viewport').css('display', 'block');
        $('#SignOnBonus .viewport').css('overflow', 'scroll');
        $('#tblSignonBonus').css('display', 'block');
        $('#tblSignonBonus .viewport').css('display', 'block');
        $('#tblSignonBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .refPage').css('display', 'block');
        $('#SignOnBonus').find('tbody').html('');
        $('#SignOnBonus_wrapper').css('display', 'block');

        $('#customize').css('left', '370px');
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $(".inner_cont clearfix flft").css('height', '230px');

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();

        getTotalPages();

        var htmldata = '';
        htmldata += '<tr><th class="sbtbl1" width="35px"><input type="checkbox" id="sbvalid"/></th>';
        htmldata += '<th class="sort commutetbl" column="AssociateID" id="Th1">AssociateID </th>';
        htmldata += '<th class="commutetbl">AdvisedMonth</th>';
        htmldata += '<th class="commutetbl">AdvisedYear</th>';
        htmldata += '<th class="commutetbl">Assignment</br>BeginDate </th>';
        htmldata += '<th class="commutetbl">Amount</th>';
        htmldata += '<th class="commutetbl">Rejection Reason</th>';
        htmldata += '<th class="commutetbl">Currency</th>';
        htmldata += '<th class="commutetbl">Comments </th>';
        htmldata += '<th class="sort commutetbl" column="Status">Status </th>';
        htmldata += '<th width="60px">Edit </th></tr>';
        $('#tblSignonBonus').find('thead').html('').html(htmldata);

        if (msg.d.length > 0) {
            var classname = '';
            $("#SignOnBonus .refPage").css("display", "block");

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            //cut-off enddate//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var reworkendcutoffdatesplit = reworkendcutoff.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var reworkenddate = new Date(reworkendcutoffdatesplit[2], reworkendcutoffdatesplit[1] - 1, reworkendcutoffdatesplit[0]); //Y M D
            var reworkendcutoff_date = reworkenddate.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();

            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var rejectionreason = '';

                if (data.RejectionReason != null) {
                    rejectionreason = (data.RejectionReason.length > 20) ? data.RejectionReason.substring(0, 20) + '...' : data.RejectionReason;
                }
                else {
                    rejectionreason = '';
                }

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + '  /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        }
                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                    }
                }
                grid_html += '<td class="commutetbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="commutetbl">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="commutetbl">' + data.Year + '</td>';
                grid_html += '<td class="commutetbl">' + data.BeginDate + '</td>';
                grid_html += '<td class="commutetbl">' + data.Amount + '</td>';
                grid_html += '<td class="commutetbl" title="' + data.RejectionReason + '">' + rejectionreason + '</td>';
                grid_html += '<td class="commutetbl">' + data.Currency + '</td>';
                grid_html += '<td class="commutetbl">' + data.Comments + '</td>';
                grid_html += '<td class="commutetbl" status=' + data.Status + '>' + data.Status + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
            });

            $('#tblSignonBonus').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSignonBonus").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#sbvalid').attr("disabled", "disabled");
        }
    }

    else if (componentGroupId == 30 && CountryId != 20) {

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        if (CountryId == 18 || CountryId == 19) {
            $("#customize").hide();
        }
        else {
            $("#customize").show();
        }

        $('#Relocation').show();
        $('#Relocation .viewport').css('display', 'block');
        $('#Relocation .viewport').css('overflow', 'scroll');
        $('#tblRelocation').find('tbody').html('');
        $('#tblRelocation_wrapper').css('display', '');
        $("#Relocation").css('display', 'block');
        $('#Relocation .viewport').css('overflow', 'scroll');
        $('#tblRelocation').css('display', 'block');
        $('#Relocation .dataTableScroll').css('display', 'block');

        //$('.dataTableScroll').css('display', 'block');
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");
        $('#customize').css('left', '370px');
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "10px");
        if (CountryId == 18 || CountryId == 19) {
            $('.new_btn').css("margin-left", "108px");
            $('.error_msg_reject').css("left", "290px");
        }
        $(".inner_cont clearfix flft").css('height', '230px');

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        getTotalPages();
        //$('#tblJoining').css('display', 'none');

        if (CountryId != 18 && CountryId != 19) {
            if (CustomizeRel != '~1~4~5~6~7~8~') {
                var htmldata = '';
                htmldata += '<tr><th width="35px"><input type="checkbox" id="relvalid"/>';
                htmldata += '</th><th class="sort reltbl" column="AssociateID" id="Th1">Associate ID </th>';

                if (CustomizeRel.indexOf("~2~") > -1) {
                    htmldata += ' <th column="AdvisedMonth" class="reltbl">AdvisedMonth</th>';
                }
                if (CustomizeRel.indexOf("~3~") > -1) {
                    htmldata += ' <th class="reltbl">Year</th>';
                }
                htmldata += '<th class="sort reltbl" column="Amount">Amount </th>';
                htmldata += '<th class="sort reltbl" column="PayoutType" id="Th3">Type of payout  </th>';
                htmldata += '<th class="reltbl" column="AdditionalComments" id="Th3">Additional Comments  </th>';
                htmldata += '<th class="reltbl" column="SpecialCase" id="Th3">SpecialCase Reason  </th>';
                htmldata += '<th class="sort reltbl" column="Status">Status </th>';
                htmldata += '<th width="60px">Edit </th></tr>';
                $('#tblRelocation').find('thead').html('').html(htmldata);
            }
            else {
                var htmldata = '';
                htmldata += '<tr><th width="35px"><input type="checkbox" id="relvalid" /></th>';
                htmldata += '<th class="sort reltbl" column="AssociateID"  id="Th1">Associate ID </th>';
                htmldata += '<th class="sort reltbl" column="Amount">Amount </th>';
                htmldata += '<th class="sort reltbl" column="PayoutType" id="Th3">Type of payout  </th>';
                htmldata += '<th class="reltbl" column="AdditionalComments" id="Th3">Additional Comments </th>';
                htmldata += '<th class="reltbl" column="SpecialCaseReason" id="Th3">SpecialCase Reason </th>';
                htmldata += '<th class="sort reltbl" column="Status" >Status </th>';
                htmldata += '<th width="60px">Edit</th></tr>';
                $('#tblRelocation').find('thead').html('').html(htmldata);
            }
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th width="35px"><input type="checkbox" id="relvalid" /></th>';
            htmldata += '<th class="sort reltbl" column="AssociateID" id="Th1">Associate ID </th>';
            htmldata += '<th class="reltbl" column="Amount">Amount </th>';
            htmldata += '<th class="reltbl">Currency </th>';
            htmldata += '<th class="reltbl">AdvisedMonth</th>';
            htmldata += '<th class="reltbl">Year</th>';
            htmldata += '<th class="reltbl">Comments </th>';
            htmldata += '<th class="reltbl">PayoutType </th>';
            htmldata += '<th class="reltbl">RejectionReason </th>';
            htmldata += '<th class="sort reltbl" column="Status" >Status </th>';
            htmldata += '<th width="60px">Edit</th></tr>';
            $('#tblRelocation').find('thead').html('').html(htmldata);
        }

        $("#Relocation .refPage").css("display", "block");
        if (msg.d.length > 0) {
            var classname = '';
            $("#Relocation .refPage").css("display", "block");
            $("#relvalid").attr("Enabled", "Enabled");

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            //cut-off enddate//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();

            if (CountryId != 18 && CountryId != 19) {
                if (CustomizeRel != '~1~4~5~6~7~8~') {
                    $.each(msg.d, function (i, data) {
                        if ((i % 2) == 0) {
                            classname = 'even';
                        }
                        else {
                            classname = 'odd';
                        }
                        var remarks = '';

                        //var SpecialCaseReason = (data.SpecialCaseReason.length > 20) ? data.SpecialCaseReason.substring(0, 20) + '...' : data.SpecialCaseReason;

                        if (cutoff_date == NaN) {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDRelocationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="reltbl">' + data.AssociateID + '</td>';

                            if (CustomizeRel.indexOf("~2~") > -1) {
                                grid_html += '<td class="reltbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                            }
                            if (CustomizeRel.indexOf("~3~") > -1) {
                                grid_html += '<td class="reltbl" style="text-align:center;">' + data.Year + '</td>';
                            }
                            grid_html += '<td class="reltbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="reltbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="reltbl" AdditionalComments=' + data.AdditionalComments + '>' + data.AdditionalComments + '</td>';
                            grid_html += '<td class="reltbl" SpecialCaseReason=' + data.SpecialCaseReason + '>' + data.SpecialCaseReason + '</td>';
                            grid_html += '<td class="reltbl" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDRelocationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="reltbl">' + data.AssociateID + '</td>';

                            if (CustomizeRel.indexOf("~2~") > -1) {
                                grid_html += '<td class="reltbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                            }
                            if (CustomizeRel.indexOf("~3~") > -1) {
                                grid_html += '<td class="reltbl" style="text-align:center;">' + data.Year + '</td>';
                            }
                            grid_html += '<td class="reltbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="reltbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="reltbl" AdditionalComments=' + data.AdditionalComments + '>' + data.AdditionalComments + '</td>';
                            grid_html += '<td class="reltbl" SpecialCaseReason=' + data.SpecialCaseReason + '>' + data.SpecialCaseReason + '</td>';
                            grid_html += '<td class="reltbl" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                                grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDRelocationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                                grid_html += '<td class="reltbl">' + data.AssociateID + '</td>';

                                if (CustomizeRel.indexOf("~2~") > -1) {
                                    grid_html += '<td class="reltbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                                }
                                if (CustomizeRel.indexOf("~3~") > -1) {
                                    grid_html += '<td class="reltbl" style="text-align:center;">' + data.Year + '</td>';
                                }
                                grid_html += '<td class="reltbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                                grid_html += '<td class="reltbl">' + data.PayoutType + '</td>';
                                grid_html += '<td class="reltbl" AdditionalComments=' + data.AdditionalComments + '>' + data.AdditionalComments + '</td>';
                                grid_html += '<td class="reltbl" SpecialCaseReason=' + data.SpecialCaseReason + '>' + data.SpecialCaseReason + '</td>';
                                grid_html += '<td class="reltbl" status=' + data.Status + '>' + data.Status + '</td>';
                                grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                            }
                            else {
                                grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDRelocationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                                grid_html += '<td class="reltbl">' + data.AssociateID + '</td>';

                                if (CustomizeRel.indexOf("~2~") > -1) {
                                    grid_html += '<td class="reltbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                                }
                                if (CustomizeRel.indexOf("~3~") > -1) {
                                    grid_html += '<td class="reltbl" style="text-align:center;">' + data.Year + '</td>';
                                }
                                grid_html += '<td class="reltbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                                grid_html += '<td class="reltbl">' + data.PayoutType + '</td>';
                                grid_html += '<td class="reltbl" AdditionalComments=' + data.AdditionalComments + '>' + data.AdditionalComments + '</td>';
                                grid_html += '<td class="reltbl" SpecialCaseReason=' + data.SpecialCaseReason + '>' + data.SpecialCaseReason + '</td>';
                                grid_html += '<td class="reltbl" status=' + data.Status + '>' + data.Status + '</td>';
                                grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                            }
                        }
                    });
                }
                else {
                    $.each(msg.d, function (i, data) {
                        if ((i % 2) == 0) {
                            classname = 'even';
                        }
                        else {
                            classname = 'odd';
                        }
                        var remarks = '';

                        if (cutoff_date == NaN) {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDRelocationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="reltbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="reltbl">' + data.Amount + '</td>';
                            grid_html += '<td class="reltbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="reltbl">' + data.AdditionalComments + '</td>';
                            grid_html += '<td class="reltbl">' + data.SpecialCaseReason + '</td>';
                            grid_html += '<td class="reltbl">' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }

                        else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDRelocationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="reltbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="reltbl">' + data.Amount + '</td>';
                            grid_html += '<td class="reltbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="reltbl">' + data.AdditionalComments + '</td>';
                            grid_html += '<td class="reltbl">' + data.SpecialCaseReason + '</td>';
                            grid_html += '<td class="reltbl">' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                        }
                        else {
                            if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                                grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDRelocationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                                grid_html += '<td class="reltbl">' + data.AssociateID + '</td>';
                                grid_html += '<td class="reltbl">' + data.Amount + '</td>';
                                grid_html += '<td class="reltbl">' + data.PayoutType + '</td>';
                                grid_html += '<td class="reltbl">' + data.AdditionalComments + '</td>';
                                grid_html += '<td class="reltbl">' + data.SpecialCaseReason + '</td>';
                                grid_html += '<td class="reltbl">' + data.Status + '</td>';
                                grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                            }
                            else {
                                grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDRelocationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                                grid_html += '<td class="reltbl">' + data.AssociateID + '</td>';
                                grid_html += '<td class="reltbl">' + data.Amount + '</td>';
                                grid_html += '<td class="reltbl">' + data.PayoutType + '</td>';
                                grid_html += '<td class="reltbl">' + data.AdditionalComments + '</td>';
                                grid_html += '<td class="reltbl">' + data.SpecialCaseReason + '</td>';
                                grid_html += '<td class="reltbl">' + data.Status + '</td>';
                                grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                            }
                        }
                    });
                }
            }
            else {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDRelocationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="reltbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="reltbl">' + data.Amount + '</td>';
                        grid_html += '<td class="reltbl">' + data.Currency + '</td>';
                        grid_html += '<td class="reltbl">' + data.AdvisedMonth + '</td>';
                        grid_html += '<td class="reltbl">' + data.Year + '</td>';
                        grid_html += '<td class="reltbl">' + data.Comments + '</td>';
                        grid_html += '<td class="reltbl">' + data.PayoutType + '</td>';
                        grid_html += '<td class="reltbl">' + data.RejectionReason + '</td>';
                        grid_html += '<td class="reltbl">' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDRelocationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="reltbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="reltbl">' + data.Amount + '</td>';
                        grid_html += '<td class="reltbl">' + data.Currency + '</td>';
                        grid_html += '<td class="reltbl">' + data.AdvisedMonth + '</td>';
                        grid_html += '<td class="reltbl">' + data.Year + '</td>';
                        grid_html += '<td class="reltbl">' + data.Comments + '</td>';
                        grid_html += '<td class="reltbl">' + data.PayoutType + '</td>';
                        grid_html += '<td class="reltbl">' + data.RejectionReason + '</td>';
                        grid_html += '<td class="reltbl">' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDRelocationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="reltbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="reltbl">' + data.Amount + '</td>';
                            grid_html += '<td class="reltbl">' + data.Currency + '</td>';
                            grid_html += '<td class="reltbl">' + data.AdvisedMonth + '</td>';
                            grid_html += '<td class="reltbl">' + data.Year + '</td>';
                            grid_html += '<td class="reltbl">' + data.Comments + '</td>';
                            grid_html += '<td class="reltbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="reltbl">' + data.RejectionReason + '</td>';
                            grid_html += '<td class="reltbl">' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDRelocationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="reltbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="reltbl">' + data.Amount + '</td>';
                            grid_html += '<td class="reltbl">' + data.Currency + '</td>';
                            grid_html += '<td class="reltbl">' + data.AdvisedMonth + '</td>';
                            grid_html += '<td class="reltbl">' + data.Year + '</td>';
                            grid_html += '<td class="reltbl">' + data.Comments + '</td>';
                            grid_html += '<td class="reltbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="reltbl">' + data.RejectionReason + '</td>';
                            grid_html += '<td class="reltbl">' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }

            $('#tblRelocation').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblRelocation").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $("#relvalid").attr("Disabled", "Disabled");
        }
    }

    else if (componentGroupId == 34) {

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").show();

        $('#Transition').show();
        $('#Transition .viewport').css('display', 'block');
        $('#Transition .viewport').css('overflow', 'scroll');
        $("#Transition").css('display', 'block');
        $('#tblTransition').css('display', 'block');
        $('#Transition .dataTableScroll').css('display', 'block');
        $('#tblTransition').find('tbody').html('');
        $('#tblTransition_wrapper').css('display', '');

        // $('.dataTableScroll').css('display', 'block');
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");
        $('#customize').css('left', '370px');
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "10px");

        $(".inner_cont clearfix flft").css('height', '230px');
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        getTotalPages();
        //$('#tblJoining').css('display', 'none');
        if (CustomizeTran != '~1~6~7~8~') {
            var htmldata = '';
            htmldata += '<tr><th width="35px"><input type="checkbox" id="relvalid"/>';
            htmldata += '</th><th class="sort trantbl" column="AssociateID" id="Th1">Associate ID </th>';

            if (CustomizeTran.indexOf("~2~") > -1) {
                htmldata += ' <th column="DateOfJoining" class="trantbl">DateOfJoining</th>';
            }
            if (CustomizeTran.indexOf("~3~") > -1) {
                htmldata += ' <th column="DateOfLeaving" class="trantbl">DateOfLeaving</th>';
            }
            if (CustomizeTran.indexOf("~4~") > -1) {
                htmldata += ' <th column="AdvisedMonth" class="trantbl">AdvisedMonth</th>';
            }
            if (CustomizeTran.indexOf("~5~") > -1) {
                htmldata += ' <th class="trantbl">Year</th>';
            }
            htmldata += '<th class="reltbl">Amount </th>';
            htmldata += '<th class="sort trantbl" column="PayoutType" id="Th3">Type of payout  </th>';
            htmldata += '<th class="sort trantbl" column="Status">Status </th>';
            htmldata += '<th width="60px">Edit </th></tr>';
            $('#tblTransition').find('thead').html('').html(htmldata);
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th width="35px"><input type="checkbox" id="relvalid" /></th>';
            htmldata += '<th class="sort trantbl" column="AssociateID"  id="Th1">Associate ID </th>';
            htmldata += '<th class="trantbl">Amount </th>';
            htmldata += '<th class="sort trantbl" column="PayoutType" id="Th3">Type of payout  </th>';
            htmldata += '<th class="sort trantbl" column="Status" >Status </th>';
            htmldata += '<th width="60px">Edit</th></tr>';
            $('#tblTransition').find('thead').html('').html(htmldata);
        }

        $("#Transition .refPage").css("display", "block");
        if (msg.d.length > 0) {
            var classname = '';
            $("#Transition .refPage").css("display", "block");
            $("#relvalid").attr("Enabled", "Enabled");
            if (CustomizeTran != '~1~6~7~8~') {
                $.each(msg.d, function (i, data) {

                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';

                    //var SpecialCaseReason = (data.SpecialCaseReason.length > 20) ? data.SpecialCaseReason.substring(0, 20) + '...' : data.SpecialCaseReason;

                    var d = new Date();
                    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                    //cut-off enddate//
                    var cutoffdatesplit = cutoffdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                    var cutoff_date = date.getTime();

                    //cut off start  date //
                    var cutoffstartdatesplit = cutoffStartdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                    var cutoffStart_date = date.getTime();

                    var todaysplit = today.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                    var today_date = Date1.getTime();

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDTransitionID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="trantbl">' + data.AssociateID + '</td>';

                        if (CustomizeTran.indexOf("~2~") > -1) {
                            grid_html += '<td class="trantbl" style="text-align:center;">' + data.DOJ + '</td>';
                        }
                        if (CustomizeTran.indexOf("~3~") > -1) {
                            grid_html += '<td class="trantbl" style="text-align:center;">' + data.DOL + '</td>';
                        }
                        if (CustomizeTran.indexOf("~4~") > -1) {
                            grid_html += '<td class="trantbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                        }
                        if (CustomizeTran.indexOf("~5~") > -1) {
                            grid_html += '<td class="trantbl" style="text-align:center;">' + data.Year + '</td>';
                        }
                        grid_html += '<td class="trantbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                        grid_html += '<td class="trantbl">' + data.PayoutType + '</td>';
                        grid_html += '<td class="trantbl" status=' + data.Status + '>' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDTransitionID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + '/></td>';
                        grid_html += '<td class="trantbl">' + data.AssociateID + '</td>';

                        if (CustomizeTran.indexOf("~2~") > -1) {
                            grid_html += '<td class="trantbl" style="text-align:center;">' + data.DOJ + '</td>';
                        }
                        if (CustomizeTran.indexOf("~3~") > -1) {
                            grid_html += '<td class="trantbl" style="text-align:center;">' + data.DOL + '</td>';
                        }
                        if (CustomizeTran.indexOf("~4~") > -1) {
                            grid_html += '<td class="trantbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                        }
                        if (CustomizeTran.indexOf("~5~") > -1) {
                            grid_html += '<td class="trantbl" style="text-align:center;">' + data.Year + '</td>';
                        }
                        grid_html += '<td class="trantbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                        grid_html += '<td class="trantbl">' + data.PayoutType + '</td>';
                        grid_html += '<td class="trantbl" status=' + data.Status + '>' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDTransitionID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="trantbl">' + data.AssociateID + '</td>';

                            if (CustomizeTran.indexOf("~2~") > -1) {
                                grid_html += '<td class="trantbl" style="text-align:center;">' + data.DOJ + '</td>';
                            }
                            if (CustomizeTran.indexOf("~3~") > -1) {
                                grid_html += '<td class="trantbl" style="text-align:center;">' + data.DOL + '</td>';
                            }
                            if (CustomizeTran.indexOf("~4~") > -1) {
                                grid_html += '<td class="trantbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                            }
                            if (CustomizeTran.indexOf("~5~") > -1) {
                                grid_html += '<td class="trantbl" style="text-align:center;">' + data.Year + '</td>';
                            }
                            grid_html += '<td class="trantbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="trantbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="trantbl" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDTransitionID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="trantbl">' + data.AssociateID + '</td>';

                            if (CustomizeTran.indexOf("~2~") > -1) {
                                grid_html += '<td class="trantbl" style="text-align:center;">' + data.DOJ + '</td>';
                            }
                            if (CustomizeTran.indexOf("~3~") > -1) {
                                grid_html += '<td class="trantbl" style="text-align:center;">' + data.DOL + '</td>';
                            }
                            if (CustomizeTran.indexOf("~4~") > -1) {
                                grid_html += '<td class="trantbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                            }
                            if (CustomizeTran.indexOf("~5~") > -1) {
                                grid_html += '<td class="trantbl" style="text-align:center;">' + data.Year + '</td>';
                            }
                            grid_html += '<td class="trantbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="trantbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="trantbl" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }
            else {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';

                    var d = new Date();
                    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                    //cut-off enddate//
                    var cutoffdatesplit = cutoffdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                    var cutoff_date = date.getTime();

                    //cut off start  date //
                    var cutoffstartdatesplit = cutoffStartdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                    var cutoffStart_date = date.getTime();

                    var todaysplit = today.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                    var today_date = Date1.getTime();

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDTransitionID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="trantbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="trantbl">' + data.Amount + '</td>';
                        grid_html += '<td class="trantbl">' + data.PayoutType + '</td>';
                        grid_html += '<td class="trantbl">' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDTransitionID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="trantbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="trantbl">' + data.Amount + '</td>';
                        grid_html += '<td class="trantbl">' + data.PayoutType + '</td>';
                        grid_html += '<td class="trantbl">' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDTransitionID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="trantbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="trantbl">' + data.Amount + '</td>';
                            grid_html += '<td class="trantbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="trantbl">' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDTransitionID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="trantbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="trantbl">' + data.Amount + '</td>';
                            grid_html += '<td class="trantbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="trantbl">' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }

            $('#tblTransition').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblTransition").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $("#relvalid").attr("Disabled", "Disabled");
        }
    }

    else if (componentGroupId == 35) {

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").show();

        $('#Honorarium').show();
        $('#Honorarium .viewport').css('display', 'block');
        $('#Honorarium .viewport').css('overflow', 'scroll');
        $("#Honorarium").css('display', 'block');
        $('#tblHonorarium').css('display', 'block');
        $('#Honorarium .dataTableScroll').css('display', 'block');
        $('#tblHonorarium').find('tbody').html('');
        $('#tblHonorarium_wrapper').css('display', '');

        // $('.dataTableScroll').css('display', 'block');
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");
        $('#customize').css('left', '370px');
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $("#ulRecord ").css('display', 'block');

        $(".inner_cont clearfix flft").css('height', '230px');
        $("#aid1").attr("maxlength", "11");
        $("#aid2").attr("maxlength", "10");
        $("#aid3").attr("maxlength", "11");
        $("#aid1").numeric();
        $("#aid2").numeric();
        $("#aid3").numeric();

        getTotalPages();
        //$('#tblJoining').css('display', 'none');
        if (CustomizeHon != '~1~2~5~6~7~') {
            var htmldata = '';
            htmldata += '<tr><th width="35px"><input type="checkbox" id="relvalid"/>';
            htmldata += '</th><th class="sort hontbl" column="AssociateID" id="Th1">Associate ID </th>';
            htmldata += '<th class="sort hontbl" column="ProjectID" id="Th3">ProjectID  </th>';
            if (CustomizeHon.indexOf("~3~") > -1) {
                htmldata += ' <th column="AdvisedMonth" class="hontbl">AdvisedMonth</th>';
            }
            if (CustomizeHon.indexOf("~4~") > -1) {
                htmldata += ' <th class="hontbl">Year</th>';
            }
            htmldata += '<th class="hontbl">Amount </th>';
            htmldata += '<th class="sort hontbl" column="PayoutType" id="Th3">Type of payout  </th>';
            htmldata += '<th class="sort hontbl" column="Status">Status </th>';
            htmldata += '<th width="60px">Edit </th></tr>';
            $('#tblHonorarium').find('thead').html('').html(htmldata);
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th width="35px"><input type="checkbox" id="relvalid" /></th>';
            htmldata += '<th class="sort hontbl" column="AssociateID"  id="Th1">Associate ID </th>';
            htmldata += '<th class="sort hontbl" column="ProjectID" id="Th3">ProjectID  </th>';
            htmldata += '<th class="hontbl">Amount </th>';
            htmldata += '<th class="sort hontbl" column="PayoutType" id="Th3">Type of payout  </th>';
            htmldata += '<th class="sort hontbl" column="Status" >Status </th>';
            htmldata += '<th width="60px">Edit</th></tr>';
            $('#tblHonorarium').find('thead').html('').html(htmldata);
        }

        $("#Honorarium .refPage").css("display", "block");
        if (msg.d.length > 0) {
            var classname = '';
            $("#Honorarium .refPage").css("display", "block");
            if (CustomizeHon != '~1~2~5~6~7~') {
                $.each(msg.d, function (i, data) {

                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';

                    //var SpecialCaseReason = (data.SpecialCaseReason.length > 20) ? data.SpecialCaseReason.substring(0, 20) + '...' : data.SpecialCaseReason;

                    var d = new Date();
                    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                    //cut-off enddate//
                    var cutoffdatesplit = cutoffdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                    var cutoff_date = date.getTime();

                    //cut off start  date //
                    var cutoffstartdatesplit = cutoffStartdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                    var cutoffStart_date = date.getTime();

                    var todaysplit = today.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                    var today_date = Date1.getTime();

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDHonorariumID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="hontbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="hontbl">' + data.ProjectID + '</td>';

                        if (CustomizeHon.indexOf("~3~") > -1) {
                            grid_html += '<td class="hontbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                        }
                        if (CustomizeHon.indexOf("~4~") > -1) {
                            grid_html += '<td class="hontbl" style="text-align:center;">' + data.Year + '</td>';
                        }
                        grid_html += '<td class="hontbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                        grid_html += '<td class="hontbl">' + data.PayoutType + '</td>';
                        grid_html += '<td class="hontbl" status=' + data.Status + '>' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDHonorariumID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + '/></td>';
                        grid_html += '<td class="hontbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="hontbl">' + data.ProjectID + '</td>';

                        if (CustomizeHon.indexOf("~3~") > -1) {
                            grid_html += '<td class="hontbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                        }
                        if (CustomizeHon.indexOf("~4~") > -1) {
                            grid_html += '<td class="hontbl" style="text-align:center;">' + data.Year + '</td>';
                        }
                        grid_html += '<td class="hontbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                        grid_html += '<td class="hontbl">' + data.PayoutType + '</td>';
                        grid_html += '<td class="hontbl" status=' + data.Status + '>' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDHonorariumID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="hontbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="hontbl">' + data.ProjectID + '</td>';

                            if (CustomizeHon.indexOf("~3~") > -1) {
                                grid_html += '<td class="hontbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                            }
                            if (CustomizeHon.indexOf("~4~") > -1) {
                                grid_html += '<td class="hontbl" style="text-align:center;">' + data.Year + '</td>';
                            }
                            grid_html += '<td class="hontbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="hontbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="hontbl" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDHonorariumID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="hontbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="hontbl">' + data.ProjectID + '</td>';

                            if (CustomizeHon.indexOf("~3~") > -1) {
                                grid_html += '<td class="hontbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                            }
                            if (CustomizeHon.indexOf("~4~") > -1) {
                                grid_html += '<td class="hontbl" style="text-align:center;">' + data.Year + '</td>';
                            }
                            grid_html += '<td class="hontbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="hontbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="hontbl" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }
            else {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';

                    var d = new Date();
                    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                    //cut-off enddate//
                    var cutoffdatesplit = cutoffdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                    var cutoff_date = date.getTime();

                    //cut off start  date //
                    var cutoffstartdatesplit = cutoffStartdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                    var cutoffStart_date = date.getTime();

                    var todaysplit = today.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                    var today_date = Date1.getTime();

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDHonorariumID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="hontbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="hontbl">' + data.ProjectID + '</td>';
                        grid_html += '<td class="hontbl">' + data.Amount + '</td>';
                        grid_html += '<td class="hontbl">' + data.PayoutType + '</td>';
                        grid_html += '<td class="hontbl">' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDHonorariumID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="hontbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="hontbl">' + data.ProjectID + '</td>';
                        grid_html += '<td class="hontbl">' + data.Amount + '</td>';
                        grid_html += '<td class="hontbl">' + data.PayoutType + '</td>';
                        grid_html += '<td class="hontbl">' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDHonorariumID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="hontbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="hontbl">' + data.ProjectID + '</td>';
                            grid_html += '<td class="hontbl">' + data.Amount + '</td>';
                            grid_html += '<td class="hontbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="hontbl">' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_NLDHonorariumID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="relocationvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="hontbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="hontbl">' + data.ProjectID + '</td>';
                            grid_html += '<td class="hontbl">' + data.Amount + '</td>';
                            grid_html += '<td class="hontbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="hontbl">' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }

            $('#tblHonorarium').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblHonorarium").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $("#relvalid").attr("Disabled", "Disabled");
        }
    }

    else if (componentGroupId == 33 || componentGroupId == 50 || ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19))) {

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        if (componentGroupId == 33 && CountryId == 3) {
            $("#customize").show();
        }
        else {
            $("#customize").hide();
        }
        $('#RewardsandRegonition').show();
        $('#RewardsandRegonition .dataTableScroll').css('display', 'block');
        $('#tblrewards').css('display', 'block');
        $('#RewardsandRegonition .viewport').css('display', 'block');
        $('#RewardsandRegonition .viewport').css('overflow', 'scroll');
        $("#RewardsandRegonition").css('display', 'block');
        $('#tblrewards').find('tbody').html('');
        $('#tblrewards_wrapper').css('display', '');
        //$('.dataTableScroll').css('display', 'block');
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        if (CountryId == 18 || CountryId == 19) {
            $('.new_btn').css("margin-left", "100px");
        }
        else {
            $('.new_btn').css("margin-left", "10px");
        }
        $(".inner_cont clearfix flft").css('height', '230px');
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        $("#aid3").attr("maxlength", "11");
        $("#aid3").numeric();
        if (((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) && RoleId == 19) {
            $('#deletebtn').css('display', 'inline-block');
            $('.new_btn').css("margin-left", "245px");
            $('#upload').css('display', 'none');
            $('#download').css('display', 'none');
            $('#a_exceptions').css('display', 'none');
        }
        else {
            $('#upload').css('display', 'block');
            $('#download').css('display', 'block');
            $('#a_exceptions').css('display', 'block');
        }
        getTotalPages();
        //$('#tblJoining').css('display', 'none');
        if (componentGroupId == 33) {
            if (CustomizeRR != '~1~4~5~6~8~9~10~') {
                var htmldata = '';
                htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="rrvalid"/>';
                htmldata += '</th><th class="sort rrtbl" column="AssociateID" id="Th1">Associate ID </th>';
                if (CustomizeRR.indexOf("~2~") > -1) {
                    htmldata += ' <th column="AdvisedMonth" clasSBAdvisedMonths="rrtbl">AdvisedMonth</th>';
                }
                if (CustomizeRR.indexOf("~3~") > -1) {
                    htmldata += ' <th class="rrtbl">Year</th>';
                }
                htmldata += '<th class="sort rrtbl" column="Amount">Amount </th>';
                htmldata += '<th class="rrtbl">SubComponent</th>';
                htmldata += '<th class="rrtbl">Currency</th>';
                if (CustomizeRR.indexOf("~7~") > -1) {
                    htmldata += ' <th class="rrtbl">Remarks</th>';
                }
                htmldata += '<th class="rrtbl">Frequency</th>';
                htmldata += '<th class="sort rrtbl" column="PayoutType" id="Th3">PayoutType  </th>';
                htmldata += '<th class="sort rrtbl" column="Status">Status </th>';
                htmldata += '<th class="jbtblEdit">Edit </th></tr>';
                $('#tblrewards').find('thead').html('').html(htmldata);
            }
            else {
                var htmldata = '';
                htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="rrvalid"/>';
                htmldata += '</th><th class="sort rrtbl" column="AssociateID" id="Th1">Associate ID </th>';
                htmldata += '<th class="sort rrtbl" column="Amount">Amount </th>';
                htmldata += '<th class="rrtbl">SubComponent</th>';
                htmldata += '<th class="rrtbl">Currency</th>';
                htmldata += '<th class="rrtbl">Frequency</th>';
                htmldata += '<th class="sort rrtbl" column="PayoutType" id="Th3">PayoutType  </th>';
                htmldata += '<th class="sort rrtbl" column="Status">Status </th>';
                htmldata += '<th class="jbtblEdit">Edit </th></tr>';
                $('#tblrewards').find('thead').html('').html(htmldata);
            }
        }
        else if (componentGroupId == 50) {
            var htmldata = '';
            htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="rrvalid"/>';
            htmldata += '</th><th class="sort rrtbl" column="AssociateID" id="Th1">Associate ID </th>';
            htmldata += ' <th class="rrtbl">AssociateName</th>';
            if (CountryId == 18 || CountryId == 19) {
                htmldata += '<th class="rrtbl">SubComponent</th>';
            }
            htmldata += ' <th class="rrtbl">DOJ</th>';
            htmldata += ' <th column="AdvisedMonth" class="rrtbl">AdvisedMonth</th>';
            htmldata += ' <th class="rrtbl">Year</th>';
            htmldata += '<th class="sort rrtbl" column="Amount">Amount </th>';
            if (CountryId == 18 || CountryId == 19) {
                htmldata += '<th class="rrtbl">Units</th>';
            }
            htmldata += '<th class="rrtbl">Currency</th>';
            htmldata += ' <th class="rrtbl">Remarks</th>';
            htmldata += '<th class="sort rrtbl" column="PayoutType" id="Th3">PayoutType  </th>';
            htmldata += '<th class="sort rrtbl" column="Status">Status </th>';
            htmldata += '<th class="jbtblEdit">Edit </th></tr>';
            $('#tblrewards').find('thead').html('').html(htmldata);
        }
        else if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
            var htmldata = '';
            htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="rrvalid"/>';
            htmldata += '</th><th class="rrtbl" column="AssociateID" id="Th1">Associate ID </th>';
            htmldata += ' <th class="rrtbl">AssociateName</th>';
            htmldata += '<th class="rrtbl" column="Amount">Amount </th>';
            htmldata += '<th class="rrtbl">Currency</th>';
            htmldata += ' <th class="rrtbl">Remarks</th>';
            htmldata += '<th class="sort rrtbl" column="Status">Status </th>';
            htmldata += '<th class="rrtbl">Rejection Reason</th>';
            htmldata += '<th class="jbtblEdit">Edit </th></tr>';
            $('#tblrewards').find('thead').html('').html(htmldata);
        }
        $("#RewardsandRegonition .refPage").css("display", "block");
        if (msg.d.length > 0) {
            var classname = '';

            $("#RewardsandRegonition .refPage").css("display", "block");

            // var SpecialCaseReason = (data.SpecialCaseReason.length > 20) ? data.SpecialCaseReason.substring(0, 20) + '...' : data.SpecialCaseReason;

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            //cut-off enddate//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            if (componentGroupId == 33 && CountryId == 3 || ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19))) {
                if (CustomizeRR != '~1~4~5~6~8~9~10~') {
                    $.each(msg.d, function (i, data) {
                        var remarks = '';

                        if (data.Remarks != null) {
                            remarks = (data.Remarks.length > 15) ? data.Remarks.substring(0, 15) + '...' : data.Remarks;
                        }
                        else {
                            remarks = '';
                        }
                        if ((i % 2) == 0) {
                            classname = 'even';
                        }
                        else {
                            classname = 'odd';
                        }


                        if (cutoff_date == NaN) {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                            if (CustomizeRR.indexOf("~2~") > -1) {
                                grid_html += '<td class="rrtbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                            }
                            if (CustomizeRR.indexOf("~3~") > -1) {
                                grid_html += '<td class="rrtbl" style="text-align:center;">' + data.Year + '</td>';
                            }
                            grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="rrtbl">' + data.SubComponent + '</td>';
                            grid_html += '<td class="rrtbl">' + data.Currency + '</td>';
                            if (CustomizeRR.indexOf("~7~") > -1) {
                                grid_html += '<td class="rrtbl" title = "' + data.Remarks + '"style="text-align:center;">' + remarks + '</td>';
                            }
                            grid_html += '<td class="rrtbl">' + data.Frequency + '</td>';
                            grid_html += '<td class="rrtbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="rrtbl" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td class="jbtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsvalid" id=' + (i + 1) + '/></td>';
                            grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                            if (CustomizeRR.indexOf("~2~") > -1) {
                                grid_html += '<td class="rrtbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                            }
                            if (CustomizeRR.indexOf("~3~") > -1) {
                                grid_html += '<td class="rrtbl" style="text-align:center;">' + data.Year + '</td>';
                            }
                            grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="rrtbl">' + data.SubComponent + '</td>';
                            grid_html += '<td class="rrtbl">' + data.Currency + '</td>';
                            if (CustomizeRR.indexOf("~7~") > -1) {
                                grid_html += '<td class="rrtbl" title = "' + data.Remarks + '"style="text-align:center;">' + remarks + '</td>';
                            }
                            grid_html += '<td class="rrtbl">' + data.Frequency + '</td>';
                            grid_html += '<td class="rrtbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="rrtbl" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td class="jbtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                                grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsvalid" id=' + (i + 1) + ' /></td>';
                                grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                                if (CustomizeRR.indexOf("~2~") > -1) {
                                    grid_html += '<td class="rrtbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                                }
                                if (CustomizeRR.indexOf("~3~") > -1) {
                                    grid_html += '<td class="rrtbl" style="text-align:center;">' + data.Year + '</td>';
                                }
                                grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                                grid_html += '<td class="rrtbl">' + data.SubComponent + '</td>';
                                grid_html += '<td class="rrtbl">' + data.Currency + '</td>';
                                if (CustomizeRR.indexOf("~7~") > -1) {
                                    grid_html += '<td class="rrtbl" title = "' + data.Remarks + '"style="text-align:center;">' + remarks + '</td>';
                                }
                                grid_html += '<td class="rrtbl">' + data.Frequency + '</td>';
                                grid_html += '<td class="rrtbl">' + data.PayoutType + '</td>';
                                grid_html += '<td class="rrtbl" status=' + data.Status + '>' + data.Status + '</td>';
                                grid_html += '<td class="jbtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                            }
                            else {
                                grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                                grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                                if (CustomizeRR.indexOf("~2~") > -1) {
                                    grid_html += '<td class="rrtbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                                }
                                if (CustomizeRR.indexOf("~3~") > -1) {
                                    grid_html += '<td class="rrtbl" style="text-align:center;">' + data.Year + '</td>';
                                }
                                grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                                grid_html += '<td class="rrtbl">' + data.SubComponent + '</td>';
                                grid_html += '<td class="rrtbl">' + data.Currency + '</td>';
                                if (CustomizeRR.indexOf("~7~") > -1) {
                                    grid_html += '<td class="rrtbl" title = "' + data.Remarks + '"style="text-align:center;">' + remarks + '</td>';
                                }
                                grid_html += '<td class="rrtbl">' + data.Frequency + '</td>';
                                grid_html += '<td class="rrtbl">' + data.PayoutType + '</td>';
                                grid_html += '<td class="rrtbl" status=' + data.Status + '>' + data.Status + '</td>';
                                grid_html += '<td class="jbtblEdit"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                            }
                        }
                    });
                }
                else {
                    $.each(msg.d, function (i, data) {
                        var remarks = '';

                        if (data.Remarks != null) {
                            remarks = (data.Remarks.length > 15) ? data.Remarks.substring(0, 15) + '...' : data.Remarks;
                        }
                        else {
                            remarks = '';
                        }
                        if ((i % 2) == 0) {
                            classname = 'even';
                        }
                        else {
                            classname = 'odd';
                        }


                        if (cutoff_date == NaN) {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                            if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
                                grid_html += '<td class="rrtbl">' + data.AssociateName + '</td>';
                            }
                            grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            if (componentGroupId == 33 && CountryId == 3) {
                                grid_html += '<td class="rrtbl">' + data.SubComponent + '</td>';
                            }
                            grid_html += '<td class="rrtbl">' + data.Currency + '</td>';
                            if (componentGroupId == 33 && CountryId == 3) {
                                grid_html += '<td class="rrtbl">' + data.Frequency + '</td>';
                                grid_html += '<td class="rrtbl">' + data.PayoutType + '</td>';
                            }
                            else if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
                                grid_html += '<td class="rrtbl" title = "' + data.Remarks + '"style="text-align:center;">' + remarks + '</td>';
                            }
                            grid_html += '<td class="rrtbl" status=' + data.Status + '>' + data.Status + '</td>';
                            if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
                                grid_html += '<td class="rrtbl">' + data.RejectionReason + '</td>';
                            }
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }

                        else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsvalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                            if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
                                grid_html += '<td class="rrtbl">' + data.AssociateName + '</td>';
                            }
                            grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            if (componentGroupId == 33 && CountryId == 3) {
                                grid_html += '<td class="rrtbl">' + data.SubComponent + '</td>';
                            }
                            grid_html += '<td class="rrtbl">' + data.Currency + '</td>';
                            if (componentGroupId == 33 && CountryId == 3) {
                                grid_html += '<td class="rrtbl">' + data.Frequency + '</td>';
                                grid_html += '<td class="rrtbl">' + data.PayoutType + '</td>';
                            }
                            else if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
                                grid_html += '<td class="rrtbl" title = "' + data.Remarks + '"style="text-align:center;">' + remarks + '</td>';
                            }
                            grid_html += '<td class="rrtbl" status=' + data.Status + '>' + data.Status + '</td>';
                            if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
                                grid_html += '<td class="rrtbl">' + data.RejectionReason + '</td>';
                            }
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                        }
                        else {
                            if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                                grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsvalid" id=' + (i + 1) + '  /></td>';
                                grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                                if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
                                    grid_html += '<td class="rrtbl">' + data.AssociateName + '</td>';
                                }
                                grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                                if (componentGroupId == 33 && CountryId == 3) {
                                    grid_html += '<td class="rrtbl">' + data.SubComponent + '</td>';
                                }
                                grid_html += '<td class="rrtbl">' + data.Currency + '</td>';
                                if (componentGroupId == 33 && CountryId == 3) {
                                    grid_html += '<td class="rrtbl">' + data.Frequency + '</td>';
                                    grid_html += '<td class="rrtbl">' + data.PayoutType + '</td>';
                                }
                                else if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
                                    grid_html += '<td class="rrtbl" title = "' + data.Remarks + '"style="text-align:center;">' + remarks + '</td>';
                                }
                                grid_html += '<td class="rrtbl" status=' + data.Status + '>' + data.Status + '</td>';
                                if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
                                    grid_html += '<td class="rrtbl">' + data.RejectionReason + '</td>';
                                }
                                grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                            }
                            else {
                                grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                                grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                                if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
                                    grid_html += '<td class="rrtbl">' + data.AssociateName + '</td>';
                                }
                                grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                                if (componentGroupId == 33 && CountryId == 3) {
                                    grid_html += '<td class="rrtbl">' + data.SubComponent + '</td>';
                                }
                                grid_html += '<td class="rrtbl">' + data.Currency + '</td>';

                                if (componentGroupId == 33 && CountryId == 3) {
                                    grid_html += '<td class="rrtbl">' + data.Frequency + '</td>';
                                    grid_html += '<td class="rrtbl">' + data.PayoutType + '</td>';
                                }
                                else if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
                                    grid_html += '<td class="rrtbl" title = "' + data.Remarks + '"style="text-align:center;">' + remarks + '</td>';
                                }
                                grid_html += '<td class="rrtbl" status=' + data.Status + '>' + data.Status + '</td>';
                                if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
                                    grid_html += '<td class="rrtbl">' + data.RejectionReason + '</td>';
                                }
                                grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                            }
                        }
                    });
                }
            }
            else if (componentGroupId == 50 && (CountryId == 14 || CountryId == 15 || CountryId == 16 || CountryId == 18 || CountryId == 19)) {
                $.each(msg.d, function (i, data) {
                    var remarks = '';

                    if (data.Remarks != null) {
                        remarks = (data.Remarks.length > 15) ? data.Remarks.substring(0, 15) + '...' : data.Remarks;
                    }
                    else {
                        remarks = '';
                    }
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }


                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsvalid" id=' + (i + 1) + ' disabled="true" /></td>';

                    } else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsvalid" id=' + (i + 1) + '/></td>';

                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsvalid" id=' + (i + 1) + ' /></td>';

                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        }
                    }
                    grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                    grid_html += '<td class="rrtbl">' + data.AssociateName + '</td>';
                    if (CountryId == 18 || CountryId == 19) {
                        grid_html += '<td class="rrtbl">' + data.SubComponent + '</td>';
                    }
                    grid_html += '<td class="rrtbl">' + data.DateOfJoining + '</td>';
                    grid_html += '<td class="rrtbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                    grid_html += '<td class="rrtbl" style="text-align:center;">' + data.Year + '</td>';
                    grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    if (CountryId == 18 || CountryId == 19) {
                        grid_html += '<td class="rrtbl">' + data.Units + '</td>';
                    }
                    grid_html += '<td class="rrtbl">' + data.Currency + '</td>';
                    grid_html += '<td class="rrtbl" title = "' + data.Remarks + '"style="text-align:center;">' + remarks + '</td>';
                    grid_html += '<td class="rrtbl">' + data.PayoutType + '</td>';
                    grid_html += '<td class="rrtbl" status=' + data.Status + '>' + data.Status + '</td>';
                    if (cutoff_date == NaN) {
                        grid_html += '<td class="jbtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    } else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<td class="jbtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {

                            grid_html += '<td class="jbtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {

                            grid_html += '<td class="jbtblEdit"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }
            $('#tblrewards').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblrewards").append("<tr class='even' id='NoData'><td colspan='14' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#rrvalid').attr("disabled", "disabled");
        }
    }

    else if (componentGroupId == 46) { // benefits

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").hide();

        $('#divBenefits').show();
        $('#divBenefits .dataTableScroll').css('display', 'block');
        $('#tbl_benefits').css('display', 'block');
        $('#divBenefits .viewport').css('display', 'block');
        $('#divBenefits .viewport').css('overflow', 'scroll');
        $('#tbl_benefits').find('tbody').html('');
        $('#tbl_benefits_wrapper').css('display', '');
        $("#divBenefits").css('display', 'block');

        //$('.dataTableScroll').css('display', 'block');
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");

        //$("#disLabel").css("margin-left", "300px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "10px");

        $(".inner_cont clearfix flft").css('height', '230px');
        $('#divBenefits .viewport').css('overflow', 'scroll');
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        $("#aid2").attr("maxlength", "11");
        $("#aid2").numeric();
        getTotalPages();
        //$('#tblJoining').css('display', 'none');

        var htmldata = '';
        htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="benvalid"/>';
        htmldata += '</th><th class="sort rrtbl" column="AssociateID" id="Th1">Associate ID </th>';
        htmldata += '</th><th class="rrtbl" id="Th1">Associate Name</th>';
        htmldata += '<th class="sort rrtbl" column="SubComponent">BenefitType</th>';
        htmldata += ' <th class="rrtbl">AdvisedMonth</th>';
        htmldata += ' <th class="rrtbl" >Year</th>';
        htmldata += '<th class="sort rrtbl" column="Amount">Amount </th>';
        htmldata += '<th class="sort rrtbl" column="PayoutType">Payout Type </th>';
        htmldata += '<th class="rrtbl">Rejection Reason</th>';
        htmldata += '<th class="sort rrtbl" column="Status">Status </th>';
        htmldata += '<th class="jbtblEdit">Edit </th></tr>';
        $('#tbl_benefits').find('thead').html('').html(htmldata);

        $("#divBenefits .refPage").css("display", "block");
        if (msg.d.length > 0) {
            var classname = '';
            $("#divBenefits .refPage").css("display", "block");

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var rejectionreason = '';

                if (data.RejectionReason != null) {
                    rejectionreason = (data.RejectionReason.length > 20) ? data.RejectionReason.substring(0, 20) + '...' : data.RejectionReason;
                }
                else {
                    rejectionreason = '';
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut-off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="benefitsvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="benefitsvalid" id=' + (i + 1) + ' /></td>';
                }
                else {
                    if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="benefitsvalid" id=' + (i + 1) + '  /></td>';
                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="benefitsvalid" id=' + (i + 1) + ' disabled="true" /></td>';

                    }
                }

                grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="rrtbl">' + data.AssociateName + '</td>';
                grid_html += '<td class="rrtbl">' + data.SubComponent + '</td>';
                grid_html += '<td class="rrtbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="rrtbl" style="text-align:center;">' + data.Year + '</td>';
                grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                grid_html += '<td class="rrtbl">' + data.PayoutType + '</td>';
                grid_html += '<td class="rrtbl" title="' + data.RejectionReason + '" style="text-align:center;">' + rejectionreason + '</td>';
                grid_html += '<td class="rrtbl" status=' + data.Status + '>' + data.Status + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
            });

            $('#tbl_benefits').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_benefits").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#benvalid').attr("disabled", "disabled");
        }
    }
    else if (componentGroupId == 31)////net travel 
    {
        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $("#mailattach").addClass('disabled');
        $("#customize").hide();

        $('#divNetTravelAllowance').show();
        $('#divNetTravelAllowance .dataTableScroll').css('display', 'block');
        $('#tbl_netTravel').css('display', 'block');
        $('#divNetTravelAllowance .viewport').css('display', 'block');
        $('#divNetTravelAllowance .viewport').css('overflow', 'scroll');
        $('#tbl_netTravel').find('tbody').html('');
        $('#tbl_netTravel_wrapper').css('display', '');
        $("#divNetTravelAllowance").css('display', 'block');

        //$('.dataTableScroll').css('display', 'block');
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");
        $('#customize').css('left', '370px');
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "330px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "10px");

        $(".inner_cont clearfix flft").css('height', '230px');
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        getTotalPages();
        //$('#tblJoining').css('display', 'none');

        var htmldata = '';
        htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="netvalidcheckbox"/>';
        htmldata += '</th><th class="sort nettbl" column="AssociateID" id="Th1">Associate ID </th>';
        htmldata += '<th class="nettbl">StartDate</th>';
        htmldata += '<th class="nettbl">EndDate</th>';
        htmldata += '<th class="sort nettbl">Amount </th>';
        htmldata += '<th class="nettbl">EffectiveDate</th>';
        htmldata += '<th class="sort nettbl" column="Status">Status </th>';
        htmldata += '<th class="jbtblEdit">Edit </th></tr>';
        $('#tbl_netTravel').find('thead').html('').html(htmldata);

        $("#divNetTravelAllowance .refPage").css("display", "block");
        if (msg.d.length > 0) {
            var classname = '';
            $("#divNetTravelAllowance .refPage").css("display", "block");

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut-off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="NetValid" id=' + (i + 1) + ' disbaled="true"/></td>';
                    grid_html += '<td class="nettbl">' + data.AssociateID + '</td>';
                    grid_html += '<td class="nettbl">' + data.StartDate + '</td>';
                    grid_html += '<td class="nettbl">' + data.EndDate + '</td>';
                    grid_html += '<td class="nettbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    grid_html += '<td class="nettbl">' + data.EffectiveDate + '</td>';
                    grid_html += '<td class="nettbl" status=' + data.Status + '>' + data.Status + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }

                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="NetValid" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="nettbl">' + data.AssociateID + '</td>';
                    grid_html += '<td class="nettbl">' + data.StartDate + '</td>';
                    grid_html += '<td class="nettbl">' + data.EndDate + '</td>';
                    grid_html += '<td class="nettbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    grid_html += '<td class="nettbl">' + data.EffectiveDate + '</td>';
                    grid_html += '<td class="nettbl" status=' + data.Status + '>' + data.Status + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                }

                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="NetValid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="nettbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="nettbl">' + data.StartDate + '</td>';
                            grid_html += '<td class="nettbl">' + data.EndDate + '</td>';
                            grid_html += '<td class="nettbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="nettbl">' + data.EffectiveDate + '</td>';
                            grid_html += '<td class="nettbl" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="NetValid" id=' + (i + 1) + ' disbaled="true"/></td>';
                            grid_html += '<td class="nettbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="nettbl">' + data.StartDate + '</td>';
                            grid_html += '<td class="nettbl">' + data.EndDate + '</td>';
                            grid_html += '<td class="nettbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="nettbl">' + data.EffectiveDate + '</td>';
                            grid_html += '<td class="nettbl" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                }
            });


            $('#tbl_netTravel').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_netTravel").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#netvalidcheckbox').attr("disabled", "disabled");
        }
    }
    else if (componentGroupId == 32)//Commuting Allowance
    {
        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").hide();


        $("#CommutingAllowance").show();
        $('#CommutingAllowance .dataTableScroll').css('display', 'block');
        $('#tbl_Commuting').css('display', 'block');
        $('#CommutingAllowance .viewport').css('display', 'block');
        $('#CommutingAllowance .viewport').css('overflow', 'scroll');

        $('#CommutingAllowance').find('tbody').html('');
        $('#CommutingAllowance_wrapper').css('display', '');

        //$('.dataTableScroll').css('display', 'block');
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");
        $("#divNetTravelAllowance").css('display', 'none');
        $("#CommutingAllowance").css('display', 'block');
        $('#tbl_netTravel').css('display', 'block');
        $('#tbl_shift').css('display', 'none');
        $('#tbl_shift_wrapper').css('display', 'none');
        $('#customize').css('left', '370px');
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "10px");

        $(".inner_cont clearfix flft").css('height', '230px');
        $('#CommutingAllowance .viewport').css('overflow', 'scroll');
        getTotalPages();
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        //$('#tblJoining').css('display', 'none');

        var htmldata = '';
        htmldata += '<tr><th width="35px"><input type="checkbox" id="cvalid"/>';
        htmldata += '</th><th class="sort commutetbl" column="AssociateID" id="Th1">Associate ID </th>';
        htmldata += '<th class="commutetbl">StartDate</th>';
        htmldata += '<th class="commutetbl">EndDate</th>';
        htmldata += '<th class="commutetbl">Distance</th>';
        htmldata += '<th class="sort commutetbl" column="Amount">Amount </th>';
        htmldata += '<th class="commutetbl" column="EffectiveDate">EffectiveDate</th>';
        htmldata += '<th class="commutetbl">SpecialCaseReason</th>';
        htmldata += '<th class="sort commutetbl" column="Status">Status </th>';
        htmldata += '<th width="60px">Edit </th></tr>';
        $('#tbl_Commuting').find('thead').html('').html(htmldata);


        $("#CommutingAllowance .refPage").css("display", "block");
        if (msg.d.length > 0) {
            var classname = '';
            $("#CommutingAllowance .refPage").css("display", "block");

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                var SplCaseReason = (data.SpecialCaseReason.length > 20) ? data.SpecialCaseReason.substring(0, 20) + '...' : data.SpecialCaseReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut-off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var reworkendcutoffdatesplit = reworkendcutoff.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var reworkenddate = new Date(reworkendcutoffdatesplit[2], reworkendcutoffdatesplit[1] - 1, reworkendcutoffdatesplit[0]); //Y M D
                var reworkendcutoff_date = reworkenddate.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="commutevalid" id=' + (i + 1) + ' disabled="disabled" /></td>';
                    grid_html += '<td class="commutetbl">' + data.AssociateID + '</td>';
                    grid_html += '<td class="commutetbl">' + data.StartDate + '</td>';
                    grid_html += '<td class="commutetbl">' + data.EndDate + '</td>';
                    grid_html += '<td class="commutetbl">' + data.Distance + '</td>';
                    grid_html += '<td class="commutetbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    grid_html += '<td class="commutetbl">' + data.EffectiveDate + '</td>';
                    grid_html += '<td class="commutetbl" title="' + data.SpecialCaseReason + '"style="text-align:center;">' + SplCaseReason + '</td>';
                    grid_html += '<td class="commutetbl" title=' + data.Status + '>' + status + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }

                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="commutevalid" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="commutetbl">' + data.AssociateID + '</td>';
                    grid_html += '<td class="commutetbl">' + data.StartDate + '</td>';
                    grid_html += '<td class="commutetbl">' + data.EndDate + '</td>';
                    grid_html += '<td class="commutetbl">' + data.Distance + '</td>';
                    grid_html += '<td class="commutetbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    grid_html += '<td class="commutetbl">' + data.EffectiveDate + '</td>';
                    grid_html += '<td class="commutetbl" title="' + data.SpecialCaseReason + '"style="text-align:center;">' + SplCaseReason + '</td>';
                    grid_html += '<td class="commutetbl" title=' + data.Status + '>' + status + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="commutevalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="commutetbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="commutetbl">' + data.StartDate + '</td>';
                            grid_html += '<td class="commutetbl">' + data.EndDate + '</td>';
                            grid_html += '<td class="commutetbl">' + data.Distance + '</td>';
                            grid_html += '<td class="commutetbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="commutetbl">' + data.EffectiveDate + '</td>';
                            grid_html += '<td class="commutetbl" title="' + data.SpecialCaseReason + '"style="text-align:center;">' + SplCaseReason + '</td>';
                            grid_html += '<td class="commutetbl" title=' + data.Status + '>' + status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="commutevalid" id=' + (i + 1) + ' disabled="disabled" /></td>';
                        grid_html += '<td class="commutetbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="commutetbl">' + data.StartDate + '</td>';
                        grid_html += '<td class="commutetbl">' + data.EndDate + '</td>';
                        grid_html += '<td class="commutetbl">' + data.Distance + '</td>';
                        grid_html += '<td class="commutetbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                        grid_html += '<td class="commutetbl">' + data.EffectiveDate + '</td>';
                        grid_html += '<td class="commutetbl" title="' + data.SpecialCaseReason + '"style="text-align:center;">' + SplCaseReason + '</td>';
                        grid_html += '<td class="commutetbl" title=' + data.Status + '>' + status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
            });

            $('#tbl_Commuting').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_Commuting").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#cvalid').attr("disabled", "disabled");
        }
    }

    else if (componentGroupId == 36 || componentGroupId == 37) {

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").show();

        $('#InsuranceTaxation').show();
        $('#InsuranceTaxation .dataTableScroll').css('display', 'block');
        $('#tblInsurancetax').css('display', 'block');
        $('#InsuranceTaxation .viewport').css('display', 'block');
        $('#InsuranceTaxation .viewport').css('overflow', 'scroll');
        $('#tblInsurancetax').find('tbody').html('');
        $('#tblInsurancetax_wrapper').css('display', '');
        // $('.dataTableScroll').css('display', 'block');
        $("#InsuranceTaxation").css('display', 'block');

        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");
        $('#customize').css('left', '370px');
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "10px");
        $('.error_msg_reject').css('left', '200px');

        $(".inner_cont clearfix flft").css('height', '230px');
        $('#InsuranceTaxation .viewport').css('overflow', 'scroll');

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        getTotalPages();
        //$('#tblJoining').css('display', 'none');
        if (CustomizeTax != '~1~2~3~4~5~6~8~') {
            var htmldata = '';
            htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="taxvalid"/>';
            htmldata += '</th><th class="sort intaxtbl" column="AssociateID" id="Th1">Associate ID </th>';
            htmldata += '<th class="intaxtbl">StartDate</th>';
            htmldata += '<th class="intaxtbl">EndDate</th>';
            htmldata += '<th class="sort intaxtbl" column="Amount">Amount </th>';
            htmldata += '<th class="intaxtbl">EffectiveDate</th>';
            htmldata += '<th class="sort intaxtbl" column="BeneficiaryAmount">Beneficiary Amount </th>';
            if (CustomizeTax.indexOf("~7~") > -1) {
                htmldata += ' <th class="intaxtbl">SpecialCaseReason</th>';
            }
            htmldata += '<th class="sort intaxtbl" column="Status">Status </th>';
            htmldata += '<th class="intaxtblEdit">Edit </th></tr>';
            $('#tblInsurancetax').find('thead').html('').html(htmldata);
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="taxvalid"/>';
            htmldata += '</th><th class="sort intaxtbl" column="AssociateID" id="Th1">Associate ID </th>';
            htmldata += '<th class="intaxtbl">StartDate</th>';
            htmldata += '<th class="intaxtbl">EndDate</th>';
            htmldata += '<th class="sort intaxtbl" column="Amount">Amount </th>';
            htmldata += '<th class="intaxtbl">EffectiveDate</th>';
            htmldata += '<th class="sort intaxtbl" column="BeneficiaryAmount">Beneficiary Amount </th>';
            htmldata += '<th class="sort intaxtbl" column="Status">Status </th>';
            htmldata += '<th class="intaxtblEdit">Edit </th></tr>';
            $('#tblInsurancetax').find('thead').html('').html(htmldata);
        }

        $("#InsuranceTaxation .refPage").css("display", "block");
        if (msg.d.length > 0) {
            var classname = '';
            $("#InsuranceTaxation .refPage").css("display", "block");
            if (CustomizeTax != '~1~2~3~4~5~6~8~') {
                $.each(msg.d, function (i, data) {

                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';
                    var SpecialCaseReason = '';
                    if (data.SpecialCaseReason != null) {
                        SpecialCaseReason = (data.SpecialCaseReason.length > 10) ? data.SpecialCaseReason.substring(0, 10) + '..' : data.SpecialCaseReason;
                    }
                    else {
                        SpecialCaseReason = '';
                    }

                    var d = new Date();
                    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                    //cut-off enddate//
                    var cutoffdatesplit = cutoffdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                    var cutoff_date = date.getTime();

                    //cut off start  date //
                    var cutoffstartdatesplit = cutoffStartdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                    var cutoffStart_date = date.getTime();

                    var todaysplit = today.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                    var today_date = Date1.getTime();

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="insurancevalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        grid_html += '<td class="intaxtbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.StartDate + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.EndDate + '</td>';

                        grid_html += '<td class="intaxtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.EffectiveDate + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.BeneficiaryAmount + '</td>';
                        if (CustomizeTax.indexOf("~7~") > -1) {
                            grid_html += '<td class="intaxtbl" title="' + data.SpecialCaseReason + '"style="text-align:center;">' + SpecialCaseReason + '</td>';
                        }
                        grid_html += '<td class="intaxtbl" status=' + data.Status + '>' + data.Status + '</td>';
                        grid_html += '<td class="intaxtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                    }
                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="insurancevalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="intaxtbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.StartDate + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.EndDate + '</td>';

                        grid_html += '<td class="intaxtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.EffectiveDate + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.BeneficiaryAmount + '</td>';
                        if (CustomizeTax.indexOf("~7~") > -1) {
                            grid_html += '<td class="intaxtbl" title="' + data.SpecialCaseReason + '"style="text-align:center;">' + SpecialCaseReason + '</td>';
                        }
                        grid_html += '<td class="intaxtbl" status=' + data.Status + '>' + data.Status + '</td>';
                        grid_html += '<td class="intaxtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="insurancevalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="intaxtbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.StartDate + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.EndDate + '</td>';

                            grid_html += '<td class="intaxtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.EffectiveDate + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.BeneficiaryAmount + '</td>';
                            if (CustomizeTax.indexOf("~7~") > -1) {
                                grid_html += '<td class="intaxtbl" title="' + data.SpecialCaseReason + '"style="text-align:center;">' + SpecialCaseReason + '</td>';
                            }
                            grid_html += '<td class="intaxtbl" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td class="intaxtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="insurancevalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="intaxtbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.StartDate + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.EndDate + '</td>';

                            grid_html += '<td class="intaxtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.EffectiveDate + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.BeneficiaryAmount + '</td>';
                            if (CustomizeTax.indexOf("~7~") > -1) {
                                grid_html += '<td class="intaxtbl" title="' + data.SpecialCaseReason + '"style="text-align:center;">' + SpecialCaseReason + '</td>';
                            }
                            grid_html += '<td class="intaxtbl" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td class="intaxtblEdit"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }
            else {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';

                    var d = new Date();
                    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                    //cut-off enddate//
                    var cutoffdatesplit = cutoffdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                    var cutoff_date = date.getTime();

                    //cut off start  date //
                    var cutoffstartdatesplit = cutoffStartdate.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                    var cutoffStart_date = date.getTime();

                    var todaysplit = today.split('/');
                    // Month is zero-indexed so subtract one from the month inside the constructor
                    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                    var today_date = Date1.getTime();

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="insurancevalid" id=' + (i + 1) + ' disabled="true"/></td>';
                        grid_html += '<td class="intaxtbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.StartDate + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.EndDate + '</td>';
                        grid_html += '<td class="intaxtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.EffectiveDate + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.BeneficiaryAmount + '</td>';
                        grid_html += '<td class="intaxtbl" status=' + data.Status + '>' + data.Status + '</td>';
                        grid_html += '<td class="intaxtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="insurancevalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="intaxtbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.StartDate + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.EndDate + '</td>';
                        grid_html += '<td class="intaxtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.EffectiveDate + '</td>';
                        grid_html += '<td class="intaxtbl">' + data.BeneficiaryAmount + '</td>';
                        grid_html += '<td class="intaxtbl" status=' + data.Status + '>' + data.Status + '</td>';
                        grid_html += '<td class="intaxtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    }
                    else {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="insurancevalid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="intaxtbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.StartDate + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.EndDate + '</td>';
                            grid_html += '<td class="intaxtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.EffectiveDate + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.BeneficiaryAmount + '</td>';
                            grid_html += '<td class="intaxtbl" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td class="intaxtblEdit"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="insurancevalid" id=' + (i + 1) + ' disabled="true"/></td>';
                            grid_html += '<td class="intaxtbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.StartDate + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.EndDate + '</td>';
                            grid_html += '<td class="intaxtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.EffectiveDate + '</td>';
                            grid_html += '<td class="intaxtbl">' + data.BeneficiaryAmount + '</td>';
                            grid_html += '<td class="intaxtbl" status=' + data.Status + '>' + data.Status + '</td>';
                            grid_html += '<td class="intaxtblEdit"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }

            $('#tblInsurancetax').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblInsurancetax").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#taxvalid').attr("disabled", "disabled");
        }
    }

    else if (componentGroupId == 38) {  // 38- Car damage

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").show();

        $('#CarDamageTrafficFine').show();
        $('#CarDamageTrafficFine .dataTableScroll').css('display', 'block');
        $('#tblCarDamageTrafficFine').css('display', 'block');
        $('#CarDamageTrafficFine .viewport').css('display', 'block');
        $('#CarDamageTrafficFine .viewport').css('overflow', 'scroll');

        $('#tblCarDamageTrafficFine').find('tbody').html('');
        $('#tblCarDamageTrafficFine_wrapper').css('display', '');

        //$('.dataTableScroll').css('display', 'block');
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "13px");
        $("#CarDamageTrafficFine").css('display', 'block');
        $('#tblCarDamageTrafficFine').css('display', 'block');
        $('#tbl_shift').css('display', 'none');
        $('#tbl_shift_wrapper').css('display', 'none');
        $('#customize').css('left', '370px');
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "10px");

        $(".inner_cont clearfix flft").css('height', '230px');
        $('#CarDamageTrafficFine .viewport').css('overflow', 'scroll');
        getTotalPages();

        $("#aid1").attr("maxlength", "11");
        $("#aid3").attr("maxlength", "11");

        $("#aid1").numeric();
        $("#aid3").numeric();
        if (CustomizeCar != '~1~2~5~6~7~') {
            var htmldata = '';
            htmldata += '<tr><th class="sbtbl1"><input type="checkbox" id="ctvalid"/>';
            htmldata += '</th><th class="sort cttbl" column="AssociateID" id="Th1">Associate ID </th>';
            htmldata += '</th><th class="sort cttbl" column="Component" id="Th1">Component </th>';

            if (CustomizeCar.indexOf("~3~") > -1) {
                htmldata += ' <th class="cttbl">AdvisedMonth</th>';
            }
            if (CustomizeCar.indexOf("~4~") > -1) {
                htmldata += ' <th class="cttbl">Year</th>';
            }
            htmldata += '<th class="sort cttbl" column="Amount">Amount </th>';
            htmldata += '<th class="sort cttbl" column="PayoutType" id="Th3">PayoutType  </th>';
            htmldata += '<th class="sort cttbl" column="Status">Status </th>';
            if (CustomizeCar.indexOf("~8~") > -1) {
                htmldata += ' <th class="jbtbl">AttachMail</th>';
            }
            htmldata += '<th width="60px">Edit </th></tr>';
            $('#tblCarDamageTrafficFine').find('thead').html('').html(htmldata);
        }
        else {
            var htmldata = '';
            htmldata += '<tr><th class="sbtbl1"><input type="checkbox" id="ctvalid" /></th>';
            htmldata += '<th class="sort cttbl" column="AssociateID"  id="Th1">Associate ID </th>';
            htmldata += '<th class="sort cttbl" column="Component"  id="Th1">Component </th>';
            htmldata += '<th class="sort cttbl" column="Amount">Amount </th>';
            htmldata += '<th class="sort cttbl" column="PayoutType" id="Th3">PayoutType  </th>';
            htmldata += '<th class="sort cttbl" column="Status">Status </th>';
            htmldata += '<th width="60px">Edit</th></tr>';
            $('#tblCarDamageTrafficFine').find('thead').html('').html(htmldata);
        }

        $("#CarDamageTrafficFine .refPage").css("display", "block");
        if (msg.d.length > 0) {
            var classname = '';
            $("#CarDamageTrafficFine .refPage").css("display", "block");
            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            //cut-off enddate//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var reworkendcutoffdatesplit = reworkendcutoff.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var reworkenddate = new Date(reworkendcutoffdatesplit[2], reworkendcutoffdatesplit[1] - 1, reworkendcutoffdatesplit[0]); //Y M D
            var reworkendcutoff_date = reworkenddate.getTime();

            var reworkstartcutoffdatesplit = reworkstartcutoff.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var reworkstartdate = new Date(reworkstartcutoffdatesplit[2], reworkstartcutoffdatesplit[1] - 1, reworkstartcutoffdatesplit[0]); //Y M D
            var reworkstartcutoff_date = reworkstartdate.getTime();


            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();


            if (CustomizeCar != '~1~2~5~6~7~') {
                $.each(msg.d, function (i, data) {

                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';

                    //var SpecialCaseReason = (data.SpecialCaseReason.length > 20) ? data.SpecialCaseReason.substring(0, 20) + '...' : data.SpecialCaseReason;

                    var SplCaseMailUploadId = data.FileUploadId;
                    var gridMailIdval = "";
                    if ((SplCaseMailUploadId == 0) || (SplCaseMailUploadId == null)) {
                        gridMailIdval = "<div></div>";
                    }
                    else {
                        gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileUploadId + ' class="mail_btn" fileuploadid=' + data.FileUploadId + '/>';
                    }

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td class="sbtbl1"><input type="checkbox" class="carvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        grid_html += '<td class="cttbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="cttbl">' + data.Component + '</td>';
                        if (CustomizeCar.indexOf("~3~") > -1) {
                            grid_html += '<td class="cttbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                        }
                        if (CustomizeCar.indexOf("~4~") > -1) {
                            grid_html += '<td class="cttbl" style="text-align:center;">' + data.Year + '</td>';
                        }
                        grid_html += '<td class="cttbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                        grid_html += '<td class="cttbl">' + data.PayoutType + '</td>';
                        grid_html += '<td class="cttbl" status=' + data.Status + '>' + data.Status + '</td>';
                        if (CustomizeCar.indexOf("~8~") > -1) {
                            grid_html += '<td class="jbtbl" style="text-align:center;" FileUploadId="' + data.FileuploadId + '">' + gridMailIdval + '</td>';
                        }
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td class="sbtbl1"><input type="checkbox" class="carvalid" id=' + (i + 1) + '  /></td>';
                        grid_html += '<td class="cttbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="cttbl">' + data.Component + '</td>';
                        if (CustomizeCar.indexOf("~3~") > -1) {
                            grid_html += '<td class="cttbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                        }
                        if (CustomizeCar.indexOf("~4~") > -1) {
                            grid_html += '<td class="cttbl" style="text-align:center;">' + data.Year + '</td>';
                        }
                        grid_html += '<td class="cttbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                        grid_html += '<td class="cttbl">' + data.PayoutType + '</td>';
                        grid_html += '<td class="cttbl" status=' + data.Status + '>' + data.Status + '</td>';
                        if (CustomizeCar.indexOf("~8~") > -1) {
                            grid_html += '<td class="jbtbl" style="text-align:center;" FileUploadId="' + data.FileuploadId + '">' + gridMailIdval + '</td>';
                        }
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                            if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                                grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td class="sbtbl1"><input type="checkbox" class="carvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                                grid_html += '<td class="cttbl">' + data.AssociateID + '</td>';
                                grid_html += '<td class="cttbl">' + data.Component + '</td>';
                                if (CustomizeCar.indexOf("~3~") > -1) {
                                    grid_html += '<td class="cttbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                                }
                                if (CustomizeCar.indexOf("~4~") > -1) {
                                    grid_html += '<td class="cttbl" style="text-align:center;">' + data.Year + '</td>';
                                }
                                grid_html += '<td class="cttbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                                grid_html += '<td class="cttbl">' + data.PayoutType + '</td>';
                                grid_html += '<td class="cttbl" status=' + data.Status + '>' + data.Status + '</td>';
                                if (CustomizeCar.indexOf("~8~") > -1) {
                                    grid_html += '<td class="jbtbl" style="text-align:center;" FileUploadId="' + data.FileuploadId + '">' + gridMailIdval + '</td>';
                                }
                                grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                            }
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td class="sbtbl1"><input type="checkbox" class="carvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                            grid_html += '<td class="cttbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="cttbl">' + data.Component + '</td>';
                            if (CustomizeCar.indexOf("~3~") > -1) {
                                grid_html += '<td class="cttbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                            }
                            if (CustomizeCar.indexOf("~4~") > -1) {
                                grid_html += '<td class="cttbl" style="text-align:center;">' + data.Year + '</td>';
                            }
                            grid_html += '<td class="cttbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                            grid_html += '<td class="cttbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="cttbl" status=' + data.Status + '>' + data.Status + '</td>';
                            if (CustomizeCar.indexOf("~8~") > -1) {
                                grid_html += '<td class="jbtbl" style="text-align:center;" FileUploadId="' + data.FileuploadId + '">' + gridMailIdval + '</td>';
                            }
                            grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }
            else {
                $.each(msg.d, function (i, data) {
                    if ((i % 2) == 0) {
                        classname = 'even';
                    }
                    else {
                        classname = 'odd';
                    }
                    var remarks = '';

                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td class="sbtbl1"><input type="checkbox" class="carvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="cttbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="cttbl">' + data.Component + '</td>';
                        grid_html += '<td class="cttbl">' + data.Amount + '</td>';
                        grid_html += '<td class="cttbl">' + data.PayoutType + '</td>';
                        grid_html += '<td class="cttbl">' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }

                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td class="sbtbl1"><input type="checkbox" class="carvalid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="cttbl">' + data.AssociateID + '</td>';
                        grid_html += '<td class="cttbl">' + data.Component + '</td>';
                        grid_html += '<td class="cttbl">' + data.Amount + '</td>';
                        grid_html += '<td class="cttbl">' + data.PayoutType + '</td>';
                        grid_html += '<td class="cttbl">' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                    }
                    else {
                        if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                            if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                                grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td class="sbtbl1"><input type="checkbox" class="carvalid" id=' + (i + 1) + ' /></td>';
                                grid_html += '<td class="cttbl">' + data.AssociateID + '</td>';
                                grid_html += '<td class="cttbl">' + data.Component + '</td>';
                                grid_html += '<td class="cttbl">' + data.Amount + '</td>';
                                grid_html += '<td class="cttbl">' + data.PayoutType + '</td>';
                                grid_html += '<td class="cttbl">' + data.Status + '</td>';
                                grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                            }
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td class="sbtbl1"><input type="checkbox" class="carvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                            grid_html += '<td class="cttbl">' + data.AssociateID + '</td>';
                            grid_html += '<td class="cttbl">' + data.Component + '</td>';
                            grid_html += '<td class="cttbl">' + data.Amount + '</td>';
                            grid_html += '<td class="cttbl">' + data.PayoutType + '</td>';
                            grid_html += '<td class="cttbl">' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                });
            }

            $('#tblCarDamageTrafficFine').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblCarDamageTrafficFine").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#ctvalid').attr("disabled", "disabled");
        }
    }
    //ON CALL AND OVERTIME ALLOWANCE
    else if ((componentGroupId == 39 || componentGroupId == 22) && CountryId == 3) {
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#mailattach").hide();
        $("#customize").hide();

        $('#divOnCallAllowance').show();
        $('#divOnCallAllowance .dataTableScroll').css('display', 'block');
        $('#tbl_oncall').css('display', 'block');
        $('#divOnCallAllowance .viewport').css('display', 'block');
        $('#divOnCallAllowance .viewport').css('overflow', 'scroll');

        $('#tbl_oncall').find('tbody').html('');
        $('#tbl_oncall').css('display', 'block');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $(".error_msg_reject").css("left", "460px");
        $("#aid1").attr("maxlength", "7");
        $("#aid1").numeric();
        $("#aid3").attr("maxlength", "10");
        $("#aid3").numeric();

        getTotalPages();
        $("#NoData").remove();

        var htmldata = '';
        htmldata += '<tr><th class="ot1"><input type="checkbox" id="ocvalid" /></th>';
        htmldata += ' <th id="Th5" class="sort ot2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="sort ot3" column="ProjectId">ProjectId </th>';
        htmldata += ' <th class="sort ot4" column="AccountID">AccountID</th>';
        htmldata += ' <th class="sort ot5" column="AccountName">AccountName</th>';
        htmldata += ' <th class="ot6" column="StartDate">StartDate</th>';
        htmldata += ' <th class="ot7" column="EndDate">EndDate</th>';

        htmldata += ' <th class="sort ot10" column="DayType">DayType</th>';
        htmldata += ' <th class="sort ot11" column="Amount">Amount</th>';
        htmldata += ' <th class="sort ot12" column="NoOfHours">NoOfHours</th>';
        htmldata += ' <th column="SpecialCaseReason" class="ot13">TotalHours<br /></th>';
        htmldata += ' <th class="sort ot14" column="Status">Status</th>';
        htmldata += ' <th column="SpecialCaseMail" class="NSAtd10">ApprovalMail</th>';
        htmldata += ' <th class="ot15">Edit</th></tr>';
        $('#tbl_oncall').find('thead').html('').html(htmldata);


        if (msg.d.length > 0) {
            $("#divOnCallAllowance .refPage").css("display", "block");

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();
                var FileUploadID = data.FileUploadID;
                var DayType = (data.DayType.length > 30) ? data.DayType.substring(0, 30) + '...' : data.DayType;
                var gridMailIdval = "";
                if ((FileUploadID == 0) || (FileUploadID == null)) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileUploadID + ' class="mail_btn" fileuploadid=' + data.FileUploadID + '/>';
                }

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="ot2">' + data.AssociateID + '</td>';
                    grid_html += '<td class="ot3">' + data.ProjectID + '</td>';
                    grid_html += '<td class="ot4">' + data.AccountID + '</td>';
                    grid_html += '<td class="ot5">' + data.AccountName + '</td>';
                    grid_html += '<td style="text-align:center;" class="ot6" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="ot7" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';

                    grid_html += '<td class="ot10">' + DayType + '</td>';
                    grid_html += '<td class="ot11">' + data.Amount + '</td>';
                    grid_html += '<td class="ot12">' + data.NoOfHours + '</td>';
                    grid_html += '<td class="ot13">' + data.TotalHours + '</td>';
                    grid_html += '<td class="ot14">' + data.Status + '</td>';
                    grid_html += '<td class="NSAtd10">' + gridMailIdval + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }

                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="ot2">' + data.AssociateID + '</td>';
                    grid_html += '<td class="ot3">' + data.ProjectID + '</td>';
                    grid_html += '<td class="ot4">' + data.AccountID + '</td>';
                    grid_html += '<td class="ot5">' + data.AccountName + '</td>';
                    grid_html += '<td style="text-align:center;" class="ot6" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="ot7" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';

                    grid_html += '<td class="ot10">' + DayType + '</td>';
                    grid_html += '<td class="ot11">' + data.Amount + '</td>';
                    grid_html += '<td class="ot12">' + data.NoOfHours + '</td>';
                    grid_html += '<td class="ot13">' + data.TotalHours + '</td>';
                    grid_html += '<td class="ot14">' + data.Status + '</td>';
                    grid_html += '<td class="NSAtd10">' + gridMailIdval + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="ot2">' + data.AssociateID + '</td>';
                            grid_html += '<td class="ot3">' + data.ProjectID + '</td>';
                            grid_html += '<td class="ot4">' + data.AccountID + '</td>';
                            grid_html += '<td class="ot5">' + data.AccountName + '</td>';
                            grid_html += '<td style="text-align:center;" class="ot6" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                            grid_html += '<td style="text-align:center;" class="ot7" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';

                            grid_html += '<td class="ot10">' + DayType + '</td>';
                            grid_html += '<td class="ot11">' + data.Amount + '</td>';
                            grid_html += '<td class="ot12">' + data.NoOfHours + '</td>';
                            grid_html += '<td class="ot13">' + data.TotalHours + '</td>';
                            grid_html += '<td class="ot14">' + data.Status + '</td>';
                            grid_html += '<td class="NSAtd10">' + gridMailIdval + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="ot2">' + data.AssociateID + '</td>';
                            grid_html += '<td class="ot3">' + data.ProjectID + '</td>';
                            grid_html += '<td class="ot4">' + data.AccountID + '</td>';
                            grid_html += '<td class="ot5">' + data.AccountName + '</td>';
                            grid_html += '<td style="text-align:center;" class="ot6" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                            grid_html += '<td style="text-align:center;" class="ot7" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';

                            grid_html += '<td class="ot10">' + DayType + '</td>';
                            grid_html += '<td class="ot11">' + data.Amount + '</td>';
                            grid_html += '<td class="ot12">' + data.NoOfHours + '</td>';
                            grid_html += '<td class="ot13">' + data.TotalHours + '</td>';
                            grid_html += '<td class="ot14">' + data.Status + '</td>';
                            grid_html += '<td class="NSAtd10">' + gridMailIdval + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }
                }
            });


            $('#tbl_oncall').find('tbody').html('').html(grid_html);
        }

        else {
            $("#tbl_oncall").append("<tr class='even' id='NoData'><td colspan='15' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#ocvalid').attr("disabled", "disabled");
        }


    }
    else if (componentGroupId == 22 && (CountryId == 5 || CountryId == 6 || CountryId == 7 || CountryId == 8 || CountryId == 9 || CountryId == 10 || CountryId == 11 || CountryId == 12 || CountryId == 13)) { // oT APAC

        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#customize").hide();
        $("#mailattach").hide();
        $('#divOnCallAllowance').show();
        $('#divOnCallAllowance .dataTableScroll').css('display', 'block');
        $('#tbl_oncall').css('display', 'block');
        $('#divOnCallAllowance .viewport').css('display', 'block');
        $('#divOnCallAllowance .viewport').css('overflow', 'scroll');

        $('#tbl_oncall').find('tbody').html('');
        $('#tbl_oncall').css('display', 'block');

        //$("#disLabel").css("margin-left", "410px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "400px");
        ////$("#ulRecord li").css("margin-top", "-31px");
        //$("#ulRecord li").css("position", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $("#aid1").attr("maxlength", "10");
        $("#aid1").numeric();
        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="ot1"><input type="checkbox" id="ocvalid" /></th>';
        htmldata += ' <th id="Th5" class="sort ot_2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="ot_3" column="ProjectId">Project Id </th>';
        htmldata += ' <th class="ot_4" column="StartDate">Start Date</th>';
        htmldata += ' <th class="ot_5" column="EndDate">End Date</th>';
        htmldata += ' <th class="ot_6" column="StartTime">Start Time</th>';
        htmldata += ' <th class="ot_7" column="EndTime">End Time</th>';
        if (CountryId == 4 || CountryId == 7 || CountryId == 10) {   // jpn, china Qatar
            htmldata += ' <th class="sort ot_8" column="DayType">Day Type </th>';
        }
        if (CountryId == 4) { // jpn
            htmldata += ' <th class="ot_9" column="TotalHours">Total Hours </th>';
        }
        if (CountryId != 8 && CountryId != 9 && CountryId != 11 && CountryId != 12 && CountryId != 13) {
            htmldata += ' <th class="sort ot_10" column="Amount">Amount </th>';
        }
        if (CountryId == 8 || CountryId == 9) {
            $('#upload').css('display', 'none');
            $('#download').css('display', 'none');
            $('#dwnload_Data').hide();
            $('#dwnload_Report').css('float', 'right');
            htmldata += ' <th class="ot_7" column="AllownaceType">AllowanceType </th>';
            htmldata += ' <th class="ot_3" column="AssociateRemarks">Associate Remarks</th>';
            htmldata += ' <th class="ot_3" column="RejectionReason">Rejection Reason </th>';
        }
        htmldata += ' <th class="sort ot_11" column="Status">Status</th>';
        htmldata += ' <th class="ot_12">Edit</th></tr>';

        $('#tbl_oncall').find('thead').html('').html(htmldata);


        if (msg.d.length > 0) {
            $("#divOnCallAllowance .refPage").css("display", "block");

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                var rejectionRemarks = (data.RejectionReason.length > 20) ? data.RejectionReason.substring(0, 20) + '...' : data.RejectionReason;
                var remarks = (data.InputRemarks.length > 20) ? data.InputRemarks.substring(0, 20) + '...' : data.InputRemarks;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var reworkendcutoffdatesplit = reworkendcutoff.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var reworkenddate = new Date(reworkendcutoffdatesplit[2], reworkendcutoffdatesplit[1] - 1, reworkendcutoffdatesplit[0]); //Y M D
                var reworkendcutoff_date = reworkenddate.getTime();

                var reworkstartcutoffdatesplit = reworkstartcutoff.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var reworkstartdate = new Date(reworkstartcutoffdatesplit[2], reworkstartcutoffdatesplit[1] - 1, reworkstartcutoffdatesplit[0]); //Y M D
                var reworkstartcutoff_date = reworkstartdate.getTime();

                var gridMailIdval = "";

                /*if (cutoff_date == NaN || cutoff_date == 'NaN' ||  cutoff_date == "NaN") {*/
                if (isNaN(cutoff_date)) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="ot_2">' + data.AssociateID + '</td>';
                    grid_html += '<td class="ot_3">' + data.ProjectID + '</td>';

                    grid_html += '<td style="text-align:center;" class="ot_4" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="ot_5" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';
                    grid_html += '  <td style="text-align:center;" class="ot_6"><span class="clsActualTime">' + data.StartTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.StartTime + '" size="10"  /></p></td>';
                    grid_html += '  <td style="text-align:center;" class="ot_7"><span class="clsActualTime">' + data.EndTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.EndTime + '" size="10"  /></p></td>';
                    if (CountryId == 4 || CountryId == 7 || CountryId == 10) {
                        grid_html += '<td class="ot_8">' + data.DayType + '</td>';
                    }
                    if (CountryId == 4) { // jpn
                        grid_html += '<td class="ot_9">' + data.TotalHours + '</td>';
                    }
                    if (CountryId != 8 && CountryId != 9 && CountryId != 11 && CountryId != 12 && CountryId != 13) {
                        grid_html += '<td class="ot_10">' + data.Amount + '</td>';
                    }
                    if (CountryId == 8 || CountryId == 9) {
                        grid_html += '<td class="ot_7">' + data.AllowanceType + '</td>';
                        grid_html += '<td class="" Remarks="' + data.InputRemarks + '" title="' + data.InputRemarks + '">' + remarks + '</td>';
                        grid_html += '<td class="" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '">' + rejectionRemarks + '</td>';
                    }
                    grid_html += '<td class="ot_11">' + data.Status + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }

                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="ot_2">' + data.AssociateID + '</td>';
                    grid_html += '<td class="ot_3">' + data.ProjectID + '</td>';
                    grid_html += '<td style="text-align:center;" class="ot_4" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="ot_5" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';
                    grid_html += '  <td style="text-align:center;" class="ot_6"><span class="clsActualTime">' + data.StartTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.StartTime + '" size="10"  /></p></td>';
                    grid_html += '  <td style="text-align:center;" class="ot_7"><span class="clsActualTime">' + data.EndTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.EndTime + '" size="10"  /></p></td>';
                    if (CountryId == 4 || CountryId == 7 || CountryId == 10) {
                        grid_html += '<td class="ot_8">' + data.DayType + '</td>';
                    }
                    if (CountryId == 4) { // jpn
                        grid_html += '<td class="ot_9">' + data.TotalHours + '</td>';
                    }
                    if (CountryId != 8 && CountryId != 9 && CountryId != 11 && CountryId != 12 && CountryId != 13) {
                        grid_html += '<td class="ot_10">' + data.Amount + '</td>';
                    }
                    if (CountryId == 8 || CountryId == 9) {
                        grid_html += '<td class="ot_7">' + data.AllowanceType + '</td>';
                        grid_html += '<td class="ot_3" Remarks="' + data.InputRemarks + '" title="' + data.InputRemarks + '">' + remarks + '</td>';
                        grid_html += '<td class="ot_3" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '">' + rejectionRemarks + '</td>';
                    }
                    grid_html += '<td class="ot_11">' + data.Status + '</td>';


                    if (componentGroupId == 22 && (CountryId == 7 || CountryId == 8 || CountryId == 9) && (data.Status != "Approved by PFSS Admin" && data.Status != "Approved by Home Manager")) {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_detailsd spriteImage"  /></td></tr>';
                    }
                }

                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejected by Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager Rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted" || data.Status == "Rejected By PFSS Admin" || data.Status == "Resubmitted after PFSS Rejection") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="ot_2">' + data.AssociateID + '</td>';
                            grid_html += '<td class="ot_3">' + data.ProjectID + '</td>';

                            grid_html += '<td style="text-align:center;" class="ot_4" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                            grid_html += '<td style="text-align:center;" class="ot_5" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';
                            grid_html += '  <td style="text-align:center;" class="ot_6"><span class="clsActualTime">' + data.StartTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.StartTime + '" size="10"  /></p></td>';
                            grid_html += '  <td style="text-align:center;" class="ot_7"><span class="clsActualTime">' + data.EndTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.EndTime + '" size="10"  /></p></td>';
                            if (CountryId == 4 || CountryId == 7 || CountryId == 10) {
                                grid_html += '<td class="ot_8">' + data.DayType + '</td>';
                            }
                            if (CountryId == 4) { // jpn
                                grid_html += '<td class="ot_9">' + data.TotalHours + '</td>';
                            }
                            if (CountryId != 8 && CountryId != 9 && CountryId != 11 && CountryId != 12 && CountryId != 13) {
                                grid_html += '<td class="ot_10">' + data.Amount + '</td>';
                            }
                            if (CountryId == 8 || CountryId == 9) {
                                grid_html += '<td class="ot_7">' + data.AllowanceType + '</td>';
                                grid_html += '<td class="ot_3" Remarks="' + data.InputRemarks + '" title="' + data.InputRemarks + '">' + remarks + '</td>';
                                grid_html += '<td class="ot_3" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '">' + rejectionRemarks + '</td>';
                            }
                            grid_html += '<td class="ot_11">' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="ot_2">' + data.AssociateID + '</td>';
                            grid_html += '<td class="ot_3">' + data.ProjectID + '</td>';
                            grid_html += '<td style="text-align:center;" class="ot_4" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                            grid_html += '<td style="text-align:center;" class="ot_5" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';
                            grid_html += '  <td style="text-align:center;" class="ot_6"><span class="clsActualTime">' + data.StartTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.StartTime + '" size="10"  /></p></td>';
                            grid_html += '  <td style="text-align:center;" class="ot_7"><span class="clsActualTime">' + data.EndTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.EndTime + '" size="10"  /></p></td>';
                            if (CountryId == 4 || CountryId == 7 || CountryId == 10) {
                                grid_html += '<td class="ot_8">' + data.DayType + '</td>';
                            }
                            if (CountryId == 4) { // jpn
                                grid_html += '<td class="ot_9">' + data.TotalHours + '</td>';
                            }
                            if (CountryId != 8 && CountryId != 9 && CountryId != 11 && CountryId != 12 && CountryId != 13) {
                                grid_html += '<td class="ot_10">' + data.Amount + '</td>';
                            }
                            if (CountryId == 8 || CountryId == 9) {
                                grid_html += '<td class="ot_7">' + data.AllowanceType + '</td>';
                                grid_html += '<td class="ot_3" Remarks="' + data.InputRemarks + '" title="' + data.InputRemarks + '">' + remarks + '</td>';
                                grid_html += '<td class="ot_3" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '">' + rejectionRemarks + '</td>';
                            }
                            grid_html += '<td class="ot_11">' + data.Status + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="ot_2">' + data.AssociateID + '</td>';
                        grid_html += '<td class="ot_3">' + data.ProjectID + '</td>';

                        grid_html += '<td style="text-align:center;" class="ot_4" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                        grid_html += '<td style="text-align:center;" class="ot_5" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';
                        grid_html += '  <td style="text-align:center;" class="ot_6"><span class="clsActualTime">' + data.StartTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.StartTime + '" size="10"  /></p></td>';
                        grid_html += '  <td style="text-align:center;" class="ot_7"><span class="clsActualTime">' + data.EndTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.EndTime + '" size="10"  /></p></td>';
                        if (CountryId == 4 || CountryId == 7 || CountryId == 10) {
                            grid_html += '<td class="ot_8">' + data.DayType + '</td>';
                        }
                        if (CountryId == 4) { // jpn
                            grid_html += '<td class="ot_9">' + data.TotalHours + '</td>';
                        }
                        if (CountryId != 8 && CountryId != 9 && CountryId != 11 && CountryId != 12 && CountryId != 13) {
                            grid_html += '<td class="ot_10">' + data.Amount + '</td>';
                        }
                        if (CountryId == 8 || CountryId == 9) {
                            grid_html += '<td class="ot_7">' + data.AllowanceType + '</td>';
                            grid_html += '<td class="ot_3" Remarks="' + data.InputRemarks + '" title="' + data.InputRemarks + '">' + remarks + '</td>';
                            grid_html += '<td class="ot_3" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '">' + rejectionRemarks + '</td>';
                        }
                        grid_html += '<td class="ot_11">' + data.Status + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
            });
            $('#tbl_oncall').find('tbody').html('').html(grid_html);
        }

        else {
            $("#tbl_oncall").append("<tr class='even' id='NoData'><td colspan='15' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }

    }
    else if ((componentGroupId == 21 && CountryId == 7) || ((componentGroupId == 39 || componentGroupId == 101) && (CountryId == 7 || CountryId == 8 || CountryId == 9))) {
        $("#mailattach").addClass('disabled');
        $("#mailattach").hide();

        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#customize").hide();
        if (componentGroupId == 101) {
            $(".delete_btn").show();
        }
        if (componentGroupId == 39 && RoleId == 19) {
            $('#dwnload_Data').hide();
        }
        if ((CountryId == 8 && componentGroupId != 101) || CountryId == 9) {
            $('#upload').css('display', 'none');
            $('#download').css('display', 'none');
            $('#dwnload_Data').hide();
            $('#dwnload_Report').css('float', 'right');
        }
        $('#divStatutoryPayout').show();
        $('#divStatutoryPayout .dataTableScroll').css('display', 'block');
        $('#tbl_Statutory').css('display', 'block');
        $('#divStatutoryPayout .viewport').css('display', 'block');
        $('#divStatutoryPayout .viewport').css('overflow', 'scroll');
        $('#tbl_Statutory').find('tbody').html('');
        $('#tbl_Statutory').css('display', 'block');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");

        $("#aid1").attr("maxlength", "10");
        $("#aid1").numeric();
        //$("#aid2").attr("maxlength", "10");
        //$("#aid2").numeric();

        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';

        if (CountryId == 7) {
            htmldata += '<tr><th style="width:30px"><input type="checkbox" id="chkvalid" /></th>';
            htmldata += ' <th id="Th5" class="sort OCA_APAC" column="AssociateID">Associate ID </th>';
            htmldata += ' <th class="sort OCA_APAC">ProjectId </th>';
            htmldata += ' <th class="sort OCA_APAC">Type of Day</th>';
            htmldata += ' <th class="sort OCA_APAC" column="Criteria">Criteria </th>';
            htmldata += ' <th class="OCA_APAC" column="StartDate">Start Date</th>';
            htmldata += ' <th class="OCA_APAC" column="EndDate">End Date</th>';
            htmldata += ' <th class="OCA_APAC" column="StartTime">Start Time</th>';
            htmldata += ' <th class="OCA_APAC" column="EndTime">End Time</th>';
            htmldata += ' <th class="sort OCA_APAC" column="Amount">Amount </th>';
            htmldata += ' <th class="sort OCA_APAC" column="Status">Status </th>';
            htmldata += ' <th style="width:60px">Edit</th></tr>';
        }
        else if (CountryId == 8 && componentGroupId == 101) {
            htmldata += '<tr><th style="width:40px"><input type="checkbox" id="chkvalid" /></th>';
            htmldata += ' <th id="Th5" class="sort OCA_AUS_standBy" column="AssociateID">Associate ID </th>';
            htmldata += ' <th class="sort OCA_AUS_standBy" column="ProjectId">Project ID </th>';
            htmldata += ' <th class="OCA_AUS_standBy" column="ClaimDate">Date</th>';
            htmldata += ' <th class="OCA_AUS_standBy" column="NoOfHrs">Hours Stand-By</th>';
            htmldata += ' <th class="OCA_AUS_standBy" column="AssociateRemarks">Associate Remarks</th>';
            htmldata += ' <th class="OCA_AUS_standBy" column="RejectionReason">Rejection Reason</th>';
            htmldata += ' <th class="sort OCA_AUS_standBy_Status" column="Status">Status </th>';
            htmldata += ' <th style="width:100px">Edit</th></tr>';
        }
        else {
            htmldata += '<tr><th style="width:30px"><input type="checkbox" id="chkvalid" /></th>';
            htmldata += ' <th id="Th5" class="sort OCA_APAC_AUS" column="AssociateID">Associate ID </th>';
            htmldata += ' <th class="sort OCA_APAC_AUS" column="ProjectId">Project Id </th>';
            htmldata += ' <th class="OCA_APAC_AUS" column="StartDate">Start Date</th>';
            htmldata += ' <th class="OCA_APAC_AUS" column="EndDate">End Date</th>';
            htmldata += ' <th class="OCA_APAC_AUS" column="StartTime">Start Time</th>';
            htmldata += ' <th class="OCA_APAC_AUS" column="EndTime">End Time</th>';
            if (RoleId != 19) {
                htmldata += ' <th class="sort OCA_APAC_AUS" column="Amount">Amount </th>';
            }
            if (componentGroupId == 39 && (CountryId == 8 || CountryId == 9)) {
                htmldata += ' <th class="OCA_APAC_AUS" column="AssociateRemarks">Associate Remarks</th>';
                htmldata += ' <th class="OCA_APAC_AUS" column="RejectionReason">Rejection Reason</th>';
            }
            htmldata += ' <th class="sort OCA_APAC_AUS" column="Status">Status </th>';
            htmldata += ' <th style="width:60px">Edit</th></tr>';
        }
        $('#tbl_Statutory').find('thead').html('').html(htmldata);


        if (msg.d.length > 0) {
            $("#divStatutoryPayout .refPage").css("display", "block");

            var classname = '';


            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 25) ? data.Remarks.substring(0, 25) + '...' : data.Remarks;
                }
                var rejectionRemarks = (data.RejectionReason.length > 20) ? data.RejectionReason.substring(0, 20) + '...' : data.RejectionReason;
                var remarks = (data.InputRemarks.length > 20) ? data.InputRemarks.substring(0, 20) + '...' : data.InputRemarks;
                //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var reworkendcutoffdatesplit = reworkendcutoff.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var reworkenddate = new Date(reworkendcutoffdatesplit[2], reworkendcutoffdatesplit[1] - 1, reworkendcutoffdatesplit[0]); //Y M D
                var reworkendcutoff_date = reworkenddate.getTime();

                var reworkstartcutoffdatesplit = reworkstartcutoff.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var reworkstartdate = new Date(reworkstartcutoffdatesplit[2], reworkstartcutoffdatesplit[1] - 1, reworkstartcutoffdatesplit[0]); //Y M D
                var reworkstartcutoff_date = reworkstartdate.getTime();

                var gridMailIdval = "";

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="checkValid" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="checkValid" id=' + (i + 1) + ' /></td>';
                }

                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted" || data.Status == "Rejected By PFSS Admin" || data.Status == "Resubmitted after PFSS Rejection") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="checkValid" id=' + (i + 1) + ' /></td>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="checkValid" id=' + (i + 1) + ' /></td>';
                        }
                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="checkValid" id=' + (i + 1) + ' /></td>';
                    }
                }

                if (CountryId == 7) {
                    grid_html += '<td class="OCA_APAC">' + data.AssociateID + '</td>';
                    grid_html += '<td class="OCA_APAC">' + data.ProjectID + '</td>';
                    grid_html += '<td class="OCA_APAC">' + data.DayType + '</td>';
                    grid_html += '<td class="OCA_APAC">' + data.Criteria + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_APAC" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_APAC" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';
                    grid_html += ' <td style="text-align:center;" class="OCA_APAC"><span class="clsActualTime">' + data.StartTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.StartTime + '" size="10"  /></p></td>';
                    grid_html += ' <td style="text-align:center;" class="OCA_APAC"><span class="clsActualTime">' + data.EndTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.EndTime + '" size="10"  /></p></td>';
                    grid_html += '<td class="OCA_APAC">' + data.Amount + '</td>';
                    grid_html += '<td class="OCA_APAC" title="' + data.Status + '">' + status + '</td>';
                }
                else if (CountryId == 8 && componentGroupId == 101) {
                    grid_html += '<td class="OCA_AUS_standBy">' + data.AssociateID + '</td>';
                    grid_html += '<td class="OCA_AUS_standBy">' + data.ProjectID + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_AUS_standBy" Date="' + data.StartDate + '" >' + data.StartDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_AUS_standBy" NoOfHrs="' + data.NoOfHours + '" >' + data.NoOfHours + '</td>';
                    grid_html += '<td style="text-align:center;" class="" Remarks="' + data.InputRemarks + '" title="' + data.InputRemarks + '" >' + remarks + '</td>';
                    grid_html += '<td style="text-align:center;" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '" >' + rejectionRemarks + '</td>';
                    grid_html += '<td class="OCA_AUS_standBy_Status" title="' + data.Status + '">' + status + '</td>';
                }
                else {
                    grid_html += '<td class="OCA_APAC_AUS">' + data.AssociateID + '</td>';
                    grid_html += '<td class="OCA_APAC_AUS">' + data.ProjectID + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_APAC_AUS" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_APAC_AUS" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_APAC_AUS"><span class="clsActualTime">' + data.StartTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.StartTime + '" size="10"  /></p></td>';
                    grid_html += '<td style="text-align:center;" class="OCA_APAC_AUS"><span class="clsActualTime">' + data.EndTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.EndTime + '" size="10"  /></p></td>';
                    if (RoleId != 19) {
                        grid_html += '<td class="OCA_APAC_AUS">' + data.Amount + '</td>';
                    }
                    if (componentGroupId == 39 && (CountryId == 8 || CountryId == 9)) {
                        grid_html += '<td style="text-align:center;" class="" Remarks="' + data.InputRemarks + '" title="' + data.InputRemarks + '" >' + remarks + '</td>';
                        grid_html += '<td style="text-align:center;" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '">' + rejectionRemarks + '</td>';
                    }
                    grid_html += '<td class="OCA_APAC_AUS" title="' + data.Status + '">' + status + '</td>';
                }

                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    if (((componentGroupId == 101 && CountryId == 8) || (componentGroupId == 39 && CountryId == 9)
                        || (componentGroupId == 21 && CountryId == 7) || (componentGroupId == 39 && CountryId == 7))
                        && (data.Status != "Approved by PFSS Admin" && data.Status != "Approved by Home Manager")) {


                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_detailsd spriteImage"  /></td></tr>';
                    }
                }

                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejected by Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager Rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted" || data.Status == "Rejected By PFSS Admin" || data.Status == "Resubmitted after PFSS Rejection") {
                            grid_html += '<td style="width:60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
            });

            $('#tbl_Statutory').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_Statutory").append("<tr class='even' id='NoData'><td colspan='15' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    else if (componentGroupId == 41) {

        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").hide();
        $('#a_otherGeo').hide();


        $("#shiftdetails").show();
        $('#shiftdetails .dataTableScroll').css('display', 'block');
        $('#tbl_shift').css('display', 'table');
        $('#shiftdetails .viewport').css('overflow', 'scroll');
        $('#shiftdetails .viewport').css('display', 'block');
        $('#tbl_shift').find('tbody').html('');
        $('#tbl_shift_wrapper').css('display', 'block');
        //$('.dataTableScroll').css('display', 'block');

        //$("#disLabel").css("margin-left", "300px");
        // $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "20px");
        $('#aid1').css("margin-left", "5px");
        $('#aid2').css("margin-left", "5px");
        $('.delete_btn').css("margin-left", "0px");

        $("#uploadeditbtn").addClass("disablebutton");
        $('#SAdeletebtn').addClass("disablebutton");
        getTotalPages();

        $("#NoData").remove();

        var htmldata = '';
        htmldata += '<tr><th class="NSAtd1"><input type="checkbox" id="shiftvalid" /></th>';
        htmldata += ' <th class="sort NSAtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="NSAtd4" column="StartDate">StartDate</th>';
        htmldata += ' <th class="NSAtd5" column="EndDate">EndDate</th>';
        htmldata += ' <th class="NSAtd6" column="StartTime">StartTime </th>';
        htmldata += ' <th class="NSAtd7" column="EndTime">EndTime </th>';
        htmldata += ' <th class="sort NSAtd13" column="Amount">Amount</th>';
        htmldata += ' <th class="sort NSAtd8" column="Status">Status</th>';
        //htmldata += ' <th class="SAtd9">Edit</th></tr>';

        $('#tbl_shift').find('thead').html('').html(htmldata);

        var htmldata = '';
        if (msg.d.length > 0) {
            $("#shiftvalid").removeAttr("disabled");
            $("#shiftrefPage").css("display", "block");
            //$("#shiftdetails .refPage").css("display", "block");
            $('.btnlist').show();

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                if (data.Status != null) {
                    remarks = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                }
                htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_SGPShiftTimePayoutID + '"><td class="NSAtd1"><input type="checkbox"  class="shiftvalid" id=' + (i + 1) + '/></td>';
                // htmldata += '<td class="" title="' + data.Component + '" width="100px">' + CompName + '</td>';             
                htmldata += '<td class="NSAtd13">' + data.AssociateID + '</td>';
                htmldata += '<td class="NSAtd13">' + data.StartDate + '</td>';
                htmldata += '<td class="NSAtd13">' + data.EndDate + '</td>';
                htmldata += '<td class="NSAtd13">' + data.StartTime + '</td>';
                htmldata += '<td class="NSAtd13">' + data.EndTime + '</td>';
                htmldata += '<td class="NSAtd13">' + data.Amount + '</td>';
                htmldata += '<td class="NSAtd13">' + data.Status + '</td>';
            });

            $('#tbl_shift').find('tbody').html('').html(htmldata);
        }
        else {
            $("#tbl_shift").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $("#shiftvalid").attr("Disabled", "Disabled");
            $('.btnlist').hide();
            $("#shiftrefPage").css("display", "none");
            $("#shiftvalid").attr("disabled", true);
        }
    }
    else if (componentGroupId == 42 || componentGroupId == 26 || componentGroupId == 27) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#mailattach").hide();
        $("#customize").hide();

        $('#divHighTemp').show();
        $('#divHighTemp .dataTableScroll').css('display', 'block');
        $('#tbl_Hightemp').css('display', 'block');
        $('#divHighTemp .viewport').css('display', 'block');
        $('#divHighTemp .viewport').css('overflow', 'scroll');

        $('#tbl_Hightemp').find('tbody').html('');
        $('#tbl_Hightemp').css('display', 'block');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        $("#ulRecord").css('display', 'block');
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="APtd1"><input type="checkbox" id="highvalid" /></th>';
        htmldata += ' <th class="sort hightbl" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="hightbl">Payroll Month</th>';
        htmldata += ' <th class="hightbl">Year</th>';
        htmldata += ' <th class="sort hightbl" column="Amount">Amount</th>';
        htmldata += ' <th class="sort hightbl" column="Status">Status</th>';
        htmldata += ' </tr>';

        $('#tbl_Hightemp').find('thead').html('').html(htmldata);


        if (msg.d.length > 0) {
            $("#divHighTemp .refPage").css("display", "block");

            var classname = '';


            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var gridMailIdval = "";

                if (cutoff_date == NaN) {
                    grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="Highvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="Highvalid" id=' + (i + 1) + ' /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted") {
                            grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="Highvalid" id=' + (i + 1) + '/></td>';
                        }
                        else {
                            grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="Highvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                        }
                    }
                }
                grid_html += '<td class="hightbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="hightbl">' + data.PayrollMonth + '</td>';
                grid_html += '<td class="hightbl">' + data.PayrollYear + '</td>';
                grid_html += '<td class="hightbl">' + data.Amount + '</td>';
                grid_html += '<td class="hightbl">' + data.Status + '</td>';
            });

            $('#tbl_Hightemp').find('tbody').html('').html(grid_html);
        }


        else {
            $("#tbl_Hightemp").append("<tr class='even' id='NoData'><td colspan='6' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $("#highvalid").attr("Disabled", "Disabled");
        }
    }

    else if (((componentGroupId == 51 || componentGroupId == 45) && CountryId == 15) ||
        (componentGroupId == 53 && (CountryId == 18 || CountryId == 19))) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#mailattach").hide();
        $("#customize").hide();

        $('#divWellness').show();
        $('#divWellness').css('display', 'block');
        $('#divWellness .dataTableScroll').css('display', 'block');
        $('#tbl_Wellness').css('display', 'block');
        $('#divWellness .viewport').css('display', 'block');
        $('#divWellness .viewport').css('overflow', 'scroll');

        $('#tbl_Wellness').find('tbody').html('');
        $('#tbl_Wellness').css('display', 'block');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        $("#ulRecord").css('display', 'block');
        $("#disLabel").css("margin-left", "320px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        if (componentGroupId == 53 && (CountryId == 18 || CountryId == 19)) {
            $('.new_btn').css("margin-left", "245px");
            $('#cutoff').css("margin-left", "220px");
        }
        $('#deletebtn').show();
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';
        if (componentGroupId == 53 && RoleId == 19) {
            $('#upload').css('display', 'none');
            $('#download').css('display', 'none');
            $('#a_exceptions').css('display', 'none');
        }

        htmldata += '<tr><th class="WBtd1"><input type="checkbox" id="WBvalidchk" /></th>';
        htmldata += ' <th class="sort WBtd2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="WBtd3" column="AssociateName">Associate Name </th>';
        htmldata += ' <th class="WBtd4">Payroll Month</th>';
        if (componentGroupId == 51) {
            htmldata += ' <th class="WBtd5">Year</th>';
            htmldata += ' <th class="WBtd6">Assignment Start Date</th>';
            htmldata += ' <th class="sort WBtd7" column="Amount">Amount</th>';
            htmldata += ' <th class="sort WBtd10" column="RejectionReason">RejectionReason</th>';
        }
        else if (componentGroupId == 53) {
            htmldata += ' <th class="WBtd5">Payroll Year</th>';
            htmldata += ' <th class="WBtd6">Leave Start Date</th>';
            htmldata += ' <th class="WBtd6">Leave End Date</th>';
            htmldata += ' <th class="WBtd6" column="NumerOfDays">KIT Days</th>';
            htmldata += ' <th class="WBtd10" column="RejectionReason">RejectionReason</th>';
        }
        else {
            htmldata += ' <th class="WBtd5">Year</th>';
            htmldata += ' <th class="sort WBtd6" column="PayoutType">PayoutType</th>';
            htmldata += ' <th class="sort WBtd6" column="NumberOfDays">No Of Days</th>';
            htmldata += ' <th class="sort WBtd7" column="Amount">Amount</th>';
            htmldata += ' <th class="sort WBtd10" column="RejectionReason">RejectionReason</th>';
        }
        htmldata += ' <th class="sort WBtd8" column="Status">Status</th>';
        htmldata += ' <th class="WBtd9">Edit</th></tr>';
        htmldata += ' </tr>';

        $('#tbl_Wellness').find('thead').html('').html(htmldata);

        if (msg.d.length > 0) {
            $("#divWellness .refPage").css("display", "block");
            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                //if (data.Remarks != null) {
                //    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                //}
                //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;

                var gridMailIdval = "";

                if (cutoff_date == NaN) {
                    grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="WBtd1"><input type="checkbox"  class="WBvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="WBtd1"><input type="checkbox"  class="WBvalid" id=' + (i + 1) + ' /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted") {
                            grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="WBtd1"><input type="checkbox"  class="WBvalid" id=' + (i + 1) + '/></td>';
                        }
                        else {
                            grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="WBtd1"><input type="checkbox"  class="WBvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                        }
                    }
                    else {
                        grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="WBtd1"><input type="checkbox"  class="WBvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                    }
                }
                grid_html += '<td class="WBtd2">' + data.AssociateID + '</td>';
                grid_html += '<td class="WBtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="WBtd4">' + data.PayrollMonth + '</td>';
                grid_html += '<td class="WBtd5">' + data.Year + '</td>';
                if (componentGroupId == 51) {
                    grid_html += '<td class="WBtd6">' + data.AssignmentStartDate + '</td>';
                }
                else if (componentGroupId == 53) {
                    grid_html += '<td class="WBtd6">' + data.StartDate + '</td>';
                    grid_html += '<td class="WBtd6">' + data.EndDate + '</td>';
                }
                else {
                    grid_html += '<td class="WBtd6">' + data.PayoutType + '</td>';
                    grid_html += '<td class="WBtd6" >' + data.NumberOfDays + '</td>';
                }
                grid_html += '<td class="WBtd7">' + data.Amount + '</td>';
                grid_html += '<td class="WBtd10" rejreason="' + data.RejectionReason + '" title="' + data.RejectionReason + '">' + rejectionRemarks + '</td>';
                grid_html += '<td class="WBtd8">' + data.Status + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"  style="pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                        }
                        else {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                    }
                }

            });
            $('#tbl_Wellness').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_Wellness").append("<tr class='even' id='NoData'><td colspan='15' class='text-center' style='width:105%;'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $("#WBvalid").attr("Disabled", "Disabled");
        }
    }
    else if (componentGroupId == 47 || (componentGroupId == 48 && CountryId != 17)) //Mobile/Transport 
    {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#mailattach").hide();
        $("#customize").hide();
        $('#deletebtn').show();

        $('#divMobileTaxation').show();
        $('#divMobileTaxation').css('display', 'block');
        $('#divMobileTaxation .dataTableScroll').css('display', 'block');
        $('#tbl_MobileTaxation').css('display', 'block');
        $('#divMobileTaxation .viewport').css('display', 'block');
        $('#divMobileTaxation .viewport').css('overflow', 'scroll');
        $('#tbl_MobileTaxation').find('tbody').html('');
        $('#tbl_MobileTaxation').css('display', 'block');

        //$("#disLabel").css("margin-left", "300px");

        $("#customize").css("left", "280px");
        $("#ulRecord").css('display', 'block');
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="MTtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort MTtd2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="MTtd3" column="AssociateName">Associate Name </th>';
        htmldata += ' <th class="MTtd4">Assignment Start Date</th>';
        //if (componentGroupId == 47) {
        //    htmldata += ' <th class="MTtd5">Start Date of subscription</th>';
        //    htmldata += ' <th class="MTtd6">End Date of subscription</th>';
        //}
        //else if (componentGroupId == 48) {
        htmldata += ' <th class="MTtd5">Start Date</th>';
        htmldata += ' <th class="MTtd6">End Date</th>';
        //}
        htmldata += ' <th class="MTtd7">PayoutType</th>';
        htmldata += ' <th class="sort MTtd8" column="Amount">Amount</th>';
        htmldata += ' <th class="sort MTtd9" column="Status">Status</th>';
        htmldata += ' <th class="MTtd10">Edit</th></tr>';
        htmldata += ' </tr>';

        $('#tbl_MobileTaxation').find('thead').html('').html(htmldata);

        if (msg.d.length > 0) {
            $("#divMobileTaxation .refPage").css("display", "block");
            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                //if (data.Remarks != null) {
                //    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                //}
                //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var gridMailIdval = "";

                if (cutoff_date == NaN) {
                    grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + '/></td>';
                        }
                        else {
                            grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                        }
                    }
                    else {
                        grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                    }
                }
                grid_html += '<td class="MBtd2">' + data.AssociateID + '</td>';
                grid_html += '<td class="MBtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="MBtd4">' + data.AssignmentStartDate + '</td>';
                grid_html += '<td class="MBtd5">' + data.StartDate + '</td>';
                grid_html += '<td class="MBtd6">' + data.EndDate + '</td>';
                grid_html += '<td class="MBtd7">' + data.PayoutType + '</td>';
                grid_html += '<td class="MBtd8">' + data.Amount + '</td>';
                grid_html += '<td class="MBtd9">' + data.Status + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"  style="pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                        }
                        else {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                    }
                }

            });
            $('#tbl_MobileTaxation').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_MobileTaxation").append("<tr class='even' id='NoData'><td colspan='10' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $("#WBvalid").attr("Disabled", "Disabled");
        }
    }
    else if (componentGroupId == 48 && CountryId == 17) //Transport 
    {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#mailattach").hide();
        $("#customize").hide();
        $('#deletebtn').show();

        $('#divMobileTaxation').show();
        $('#divMobileTaxation').css('display', 'block');
        $('#divMobileTaxation .dataTableScroll').css('display', 'block');
        $('#tbl_MobileTaxation').css('display', 'block');
        $('#divMobileTaxation .viewport').css('display', 'block');
        $('#divMobileTaxation .viewport').css('overflow', 'scroll');
        $('#tbl_MobileTaxation').find('tbody').html('');
        $('#tbl_MobileTaxation').css('display', 'block');
        if (RoleId == 19) {
            $('#dwnload_Data').hide();
            $('#dwnload_Report').css('float', 'right');
            dwnload_Data
        }
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        $("#ulRecord").css('display', 'block');
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';
        htmldata += '<tr><th class="MTtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort MTtd2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="MTtd3" column="AssociateName">Associate Name </th>';
        htmldata += ' <th class="MTtd4">Assignment Start Date</th>';
        htmldata += ' <th class="MTtd5">Invoice Amount</th>';
        htmldata += ' <th class="MTtd6">Transportation Type</th>';
        htmldata += ' <th class="MTtd7">Month Of Declaration</th>';
        htmldata += ' <th class="MTtd7">Payroll year</th>';
        htmldata += ' <th class="MTtd7">Frequency Type</th>';
        htmldata += ' <th class="MTtd7">Declaring Multiple Allowance</th>';
        //htmldata += ' <th class="MTtd7">Pass Availed</th>';
        //htmldata += ' <th class="MTtd7">Pass Amount</th>';
        htmldata += ' <th class="MTtd7">Approval Mail</th>';
        htmldata += ' <th class="MTtd7">Invoice</th>';
        htmldata += ' <th class="MTtd7">Declaration</th>';
        htmldata += ' <th class="MTtd7">Rejection Reason</th>';
        htmldata += ' <th class="sort MTtd9" column="Status">Status</th>';
        htmldata += ' <th class="MTtd10">Edit</th></tr>';
        htmldata += ' </tr>';

        $('#tbl_MobileTaxation').find('thead').html('').html(htmldata);

        if (msg.d.length > 0) {
            $("#divMobileTaxation .refPage").css("display", "block");
            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                var gridMailIdval = "";

                if (data.FileUploadID == 0) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileUploadID + ' class="mail_btn" fileuploadid=' + data.FileUploadID + '/>';
                }

                var invoiceMailIdval = "";
                var specialcaseReason = (data.SpecialCaseReason.length > 20) ? data.SpecialCaseReason.substring(0, 20) + '...' : data.SpecialCaseReason;
                if (data.InVoice == 0) {
                    invoiceMailIdval = "<div></div>";
                }
                else {
                    invoiceMailIdval = '<input type="button" style="cursor:pointer" id=' + data.InVoice + ' class="mail_btn" fileuploadid=' + data.InVoice + '/>';
                }
                var Decl = "";

                if (data.DeclarationForm == 0 || data.DeclarationForm == 'undefined') {
                    Decl = "<div></div>";
                }
                else {
                    Decl = '<input type="button" style="cursor:pointer" id=' + data.DeclarationForm + ' class="mail_btn" fileuploadid=' + data.DeclarationForm + '/>';
                }
                if (cutoff_date == NaN) {
                    grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + '/></td>';
                        }
                        else {
                            grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                        }
                    }
                    else {
                        grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                    }
                }

                grid_html += '<td class="MBtd2">' + data.AssociateID + '</td>';
                grid_html += '<td class="MBtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="MBtd4">' + data.AssignmentStartDate + '</td>';
                grid_html += '<td class="MBtd5">' + data.Amount + '</td>';
                grid_html += '<td class="MBtd6">' + data.TransportationType + '</td>';
                grid_html += '<td class="MBtd7">' + data.PayrollMonth + '</td>';
                grid_html += '<td class="MBtd7">' + data.Year + '</td>';
                grid_html += '<td class="MBtd7">' + data.FrequencyType + '</td>';
                grid_html += '<td class="MBtd7" title="' + data.SpecialCaseReason + '">' + specialcaseReason + '</td>';
                //grid_html += '<td class="MBtd7">' + data.BuscardAvailed + '</td>';
                //grid_html += '<td class="MBtd7">' + data.BuscardAmount + '</td>';
                grid_html += '<td class="MBtd7">' + gridMailIdval + '</td>';
                grid_html += '<td class="MBtd7">' + invoiceMailIdval + '</td>';
                grid_html += '<td class="MBtd7">' + Decl + '</td>';
                grid_html += '<td class="MBtd7">' + data.RejectionReason + '</td>';
                grid_html += '<td class="MBtd9">' + data.Status + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {

                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"  style="pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                        }
                        else {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                    }
                }


            });
            $('#tbl_MobileTaxation').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_MobileTaxation").append("<tr class='even' id='NoData'><td colspan='18' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $("#MTvalidchk").attr("Disabled", "Disabled");
        }
    }
    else if (componentGroupId == 52) //Lunch voucher
    {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#mailattach").hide();
        $("#customize").hide();
        $('#deletebtn').show();

        $('#divMobileTaxation').show();
        $('#divMobileTaxation').css('display', 'block');
        $('#divMobileTaxation .dataTableScroll').css('display', 'block');
        $('#tbl_MobileTaxation').css('display', 'block');
        $('#divMobileTaxation .viewport').css('display', 'block');
        $('#divMobileTaxation .viewport').css('overflow', 'scroll');
        $('#tbl_MobileTaxation').find('tbody').html('');
        $('#tbl_MobileTaxation').css('display', 'block');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "333px");
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd3">Associate Name </th>';
        htmldata += ' <th class="LVtd3">PayrollMonth</th>';
        htmldata += ' <th class="LVtd4">PayrollYear</th>';
        htmldata += ' <th class="LVtd5">No Of Leaves</th>';
        htmldata += ' <th class="LVtd5">Training / </br>Client Lunch</th>';
        htmldata += ' <th class="LVtd6">SpecialCaseReason</th>';
        htmldata += ' <th class="LVtd7">SpecialCaseMail</th>';
        htmldata += ' <th class="LVtd10">No Of Holidays </br> Worked</th>';
        htmldata += ' <th class="LVtd10">No Of Lunch </br> voucher Eligible</th>';
        htmldata += ' <th class="LVtd8">RejectionReason</th>';
        htmldata += ' <th class="sort LVtd9" column="Status">Status</th>';
        htmldata += ' <th style="width:60px">Edit</th>';
        htmldata += ' </tr>';

        $('#tbl_MobileTaxation').find('thead').html('').html(htmldata);

        if (msg.d.length > 0) {
            $("#divMobileTaxation .refPage").css("display", "block");
            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();



                var gridMailIdval = "";

                if ((data.SplCaseMail == 0) || (data.SplCaseMail == null)) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMail + ' class="mail_btn" fileuploadid=' + data.SplCaseMail + '/>';
                }


                if (cutoff_date == NaN) {
                    grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_InCityOnsiteAllowance + '" status=' + data.Status + '><td class="LVtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_InCityOnsiteAllowance + '" status=' + data.Status + '><td class="LVtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' /></td>';
                }
                else {

                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_InCityOnsiteAllowance + '" status=' + data.Status + '><td class="LVtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + '/></td>';
                        }
                        else {
                            grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_InCityOnsiteAllowance + '" status=' + data.Status + '><td class="LVtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                        }
                    }
                    else {
                        grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_InCityOnsiteAllowance + '" status=' + data.Status + '><td class="LVtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                    }

                }
                grid_html += '<td class="LVtd2">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3">' + data.PayrollMonth + '</td>';
                grid_html += '<td class="LVtd4">' + data.Year + '</td>';
                grid_html += '<td class="LVtd5">' + data.LeaveDays + '</td>';
                grid_html += '<td class="LVtd5">' + data.TrainingDays + '</td>';
                grid_html += '<td class="LVtd6">' + data.SpecialCaseReason + '</td>';
                grid_html += '<td class="LVtd7">' + gridMailIdval + '</td>';
                grid_html += '<td class="LVtd10">' + data.HolidaysWorked + '</td>';
                grid_html += '<td class="LVtd10">' + data.EligibleDays + '</td>';
                grid_html += '<td class="LVtd8">' + data.RejectionReason + '</td>';
                grid_html += '<td class="LVtd9">' + data.Status + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"  style="pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                        else {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }

            });
            $('#tbl_MobileTaxation').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_MobileTaxation").append("<tr class='even' id='NoData'><td colspan='14' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $("#MTvalidchk").attr("Disabled", "Disabled");
        }
    }

    else if (componentGroupId == 75 || (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71 || componentGroupId == 72
        || componentGroupId == 74 || componentGroupId == 73 || ((componentGroupId == 3 || componentGroupId == 29
            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "150px  !important");
        $("#customize").hide();
        $(".delete_btn").show();
        $('#searchtxt').css('display', 'block');
        $('#SignOnBonus').show();
        $('#SignOnBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .viewport').css('display', 'block');
        $('#SignOnBonus .viewport').css('overflow', 'scroll');
        $('#tblSignonBonus').css('display', 'block');
        $('#tblSignonBonus .viewport').css('display', 'block');
        $('#tblSignonBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .refPage').css('display', 'block');
        $('#SignOnBonus').find('tbody').html('');
        $('#SignOnBonus_wrapper').css('display', 'block');

        $('#customize').css('left', '370px');
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "10px");
        if (CountryId == 20) {
            $('.new_btn').css("margin-left", "108px");
        }
        $(".inner_cont clearfix flft").css('height', '230px');

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();

        getTotalPages();

        var htmldata = '';
        htmldata += '<tr><th class="sbtbl1" width="35px"><input type="checkbox" id="sbvalid"/></th>';
        htmldata += '<th class="sort commutetbl" column="AssociateID" id="Th1">Associate ID </th>';
        htmldata += '<th class="commutetbl">Advised Month</th>';
        htmldata += '<th class="commutetbl">Advised Year</th>';
        htmldata += '<th class="commutetbl">Amount</th>';
        htmldata += '<th class="commutetbl">Project ID</th>';
        htmldata += '<th class="commutetbl">Rejection Reason</th>';
        htmldata += '<th class="commutetbl">Payment Date </th>';
        if (((componentGroupId == 3 || componentGroupId == 29
            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {
            htmldata += '<th class="commutetbl">Retention EndDate </th>';
            htmldata += '<th class="commutetbl">Clawback Type </th>';
        }
        htmldata += '<th class="commutetbl">Remarks </th>';
        htmldata += '<th class="sort commutetbl" column="Status">Status </th>';
        htmldata += '<th width="60px">Edit </th></tr>';
        $('#tblSignonBonus').find('thead').html('').html(htmldata);

        if (msg.d.length > 0) {
            var classname = '';
            $("#SignOnBonus .refPage").css("display", "block");

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            //cut-off enddate//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var reworkendcutoffdatesplit = reworkendcutoff.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var reworkenddate = new Date(reworkendcutoffdatesplit[2], reworkendcutoffdatesplit[1] - 1, reworkendcutoffdatesplit[0]); //Y M D
            var reworkendcutoff_date = reworkenddate.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();

            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var rejectionreason = '';

                if (data.RejectionReason != null) {
                    rejectionreason = (data.RejectionReason.length > 20) ? data.RejectionReason.substring(0, 20) + '...' : data.RejectionReason;
                }
                else {
                    rejectionreason = '';
                }

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + '  /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        }
                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SignonBonusID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                    }
                }
                grid_html += '<td class="commutetbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="commutetbl">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="commutetbl">' + data.Year + '</td>';
                grid_html += '<td class="commutetbl">' + data.Amount + '</td>';
                grid_html += '<td class="commutetbl">' + data.ProjectId + '</td>';
                grid_html += '<td class="commutetbl" title="' + data.RejectionReason + '">' + rejectionreason + '</td>';
                grid_html += '<td class="commutetbl">' + data.PaymentDate + '</td>';
                if (((componentGroupId == 3 || componentGroupId == 29
                    || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {
                    grid_html += '<td class="commutetbl">' + data.RetentionEndDate + '</td>';
                    grid_html += '<td class="commutetbl">' + data.ClawBackType + '</td>';

                }

                grid_html += '<td class="commutetbl">' + data.InputRemarks + '</td>';
                grid_html += '<td class="commutetbl" status=' + data.Status + '>' + data.Status + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
            });

            $('#tblSignonBonus').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSignonBonus").append("<tr class='even' id='NoData'><td colspan='18' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#sbvalid').attr("disabled", "disabled");
        }
    }

    else if (componentGroupId == 56 && (CountryId == 18 || CountryId == 19)) //Mobile/Transport 
    {
        $("#mailattach").addClass('disabled');
        //$("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#mailattach").hide();
        $("#customize").hide();
        $('#deletebtn').show();

        $('#divUK_Travel').show();
        $('#divUK_Travel').css('display', 'block');
        $('#divUK_Travel .dataTableScroll').css('display', 'block');
        $('#tblTravelUK').css('display', 'block');
        $('#divUK_Travel .viewport').css('display', 'block');
        $('#divUK_Travel .viewport').css('overflow', 'scroll');
        $('#tblTravelUK').find('tbody').html('');
        $('#tblTravelUK').css('display', 'block');

        //$("#disLabel").css("margin-left", "300px");

        $("#ulRecord").css('display', 'block');
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="MTtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort MTtd2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="MTtd3" column="AssociateName">Associate Name </th>';
        htmldata += ' <th class="MTtd4">AdvisedMonth</th>';
        //if (componentGroupId == 47) {
        //    htmldata += ' <th class="MTtd5">Start Date of subscription</th>';
        //    htmldata += ' <th class="MTtd6">End Date of subscription</th>';
        //}
        //else if (componentGroupId == 48) {
        htmldata += ' <th class="MTtd5">AdvisedYear</th>';
        htmldata += ' <th class="MTtd6">NoOfPayments</th>';
        //}
        htmldata += ' <th class="MTtd7">FrequencyType</th>';
        htmldata += ' <th class="MTtd8">ProjectID</th>';
        htmldata += ' <th class="MTtd9">AccountID</th>';
        htmldata += ' <th class="MTtd10" column="Amount">Amount</th>';
        htmldata += ' <th class="sort MTtd9" column="Status">Status</th>';
        htmldata += ' <th class="MTtd12">Edit</th></tr>';
        htmldata += ' </tr>';

        $('#tblTravelUK').find('thead').html('').html(htmldata);

        if (msg.d.length > 0) {
            $("#divUK_Travel .refPage").css("display", "block");
            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                //if (data.Remarks != null) {
                //    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                //}
                //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var gridMailIdval = "";

                if (cutoff_date == NaN) {
                    grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + '/></td>';
                        }
                        else {
                            grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                        }
                    }
                    else {
                        grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                    }
                }
                grid_html += '<td class="MBtd2">' + data.AssociateID + '</td>';
                grid_html += '<td class="MBtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="MBtd4">' + data.PayrollMonth + '</td>';
                grid_html += '<td class="MBtd5">' + data.Year + '</td>';
                grid_html += '<td class="MBtd6">' + data.NoOfPayments + '</td>';
                grid_html += '<td class="MBtd7">' + data.FrequencyType + '</td>';
                grid_html += '<td class="MBtd8">' + data.ProjectID + '</td>';
                grid_html += '<td class="MBtd9">' + data.AccountID + '</td>';
                grid_html += '<td class="MBtd10">' + data.Amount + '</td>';
                grid_html += '<td class="MBtd11">' + data.Status + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"  style="pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                        }
                        else {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                    }
                }

            });
            $('#tblTravelUK').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblTravelUK").append("<tr class='even' id='NoData'><td colspan='13' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $("#WBvalid").attr("Disabled", "Disabled");
        }
    }
    else if (componentGroupId == 58) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").hide();
        $('#emptyTemplte').css('display', 'none');
        $('.link img').css('display', 'none');
        $('.utext1').css('display', 'none');
        $('#divApprovalmsg').css('display', 'none');
        $('#upload').css('display', 'none');
        $('#download').css('display', 'none');
        $('#a_exceptions').css('display', 'none');

        $('#divMaternityAllowance').show();
        $('#divMaternityAllowance .dataTableScroll').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('overflow', 'scroll');
        $('#tbl_maternity').css('display', 'block');
        $('#divMaternityAllowance .refPage').css('display', 'block');
        $('#divMaternityAllowance').find('tbody').html('');
        $('#divMaternityAllowance_wrapper').css('display', 'block');

        $("#aid1").attr("maxlength", "11");
        //$('.refPage').css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");

        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "-32px");
        //$("#ulRecord li").css("left", "30px");
        //$("#customize").css("margin-top", "33px");
        $("#mailattach").css("margin-top", "33px");
        //$("#disLabel").css("margin-top", "33px");
        //$("#selectRecord").css("margin-top", "36px");
        $('.new_btn').css("margin-left", "108px");
        $(".delete_btn").show();
        $('#aid1').css("margin-left", "17px");
        $('.error_msg_reject').css('left', '220px');
        getTotalPages();

        $("#NoData").remove();

        var htmldata = '';
        htmldata += '<tr><th class="MAtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort MAtd2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="sort MAtd2" column="AssociateName">Associate Name </th>';
        htmldata += ' <th class="sort MAtd5" column="AdvisedMonth">Advised Month </th>';
        htmldata += ' <th class="MAtd8" column="Year">Advised Year</th>';
        htmldata += ' <th class="MAtd3" column="Type">Amount</th>';
        htmldata += ' <th class="sort MAtd4" column="RegistryNumber">Registry Number</th>';
        htmldata += ' <th class="MAtd5" column="PayrollYear">Marital status  </th>';
        htmldata += ' <th class="MAtd5" column="Amount">Relationship with the deceased </th>';
        htmldata += ' <th class="MAtd5" column="Amount">Payment Date </th>';
        htmldata += ' <th class="MAtd5" column="Amount">Remarks </th>';
        htmldata += ' <th class="MAtd5" column="Amount">RejectionReason </th>';
        htmldata += ' <th class="MAtd5" column="Amount">Copy of death certificate</th>';
        htmldata += ' <th class="MAtd5" column="Status">Status</th>';

        htmldata += ' <th class="MAtd9">Edit</th></tr>';

        $('#divMaternityAllowance').find('thead').html('').html(htmldata);

        var htmldata = '';
        if (msg.d.length > 0) {
            $("#divMaternityAllowance .refPage").css("display", "block");
            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';
            var gridMailIdval = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var status = '';
                if (data.Status != null) {
                    status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                }
                if ((data.FileUploadId == 0) || (data.FileUploadId == null)) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileUploadId + ' class="mail_btn" fileuploadid=' + data.FileUploadId + '/>';
                }



                if (cutoff_date == NaN) {
                    grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + '/></td>';
                        }
                        else {
                            grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                        }
                    }
                    else {
                        grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                    }
                }

                grid_html += '<td class="MAtd2">' + data.AssociateID + '</td>';
                grid_html += '<td class="MAtd2">' + data.AssociateName + '</td>';
                grid_html += '<td class="MAtd2">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="MAtd2">' + data.Year + '</td>';
                grid_html += '<td class="MAtd2">' + data.Amount + '</td>';
                grid_html += '<td class="MAtd3">' + data.RegistryNumber + '</td>';
                grid_html += '<td class="MAtd4">' + data.MaritalStatus + '</td>';
                grid_html += '<td class="MAtd5">' + data.Relationship + '</td>';
                grid_html += '<td class="MAtd5">' + data.PaymentDate + '</td>';
                grid_html += '<td class="MAtd5">' + data.InputRemarks + '</td>';
                grid_html += '<td class="MAtd5">' + data.RejectionReason + '</td>';
                grid_html += '<td class="MBtd7">' + gridMailIdval + '</td>';
                grid_html += '<td class="MAtd6">' + data.Status + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"  style="pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                        }
                        else {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                    }
                }


            });


            $('#divMaternityAllowance').find('tbody').html('').html(grid_html);


        }
        else {
            $("#tbl_maternity").append("<tr class='even' id='NoData'><td colspan='16' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 79 || componentGroupId == 80 || componentGroupId == 81) //// Sick Leave conversion, Ad-hoc payment and one time payment Bind valid
    {

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'block');
        $('#ulRecord,#ulMonth').css('display', 'none');
        $('#SAODetails').show();
        $('#SAODetails').css('display', 'block');
        $('#SAODetails .dataTableScroll').css('display', 'block');
        $('#tbl_SAODetails').css('display', 'table');
        $('#SAODetails .viewport').css('display', 'block');
        $('#SAODetails .viewport').css('overflow', 'scroll');
        $('#SAODetails').find('tbody').html('');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$('#ulRecord').css('display', 'block');
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd3">Associate Name </th>';
        htmldata += ' <th class="LVtd3" column="AdvisedMonth">Advised Month</th>';
        htmldata += ' <th class="LVtd3" column="Year">Advised Year</th>';
        htmldata += ' <th class="LVtd6">Amount</th>';
        htmldata += ' <th class="LVtd6">Payment Date</th>';

        if (componentGroupId == 79) {
            htmldata += ' <th class="LVtd6">No of Days to be encashed</th>';
        }
        if (componentGroupId == 81) {
            htmldata += ' <th class="LVtd6">ProjectId</th>';
            htmldata += ' <th class="LVtd6">Taxable</th>';
        }
        htmldata += ' <th class="LVtd6">Remarks</th>';
        htmldata += ' <th class="LVtd4">Status</th>';
        htmldata += ' </tr>';


        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tbl_SAODetails').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {
            $("#SAODetails .refPage").css("display", "block");

            var classname = '';

            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                grid_html += '<tr  class="' + classname + '" pk_id="' + data.PK_CE_ComponentTableID + '" status=' + data.Status + '><td class="LVtd1"><input type = "checkbox" class="MTvalid" id= ' + (i + 1) + ' /></td > ';
                grid_html += '<td class="LVtd3" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.PaymentDate + '</td>';


                if (componentGroupId == 79) {
                    grid_html += '<td class="LVtd5" >' + data.DaysEncashed + '</td>';
                }
                if (componentGroupId == 81) {
                    grid_html += '<td class="LVtd8" >' + data.Taxable + '</td>';
                }
                grid_html += '<td class="LVtd5" >' + data.Remarks + '</td>';
                grid_html += '<td class="LVtd9" title="' + data.Status + '">' + status + '</td>';
                grid_html += '</tr>';

            });
            $('#tbl_SAODetails').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_SAODetails").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }

    }

    else if (componentGroupId == 84) //// HDMF Contribution Bind valid
    {
        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'block');
        $("#ulRecord").css('display', 'block');

        $('#HDMFDetails').show();
        $('#HDMFDetails').css('display', 'block');
        $('#HDMFDetails .dataTableScroll').css('display', 'block');
        $('#tbl_HDMFDetails').css('display', 'block');
        $('#HDMFDetails .viewport').css('display', 'block');
        $('#HDMFDetails .viewport').css('overflow', 'scroll');
        $('#HDMFDetails').find('tbody').html('');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd3">Associate Name </th>';
        htmldata += ' <th class="LVtd3" column="AdvisedMonth">Advised Month</th>';
        htmldata += ' <th class="LVtd3" column="Year">Advised Year</th>';
        htmldata += ' <th class="LVtd6">Employee Share Amount</th>';
        htmldata += ' <th class="LVtd6">Start Date</th>';
        htmldata += ' <th class="LVtd6">End Date</th>';
        htmldata += ' <th class="LVtd6">Payment Date</th>';
        htmldata += ' <th class="LVtd6">Remarks</th>';
        htmldata += ' <th class="LVtd6">Rejection Reason</th>';
        htmldata += ' <th class="LVtd4">Status</th>';
        htmldata += ' <th class="LVtd4">Edit</th>';
        htmldata += ' </tr>';


        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tbl_HDMFDetails').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {
            $("#HDMFDetails .refPage").css("display", "block");

            var classname = '';

            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_ComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_ComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_ComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd3" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.StartDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.EndDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.PaymentDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Remarks + '</td>';
                grid_html += '<td class="LVtd9" title="' + data.RejectionReason + '">' + rejectionRemarks + '</td>';
                grid_html += '<td class="LVtd9" title="' + data.Status + '">' + status + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="LVtd1"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
                grid_html += '</tr>';

            });
            $('#tbl_HDMFDetails').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_HDMFDetails").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }

    }

    else if (componentGroupId == 83) //// Lost Admin Access Bind valid
    {

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "150px  !important");
        $("#customize").hide();
        $(".delete_btn").show();
        $("#ulRecord").css('display', 'block');

        $('#LAADetails').show();
        $('#LAADetails .dataTableScroll').css('display', 'block');
        $('#LAADetails .viewport').css('display', 'block');
        $('#LAADetails .viewport').css('overflow', 'scroll');
        $('#tbl_LAADetails').css('display', 'block');
        $('#tbl_LAADetails .viewport').css('display', 'block');
        $('#tbl_LAADetails .dataTableScroll').css('display', 'block');
        $('#LAADetails .refPage').css('display', 'block');
        $('#LAADetails').find('tbody').html('');
        $('#LAADetails_wrapper').css('display', 'block');


        //$("#mailattach").hide();
        //$("#divApprovalmsg1").show();
        //$("#ulQuarter").hide();
        //$(".tbl_upload_holder").hide();
        //$('.stoppayment_btn').hide();
        //$("#customize").hide();
        //$('#deletebtn').show();
        //$('#SPDetails').css('display', 'block');

        //$('#LAADetails').show();
        //$('#LAADetails').css('display', 'block');
        //$('#LAADetails .dataTableScroll').css('display', 'block');
        //$('#tbl_LAADetails').css('display', 'block');
        //$('#tbl_LAADetails .viewport').css('display', 'block');
        //$('#tbl_LAADetails .dataTableScroll').css('display', 'block');
        //$('#LAADetails .viewport').css('display', 'block');
        //$('#LAADetails .viewport').css('overflow', 'scroll');
        //$('#LAADetails .refPage').css('display', 'block');
        //$('#LAADetails_wrapper').css('display', 'block');
        //$('#LAADetails').find('tbody').html('');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();
        var htmldata = '';

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();


        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd3">Associate Name </th>';
        htmldata += ' <th class="LVtd3" column="AdvisedMonth">Advised Month</th>';
        htmldata += ' <th class="LVtd3" column="Year">Advised Year</th>';
        htmldata += ' <th class="LVtd6">Principal Amount</th>';
        htmldata += ' <th class="LVtd6">Amortization Amount</th>';
        htmldata += ' <th class="LVtd6">Payment Date</th>';
        htmldata += ' <th class="LVtd6">Remarks</th>';
        htmldata += ' <th class="LVtd6">Rejection Reason</th>';
        htmldata += ' <th class="LVtd4">Status</th>';
        htmldata += ' <th class="LVtd4">Edit</th>';

        htmldata += ' </tr>';


        //$('#tblJoining').find('thead').html('').html(htmldata);
        $('#tbl_LAADetails').find('thead').html('').html(htmldata);
        if (msg.d.length > 0) {
            $("#LAADetails .refPage").css("display", "block");

            var classname = '';

            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                //var remarks = '';
                if (data.RejectionReason == null) {
                    data.RejectionReason = "";
                }
                var rejectionRemarks = (data.RejectionReason.length > 30) ? data.RejectionReason.substring(0, 30) + '...' : data.RejectionReason;
                var status = (data.Status.length > 20) ? data.Status.substring(0, 20) + '...' : data.Status;

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_ComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_ComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_ComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd3" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.AmortizationAmount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.PaymentDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Remarks + '</td>';
                grid_html += '<td class="LVtd5"  title="' + data.RejectionReason + '">' + rejectionRemarks + '</td>';
                grid_html += '<td class="LVtd9">' + status + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="LVtd1"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
                grid_html += '</tr>';

            });
            $('#tbl_LAADetails').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_LAADetails").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }

    }
    else if (componentGroupId == 94) {

        $("#divApprovalmsg1").show();
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $(".new_btn").removeAttr("disabled");
        $('.new_btn').css("margin-left", "150px  !important");
        $("#customize").hide();
        $(".delete_btn").show();

        $('#SignOnBonus').show();
        $('#SignOnBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .viewport').css('display', 'block');
        $('#SignOnBonus .viewport').css('overflow', 'scroll');
        $('#tblSignonBonus').css('display', 'block');
        $('#tblSignonBonus .viewport').css('display', 'block');
        $('#tblSignonBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .refPage').css('display', 'block');
        $('#SignOnBonus').find('tbody').html('');
        $('#SignOnBonus_wrapper').css('display', 'block');

        $('#customize').css('left', '370px');
        //$('#disLabel').css('margin-left', '380px');
        $("#a_otherGeo").css("display", "none !important");
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "365px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "108px");
        $(".inner_cont clearfix flft").css('height', '230px');

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();

        getTotalPages();

        var htmldata = '';
        htmldata += '<tr><th class="sbtbl1" width="35px"><input type="checkbox" id="sbvalid"/></th>';
        htmldata += '<th class="sort commutetbl" column="AssociateID" id="Th1">AssociateID </th>';
        htmldata += '<th class="commutetbl">AdvisedMonth</th>';
        htmldata += '<th class="commutetbl">AdvisedYear</th>';
        htmldata += '<th class="commutetbl">DateGranted</th>';
        htmldata += '<th class="commutetbl">RejectionReason</th>';
        htmldata += '<th class="commutetbl">PrincipalAmount</th>';
        htmldata += '<th class="commutetbl">Semimonthly </br>AmortizationAmount</th>';
        htmldata += '<th class="commutetbl">LoanType</th>';
        htmldata += '<th class="commutetbl">PaymentDate </th>';
        htmldata += '<th class="commutetbl">Remarks </th>';
        htmldata += '<th class="sort commutetbl" column="Status">Status </th>';
        htmldata += '<th width="60px">Edit </th></tr>';
        $('#tblSignonBonus').find('thead').html('').html(htmldata);

        if (msg.d.length > 0) {
            var classname = '';
            $("#SignOnBonus .refPage").css("display", "block");

            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            //cut-off enddate//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var reworkendcutoffdatesplit = reworkendcutoff.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var reworkenddate = new Date(reworkendcutoffdatesplit[2], reworkendcutoffdatesplit[1] - 1, reworkendcutoffdatesplit[0]); //Y M D
            var reworkendcutoff_date = reworkenddate.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();

            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var rejectionreason = '';

                if (data.RejectionReason != null) {
                    rejectionreason = (data.RejectionReason.length > 20) ? data.RejectionReason.substring(0, 20) + '...' : data.RejectionReason;
                }
                else {
                    rejectionreason = '';
                }

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + '  /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                        }
                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td width="25px"><input type="checkbox" class="signonvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                    }
                }
                grid_html += '<td class="commutetbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="commutetbl">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="commutetbl">' + data.Year + '</td>';
                grid_html += '<td class="commutetbl">' + data.DateGranted + '</td>';
                grid_html += '<td class="commutetbl" title="' + data.RejectionReason + '">' + rejectionreason + '</td>';
                grid_html += '<td class="commutetbl">' + data.PrincipalAmount + '</td>';
                grid_html += '<td class="commutetbl">' + data.SemimonthlyAmortizationAmount + '</td>';
                grid_html += '<td class="commutetbl">' + data.LoanType + '</td>';
                grid_html += '<td class="commutetbl">' + data.PaymentDate + '</td>';
                grid_html += '<td class="commutetbl">' + data.Remarks + '</td>';
                grid_html += '<td class="commutetbl" status=' + data.Status + '>' + data.Status + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
            });

            $('#tblSignonBonus').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSignonBonus").append("<tr class='even' id='NoData'><td colspan='18' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#sbvalid').attr("disabled", "disabled");
        }
    }

    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
}

$(document).on("click", "#svalid", function () {
    //$("#svalid").live("click", function () {
    var stat = this.checked;
    $(".shiftvalid").prop("checked", stat);
    //$(".referralexp").prop("checked", stat);
    if ($(".shiftvalid:checked").length > 0) {
        getcutoffDate();
        if (isCutOffDateOver == 0) {
            $("#uploadeditbtn").removeClass("disablebutton");
            $('#SAdeletebtn').removeClass("disablebutton");
        } else if (isCutOffDateOver == 1) {
            $("#uploadeditbtn").addClass("disablebutton");
            $('#SAdeletebtn').addClass("disablebutton");
        }
    }
    else {
        $("#uploadeditbtn").addClass("disablebutton");
        $('#SAdeletebtn').addClass("disablebutton");
    }
});

$(document).on("click", "#shiftvalid", function () {
    //$("#shiftvalid").live("click", function () {
    var stat = this.checked;
    //$(".shiftvalid").prop("checked", stat);
    $(".shiftvalid:not(:disabled)").prop("checked", this.checked);
    //$(".referralexp").prop("checked", stat);
    if ($(".shiftvalid:checked").length > 0) {
        getcutoffDate();
        if (isCutOffDateOver == 0) {
            $("#uploadeditbtn").removeClass("disablebutton");
            $("#SAdeletebtn").removeClass("disablebutton");
        } else if (isCutOffDateOver == 1) {
            $("#uploadeditbtn").addClass("disablebutton");
            $("#SAdeletebtn").addClass("disablebutton");
        }
    }
    else {
        $("#uploadeditbtn").addClass("disablebutton");
        $("#SAdeletebtn").addClass("disablebutton");
    }
});

$(document).on("click", ".shiftvalid", function () {

    if ($(".shiftvalid").length == $(".shiftvalid:checked").length) {
        $("#shiftvalid").prop("checked", "checked");
    } else {
        $("#shiftvalid").prop("checked", false);
    }
    if ($(".shiftvalid:checked").length > 0) {
        getcutoffDate();
        if (isCutOffDateOver == 0) {
            $("#uploadeditbtn").removeClass("disablebutton");
            $('#SAdeletebtn').removeClass("disablebutton");
        } else if (isCutOffDateOver == 1) {
            $("#uploadeditbtn").addClass("disablebutton");
            $('#SAdeletebtn').addClass("disablebutton");
        }
    }
    else {
        $("#uploadeditbtn").addClass("disablebutton");
        $('#SAdeletebtn').addClass("disablebutton");
    }
});

function opentemplate() {
    var componentGroupId = $('#bonus').val();
    var keycode = '';

    if (componentGroupId == 2) {
        keycode = 'Referral Bonus Template Path SGP';
    }
    else if (componentGroupId == 3 && CountryId != 20) {
        keycode = 'Joining Bonus Template Path SGP';
    }
    else if (componentGroupId == 3 && CountryId == 20) {
        keycode = 'Joining Bonus Template';
    }

    else if (componentGroupId == 15) {
        keycode = 'Sixth Day Allowance Template';
    }

    else if (componentGroupId == 16 && CountryId == 6) {
        keycode = 'Night Shift Allowance Template MYS';
    }
    else if (componentGroupId == 16 && CountryId == 7) {
        keycode = 'Night Shift Allowance Template CHN';
    }
    else if (componentGroupId == 16) {
        keycode = 'Night Shift Allowance Template';
    }

    else if (componentGroupId == 17 && CountryId == 2) {
        keycode = 'Service Apartment Recovery Template';
    }
    else if (componentGroupId == 17 && CountryId == 8) {
        keycode = 'Austraila Service Apartment Recovery Template';
    }
    else if (componentGroupId == 17 && CountryId != 2 && CountryId != 8) {
        keycode = 'APAC Service Apartment Recovery Template';
    }
    else if (componentGroupId == 18 && CountryId == 2) {
        keycode = 'School Fees Template Path';
    }
    else if (componentGroupId == 18 && (CountryId != 2 && CountryId != 14 && CountryId != 15 && CountryId != 16 && CountryId != 17)) {
        keycode = 'APAC School Fees Template Path';
    }
    else if (componentGroupId == 18 && (CountryId == 14 || CountryId == 15 || CountryId == 16)) {
        keycode = 'CE School Fees Template Path';
    }
    else if (componentGroupId == 18 && (CountryId == 17)) {
        keycode = 'France School Fees Template Path';
    }
    else if (componentGroupId == 19 && CountryId == 2) {
        keycode = 'Additional Payout Template';
    }
    else if (componentGroupId == 19 && CountryId == 4) {
        keycode = 'Japan Additional Payout Template';
    }
    else if (componentGroupId == 19 && CountryId == 5) {
        keycode = 'HongKong Additional Payout Template';
    }
    else if (componentGroupId == 19 && CountryId == 6) {
        keycode = 'Malaysia Additional Payout Template';
    }
    else if (componentGroupId == 19 && CountryId == 7) {
        keycode = 'China Additional Payout Template';
    }
    else if (componentGroupId == 19 && CountryId == 8) {
        keycode = 'Austraila Additional Payout Template';
    }
    else if (componentGroupId == 19 && CountryId == 10) {
        keycode = 'Qatar Additional Payout Template';
    }
    else if (componentGroupId == 19 && CountryId == 11) {
        keycode = 'SaudiaArbia Additional Payout Template';
    }
    else if (componentGroupId == 19 && (CountryId == 12 || CountryId == 13)) {
        keycode = 'UAE Additional Payout Template';
    }
    else if (componentGroupId == 20 && CountryId == 2) {
        keycode = 'Additional Deduction Template';
    }
    else if (componentGroupId == 20 && CountryId == 4) {
        keycode = 'Additional Deduction Template-Japan';
    }
    else if (componentGroupId == 20 && CountryId == 5) {
        keycode = 'Additional Deduction Template-HongKong';
    }
    else if (componentGroupId == 20 && CountryId == 6) {
        keycode = 'Additional Deduction Template-Malaysia';
    }
    else if (componentGroupId == 20 && CountryId == 8) {
        keycode = 'Additional Deduction Template-Australia';
    }
    else if (componentGroupId == 20 && CountryId == 9) {
        keycode = 'Additional Deduction Template-NewZealand';
    }
    else if (componentGroupId == 20 && CountryId == 10) {
        keycode = 'Additional Deduction Template-Qatar';
    }
    else if (componentGroupId == 20 && (CountryId == 12 || CountryId == 13)) {
        keycode = 'APAC Additional Deduction Template-UAE';
    }
    else if (componentGroupId == 21 && CountryId == 4) {
        keycode = 'Japan Statutory Payout Template';
    }
    else if (componentGroupId == 21 && CountryId == 7) {
        keycode = 'China Statutory Payout Template';
    }
    else if (componentGroupId == 22 && CountryId == 3) {
        keycode = 'OverTime Allowance Template';
    }
    else if (componentGroupId == 22 && CountryId == 4) {
        keycode = 'Japan OverTime Allowance Template';
    }
    else if (componentGroupId == 22 && (CountryId == 7 || CountryId == 10)) {
        keycode = 'APAC OverTime Allowance Template';
    }
    else if (componentGroupId == 22 && (CountryId != 7 || CountryId != 10 || CountryId != 4 || CountryId != 3)) {
        keycode = 'APAC_OverTime Allowance Template';
    }
    else if (componentGroupId == 23) {
        keycode = 'BroadBand Allowance Template';
    }
    else if (componentGroupId == 24) {
        keycode = 'Parking Allowance Template';
    }
    else if (componentGroupId == 25 && CountryId == 7) {
        keycode = 'China Maternity Allowance Template';
    }
    else if (componentGroupId == 25 && CountryId != 7) {
        keycode = 'Maternity Allowance Template';
    }
    else if (componentGroupId == 26) {
        keycode = 'WarmFee Allowance Template(Dalain)';
    }
    else if (componentGroupId == 27) {
        keycode = 'WarmFee Allowance Template(Tianjin)';
    }
    else if (componentGroupId == 28) {
        keycode = 'InCityOnsite Allowance Template';
    }
    else if (componentGroupId == 29) {
        keycode = 'Sign On Bonus Template';
    }
    else if (componentGroupId == 30) {
        keycode = 'Relocation Template';
    }
    else if (componentGroupId == 31) {
        keycode = 'Net Travel Template';
    }
    else if (componentGroupId == 32) {
        keycode = 'Commuting Allowance Template';
    }
    else if (componentGroupId == 33) {
        keycode = 'Rewards And Regonition Template';
    }
    else if (componentGroupId == 34) {
        keycode = 'Transition Template';
    }
    else if (componentGroupId == 35) {
        keycode = 'Honorarium Template';
    }
    else if (componentGroupId == 36) {
        keycode = 'Insurance Premium Taxation Template';
    }
    else if (componentGroupId == 37) {
        keycode = 'Insurance Premium Compensation Template';
    }
    else if (componentGroupId == 38) {
        keycode = 'Car Damage & Traffic Fine Allowance Template';
    }
    else if (componentGroupId == 39 && CountryId == 3) {
        keycode = 'OnCall Allowance Template';
    }
    else if (componentGroupId == 39 && CountryId == 7) {
        keycode = 'China OnCall Allowance Template';
    }
    else if (componentGroupId == 101 && CountryId == 8) {
        keycode = 'StandBy and OnCall Allowance Template';
    }
    else if (componentGroupId == 39 && (CountryId != 7 && CountryId != 3)) {
        keycode = 'APAC OnCall Allowance Template';
    }
    else if (componentGroupId == 41) {
        keycode = 'Malaysia Shift Allowance Template';
    }
    else if (componentGroupId == 42) {
        keycode = 'High Temperature Allowance Template';
    }
    else if (componentGroupId == 46) {
        keycode = 'Benefits Template';
    }
    else if (componentGroupId == 49) {
        keycode = 'Retention Bonus Template';
    }
    else if (componentGroupId == 57) {
        keycode = 'Recognition Bonus Template';
    }
    else if (componentGroupId == 51 && CountryId == 15) {
        keycode = 'CE Wellness Benefit Template';
    }
    else if (componentGroupId == 45 && CountryId == 15) {
        keycode = 'Car Parking Benefit Template';
    }
    else if (componentGroupId == 47) {
        keycode = 'CE Mobile Taxation Template';
    }
    else if (componentGroupId == 48 && CountryId != 17) {
        keycode = 'CE Transportation Reimbursement Template';
    }
    else if (componentGroupId == 48 && CountryId == 17) {
        keycode = 'France Transportation Reimbursement Template';
    }
    else if (componentGroupId == 50 && (CountryId != 18 && CountryId != 19)) {
        keycode = 'CE Miscellaneous Inputs Template';
    }
    else if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
        keycode = 'Miscellaneous Inputs Template';
    }
    else if (componentGroupId == 52) {
        keycode = 'Lunch Voucher Template';
    }
    else if (componentGroupId == 53 && (CountryId == 18 || CountryId == 19)) {
        keycode = 'Kit Allowance Template';
    }
    else if (componentGroupId == 82) {
        keycode = 'Cash Advance Template';
    }
    else if (componentGroupId == 91) {
        keycode = 'Cognizant Cheer Deduction Template';
    }
    else if (componentGroupId == 92) {
        keycode = 'Net Pay With Held Template';
    }
    else if (componentGroupId == 93) {
        keycode = 'HMO under deduction Template';
    }
    else if (componentGroupId == 95) {
        keycode = 'India Negative Salary Template';
    }
    else if (componentGroupId == 96) {
        keycode = 'Tuition Fee Template';
    }
    else if (componentGroupId == 97) {
        keycode = 'HMU FeeTemplate';
    }
    else if (componentGroupId == 66 && (CountryId == 18 || CountryId == 19)) {
        keycode = 'Salary Advance Template';
    }
    else if (componentGroupId == 67 && (CountryId == 18 || CountryId == 19)) {
        keycode = 'Non India Travel Allowance Template';
    }
    else if (componentGroupId == 59) {
        keycode = 'Year End Bonus Template';
    }
    else if (componentGroupId == 54) {
        keycode = 'UK Allowance Template';
    }
    else if (componentGroupId == 55) {
        keycode = 'Onetime Subsistence Allowance Template';
    }
    else if (componentGroupId == 56) {
        keycode = 'Travel Allowance Template';
    }
    else if (componentGroupId == 62) {
        keycode = 'Sales commission Template';
    }
    else if (componentGroupId == 64) {
        keycode = 'Special pay Template';
    }
    else if (componentGroupId == 69) {
        keycode = 'Shadow payroll Template';
    }
    else if (componentGroupId == 60) {
        keycode = 'One Off Bonus Template';
    }
    else if (componentGroupId == 61) {
        keycode = 'PSU Cash Bridge Template';
    }
    else if (componentGroupId == 63) {
        keycode = 'Singapore Deduction Template';
    }
    else if (componentGroupId == 65) {
        keycode = 'India Travel advance Template';
    }
    else if (componentGroupId == 68) {
        keycode = 'Miscellaneous deductions Template';
    }
    else if (componentGroupId == 70) {
        keycode = 'India Net deduction Template';
    }
    else if (componentGroupId == 60) {
        keycode = 'One Off Bonus Template';
    }
    else if (componentGroupId == 71) {
        keycode = 'Business incentive Template';
    }
    else if (componentGroupId == 72) {
        keycode = 'WFH Allowance Template';
    }
    else if (componentGroupId == 73) {
        keycode = 'Financial Assistance Template';
    }
    else if (componentGroupId == 74) {
        keycode = 'WFH Allowance Adjustment Template';
    }
    else if (componentGroupId == 75) {
        keycode = 'FINRA Bonus Template';
    }
    else if (componentGroupId == 94) {
        keycode = 'Loan Stoppage Template';
    }
    else if (componentGroupId == 79) {
        keycode = 'Sick Leave Conversion Template';
    }
    else if (componentGroupId == 80) {
        keycode = 'One Time Payment Template';
    }
    else if (componentGroupId == 81) {
        keycode = 'Cognizant Cheer Earning Template';
    }
    else if (componentGroupId == 83) {
        keycode = 'Lost Badge-ID-Yubikey-Landyard Template';
    }
    else if (componentGroupId == 84) {
        keycode = 'HDMF Contribution Template';
    }

    else if (componentGroupId == 76) {
        keycode = 'YearEndIcentiveTemplate';
    }
    else if (componentGroupId == 77) {
        keycode = 'MidYearTemplate';
    }
    else if (componentGroupId == 78) {
        keycode = '13thMonthPayTemplate';
    }
    else if (componentGroupId == 85) {
        keycode = 'HDMF Multipurpose Loan Template';
    }
    else if (componentGroupId == 86) {
        keycode = 'HDMF Calamity Loan Template';
    }
    else if (componentGroupId == 87) {
        keycode = 'SSS Salary Loan Template';
    }
    else if (componentGroupId == 88) {
        keycode = 'SSS Calamity Loan Template';
    }
    else if (componentGroupId == 89) {
        keycode = 'SSS SLERP Loan Template';
    }
    else if (componentGroupId == 90) {
        keycode = 'Travel Advance Template';
    }
    var datastring = '{"keycode":"' + keycode + '","componentGroupID":"' + componentGroupId + '","criteriaType":"0"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetEmptyTemplateURL",
        contentType: "application/json; charset=utf-8",
        data: datastring,
        dataType: "json",
        cache: false,
        success: function (msg) {
            if (msg.d != '') {
                const url = msg.d;
                $("#progressBackgroundFilter, #processMessage").show();
                const checkInterval = setTimeout(() => {
                    $("#progressBackgroundFilter, #processMessage").hide();
                }, 5000);
                window.location.href = url;
            }
            else {
                errorpopup('No Template to download');
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function getusermanual() {
    var componentGroupId = $('#bonus').val();
    $('#divApprovalmsg1').css('color', 'red');
    $('#divApprovalmsg1').animate({ 'color': 'blue' }, StartApprovalmsgAnimate);

    var keycode = '';
    if (RoleId == 1) {
        keycode = 'Uploader User Manuals';
    }
    else if (RoleId == 19) {
        keycode = 'Associate User Manuals';
    }

    var datastring = '{"keycode":"' + keycode + '","componentGroupID":"' + componentGroupId + '"}';
    $.ajax({
        type: "POST",
        url: "../WebMethods.aspx/GetUseManuals",
        contentType: "application/json; charset=utf-8",
        data: datastring,
        dataType: "json",
        cache: false,
        success: function (msg) {
            if (msg.d != '') {
                var url = msg.d;
                window.location.href = url;
            }
            else {
                errorpopup('No Template to download');
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function getFAQ() {
    var componentGroupId = $('#bonus').val();
    $('#divApprovalmsg1').css('color', 'red');
    $('#divApprovalmsg1').animate({ 'color': 'blue' }, StartApprovalmsgAnimate);

    var keycode = '';
    keycode = 'FAQ';


    var datastring = '{"keycode":"' + keycode + '","componentGroupID":"' + componentGroupId + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetFAQDocument",
        contentType: "application/json; charset=utf-8",
        data: datastring,
        dataType: "json",
        cache: false,
        success: function (msg) {
            if (msg.d != '') {
                var url = msg.d;
                //window.open(url);
                window.location.href = url;
            }
            else {
                errorpopup('No Template to download');
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function OnUploadButtonClick() {
    // Bulck Upload
    var componentGroupId = $('#bonus').val();
    var check = this.GetFileUploadCount(componentGroupId);
    if (check) {
        var projectID = '';
        var url = "";

        if (componentGroupId == 15 || componentGroupId == 16 || componentGroupId == 41) {
            projectID = $('#proid').val();
        }
        if (isCutOffDateOver == 0) {
            if (ocm == "0") {
                url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&CountryId=" + CountryId + "&label1=Select File:&roleID=" + RoleId + "&action=1&ocmflag=1&TB_iframe=true&height=220&width=490&modal=true&allowTransparency=true";
            }
            else {
                url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&CountryId=" + CountryId + "&label1=Select File:&roleID=" + RoleId + "&action=1&ocmflag=1&TB_iframe=true&height=220&width=490&modal=true&allowTransparency=true";
            }
            url = EncodeUrlParameters(url);
            $("a#clck").attr('href', encodeURI(url)).click();
            $('#TB_title').css('display', 'none');
            $('.TB_overlayBG').css('display', 'block');
            $('#TB_closeAjaxWindow').css('display', 'none');
        }
        else {
            errorpopup("Upload frozen");
        }
    }
}

function close() {
    $('.TB_overlayBG').hide();
    $('#TB_iframeContent').remove();
}

function removestar() {
    $("#star").hide();
}

$(document).on('click', '#a_valid', function () {
    $("#displayrecords").val(250);
    $("#selectRecord").text(250);
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    $(".dataTableScroll .scrollbar").hide();
    $("#NoData").remove();
    page = 1;
    sortOrder = 1;
    orderBy = '';
    $("#nvalid").prop("checked", false);
    $("#taxvalid").prop("checked", false);
    $("#rvalid").prop("checked", false);
    $("#advalid").prop("checked", false);
    $("#jvalid").prop("checked", false);
    $("#sfvalid").prop("checked", false);
    $("#apvalid").prop("checked", false);
    $("#highvalid").prop("checked", false);
    $("#sarvalid").prop("checked", false);
    $("#commutevalid").prop("checked", false);
    $("#NetValid").prop("checked", false);
    $("#svalid").prop("checked", false);
    $("#cvalid").prop("checked", false);
    $("#sbvalid").prop("checked", false);
    $("#ctvalid").prop("checked", false);
    $("#validchk").prop("checked", false);
    $(this).addClass('selected');
    $('#a_exceptions').removeClass('selected');
    $('#a_otherGeo').removeClass('selected');
    $(".new_btn").show();
    $(".delete_btn").css("margin-left", "10px");
    //$(".delete_btn").css("margin-left", "10px");
    $("#dwnload_Data").show();
    $("#dwnload_Datadivider").show();
    compvalue = $('#bonus').val();
    $("#aid1").val("");
    $("#bid1").val("");
    $("#bid2").val("");

    if ($('#aid').val() == '' || $('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid').val() == ''
        || $('#bid1').val() == '' || $('#bid2').val() == '') {
        BindValidGridtbl();
    }
    else {
        keyPressEnter();
    }
});

$(document).on('click', '#a_exceptions', function () {
    $('#ulMonth').css("display", "block");
    $('#ulQuarter').hide();
    $("#displayrecords").val(250);
    $("#selectRecord").text(250);
    $(".dataTableScroll .scrollbar").hide();
    $("#NoData").remove();
    page = 1;
    sortOrder = 1;
    orderBy = '';
    ////$("#idpopup_msg1").css("margin-top", "-350px");
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    $("#rvalid").prop("checked", false);
    $("#jvalid").prop("checked", false);
    $("#taxvalid").prop("checked", false);
    $("#commutevalid").prop("checked", false);
    $("#sfvalid").prop("checked", false);
    $("#sarvalid").prop("checked", false);
    $("#advalid").prop("checked", false);
    $("#svalid").prop("checked", false);
    $("#cvalid").prop("checked", false);
    $("#apvalid").prop("checked", false);
    $("#sbvalid").prop("checked", false);
    $("#ctvalid").prop("checked", false);
    $("#validchk").prop("checked", false);
    $(this).addClass('selected');
    $('#a_valid').removeClass('selected');
    $('#a_otherGeo').removeClass('selected');
    $('.new_btn').hide();
    //$('.delete_btn').addClass('mleft65');
    //$(".delete_btn").css("margin-left", "81px");
    $("#dwnload_Data").show();
    $("#dwnload_Datadivider").show();
    $("#aid1").val("");
    $("#bid1").val("");
    $("#bid2").val("");
    compvalue = $('#bonus').val();

    if ($('#aid').val() == '' || $('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid').val() == ''
        || $('#bid1').val() == '' || $('#bid2').val() == '') {
        //a_exceptions
        BindExceptionsGridtbl();
    }
    else {
        keyPressEnter();
    }

});

function BindExceptionsGridtbl() {
    var componentGroupId = $('#bonus').val();
    var Month = $('#ddlMonth').val();

    if ((componentGroupId == 3 && CountryId != 20) || (componentGroupId == 2 && CountryId != 20) || componentGroupId == 17 || componentGroupId == 18
        || (componentGroupId == 19 && CountryId == 2) || (componentGroupId == 20 && CountryId == 2)) {
        var iDisplayLength = $("#displayrecords").val();
        datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"0"}';
        url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftExceptionData";
    }
    else if (componentGroupId == 15 || componentGroupId == 16 || componentGroupId == 41) {
        var iDisplayLength = $("#displayrecords").val();

        datastring = '{"componentGroupId":"' + componentGroupId + '","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"0","projectID":"' + $('#proid').val() + '"}';
        url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftExceptionData";
    }
    else if ((componentGroupId == 29 && CountryId != 20) || (componentGroupId == 30 && CountryId != 20) || componentGroupId == 32 || componentGroupId == 33
        || componentGroupId == 46 || (componentGroupId == 49 && CountryId != 20) || componentGroupId == 34 || componentGroupId == 35
        || componentGroupId == 36 || componentGroupId == 37 || componentGroupId == 38 || (componentGroupId == 39 && CountryId == 3)
        || (componentGroupId == 22 && CountryId == 3) || componentGroupId == 31 ||
        ((componentGroupId == 51 || componentGroupId == 45) && CountryId == 15) ||
        componentGroupId == 47 || componentGroupId == 48 || componentGroupId == 50 || (componentGroupId == 53 || componentGroupId == 57 &&
            (CountryId == 18 || CountryId == 19)) || componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87
        || componentGroupId == 88 || componentGroupId == 89) {
        var iDisplayLength = $("#displayrecords").val();
        datastring = '{"componentGroupId":"' + componentGroupId + '","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"0","projectID":"' + $('#proid').val() + '"}';
        url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftExceptionData";
    }

    else if (((componentGroupId == 18 || componentGroupId == 23 || componentGroupId == 24) && CountryId != 2)
        || ((componentGroupId == 19 || componentGroupId == 20) && CountryId != 2) || componentGroupId == 25
        || componentGroupId == 28 || componentGroupId == 42 || componentGroupId == 26 || componentGroupId == 27
        || (componentGroupId == 22 && (CountryId == 5 || CountryId == 6 || CountryId == 7 || CountryId == 8
            || CountryId == 9 || CountryId == 10 || CountryId == 11 || CountryId == 12 || CountryId == 13)) || componentGroupId == 21 || componentGroupId == 39 ||
        componentGroupId == 101
        || componentGroupId == 52 || componentGroupId == 59 || componentGroupId == 69 || componentGroupId == 63 || componentGroupId == 61 || componentGroupId == 60
        || componentGroupId == 54 || componentGroupId == 55 || componentGroupId == 56 || componentGroupId == 64 || componentGroupId == 62 || componentGroupId == 65
        || componentGroupId == 70 || componentGroupId == 68 || componentGroupId == 75 ||
        (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71 || componentGroupId == 72
        || componentGroupId == 74 || componentGroupId == 73 || componentGroupId == 76 || componentGroupId == 77 || componentGroupId == 78 || componentGroupId == 82 || componentGroupId == 91 || componentGroupId == 95
        || componentGroupId == 92 || componentGroupId == 93 || componentGroupId == 96 || componentGroupId == 97 || componentGroupId == 79 || componentGroupId == 80 || componentGroupId == 81 || componentGroupId == 83
        || componentGroupId == 84 || componentGroupId == 94 || ((componentGroupId == 3 || componentGroupId == 29 || componentGroupId == 30
            || componentGroupId == 49) && CountryId == 20) || componentGroupId == 90) {
        var iDisplayLength = $("#displayrecords").val();
        datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"0"}';
        url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftExceptionData";
    }

    $.ajax({
        type: "POST",
        url: url,
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: BindExceptionResultset,
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function BindExceptionResultset(msg) {

    var componentGroupId = $('#bonus').val();
    var grid_html = '';
    $('#tblReferral_wrapper').css('display', 'none');
    $('#tblJoining_wrapper').css('display', 'none');
    $('#tblNoticepay_wrapper').css('display', 'none');

    $('#refDetails').hide();
    $('#Joiningbonus').hide();
    $('#Shiftdetails').hide();
    $('#AdditionalPayoutdetails').hide();
    $('#Additionaldeductions').hide();
    $('#SARdetails').hide();
    $('#SchoolFee').hide();
    $('#InsuranceTaxation').hide();
    $('#RewardsandRegonition').hide();
    $('#SignOnBonus').hide();
    $('#Relocation').hide();
    $('#Transition').hide();
    $('#Honorarium').hide();
    $('#divOnCallAllowance').hide();
    $('#divNetTravelAllowance').hide();
    $('#CarDamageTrafficFine').hide();
    $('#CommutingAllowance').hide();
    $('#APACSchoolFee').hide();
    $('#ParkingAllowance').hide();
    $('#divStatutoryPayout').hide();
    $('#divHighTemp').hide();
    $('#divMaternityAllowance').hide();
    $('#InCityOnsiteAllowance').hide();
    $('#divWellness').hide();
    $('#divBenefits').hide();
    $('#divCarParingBenefits').hide();
    $('#divMobileTaxation').hide();
    $('#CESchoolFees').hide();
    $('#additionaldeductions').hide();
    $('#SPDDetails').hide();
    $('#ITADetails').hide();
    $('#INDDetails').hide();
    $('#MDDetails').hide();
    $('#SPDetails').hide();
    $('#SCDetails').hide();
    $('#OOBDetails').hide();
    $('#SDetails').hide();
    $('#PSUDetails').hide();
    $('#SAODetails').hide();
    $('#LAADetails').hide();
    $('#HDMFDetails').hide();

    $('#refDetails .dataTableScroll').css('display', 'none');
    $('#Joiningbonus .dataTableScroll').css('display', 'none');
    $('#Shiftdetails .dataTableScroll').css('display', 'none');
    $('#AdditionalPayoutdetails .dataTableScroll').css('display', 'none');
    $('#Additionaldeductions .dataTableScroll').css('display', 'none');
    $('#SARdetails .dataTableScroll').css('display', 'none');
    $('#SchoolFee .dataTableScroll').css('display', 'none');
    $('#InsuranceTaxation .dataTableScroll').css('display', 'none');
    $('#RewardsandRegonition .dataTableScroll').css('display', 'none');
    $('#SignOnBonus .dataTableScroll').css('display', 'none');
    $('#Relocation .dataTableScroll').css('display', 'none');
    $('#Transition .dataTableScroll').css('display', 'none');
    $('#Honorarium .dataTableScroll').css('display', 'none');
    $('#divOnCallAllowance .dataTableScroll').css('display', 'none');
    $('#divNetTravelAllowance .dataTableScroll').css('display', 'none');
    $('#CarDamageTrafficFine .dataTableScroll').css('display', 'none');
    $('#CommutingAllowance .dataTableScroll').css('display', 'none');
    $('#APACSchoolFee .dataTableScroll').css('display', 'none');
    $('#ParkingAllowance .dataTableScroll').css('display', 'none');
    $('#divStatutoryPayout .dataTableScroll').css('display', 'none');
    $('#divHighTemp .dataTableScroll').css('display', 'none');
    $('#divMaternityAllowance .dataTableScroll').css('display', 'none');
    $('#InCityOnsiteAllowance .dataTableScroll').css('display', 'none');
    $('#divWellness .dataTableScroll').css('display', 'none');
    $('#divBenefits .dataTableScroll').css('display', 'none');
    $('#divCarParingBenefits .dataTableScroll').css('display', 'none');
    $('#divMobileTaxation .dataTableScroll').css('display', 'none');
    $('#CESchoolFees .dataTableScroll').css('display', 'none');
    $('#additionaldeductions .dataTableScroll').css('display', 'none');
    $('#SPDDetails .dataTableScroll').css('display', 'none');
    $('#ITADetails .dataTableScroll').css('display', 'none');
    $('#INDDetails .dataTableScroll').css('display', 'none');
    $('#MDDetails .dataTableScroll').css('display', 'none');
    $('#SPDetails .dataTableScroll').css('display', 'none');
    $('#SCDetails .dataTableScroll').css('display', 'none');
    $('#OOBDetails .dataTableScroll').css('display', 'none');
    $('#SDetails .dataTableScroll').css('display', 'none');
    $('#PSUDetails .dataTableScroll').css('display', 'none');
    $('#SAODetails .dataTableScroll').css('display', 'none');
    $('#LAADetails .dataTableScroll').css('display', 'none');
    $('#HDMFDetails .dataTableScroll').css('display', 'none');


    $('#refDetails .viewport').css('display', 'none');
    $('#Joiningbonus .viewport').css('display', 'none');
    $('#Shiftdetails .viewport').css('display', 'none');
    $('#AdditionalPayoutdetails .viewport').css('display', 'none');
    $('#Additionaldeductions .viewport').css('display', 'none');
    $('#SARdetails .viewport').css('display', 'none');
    $('#SchoolFee .viewport').css('display', 'none');
    $('#InsuranceTaxation .viewport').css('display', 'none');
    $('#RewardsandRegonition .viewport').css('display', 'none');
    $('#SignOnBonus .viewport').css('display', 'none');
    $('#Relocation .viewport').css('display', 'none');
    $('#Transition .viewport').css('display', 'none');
    $('#Honorarium .viewport').css('display', 'none');
    $('#divOnCallAllowance .viewport').css('display', 'none');
    $('#divNetTravelAllowance .viewport').css('display', 'none');
    $('#CarDamageTrafficFine .viewport').css('display', 'none');
    $('#CommutingAllowance .viewport').css('display', 'none');
    $('#APACSchoolFee .viewport').css('display', 'none');
    $('#ParkingAllowance .viewport').css('display', 'none');
    $('#divStatutoryPayout .viewport').css('display', 'none');
    $('#divHighTemp .viewport').css('display', 'none');
    $('#divMaternityAllowance .viewport').css('display', 'none');
    $('#InCityOnsiteAllowance .viewport').css('display', 'none');
    $('#divWellness .viewport').css('display', 'none');
    $('#divBenefits .viewport').css('display', 'none');
    $('#divCarParingBenefits .viewport').css('display', 'none');
    $('#divMobileTaxation .viewport').css('display', 'none');
    $('#CESchoolFees .viewport').css('display', 'none');
    $('#SPDDetails .viewport').css('display', 'none');
    $('#ITADetails .viewport').css('display', 'none');
    $('#INDDetails .viewport').css('display', 'none');
    $('#MDDetails .viewport').css('display', 'none');
    $('#SPDetails .viewport').css('display', 'none');
    $('#SCDetails .viewport').css('display', 'none');
    $('#OOBDetails .viewport').css('display', 'none');
    $('#SDetails .viewport').css('display', 'none');
    $('#PSUDetails .viewport').css('display', 'none');
    $('#SAODetails .viewport').css('display', 'none');
    $('#LAADetails .viewport').css('display', 'none');
    $('#HDMFDetails .viewport').css('display', 'none');

    $('#tblReferral').css('display', 'none');
    $('#tblJoining').css('display', 'none');
    $('#tbl_shift').css('display', 'none');
    $('#tblAdditionalPayout').css('display', 'none');
    $('#tbldeduction').css('display', 'none');
    $('#tbl_sar').css('display', 'none');
    $('#tblSchoolfee').css('display', 'none');
    $('#tblInsurancetax').css('display', 'none');
    $('#tblrewards').css('display', 'none');
    $('#tblSignonBonus').css('display', 'none');
    $('#tblRelocation').css('display', 'none');
    $('#tblTransition').css('display', 'none');
    $('#tblHonorarium').css('display', 'none');
    $('#tbl_oncall').css('display', 'none');
    $('#tbl_netTravel').css('display', 'none');
    $('#tblCarDamageTrafficFine').css('display', 'none');
    $('#tbl_Commuting').css('display', 'none');
    $('#tblSchoolfeeAPAC').css('display', 'none');
    $('#tbl_ParkingAllowance').css('display', 'none');
    $('#tbl_Statutory').css('display', 'none');
    $('#tbl_Hightemp').css('display', 'none');
    $('#tbl_maternity').css('display', 'none');
    $('#tbl_InCityOnsiteAllowance').css('display', 'none');
    $('#tbl_Wellness').css('display', 'none');
    $('#tbl_benefits').css('display', 'none');
    $('#tbl_CarParkingBenefits').css('display', 'none');
    $('#tbl_MobileTaxation').css('display', 'none');
    $('#tbl_CESchoolfees').css('display', 'none');
    $('#tblSPD').css('display', 'none');
    $('#tblITA').css('display', 'none');
    $('#tblIND').css('display', 'none');
    $('#tblMD').css('display', 'none');
    $('#tblSP').css('display', 'none');
    $('#tblSC').css('display', 'none');
    $('#tblOOB').css('display', 'none');
    $('#tblSD').css('display', 'none');
    $('#tblPSU').css('display', 'none');
    $('#tbl_SAODetails').css('display', 'none');
    $('#tbl_LAADetails').css('display', 'none');
    $('#tbl_HDMFDetails').css('display', 'none');

    if (componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87 || componentGroupId == 88 || componentGroupId == 89) { // Rewards
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#mailattach').hide();
        $('#customize').hide();

        $('#disLabel').css('margin-left', '300px');
        getTotalPages();
        //var oTable = $("#tblJoining").dataTable();
        //oTable.fnDestroy();
        $('#divMaternityAllowance').show();
        $('#tbl_maternity').find('tbody').html('');
        $('#divMaternityAllowance .dataTableScroll').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('overflow', 'scroll');
        $('#tbl_maternity').css('display', 'block');
        $('#tbl_maternity .viewport').css('display', 'block');

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        $("#aid3").attr("maxlength", "11");
        $("#aid3").numeric();

        var htmldata = '';
        htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="apvalid"/>';
        htmldata += '</th><th class="sort rrtbl" column="AssociateID" id="Th1">Associate ID </th>';
        htmldata += ' <th class="rrtbl">AssociateName</th>';
        htmldata += ' <th column="AdvisedMonth" class="rrtbl">AdvisedMonth</th>';
        htmldata += ' <th class="rrtbl">Year</th>';
        htmldata += '<th class="sort rrtbl" column="Amount">Loan Amount </th>';
        htmldata += '<th class="sort rrtbl" column="Amount">Interest Amount </th>';
        htmldata += '<th class="rrtbl">StartDate</th>';
        htmldata += '<th class="rrtbl">EndDate</th>';
        htmldata += '<th class="sort rrtbl" column="Amount">Previous Payment </th>';
        htmldata += '<th class="sort rrtbl" column="Amount">Balance Amount </th>';
        htmldata += ' <th class="rrtbl">Term</th>';
        htmldata += '<th class="sort rrtbl" column="Amount">Monthly Amortization </th>';
        htmldata += '<th class="sort rrtbl" column="Amount">Payment Date </th>';
        htmldata += ' <th class="rrtbl">Remarks</th>';
        htmldata += '<th class="rrtbl">Exception Reason </th>';
        htmldata += '<th class="jbtblEdit">Edit </th></tr>';

        $('#tbl_maternity').find('thead').html('').html(htmldata);
        $(".delete_btn").css("margin-left", "155px");
        $("#divMaternityAllowance .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "670px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                var expremarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 15) ? data.Remarks.substring(0, 15) + '...' : data.Remarks;
                }
                else {
                    remarks = '';
                }
                if (data.ExceptionReason != null) {
                    expremarks = (data.ExceptionReason.length > 20) ? data.ExceptionReason.substring(0, 20) + '...' : data.ExceptionReason;
                }
                else {
                    expremarks = '';
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="APvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="APvalid" id=' + (i + 1) + ' /></td>';
                }
                else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="APvalid" id=' + (i + 1) + ' disabled="true" /></td>';
                }
                grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="rrtbl">' + data.AssociateName + '</td>';
                grid_html += '<td class="rrtbl" style="text-align:center;">' + data.PayrollMonth + '</td>';
                grid_html += '<td class="rrtbl" style="text-align:center;">' + data.Year + '</td>';
                grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.LoanAmount + '">' + data.LoanAmount + '</td>';
                grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.InterestAmount + '">' + data.InterestAmount + '</td>';
                grid_html += '<td class="rrtbl">' + data.StartDate + '</td>';
                grid_html += '<td class="rrtbl">' + data.EndDate + '</td>';
                grid_html += '<td class="rrtbl">' + data.PreviousPayment + '</td>';
                grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.BalanceAmount + '">' + data.BalanceAmount + '</td>';
                grid_html += '<td class="rrtbl">' + data.Term + '</td>';
                grid_html += '<td class="rrtbl">' + data.Amount + '</td>';
                grid_html += '<td class="rrtbl">' + data.PaymentDate + '</td>';
                grid_html += '<td class="rrtbl" title = "' + data.Remarks + '"style="text-align:center;">' + remarks + '</td>';
                grid_html += '<td class="rrtbl" title="' + data.ExceptionReason + '">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td width="60px"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }

            });

            $('#tbl_maternity').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_maternity").append("<tr class='even' id='NoData'><td colspan='14' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#apvalid').attr("disabled", "disabled");
        }
    }

    else if (componentGroupId == 69) { // Shadow Payroll Deduction exception

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        ////$('#SPDetails').css('display', 'none');

        $('#SPDDetails').show();
        $('#SPDDetails').css('display', 'block');
        $('#SPDDetails .dataTableScroll').css('display', 'block');
        $('#tblSPD').css('display', 'block');
        $('#SPDDetails .viewport').css('display', 'block');
        $('#SPDDetails .viewport').css('overflow', 'scroll');
        $('#SPDDetails').find('tbody').html('');
        $('#SPDDetails').css('display', 'block');
        $("#ulRecord").css("display", "block");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();

        $('#SPDDetails').find('tbody').html('');
        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="WBValidchk" /></th>';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd3">Associate Name </th>';
        htmldata += ' <th class="LVtd3" column="AdvisedMonth">Advised Month</th>';
        htmldata += ' <th class="LVtd3" column="Year">Advised Year</th>';
        htmldata += ' <th class="LVtd6">Employee SS(GBP)</th>';
        htmldata += ' <th class="LVtd6">Employer SS(GBP)</th>';
        htmldata += ' <th class="LVtd6">Employee SS(USD)</th>';
        htmldata += ' <th class="LVtd6">Employee SS(USD)</th>';
        htmldata += '<th class="LVtd5">Exception Reason </th>';
        htmldata += '<th class="LVtd5">Comments </th>';
        htmldata += '<th class="Lvtd1">Edit</th></tr>';

        $('#tblSPD').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "175px");
        $("#tblSPD .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "670px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                var comment = (data.Comments.length > 15) ? data.Comments.substring(0, 15) + '...' : data.Comments;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd6" >' + data.EmployeeSS_GBP + '</td>';
                grid_html += '<td class="LVtd6" >' + data.EmployerSS_GBP + '</td>';
                grid_html += '<td class="LVtd6" >' + data.EmployeeSS_USD + '</td>';
                grid_html += '<td class="LVtd6" >' + data.EmployerSS_USD + '</td>';
                grid_html += '<td class="LVtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                grid_html += '<td class="LVtd6" title="' + data.Comments + '">' + comment + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
            });

            $('#tblSPD').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSPD").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }


    if (componentGroupId == 76 || componentGroupId == 77 || componentGroupId == 78) { // mid,year End,13th month

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'none');

        $('#SPDDetails').show();
        $('#SPDDetails').css('display', 'block');
        $('#SPDDetails .dataTableScroll').css('display', 'block');
        $('#tblSPD').css('display', 'block');
        $('#SPDDetails .viewport').css('display', 'block');
        $('#SPDDetails .viewport').css('overflow', 'scroll');
        $('#SPDDetails').find('tbody').html('');
        $('#SPDDetails').css('display', 'block');


        $("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();

        $('#SPDDetails').find('tbody').html('');
        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="WBValidchk" /></th>';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd3">Associate Name </th>';
        htmldata += ' <th class="LVtd3" column="AdvisedMonth">Advised Month</th>';
        htmldata += ' <th class="LVtd3" column="Year">Advised Year</th>';
        htmldata += ' <th class="LVtd6">Amount</th>';
        htmldata += ' <th class="LVtd6">PaymentDate</th>';
        htmldata += ' <th class="LVtd6">Remarks</th>';
        htmldata += '<th class="LVtd5">Exception Reason </th>';
        htmldata += '<th class="Lvtd1" style=" width: 124px !important;">Edit</th></tr>';

        $('#tblSPD').find('thead').html('').html(htmldata);
        $(".delete_btn").css("margin-left", "155px");
        $("#SPDDetails .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "670px");
        ////$("#ulRecord li").css("margin-top", "-30px");

        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var expremarks = '';
                if (data.ExceptionRemarks != '' || data.ExceptionRemarks != null || data.ExceptionRemarks != undefined || data.ExceptionRemarks != "undefined") {
                    expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                }
                else {
                    expremarks = '';
                }
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd1" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd1" >' + data.PaymentDate + '</td>';
                grid_html += '<td class="LVtd1" >' + data.Comments + '</td>';
                grid_html += '<td class="LVtd1" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
            });

            $('#tblSPD').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSPD").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 61) { // PSU Cash Bridge exception

        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#CBADetails").hide();

        $('#PSUDetails').show();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();
        $("#ulRecord").css('display', 'block');

        $('#tblPSU').css('display', 'block');
        $("#SPDDetails").css('display', 'block');
        $('#tblPSU .viewport').css('display', 'block');
        $('#PSUDetails .dataTableScroll').css('display', 'block');
        $('#PSUDetails .viewport').css('display', 'block');

        $('#tblPSU').find('tbody').html('');

        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="WBValidchk" /></th>';
        htmldata += ' <th class="sort LVtd2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd2">Associate Name </th>';
        htmldata += ' <th class="LVtd2" >Year of Hire</th>';
        htmldata += ' <th class="LVtd4" >Designation</th>';
        htmldata += ' <th class="LVtd4">Payout Type</th>';
        htmldata += ' <th class="LVtd4">Start Date</th>';
        htmldata += ' <th class="LVtd4">Country</th>';
        htmldata += ' <th class="LVtd5">Amount in Local Currency</th>';
        htmldata += ' <th class="LVtd4">Payout Date</th>';
        htmldata += ' <th class="LVtd5">Comments</th>';
        htmldata += '<th class="LVtd6">Exception Reason </th>';
        htmldata += '<th class="LVtd3">Edit</th></tr>';

        $('#tblPSU').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "175px");

        $("#PSUDetails .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "670px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd2" >' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd2" >' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Grade + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Payout + '</td>';
                grid_html += '<td class="LVtd4" >' + data.StartDate + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Country + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd4" >' + data.PayoutDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Comments + '</td>';
                grid_html += '<td class="LVtd5" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';


                if (cutoff_date == NaN) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="LVtd1"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
                grid_html += '</tr>';
            });

            $('#tblPSU').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblPSU").append("<tr class='even' id='NoData'><td colspan='13' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }
    else if (componentGroupId == 82 || componentGroupId == 91) {

        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#CBADetails").hide();

        $('#PSUDetails').show();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();
        $("#ulRecord").css('display', 'block');

        $('#tblPSU').css('display', 'block');
        $("#SPDDetails").css('display', 'block');
        $('#tblPSU .viewport').css('display', 'block');
        $('#PSUDetails .dataTableScroll').css('display', 'block');
        $('#PSUDetails .viewport').css('display', 'block');

        $('#tblPSU').find('tbody').html('');

        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="WBExceptionchk" /></th>';
        htmldata += ' <th class="sort LVtd2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd2">Associate Name </th>';
        htmldata += ' <th class="LVtd4" >Advised Month</th>';
        htmldata += ' <th class="LVtd4" >Advised Year</th>';
        htmldata += ' <th class="LVtd4">Principal Amount</th>';
        htmldata += ' <th class="LVtd6">Semimonthly Amortization amount </th>';
        htmldata += ' <th class="LVtd4">Project ID </th>';
        htmldata += ' <th class="LVtd6">No of Installments</th>';
        htmldata += ' <th class="LVtd6">Payment Date</th>';
        htmldata += ' <th class="LVtd6">Remarks</th>';
        htmldata += '<th class="LVtd6">Exception Reason </th>';
        htmldata += '<th class="LVtd3">Edit</th></tr>';

        $('#tblPSU').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "155px");
        $("#PSUDetails .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "670px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                if (!data.ProjectID) {
                    data.ProjectID = "N/A";
                }

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="WBvalid" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="WBvalid" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="WBvalid" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3" >' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" >' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Year + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.SemiAmount + '</td>';
                grid_html += '<td class="LVtd2" >' + data.ProjectID + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Installment + '</td>';
                grid_html += '<td class="LVtd5" >' + data.PayoutDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Comments + '</td>';
                grid_html += '<td class="LVtd5" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';


                if (cutoff_date == NaN) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="LVtd1"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
                grid_html += '</tr>';
            });

            $('#tblPSU').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblPSU").append("<tr class='even' id='NoData'><td colspan='13' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 95 || componentGroupId == 92 || componentGroupId == 93 || componentGroupId == 96 || componentGroupId == 97
        || componentGroupId == 90) {

        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#CBADetails").hide();

        $('#PSUDetails').show();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();
        $("#ulRecord").css('display', 'block');

        $('#tblPSU').css('display', 'block');
        $("#SPDDetails").css('display', 'block');
        $('#tblPSU .viewport').css('display', 'block');
        $('#PSUDetails .dataTableScroll').css('display', 'block');
        $('#PSUDetails .viewport').css('display', 'block');

        $('#tblPSU').find('tbody').html('');

        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="WBExceptionchk" /></th>';
        htmldata += ' <th class="sort LVtd2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd2">Associate Name </th>';
        htmldata += ' <th class="LVtd4" >Advised Month</th>';
        htmldata += ' <th class="LVtd4" >Advised Year</th>';
        htmldata += ' <th class="LVtd4">Principal Amount</th>';
        htmldata += ' <th class="LVtd6">Semimonthly Amortization amount </th>';
        htmldata += ' <th class="LVtd6">No of Installments</th>';
        htmldata += ' <th class="LVtd6">Payment Date</th>';
        htmldata += ' <th class="LVtd6">Remarks</th>';
        htmldata += '<th class="LVtd6">Exception Reason </th>';
        htmldata += '<th class="LVtd3">Edit</th></tr>';

        $('#tblPSU').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "155px");
        $("#PSUDetails .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "670px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="WBvalid" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="WBvalid" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="WBvalid" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3" >' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" >' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Year + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.SemiAmount + '</td>';
                grid_html += '<td class="LVtd4" >' + data.Installment + '</td>';
                grid_html += '<td class="LVtd5" >' + data.PayoutDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Comments + '</td>';
                grid_html += '<td class="LVtd5" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';


                if (cutoff_date == NaN) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="LVtd1"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
                grid_html += '</tr>';
            });

            $('#tblPSU').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblPSU").append("<tr class='even' id='NoData'><td colspan='13' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 63) { // Singapore Deduction exception

        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#CBADetails").hide();

        $('#SDDetails').show();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();
        $("#ulRecord").css('display', 'block');

        $('#tblSD').css('display', 'block');
        $("#SDDetails").css('display', 'block');
        $('#tblSD .viewport').css('display', 'block');
        $('#SDDetails .dataTableScroll').css('display', 'block');
        $('#SDDetails .viewport').css('display', 'block');

        $('#tblSD').find('tbody').html('');

        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="WBValidchk" /></th>';
        htmldata += ' <th class="sort LVtd4" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd5">Associate Name </th>';
        htmldata += ' <th class="LVtd6">Recovery Period</th>';
        htmldata += ' <th class="LVtd5" column="Month">Advised Month</th>';
        htmldata += ' <th class="LVtd5" column="Year">Advised Year</th>';
        htmldata += ' <th class="LVtd6">Business Unit</th>';
        htmldata += ' <th class="LVtd6">Line Description</th>';
        htmldata += ' <th class="LVtd6">Amount(SGD)</th>';
        htmldata += ' <th class="LVtd8">Amount to be Recovered(SGP)</th>';
        htmldata += ' <th class="LVtd6">Exchange Rate</th>';
        htmldata += ' <th class="LVtd8">Amount to be Recovered(GBP)</th>';
        htmldata += ' <th class="LVtd5">Balance</th>';
        htmldata += '<th class="LVtd7">Exception Reason </th>';
        htmldata += '<th class="LVtd1">Edit</th></tr>';

        $('#tblSD').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "175px");

        $("#SDDetails .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "670px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd5" >' + data.StartDate + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd5" >' + data.BU + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Remarks + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.RecoveryAmount_1 + '</td>';
                grid_html += '<td class="LVtd5" >' + data.ExchangeRate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.RecoveryAmount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Balance + '</td>';
                grid_html += '<td class="LVtd5" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
                grid_html += '</tr>';
            });

            $('#tblSD').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSD").append("<tr class='even' id='NoData'><td colspan='15' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 70) { // India Net Deduction exception Bind

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'none');

        $('#INDDetails').show();
        $('#INDDetails').css('display', 'block');
        $('#INDDetails .dataTableScroll').css('display', 'block');
        $('#tblIND').css('display', 'block');
        $('#INDDetails .viewport').css('display', 'block');
        $('#INDDetails .viewport').css('overflow', 'scroll');
        $('#INDDetails').find('tbody').html('');
        $('#INDDetails').css('display', 'block');
        $("#ulRecord").css("display", "block");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();

        $('#tblIND').find('tbody').html('');

        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="WBValidchk" /></th>';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd5">Associate Name </th>';
        htmldata += ' <th class="LVtd6" column="AdvisedMonth">Advised Month</th>';
        htmldata += ' <th class="LVtd6" column="Year">Advised Year</th>';
        htmldata += ' <th class="LVtd6">Recovery Amount</th>';
        htmldata += ' <th class="LVtd5">Currency</th>';
        htmldata += ' <th class="LVtd6">Exchange Rate</th>';
        htmldata += ' <th class="LVtd8">Recovey Amount (INR)</th>';
        htmldata += ' <th class="LVtd6">Balance (INR)</th>';
        htmldata += '<th class="LVtd7">Exception Reason </th>';
        htmldata += '<th class="LVtd7">Comments </th>';
        htmldata += '<th class="LVtd1">Edit</th></tr>';

        $('#tblIND').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "175px");

        $("#INDDetails .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "670px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {

                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                var comment = (data.Comments.length > 15) ? data.Comments.substring(0, 15) + '...' : data.Comments;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd5" >' + data.RecoveryAmount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Currency + '</td>';
                grid_html += '<td class="LVtd5" >' + data.ExchangeRate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.RecoveryAmount_1 + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Balance + '</td>';
                grid_html += '<td class="LVtd5" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                grid_html += '<td class="LVtd5" title="' + data.Comments + '">' + comment + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
            });

            $('#tblIND').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblIND").append("<tr class='even' id='NoData'><td colspan='13' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 68) { // Miscellaneous Deduction exception

        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#CBADetails").hide();

        $('#MDDetails').show();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();
        $("#ulRecord").css('display', 'block');

        $('#tblMD').css('display', 'block');
        $("#MDDetails").css('display', 'block');
        $('#MDDetails').css('display', 'block');
        $('#tblMD .viewport').css('display', 'block');
        $('#MDDetails .dataTableScroll').css('display', 'block');
        $('#MDDetails .viewport').css('display', 'block');

        $('#tblMD').find('tbody').html('');

        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="sbvalid" />';
        htmldata += '</th><th class="LVtd8 sort" column="AssociateID">Associate ID</th>';
        htmldata += '<th class="LVtd8" column="Associate Name">Associate Name </th>';
        htmldata += '<th class="LVtd8">Deduction Type</th>';
        htmldata += '<th class="LVtd8">Amount</th>';
        htmldata += '<th class="LVtd8">Currency</th>';
        htmldata += '<th class="LVtd3">Exception Reason </th>';
        htmldata += '<th class="LVtd3">Comments</th>';
        htmldata += '<th class="LVtd8">Edit</th></tr>';

        $('#tblMD').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "175px");

        $("#MDDetails .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "670px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                var comment = (data.Comments.length > 15) ? data.Comments.substring(0, 15) + '...' : data.Comments;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd1">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd1">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd1">' + data.DeductionType + '</td>';
                grid_html += '<td class="LVtd1">' + data.Amount + '</td>';
                grid_html += '<td class="LVtd1">' + data.Currency + '</td>';
                grid_html += '<td class="LVtd1" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                grid_html += '<td class="LVtd1" title="' + data.Comments + '">' + comment + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
            });

            $('#tblMD').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblMD").append("<tr class='even' id='NoData'><td colspan='9' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 64) { // Special Pay exception

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDDetails').css('display', 'none');

        $('#SPDetails').show();
        $('#SPDetails').css('display', 'block');
        $('#SPDetails .dataTableScroll').css('display', 'block');
        $('#tblSP').css('display', 'block');
        $('#SPDetails .viewport').css('display', 'block');
        $('#SPDetails .viewport').css('overflow', 'scroll');
        $('#SPDetails').find('tbody').html('');
        $('#SPDetails').css('display', 'block');
        $("#ulRecord").css("display", "block");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();

        $('#SPDetails').find('tbody').html('');
        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="sbvalid" />';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += '<th class="LVtd3">Associate Name </th>';
        htmldata += ' <th class="LVtd3" column="AdvisedMonth">Advised Month</th>';
        htmldata += ' <th class="LVtd3" column="Year">Advised Year</th>';
        htmldata += '<th class="LVtd3">Amount</th>';
        htmldata += '<th class="LVtd6">Currency</th>';
        htmldata += '<th class="LVtd5">Exception Reason </th>';
        htmldata += '<th class="LVtd5">Comments</th>';
        htmldata += '<th class="LVtd3">Edit</th></tr>';

        $('#tblSP').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "175px");

        $("#tblSP .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "670px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {

            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                var comment = (data.Comments.length > 15) ? data.Comments.substring(0, 15) + '...' : data.Comments;

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd1">' + data.Amount + '</td>';
                grid_html += '<td class="LVtd1">' + data.Currency + '</td>';
                grid_html += '<td class="LVtd1" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                grid_html += '<td class="LVtd1" title="' + data.Comments + '">' + comment + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
            });

            $('#tblSP').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSP").append("<tr class='even' id='NoData'><td colspan='10' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 62) { // Sales Commission exception

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'none');

        $('#SCDetails').show();
        $('#SCDetails').css('display', 'block');
        $('#SCDetails .dataTableScroll').css('display', 'block');
        $('#tblSC').css('display', 'block');
        $('#SCDetails .viewport').css('display', 'block');
        $('#SCDetails .viewport').css('overflow', 'scroll');
        $('#SCDetails').find('tbody').html('');
        $('#SCDetails').css('display', 'block');
        $("#ulRecord").css("display", "block");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();

        $('#SCDetails').find('tbody').html('');

        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="WBValidchk" /></th>';
        htmldata += ' <th class="sort LVtd4" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd5">Associate Name </th>';
        htmldata += '<th class="LVtd6">Business Unit</th>';
        htmldata += '<th class="LVtd6">Annual Bonus as per</br> offer </th>';
        htmldata += '<th class="LVtd6">Annual Bonus Payout</th>';
        htmldata += '<th class="LVtd6">H1 Bonus paid</th>';
        htmldata += '<th class="LVtd6">H2 Bonus paid</th>';
        htmldata += '<th class="LVtd5">Exception Reason </th>';
        htmldata += '<th class="LVtd5">Comments </th>';
        htmldata += '<th class="LVtd1">Edit</th></tr>';

        $('#tblSC').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "175px");

        $("#tblSC .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "670px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                var comment = (data.Comments.length > 15) ? data.Comments.substring(0, 15) + '...' : data.Comments;

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }
                grid_html += '<td class=" LVtd2" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd6">' + data.BU + '</td>';
                grid_html += '<td class="LVtd7">' + data.EmployeeSS_GBP + '</td>';
                grid_html += '<td class="LVtd7">' + data.EmployerSS_GBP + '</td>';
                grid_html += '<td class="LVtd7">' + data.EmployeeSS_USD + '</td>';
                grid_html += '<td class="LVtd7">' + data.EmployerSS_USD + '</td>';
                grid_html += '<td class="LVtd8" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                grid_html += '<td class="LVtd8" title="' + data.Comments + '">' + comment + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
            });

            $('#tblSC').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSC").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 65) { // India Travel Advance exception Bind

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'none');

        $('#ITADetails').show();
        $('#ITADetails').css('display', 'block');
        $('#ITADetails .dataTableScroll').css('display', 'block');
        $('#tblITA').css('display', 'block');
        $('#ITADetails .viewport').css('display', 'block');
        $('#ITADetails .viewport').css('overflow', 'scroll');
        $('#ITADetails').find('tbody').html('');
        $('#ITADetails').css('display', 'block');
        $("#ulRecord").css("display", "block");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "250px");
        ////$("#ulRecord li").css("margin-top", "");
        //$("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();

        $('#tblITA').find('tbody').html('');

        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="sbvalid" />';
        htmldata += '</th><th class="LVtd3 sort" column="AssociateID">Associate ID</th>';
        htmldata += '<th class="LVtd5" column="AssociateName">Associate Name </th>';
        htmldata += '<th class="LVtd5">Advised Month </th>';
        htmldata += '<th class="LVtd5">Advised Year </th>';
        htmldata += '<th class="LVtd5">Travel Id</th>';
        htmldata += '<th class="LVtd5" >Balance</th>';
        htmldata += '<th class="LVtd7" >Foreign Currency</th>';
        htmldata += '<th class="LVtd7" >Recovery Amount</th>';
        htmldata += '<th class="LVtd5" >Currency</th>';
        htmldata += '<th class="LVtd7">Exception Reason </th>';
        htmldata += '<th class="LVtd7">Comments </th>';
        htmldata += '<th class="LVtd1">Edit</th></tr>';

        $('#tblITA').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "175px");

        $("#ITADetails .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "670px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {

                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var expremarks = ''
                if (data.ExceptionRemarks != null) {
                    if (data.ExceptionRemarks.length > 15) {
                        expremarks = data.ExceptionRemarks.substring(0, 15) + '...';
                    }
                    else {
                        expremarks = data.ExceptionRemarks;
                    }

                    ////expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                }


                var comment = ''
                if (data.Comments != null) {
                    comment = (data.Comments.length > 15) ? data.Comments.substring(0, 15) + '...' : data.Comments;
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd3">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd5">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd6">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd6">' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd5">' + data.TravelID + '</td>';
                grid_html += '<td class="LVtd5">' + data.Balance + '</td>';
                grid_html += '<td class="LVtd7">' + data.ForeignCurrency + '</td>';
                grid_html += '<td class="LVtd7">' + data.RecoveryAmount + '</td>';
                grid_html += '<td class="LVtd5">' + data.Currency + '</td>';
                grid_html += '<td class="LVtd7" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                grid_html += '<td class="LVtd7" title="' + data.Comments + '">' + comment + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
            });

            $('#tblITA').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblITA").append("<tr class='even' id='NoData'><td colspan='13' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 60) { // One off Bonus exception Bind

        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#CBADetails").hide();

        $('#OOBDetails').show();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();
        $("#ulRecord").css('display', 'block');

        $('#tblOOB').css('display', 'block');
        $("#OOBDetails").css('display', 'block');
        $('#tblOOB .viewport').css('display', 'block');
        $('#OOBDetails .dataTableScroll').css('display', 'block');
        $('#OOBDetails .viewport').css('display', 'block');

        $('#tblOOB').find('tbody').html('');

        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="WBValidchk" /></th>';
        htmldata += ' <th class="sort LVtd6" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd5">Associate Name </th>';
        htmldata += ' <th class="LVtd6">Current Grade</th>';
        htmldata += ' <th class="LVtd6">Hire Type</th>';
        htmldata += ' <th class="LVtd5">Country</th>';
        htmldata += ' <th class="LVtd5">Currency</th>';
        htmldata += ' <th class="LVtd6">One Off Bonus</th>';
        htmldata += ' <th class="LVtd7">Comments</th>';
        htmldata += '<th class="LVtd8">Exception Reason </th>';
        htmldata += '<th class="LVtd1">Edit</th></tr>';

        $('#tblOOB').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "175px");

        $("#OOBDetails .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "670px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                if (data.ExceptionRemarks != null) {
                    var expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd1">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd1">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd1">' + data.BU + '</td>';
                grid_html += '<td class="LVtd1">' + data.HireType + '</td>';
                grid_html += '<td class="LVtd1">' + data.Country + '</td>';
                grid_html += '<td class="LVtd1">' + data.Currency + '</td>';
                grid_html += '<td class="LVtd1">' + data.Amount + '</td>';
                grid_html += '<td class="LVtd1">' + data.Comments + '</td>';
                grid_html += '<td class="LVtd1" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
            });

            $('#tblOOB').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblOOB").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    //Referral Bonus
    else if (componentGroupId == 2 && (CountryId != 18 && CountryId != 19 && CountryId != 20)) {
        $("#divApprovalmsg1").show();
        $("#refDetails").show();
        $('#mailattach').hide();
        $('#customize').hide();
        $("#shiftdetails").hide();
        $('#tblReferral').find('tbody').html('');
        $('#tblReferral').css('display', 'block');
        $('#tblReferral_wrapper').css('display', 'block');
        $('.delete_btn').css('margin-left', '15px');
        $('#tblReferralHead').css('display', 'block');
        $('#tblReferralHead_wrapper').css('display', 'block');
        $('#Joiningbonus .dataTableScroll').css('display', 'none');
        $('#refDetails .dataTableScroll').css('display', 'block');
        $('#refDetails .scrollbar').css('display', 'block');
        $('#refDetails .viewport').css('display', 'block');
        $('#tblJoining').css('display', 'none');
        var htmldata = '';
        htmldata += '<tr><th class="td1"><input type="checkbox" id="rvalid" /></th>';
        htmldata += ' <th id="Th5" class="sort td2" column="ReferrorAssociateID">Referrer ID </th>';
        htmldata += ' <th class="sort td8" column="RefereeAssociateID">Referee ID </th>';
        htmldata += ' <th class="sort td8" column="RefereeBGstatus">Referee  <br />BG status</th>';
        htmldata += ' <th class="sort td8" column="SetId">SetId </th>';
        htmldata += ' <th class="sort td8" column="ProjectId">ProjectId </th>';
        htmldata += ' <th class="sort td8" column="Amount">Amount </th>';
        htmldata += ' <th column="SpecialCaseReason" width="100px">Special Case <br />Reason</th>';
        htmldata += ' <th column="SpecialCaseMail" class="td8">Special Case Mail</th>';
        htmldata += ' <th class="sort" width="140px" column="ExceptionRemarks">Exception Remarks</th>';
        htmldata += ' <th  width="140px" column="ExceptionRemarks" style="width:75px;">Remarks</th>';
        htmldata += ' <th class="td8">Edit</th></tr>';

        $('#tblReferral').find('thead').html('').html(htmldata);
        //$('#tblReferral').find('thead tr th:nth-child(10)').text('Exception Remarks');
        //$('#tblReferral').find('thead tr th:nth-child(10)').removeClass("sort");
        //$("#disLabel").css("margin-left", "500px");
        //$("#ulRecord li").css("width", "500px");
        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "460px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        getTotalPages();
        $("#NoData").remove();
        if (msg.d.length > 0) {
            $("#refDetails .refPage").css("display", "block");

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off end date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var SplCaseMailUploadId = data.SplCaseMailUploadId;
                var gridMailIdval = "";
                if (SplCaseMailUploadId == 0) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMailUploadId + ' class="mail_btn" fileuploadid=' + data.SplCaseMailUploadId + '/>';
                }
                //ApprovalStatus = 1;
                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_ReferralBonusID + '><td class="td1"><input type="checkbox" class="referralexp" id=' + (i + 1) + ' /></td><td class="ref td8">' + data.ReferrorAssociateID + '</td><td class="td8">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td8">' + data.RefereeBGstatus + '</td><td class="td8">' + data.SetId + '</td><td class="td8">' + data.ProjectId + '</td><td style="text-align:center;" class="td8">' + data.Amount + '</td><td style="text-align:center;" class="td8">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td8">' + gridMailIdval + '</td><td title="' + data.ExceptionRemarks + '" style="text-align:center;" class="td8">' + expremarks + '</td><td title="' + data.Remarks + '" style="text-align:center;" class="td8">' + remarks + '</td><td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_ReferralBonusID + '><td class="td1"><input type="checkbox" class="referralexp" id=' + (i + 1) + ' /></td><td class="ref td8">' + data.ReferrorAssociateID + '</td><td class="td8">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td8">' + data.RefereeBGstatus + '</td><td class="td8">' + data.SetId + '</td><td class="td8">' + data.ProjectId + '</td><td style="text-align:center;" class="td8">' + data.Amount + '</td><td style="text-align:center;" class="td8">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td8">' + gridMailIdval + '</td><td title="' + data.ExceptionRemarks + '" style="text-align:center;" class="td8">' + expremarks + '</td> <td title="' + data.Remarks + '" style="text-align:center;" class="td8">' + remarks + '</td><td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_ReferralBonusID + '><td class="td1"><input type="checkbox" class="referralexp" id=' + (i + 1) + ' disabled="true" /></td><td class="ref td8">' + data.ReferrorAssociateID + '</td><td class="td8">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td8">' + data.RefereeBGstatus + '</td><td class="td8">' + data.SetId + '</td><td class="td8">' + data.ProjectId + '</td><td style="text-align:center;" class="td8">' + data.Amount + '</td><td style="text-align:center;" class="td8">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td8">' + gridMailIdval + '</td><td title="' + data.ExceptionRemarks + '" style="text-align:center;" class="td8">' + expremarks + '</td><td class="td8"><td title="' + data.Remarks + '" style="text-align:center;" class="td8">' + remarks + '</td><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                }

            });
            $('#tblReferral').find('tbody').html('').html(grid_html);
            if ($(".referralexp").length == $(".referralexp:disabled").length) {
                $("#rvalid").attr("disabled", "disabled");
            }
            else {
                $("#rvalid").removeAttr("disabled");
            }

        }
        else {
            $("#tblReferral").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();

        }
    }

    else if (componentGroupId == 2 && (CountryId == 18 || CountryId == 19)) {

        $("#divApprovalmsg1").show();
        $('#a_otherGeo').hide();
        $("#refDetails").show();
        $('#mailattach').hide();
        $('#customize').hide();
        $("#shiftdetails").hide();
        $('#tblReferral').find('tbody').html('');
        $('#tblReferral').css('display', 'block');
        $('#tblReferral_wrapper').css('display', 'block');
        $('.delete_btn').css('margin-left', '15px');
        if (CountryId == 18) {
            $(".delete_btn").css("margin-left", "30px");
        }
        $('#tblReferralHead').css('display', 'block');
        $('#tblReferralHead_wrapper').css('display', 'block');
        $('#Joiningbonus .dataTableScroll').css('display', 'none');
        $('#refDetails .dataTableScroll').css('display', 'block');
        $('#refDetails .scrollbar').css('display', 'block');
        $('#refDetails .viewport').css('display', 'block');
        $('#tblJoining').css('display', 'none');
        $("#disLabel").css("margin-left", "0px");
        var htmldata = '';

        var htmldata = '';
        htmldata += '<tr><th class="td1"><input type="checkbox" id="rvalid" /></th>';
        htmldata += ' <th id="Th5" class="sort td8" column="ReferrorAssociateID">Referrer ID </th>';
        htmldata += ' <th id="Th5" class="sort td8" column="ReferrerName">Referrer Name </th>';
        htmldata += ' <th class="sort td8" column="RefereeAssociateID">Referee ID </th>';
        htmldata += ' <th class="sort td8" column="RefereeName">Referee Name </th>';
        htmldata += ' <th class="sort td8" column="RefereeDOJ">DOJ</th>';
        htmldata += ' <th class="sort td8" column="Amount">Amount </th>';
        htmldata += ' <th class="sort td8" column="Currency">Currency </th>';


        htmldata += ' <th column="SpecialCaseMail" class="td8">Hire Reason</th>';
        htmldata += ' <th column="SpecialCaseMail" class="td8">Job Family</th>';
        htmldata += ' <th column="SpecialCaseMail" class="td8">Department</th>';
        htmldata += ' <th column="SpecialCaseMail" class="td8">Hiring Manager</th>';
        htmldata += ' <th column="SpecialCaseMail" class="td8">Advised Month</th>';
        htmldata += ' <th column="SpecialCaseMail" class="td8">Advised Year</th>';
        htmldata += ' <th column="SpecialCaseMail" class="td8">Comments</th>';
        htmldata += ' <th class="sort td8" column="ExceptionRemarks">ExceptionReason</th>';

        htmldata += ' <th class="td11">Edit</th></tr>';

        $('#tblReferral').find('thead').html('').html(htmldata);



        if (msg.d.length > 0) {
            $("#refDetails .refPage").css("display", "block");


            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var RejectionReason = '';
                var ExceptionRemarks = '';
                if (data.ExceptionRemarks != null) {
                    ExceptionRemarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                }
                var Comments = '';
                if (data.Comments != null) {
                    Comments = (data.Comments.length > 30) ? data.Comments.substring(0, 30) + '...' : data.Comments;
                }
                //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                var gridMailIdval = "";



                grid_html += '<tr class="' + classname + '"pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid td1" id=' + (i + 1) + ' /></td>';
                grid_html += '<td class="ref td8">' + data.ReferrorAssociateID + '</td>';
                grid_html += '<td class="td8">' + data.ReferrerName + '</td>';
                grid_html += '<td class="td8">' + data.RefereeAssociateID + '</td>';
                grid_html += '<td class="td8">' + data.RefereeName + '</td>';
                grid_html += '<td class="td8">' + data.RefereeDOJ + '</td>';
                grid_html += '<td class="td8">' + data.Amount + '</td>';
                grid_html += '<td class="td8">' + data.Currency + '</td>';

                grid_html += '<td class="td8">' + data.HireReason + '</td>';
                grid_html += '<td class="td8">' + data.RefereeGrade + '</td>';
                grid_html += '<td class="td8">' + data.RefereeDepartment + '</td>';
                grid_html += '<td class="td8">' + data.HiringManager + '</td>';
                grid_html += '<td class="td8">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="td8">' + data.Year + '</td>';
                grid_html += '<td title="' + data.Comments + '" style="text-align:center;" class="td8">' + Comments + '</td>';

                grid_html += '<td title="' + data.ExceptionRemarks + '" style="text-align:center;" class="td8">' + ExceptionRemarks + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }

                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += ' <td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr >';

                }
                else {

                    grid_html += '<td class="td11"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr >';

                }

            });


            $('#tblReferral').find('tbody').html('').html(grid_html);
            if ($(".referralvalid").length == $(".referralvalid:disabled").length) {
                $("#rvalid").attr("disabled", "disabled");
            }
            else {
                $("#rvalid").removeAttr("disabled");
            }
        }
        else {
            $("#tblReferral").append("<tr class='even' id='NoData'><td colspan='15' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    //JOINING BONUS
    else if (componentGroupId == 3 && CountryId != 20) {

        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#CBADetails").hide();
        $("#refDetails").hide();
        $("#shiftdetails").hide();
        $('#mailattach').hide();
        $('#customize').hide();
        //$('#disLabel').css('margin-left', '300px');
        getTotalPages();
        //var oTable = $("#tblJoining").dataTable();
        //oTable.fnDestroy();
        $('#tblJoining').find('tbody').html('');
        $("#Joiningbonus").show();
        $('#Joiningbonus .viewport').css('display', 'block');
        $('#Joiningbonus .dataTableScroll').css('display', 'block');
        $('#tblJoining_wrapper').css('display', '');
        $('#tblJoining').css('display', '');
        $('#tblNoticepay').css('display', 'none');
        var htmldata = '';
        htmldata += '<tr><th class="APtd1"><input type="checkbox" id="jvalid" />';
        htmldata += '</th><th class="APtd2 sort" column="AssociateID">Associate ID</th>';
        htmldata += '<th class="APtd3 sort" column="ProjectID" >Project ID</th>';
        htmldata += '<th class="APtd4">Recruitment Type</th>';
        htmldata += '<th class="APtd5">BG status</th>';
        htmldata += '<th class="APtd5 sort" column="Amount" >Amount</th>';
        htmldata += '<th class="APtd6">SpecialCaseReason </th>';
        htmldata += '<th class="APtd7">SpecialCaseMail </th>';
        htmldata += '<th class="APtd8">Status </th>';
        htmldata += '<th class="APtd6">Remarks </th>';
        htmldata += '<th class="APtd9">Edit</th></tr>';
        $('#tblJoining').find('thead').html('').html(htmldata);
        $('#tblJoining').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "20px");
        $("#Joiningbonus .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "670px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                else {
                    remarks = '';
                }
                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var SplCaseMailUploadId = data.SplCaseMailUploadId;
                var gridMailIdval = "";
                if (SplCaseMailUploadId == 0) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMailUploadId + ' class="mail_btn" fileuploadid=' + data.SplCaseMailUploadId + '/>';
                }

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_JoiningBonusID + '><td class="APtd1"><input type="checkbox" class="joiningexp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="APtd2">' + data.AssociateID + '</td><td class="APtd3">' + data.ProjectId + '</td>';
                    grid_html += '<td class="APtd4">' + data.RecruitmentType + '</td><td class="APtd5">' + data.BGstatus + '</td>';
                    grid_html += '<td class="APtd5">' + data.Amount + '</td><td class="APtd6">' + data.SpecialCaseReason + '</td>';
                    grid_html += '<td class="APtd7">' + gridMailIdval + '</td><td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="APtd6" title="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td>';
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_JoiningBonusID + '><td class="APtd1"><input type="checkbox" class="joiningexp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="APtd2">' + data.AssociateID + '</td><td class="APtd3">' + data.ProjectId + '</td>';
                    grid_html += '<td class="APtd4">' + data.RecruitmentType + '</td><td class="APtd5">' + data.BGstatus + '</td>';
                    grid_html += '<td class="APtd5">' + data.Amount + '</td><td class="APtd6">' + data.SpecialCaseReason + '</td>';
                    grid_html += '<td class="APtd7">' + gridMailIdval + '</td><td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="APtd6" title="' + data.Remarks + '">' + remarks + '</td>';
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_JoiningBonusID + '><td class="APtd1"><input type="checkbox" class="joiningexp" id=' + (i + 1) + ' disabled="true" /></td>';
                    grid_html += '<td class="APtd2">' + data.AssociateID + '</td><td class="APtd3">' + data.ProjectId + '</td>';
                    grid_html += '<td class="APtd4">' + data.RecruitmentType + '</td><td class="APtd5">' + data.BGstatus + '</td>';
                    grid_html += '<td class="APtd5">' + data.Amount + '</td><td class="APtd6">' + data.SpecialCaseReason + '</td>';
                    grid_html += '<td class="APtd7">' + gridMailIdval + '</td><td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="APtd6" title="' + data.Remarks + '">' + remarks + '</td>';
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                }
            });
            $("#Joiningbonus").show();
            $('#tblJoining').css('display', 'block');
            $('#Joiningbonus .viewport').css('display', 'block');
            $('#Joiningbonus .viewport').css('overflow', 'scroll');
            $('#Joiningbonus .dataTableScroll').css('display', 'block');
            $('#tblJoining').find('tbody').html('');
            $('#tblJoining_wrapper').css('display', 'block');
            $('#tblJoining').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblJoining").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 15) {
        $("#mailattach").addClass('disabled');

        $("#divApprovalmsg1").show();
        $("#divApprovalmsg1").css("margin-left", "1px");
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        //$("#disLabel").css("margin-left", "320px");
        ////$("#ulRecord li").css("margin-left", "545px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        $("#ulQuarter").hide();
        // $('#mailattach').show();

        $("#shiftdetails").show();
        ////$("#ulRecord li").removeClass("mleft50");

        $('#mailattach').show();
        $('#customize').hide();
        $('#tbl_shift').find('tbody').html('');
        $('#tbl_shift').css('display', 'table');
        $('#tblShiftAllowanceHead').css('display', 'block');
        $('#tbl_shift_wrapper').css('display', 'block');
        //$('.dataTableScroll').css('display', 'block');
        $('#tbl_shift .dataTableScroll').css('display', 'table');
        $('#shiftdetails .viewport').css('overflow', 'scroll');
        //$('.refPage').css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        getTotalPages();
        $("#mailattach").show();
        $("#NoData").remove();
        var d = new Date();
        var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

        //cut off enddate//
        var cutoffdatesplit = cutoffdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
        var cutoff_date = date.getTime();

        //cut off start  date //
        var cutoffstartdatesplit = cutoffStartdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
        var cutoffStart_date = date.getTime();

        var todaysplit = today.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
        var today_date = Date1.getTime();

        var htmldata = '';
        if (CountryId == 2) {
            htmldata += '<tr><th class="std1"><input type="checkbox" id="svalid" /></th>';
            htmldata += ' <th class="sort std2" column="ShiftType">ShiftType </th>';
            htmldata += ' <th class="sort std3" column="AssociateID">AssociateID</th>';
            htmldata += ' <th class="std5" column="StartDate">StartDate</th>';
            htmldata += ' <th class="std8" column="EndDate">EndDate</th>';
            htmldata += ' <th class="std6" column="StartTime">StartTime</th>';
            htmldata += ' <th class="std7" column="EndTime">EndTime</th>';
            htmldata += ' <th class="std10" column="ExceptionReason">Exception <br/> Reason</th></tr>';
        }
        else {
            htmldata += '<tr><th class="std1"><input type="checkbox" id="svalid" /></th>';
            htmldata += ' <th class="sort std11" column="ShiftType">ShiftType </th>';
            htmldata += ' <th class="sort std11" column="AssociateID">AssociateID</th>';
            htmldata += ' <th class="std11" column="StartDate">StartDate</th>';
            htmldata += ' <th class="std11" column="EndDate">EndDate</th>';
            htmldata += ' <th class="std11" column="StartTime">StartTime</th>';
            htmldata += ' <th class="std11" column="EndTime">EndTime</th>';
            htmldata += ' <th class="std11" column="ExceptionReason">Exception <br/> Reason</th></tr>';
        }

        $('#tbl_shift').find('thead').html('').html(htmldata);
        $('#tbl_shift thead tr th:nth-child(8').text('Exception Remarks');

        if (msg.d.length > 0) {
            $("#svalid").removeAttr("disabled");
            $("#shiftdetails .refPage").css("display", "block");
            $('.btnlist').show();

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                //var TravelAllowance = (data.TravelAllowance == "true") ? '<input type="checkbox" class="travelallow" disabled="disabled" checked="checked"/>' : '<input type="checkbox" class="travelallow" disabled="disabled" />';
                var shift = (data.ShiftType.length > 10) ? data.ShiftType.substring(0, 10) + '..' : data.ShiftType;
                if (data.ExceptionRemarks != null) {
                    ExceptionReason = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                }
                //if (cutoff_date == NaN) {
                //    grid_html += '<tr class="' + classname + '" pk_id=' + data.PrimaryKey + '><td class="std1"><input type="checkbox" class="shiftvalid" id=' + (i + 1) + ' /></td>';
                //    grid_html += '<td class="ref std2">' + data.AssociateID + '</td>';
                //    grid_html += '<td style="text-align:center;" class="std4" ShiftTypeID="' + data.ShiftTypeID + '" ShiftTypeName="' + data.ShiftTypeName + '">' + shift + '</td>';
                //    grid_html += '<td style="text-align:center;" class="std5" StartDate="' + data.StartDate + '" ProjectValidFrom="' + data.ProjectValidFrom + '" ProjectValidTo="' + data.ProjectValidTo + '">' + data.StartDate + '</td>';
                //    grid_html += '<td style="text-align:center;" class="std8" EndDate="' + data.EndDate + '" ProjectValidFrom="' + data.ProjectValidFrom + '" ProjectValidTo="' + data.ProjectValidTo + '">' + data.EndDate + '</td>';
                //    grid_html += '<td style="text-align:center;" class="std6"><span class="clsActualTime">' + data.StartTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.StartTime + '" size="10"  /></p></td>';
                //    grid_html += '<td style="text-align:center;" class="std7"><span class="clsActualTime">' + data.EndTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.EndTime + '" size="10"  /></p></td>';
                //    grid_html += '<td style="text-align:center;" class="std11">' + data.Remarks + '</td>';
                //    grid_html += '<td style="text-align:center;" class="std10" expremarks="' + data.ExceptionReason + '">' + ExceptionReason + '</td></tr>';

                //}
                if (CountryId == 2) {
                    if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="std1 ' + classname + '" pk_id=' + data.PrimaryKey + '><td class="std1"><input type="checkbox" class="shiftvalid" id=' + (i + 1) + '/></td>';
                        grid_html += '<td>' + data.ShiftType + '</td>';
                        grid_html += '<td>' + data.AssociateID + '</td>';
                        grid_html += '<td>' + data.StartDate + '</td>';
                        grid_html += '<td>' + data.EndDate + '</td>';
                        grid_html += '<td>' + data.StartTime + '</td>';
                        grid_html += '<td>' + data.EndTime + '</td>';
                        grid_html += '<td class="" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + ExceptionReason + '</td>';
                    }
                    else {
                        grid_html += '<tr class="std1 ' + classname + '" pk_id=' + data.PrimaryKey + '><td class="std1"><input type="checkbox" class="shiftvalid" id=' + (i + 1) + ' disabled="disabled" /></td>';
                        grid_html += '<td>' + data.ShiftType + '</td>';
                        grid_html += '<td>' + data.AssociateID + '</td>';
                        grid_html += '<td>' + data.StartDate + '</td>';
                        grid_html += '<td>' + data.EndDate + '</td>';
                        grid_html += '<td>' + data.StartTime + '</td>';
                        grid_html += '<td>' + data.EndTime + '</td>';
                        grid_html += '<td class="" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + ExceptionReason + '</td>';

                    }
                }
                else {
                    if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="std1 ' + classname + '" pk_id=' + data.PrimaryKey + '><td class="std1"><input type="checkbox" class="shiftvalid" id=' + (i + 1) + '/></td>';
                        grid_html += '<td class="std11">' + data.ShiftType + '</td>';
                        grid_html += '<td class="std11">' + data.AssociateID + '</td>';
                        grid_html += '<td class="std11">' + data.StartDate + '</td>';
                        grid_html += '<td class="std11">' + data.EndDate + '</td>';
                        grid_html += '<td class="std11">' + data.StartTime + '</td>';
                        grid_html += '<td class="std11">' + data.EndTime + '</td>';
                        grid_html += '<td class="std11" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + ExceptionReason + '</td>';
                    }
                    else {
                        grid_html += '<tr class="std1 ' + classname + '" pk_id=' + data.PrimaryKey + '><td class="std1"><input type="checkbox" class="shiftvalid" id=' + (i + 1) + ' disabled="disabled" /></td>';
                        grid_html += '<td class="std11">' + data.ShiftType + '</td>';
                        grid_html += '<td class="std11">' + data.AssociateID + '</td>';
                        grid_html += '<td class="std11">' + data.StartDate + '</td>';
                        grid_html += '<td class="std11">' + data.EndDate + '</td>';
                        grid_html += '<td class="std11">' + data.StartTime + '</td>';
                        grid_html += '<td class="std11">' + data.EndTime + '</td>';
                        grid_html += '<td class="std11" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + ExceptionReason + '</td>';

                    }
                }
            });
            $('#tbl_shift').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_shift").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('.btnlist').hide();
            $("#shiftrefPage").css("display", "none");
            $("#svalid").attr("disabled", true);
        }
    }

    else if (componentGroupId == 16) {
        $("#mailattach").addClass('disabled');

        $("#divApprovalmsg1").show();
        $("#divApprovalmsg1").css("margin-left", "1px");
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        //$("#disLabel").css("margin-left", "320px");
        ////$("#ulRecord li").css("margin-left", "545px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        $("#ulQuarter").hide();
        // $('#mailattach').show();
        $("#shiftdetails").show();
        ////$("#ulRecord li").removeClass("mleft50");
        $('#mailattach').show();
        $('#customize').hide();
        $('#tbl_shift').find('tbody').html('');
        $('#tbl_shift').css('display', 'table');
        $('#tblShiftAllowanceHead').css('display', 'block');
        $('#tbl_shift_wrapper').css('display', 'block');
        //$('.dataTableScroll').css('display', 'block');
        $('#tbl_shift .dataTableScroll').css('display', 'table');
        $('#shiftdetails .viewport').css('overflow', 'scroll');
        //$('.refPage').css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        $("#mailattach").show();
        getTotalPages();
        $("#NoData").remove();
        var d = new Date();
        var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

        //cut off enddate//
        var cutoffdatesplit = cutoffdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
        var cutoff_date = date.getTime();

        //cut off start  date //
        var cutoffstartdatesplit = cutoffStartdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
        var cutoffStart_date = date.getTime();

        var todaysplit = today.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
        var today_date = Date1.getTime();

        var htmldata = '';
        if (CountryId == 2) {
            htmldata += '<tr><th class="Nstd1"><input type="checkbox" id="svalid" /></th>';
            htmldata += ' <th class="sort Nstd2" column="AssociateID">AssociateID</th>';
            htmldata += ' <th class="Nstd3" column="StartDate">StartDate</th>';
            htmldata += ' <th class="Nstd4" column="EndDate">EndDate</th>';
            htmldata += ' <th class="Nstd5" column="StartTime">StartTime</th>';
            htmldata += ' <th class="Nstd6" column="EndTime">EndTime</th>';
            htmldata += ' <th class="Nstd7" column="ExceptionReason">Exception Reason</th></tr>';
        }
        else {
            htmldata += '<tr><th class="Nstd1"><input type="checkbox" id="svalid" /></th>';
            htmldata += ' <th class="sort NSAEtd9" column="AssociateID">AssociateID</th>';
            htmldata += ' <th class="NSAEtd9" column="StartDate">StartDate</th>';
            htmldata += ' <th class="NSAEtd9" column="EndDate">EndDate</th>';
            htmldata += ' <th class="NSAEtd9" column="StartTime">StartTime</th>';
            htmldata += ' <th class="NSAEtd9" column="EndTime">EndTime</th>';
            htmldata += ' <th class="NSAEtd9" column="ExceptionReason">Exception Reason</th></tr>';
        }

        $('#tbl_shift').find('thead').html('').html(htmldata);
        $('#tbl_shift thead tr th:nth-child(7').text('Exception Remarks');

        if (msg.d.length > 0) {
            $("#svalid").removeAttr("disabled");
            $("#shiftrefPage").css("display", "block");
            $('.btnlist').show();

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';

                var shift = (data.ShiftType.length > 10) ? data.ShiftType.substring(0, 10) + '..' : data.ShiftType;
                if (data.ExceptionRemarks != null) {
                    ExceptionReason = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                }

                if (CountryId == 2) {
                    if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PrimaryKey + '><td class="Nstd1"><input type="checkbox" class="shiftvalid" id=' + (i + 1) + '/></td>';
                        //grid_html += '<td>' + data.ShiftType + '</td>';
                        grid_html += '<td class="Nstd2">' + data.AssociateID + '</td>';
                        grid_html += '<td class="Nstd3">' + data.StartDate + '</td>';
                        grid_html += '<td class="Nstd4">' + data.EndDate + '</td>';
                        grid_html += '<td class="Nstd5">' + data.StartTime + '</td>';
                        grid_html += '<td class="Nstd6">' + data.EndTime + '</td>';
                        grid_html += '<td class="Nstd7" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + ExceptionReason + '</td>';
                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PrimaryKey + '><td class="Nstd1"><input type="checkbox" class="shiftvalid" id=' + (i + 1) + ' disabled="disabled" /></td>';
                        // grid_html += '<td>' + data.ShiftType + '</td>';
                        grid_html += '<td class="Nstd2">' + data.AssociateID + '</td>';
                        grid_html += '<td class="Nstd3">' + data.StartDate + '</td>';
                        grid_html += '<td class="Nstd4">' + data.EndDate + '</td>';
                        grid_html += '<td class="Nstd5">' + data.StartTime + '</td>';
                        grid_html += '<td class="Nstd6">' + data.EndTime + '</td>';
                        grid_html += '<td class="Nstd7" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + ExceptionReason + '</td>';

                    }
                }
                else {
                    if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PrimaryKey + '><td class="Nstd1"><input type="checkbox" class="shiftvalid" id=' + (i + 1) + '/></td>';
                        //grid_html += '<td>' + data.ShiftType + '</td>';
                        grid_html += '<td class="NSAEtd9">' + data.AssociateID + '</td>';
                        grid_html += '<td class="NSAEtd9">' + data.StartDate + '</td>';
                        grid_html += '<td class="NSAEtd9">' + data.EndDate + '</td>';
                        grid_html += '<td class="NSAEtd9">' + data.StartTime + '</td>';
                        grid_html += '<td class="NSAEtd9">' + data.EndTime + '</td>';
                        grid_html += '<td class="NSAEtd9" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + ExceptionReason + '</td>';
                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PrimaryKey + '><td class="Nstd1"><input type="checkbox" class="shiftvalid" id=' + (i + 1) + ' disabled="disabled" /></td>';
                        // grid_html += '<td>' + data.ShiftType + '</td>';
                        grid_html += '<td class="NSAEtd9">' + data.AssociateID + '</td>';
                        grid_html += '<td class="NSAEtd9">' + data.StartDate + '</td>';
                        grid_html += '<td class="NSAEtd9">' + data.EndDate + '</td>';
                        grid_html += '<td class="NSAEtd9">' + data.StartTime + '</td>';
                        grid_html += '<td class="NSAEtd9">' + data.EndTime + '</td>';
                        grid_html += '<td class="NSAEtd9" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + ExceptionReason + '</td>';

                    }
                }
            });
            $('#tbl_shift').find('tbody').html('').html(grid_html);
            $(".shiftvalid").removeAttr("disabled");
        }
        else {
            $("#tbl_shift").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('.btnlist').hide();
            $("#shiftrefPage").css("display", "none");
            $("#svalid").attr("disabled", true);
        }
        if (CountryId == 5 || CountryId == 6) {
            $("#mailattach").hide();
        }
    }

    else if (componentGroupId == 17) {
        $("#mailattach").addClass('disabled');

        $("#divApprovalmsg1").show();
        $("#divApprovalmsg1").css("margin-left", "1px");
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        //$("#disLabel").css("margin-left", "320px");
        ////$("#ulRecord li").css("margin-left", "540px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        $("#ulQuarter").hide();
        // $('#mailattach').show();
        ////$("#ulRecord li").removeClass("mleft50");

        $('#mailattach').show();
        $('#customize').hide();
        $("#SARdetails").show();
        $('#tbl_sar').css('display', 'block');
        $('#tbl_sar').find('tbody').html('');
        $('#tbl_sar').css('display', 'block');
        $('#SARdetails .viewport').css('display', 'block');
        $('#SARdetails .viewport').css('overflow', 'scroll');
        $('#SARdetails .dataTableScroll').css('display', 'block');
        //$('.dataTableScroll').css('display', 'block');
        $('#mailattach').css("left", "282px");
        //$('.refPage').css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        $('.delete_btn').css('margin-left', '15px');
        getTotalPages();
        $("#NoData").remove();

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        $("#aid2").attr("maxlength", "10");
        $("#aid2").numeric();
        var d = new Date();
        var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

        //cut off enddate//
        var cutoffdatesplit = cutoffdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
        var cutoff_date = date.getTime();

        //cut off start  date //
        var cutoffstartdatesplit = cutoffStartdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
        var cutoffStart_date = date.getTime();

        var todaysplit = today.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
        var today_date = Date1.getTime();

        var htmldata = '';
        htmldata += '<tr><th class="SARtd1"><input type="checkbox" id="sarvalid" /></th>';
        htmldata += ' <th class="sort NSAtd4" column="AssociateID">AssociateID</th>';
        if (CountryId == 8) {
            htmldata += ' <th class="sort NSAtd4" column="GuestHouse">GuestHouse</th>';
        }
        htmldata += ' <th class="sort NSAtd4" column="AssociateID">OccupancyType</th>';
        htmldata += ' <th class="sort NSAtd4" column="AssociateID">Projectid</th>';
        htmldata += ' <th class="NSAtd4" column="StartDate">StartDate</th>';
        htmldata += ' <th class="NSAtd4" column="EndDate">EndDate</th>';


        htmldata += ' <th class="NSAtd4" column="ExceptionReason">Exception Reason</th>';
        htmldata += ' <th class="SARtd5" column="Edit">Edit</th></tr>';

        $('#tbl_sar').find('thead').html('').html(htmldata);
        ////$('#tbl_sar thead tr th:nth-child(7').text('Exception Reason');

        if (msg.d.length > 0) {
            $("#SARdetails .refPage").css("display", "block");
            //$('.btnlist').show();

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                //var TravelAllowance = (data.TravelAllowance == "true") ? '<input type="checkbox" class="travelallow" disabled="disabled" checked="checked"/>' : '<input type="checkbox" class="travelallow" disabled="disabled" />';

                if (data.ExceptionRemarks != null) {
                    ExceptionReason = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                }

                if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPServiceApartmentRecoveryID + '><td class="SARtd1"><input type="checkbox" class="sarexceptioncheck" id=' + (i + 1) + '/></td>';
                    //grid_html += '<td>' + data.ShiftType + '</td>';
                    grid_html += '<td class="NSAtd4">' + data.AssociateID + '</td>';
                    if (CountryId == 8) {
                        grid_html += '<td class="NSAtd4">' + data.Guesthouse + '</td>';
                    }
                    grid_html += '<td class="NSAtd4">' + data.OccupancyType + '</td>';
                    grid_html += '<td class="NSAtd4">' + data.ProjectID + '</td>';
                    grid_html += '<td class="NSAtd4">' + data.StartDate + '</td>';
                    grid_html += '<td class="NSAtd4">' + data.EndDate + '</td>';

                    grid_html += '<td class="NSAtd4" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + ExceptionReason + '</td>';
                    grid_html += '<td class="SARtd5"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPServiceApartmentRecoveryID + '><td class="SARtd1"><input type="checkbox" class="sarexceptioncheck" id=' + (i + 1) + ' disabled="disabled" /></td>';
                    // grid_html += '<td>' + data.ShiftType + '</td>';
                    grid_html += '<td class="NSAtd4">' + data.AssociateID + '</td>';
                    if (CountryId == 8) {
                        grid_html += '<td class="NSAtd4">' + data.Guesthouse + '</td>';
                    }
                    grid_html += '<td class="NSAtd4">' + data.OccupancyType + '</td>';
                    grid_html += '<td class="NSAtd4">' + data.ProjectID + '</td>';
                    grid_html += '<td class="NSAtd4">' + data.StartDate + '</td>';
                    grid_html += '<td class="NSAtd4">' + data.EndDate + '</td>';
                    grid_html += '<td class="NSAtd4" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + ExceptionReason + '</td>';
                    grid_html += '<td class="SARtd5"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                }
            });
            $('#SARdetails .viewport').css('display', 'block');
            $('#tbl_sar').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_sar").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('.btnlist').hide();

        }
    }

    else if (componentGroupId == 19 && CountryId == 2) {
        $("#mailattach").addClass('disabled');

        $("#divApprovalmsg1").show();
        $("#divApprovalmsg1").css("margin-left", "1px");
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        //$("#disLabel").css("margin-left", "180px");
        ////$("#ulRecord li").css("margin-left", "540px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        $("#ulQuarter").hide();
        // $('#mailattach').show();
        $('#AdditionalPayoutdetails').show();
        ////$("#ulRecord li").removeClass("mleft50");
        $('#mailattach').show();
        $("#mailattach").css("left", "274px");
        $('#customize').hide();
        $('#tblAdditionalPayout').css('display', 'block');
        $('#AdditionalPayoutdetails').find('tbody').html('');
        $('#AdditionalPayoutdetails').css('display', 'block');
        $('#AdditionalPayoutdetails_wrapper').css('display', 'block');
        $('#AdditionalPayoutdetails .dataTableScroll').css('display', 'block');
        $('#AdditionalPayoutdetails .viewport').css('overflow', 'scroll');
        $('.refPage').css('display', 'block');
        $("#SDDetails .refPage").css("display", "none");
        //$("#disLabel").css("margin-left", "300px");
        $('.delete_btn').css('margin-left', '15px');
        $('#ulMonth').css('margin-bottom', '0px');
        getTotalPages();
        $("#NoData").remove();
        var d = new Date();
        var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

        //cut off enddate//
        var cutoffdatesplit = cutoffdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
        var cutoff_date = date.getTime();

        //cut off start  date //
        var cutoffstartdatesplit = cutoffStartdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
        var cutoffStart_date = date.getTime();

        var todaysplit = today.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
        var today_date = Date1.getTime();

        var htmldata = '';
        htmldata += '<tr><th class="APtd1"><input type="checkbox" id="apvalid" /></th>';
        htmldata += ' <th class="sort APtd13" column="AssociateID">AssociateID</th>';
        htmldata += ' <th class="APtd13" column="PayoutType">PayoutType</th>';
        htmldata += ' <th class="sort APtd13" column="ProjectID">ProjectID</th>';
        htmldata += ' <th class="APtd13" column="CurrencyCode">CurrencyCode</th>';
        htmldata += ' <th class="APtd13" column="SplCaseReason">SplCaseReason</th>';
        htmldata += ' <th class="APtd13" column="ExceptionRemarks">ExceptionRemarks</th>';
        htmldata += ' <th class="APtd9">Edit</th></tr>';

        $('#AdditionalPayoutdetails').find('thead').html('').html(htmldata);
        $('#AdditionalPayoutdetails thead tr th:nth-child(7').text('ExceptionRemarks');

        if (msg.d.length > 0) {
            $("#AdditionalPayoutdetails .refPage").css("display", "block");
            //$('.btnlist').show();

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                var splcaseRsn = "";
                var expremarks = '';
                if (data.SpecialCaseReason != null) {
                    splcaseRsn = (data.SpecialCaseReason.length > 10) ? data.SpecialCaseReason.substring(0, 10) + '..' : data.SpecialCaseReason;
                }
                var payout_type = (data.PayoutType.length > 15) ? data.PayoutType.substring(0, 15) + '...' : data.PayoutType;
                //var splcaseRsn = (data.SpecialCaseReason.length > 10) ? data.SpecialCaseReason.substring(0, 10) + '..' : data.SpecialCaseReason;
                if (data.ExceptionRemarks != null) {
                    expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                }

                if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PrimaryKey + '><td class="APtd1"><input type="checkbox" class="APvalid" id=' + (i + 1) + '/></td>';
                    grid_html += '<td class="APtd13">' + data.AssociateID + '</td>';
                    grid_html += '<td class="APtd13" style="text-align:center;" title="' + data.PayoutType + '">' + payout_type + '</td>';
                    grid_html += '<td class="APtd13">' + data.ProjectID + '</td>';
                    grid_html += '<td class="APtd13">' + data.CurrencyCode + '</td>';
                    grid_html += '<td class="APtd13" style="text-align:center;" title="' + data.SpecialCaseReason + '">' + splcaseRsn + '</td>';
                    grid_html += '<td class="APtd13" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PrimaryKey + '><td class="APtd1"><input type="checkbox" class="APvalid" id=' + (i + 1) + ' disabled="disabled" /></td>';
                    grid_html += '<td class="APtd13">' + data.AssociateID + '</td>';
                    grid_html += '<td class="APtd13 style="text-align:center;" title="' + data.PayoutType + '"">' + payout_type + '</td>';
                    grid_html += '<td class="APtd13">' + data.ProjectID + '</td>';
                    grid_html += '<td class="APtd13">' + data.CurrencyCode + '</td>';
                    grid_html += '<td class="APtd13" style="text-align:center;" title="' + data.SpecialCaseReason + '">' + splcaseRsn + '</td>';
                    grid_html += '<td class="APtd13" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                }
            });
            $('#AdditionalPayoutdetails').find('tbody').html('').html(grid_html);
        }
        else {
            $("#AdditionalPayoutGridValues").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('.btnlist').hide();
        }
    }

    else if (componentGroupId == 19 && CountryId != 2) {
        $("#mailattach").addClass('disabled');

        $("#divApprovalmsg1").show();
        $("#divApprovalmsg1").css("margin-left", "1px");
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $("#disLabel").css("margin-left", "180px");
        ////$("#ulRecord li").css("margin-left", "540px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        $("#ulQuarter").hide();
        $('#AdditionalPayoutdetails').show();
        ////$("#ulRecord li").removeClass("mleft50");
        $('#mailattach').hide();
        $('#customize').hide();
        $('#AdditionalPayoutdetails').find('tbody').html('');
        $('#AdditionalPayoutdetails').css('display', 'block');
        $('#AdditionalPayoutdetails_wrapper').css('display', 'block');
        $('#AdditionalPayoutdetails .dataTableScroll').css('display', 'block');
        $('#tblAdditionalPayout').css('display', 'block');
        $('#AdditionalPayoutdetails .viewport').css('overflow', 'scroll');
        $('.refPage').css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        $('.delete_btn').css('margin-left', '15px');
        getTotalPages();
        $("#NoData").remove();
        var d = new Date();
        var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

        //cut off enddate//
        var cutoffdatesplit = cutoffdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
        var cutoff_date = date.getTime();

        //cut off start  date //
        var cutoffstartdatesplit = cutoffStartdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
        var cutoffStart_date = date.getTime();

        var todaysplit = today.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
        var today_date = Date1.getTime();

        var htmldata = '';
        htmldata += '<tr><th class="APtd1"><input type="checkbox" id="apvalid" /></th>';
        htmldata += ' <th class="sort APtd10" column="AssociateID">AssociateID</th>';
        htmldata += ' <th class="APtd10" column="PayoutType">PayoutType</th>';
        htmldata += ' <th class="sort APtd10" column="ProjectID">ProjectID</th>';
        htmldata += ' <th class="APtd11" column="CurrencyCode">CurrencyCode</th>';
        htmldata += ' <th class="APtd6" column="SplCaseReason">SplCaseReason</th>';
        htmldata += ' <th class="APtd6" column="ExceptionRemarks">ExceptionRemarks</th>';
        htmldata += ' <th class="APtd11" column="Amount">Amount</th>';
        htmldata += ' <th class="APtd10">Installments</th>';
        htmldata += ' <th class="APtd11">Payroll Month</th>';
        htmldata += ' <th class="APtd11">Year</th>';
        htmldata += ' <th class="APtd9">Edit</th></tr>';

        $('#AdditionalPayoutdetails').find('thead').html('').html(htmldata);
        $('#AdditionalPayoutdetails thead tr th:nth-child(7').text('ExceptionRemarks');

        if (msg.d.length > 0) {
            $("#AdditionalPayoutdetails .refPage").css("display", "block");
            //$('.btnlist').show();

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                var splcaseRsn = "";
                var expremarks = '';
                if (data.SpecialCaseReason != null) {
                    splcaseRsn = (data.SpecialCaseReason.length > 10) ? data.SpecialCaseReason.substring(0, 10) + '..' : data.SpecialCaseReason;
                }
                var payout_type = (data.PayoutType.length > 15) ? data.PayoutType.substring(0, 15) + '...' : data.PayoutType;
                //var splcaseRsn = (data.SpecialCaseReason.length > 10) ? data.SpecialCaseReason.substring(0, 10) + '..' : data.SpecialCaseReason;
                if (data.ExceptionRemarks != null) {
                    expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                }

                if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PrimaryKey + '><td class="APtd1"><input type="checkbox" class="APvalid" id=' + (i + 1) + '/></td>';
                }
                else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PrimaryKey + '><td class="APtd1"><input type="checkbox" class="APvalid" id=' + (i + 1) + ' disabled="disabled" /></td>';
                }
                grid_html += '<td class="APtd10">' + data.AssociateID + '</td>';
                grid_html += '<td class="APtd10" style="text-align:center;" title="' + data.PayoutType + '">' + payout_type + '</td>';
                grid_html += '<td class="APtd10">' + data.ProjectID + '</td>';
                grid_html += '<td class="APtd10">' + data.CurrencyCode + '</td>';
                grid_html += '<td class="APtd7" style="text-align:center;" title="' + data.SpecialCaseReason + '">' + splcaseRsn + '</td>';
                grid_html += '<td class="APtd7" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                grid_html += '<td class="APtd10">' + data.Amount + '</td>';
                grid_html += '<td class="APtd10">' + data.Installments + '</td>';
                grid_html += '<td class="APtd10">' + data.PayrollMonth + '</td>';
                grid_html += '<td class="APtd10">' + data.PayrollYear + '</td>';
                if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
            });
            $('#AdditionalPayoutdetails').find('tbody').html('').html(grid_html);
        }
        else {
            $("#AdditionalPayoutGridValues").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('.btnlist').hide();
        }
    }

    else if (componentGroupId == 20 && CountryId == 2) {
        $("#mailattach").addClass('disabled');

        $("#divApprovalmsg1").show();
        $("#divApprovalmsg1").css("margin-left", "1px");
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        //$("#disLabel").css("margin-left", "180px");

        ////$("#ulRecord li").css("margin-left", "665px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        $("#ulQuarter").hide();
        // $('#mailattach').show();
        $('#additionaldeductions').show();
        ////$("#ulRecord li").removeClass("mleft50");
        $('#mailattach').show();
        $("#mailattach").css("left", "152px");
        $('#customize').hide();
        getTotalPages();
        //var oTable = $("#tblJoining").dataTable();
        //oTable.fnDestroy();
        $('#tbldeduction').find('tbody').html('');
        $('#additionaldeductions .dataTableScroll').css('display', 'block');
        $('#tbldeduction_wrapper').css('display', '');
        $('#tbldeduction').css('display', '');
        $('#tbldeduction .viewport').css('overflow', 'scroll');
        $('.delete_btn').css('margin-left', '15px');
        var htmldata = '';
        htmldata += '<tr>  <th width="30px"><input type="checkbox" id="advalid" />';
        htmldata += '</th>  <th class="sort" column="AssociateID" width="110px" id="Th1">Associate ID </th>';
        htmldata += '  <th class="sort" column="DeductionType" width="120px" id="Th3">Deduction Type</th>';
        htmldata += '  <th class="sort" column="ProjectID" width="105px" id="Th3">Project ID</th>';
        htmldata += '  <th class="sort" column="CurrencyCode" width="105px" id="Th3">Currency Code</th>';
        htmldata += '  <th class="sort" column="Amount" width="80px">Amount </th>';
        htmldata += ' <th width="91px">Approval Mail </th>';
        htmldata += '<th width="110px" class="sort" column="ExceptionRemarks">ExceptionRemarks</th>';
        htmldata += '<th width="40px">Edit </th>  </tr>';
        $('#tbldeduction').find('thead').html('').html(htmldata);

        $('#tbldeduction').find('thead tr th:nth-child(9)').attr('width', '100px');
        $('#tbldeduction').find('thead tr th:nth-child(11)').attr('width', '5px');
        $('#tbldeduction').find('thead tr th:nth-child(12)').attr('width', '5px');
        $('#tbldeduction').find('thead tr th:nth-child(1)').attr('width', '10px');
        $('#tbldeduction').find('thead tr th:nth-child(5)').attr('width', '120px');
        $('#tbldeduction').find('thead tr th:nth-child(2)').attr('width', '125px');
        $('#tbldeduction').find('thead tr th:nth-child(6)').attr('width', '80px');
        $('#tbldeduction').find('thead tr th:nth-child(8)').attr('width', '110px');
        $('#tbldeduction').find('thead tr th:nth-child(3)').attr('width', '120px');
        $("#additionaldeductions .refPage").css("display", "block");

        ////$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "433px");
        ////$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 15) ? data.Remarks.substring(0, 15) + '...' : data.Remarks;
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();
                var expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                var deduction_type = (data.DeductionType.length > 15) ? data.DeductionType.substring(0, 15) + '...' : data.DeductionType;
                var SplCaseMailUploadId = data.FileUploadId;
                var gridMailIdval = "";
                if (SplCaseMailUploadId == 0) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileUploadId + ' class="mail_btn" fileuploadid=' + data.FileUploadId + '/>';
                }

                if (cutoff_date == NaN) {
                    grid_html += '<tr pk_id=' + data.PK_SGPAdditionalDeductionID + '><td><input type="checkbox" class="adexp" id=' + (i + 1) + ' /></td><td>' + data.AssociateID + '</td><td title="' + data.DeductionType + '" style="text-align:center;">' + deduction_type + '</td><td>' + data.ProjectID + '</td><td style="text-align:center;">' + data.CurrencyCode + '</td><td style="text-align:center;">' + data.Amount + '</td><td title="' + data.FileUploadId + '" style="text-align:center;">' + gridMailIdval + '</td><td title="' + data.ExceptionRemarks + '" style="text-align:center;">' + expremarks + '</td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr pk_id=' + data.PK_SGPAdditionalDeductionID + '><td><input type="checkbox" class="adexp" id=' + (i + 1) + ' /></td><td>' + data.AssociateID + '</td><td title="' + data.DeductionType + '" style="text-align:center;">' + deduction_type + '</td><td>' + data.ProjectID + '</td><td style="text-align:center;">' + data.CurrencyCode + '</td><td style="text-align:center;">' + data.Amount + '</td><td title="' + data.FileUploadId + '" style="text-align:center;">' + gridMailIdval + '</td><td title="' + data.ExceptionRemarks + '" style="text-align:center;">' + expremarks + '</td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<tr pk_id=' + data.PK_SGPAdditionalDeductionID + '><td><input type="checkbox" class="adexp" id=' + (i + 1) + ' disabled="true" /></td><td>' + data.AssociateID + '</td><td title="' + data.DeductionType + '" style="text-align:center;">' + deduction_type + '</td><td>' + data.ProjectID + '</td><td style="text-align:center;">' + data.CurrencyCode + '</td><td style="text-align:center;">' + data.Amount + '</td><td title="' + data.FileUploadId + '" style="text-align:center;">' + gridMailIdval + '</td><td title="' + data.ExceptionRemarks + '" style="text-align:center;">' + expremarks + '</td><td><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                }
            });

            $('#tbldeduction').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbldeduction").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();

        }
    }

    else if (componentGroupId == 20 && CountryId != 2) {
        $("#mailattach").addClass('disabled');

        $("#divApprovalmsg1").show();
        $("#divApprovalmsg1").css("margin-left", "1px");
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $("#disLabel").css("margin-left", "180px");
        //$("#ulRecord li").css("margin-left", "540px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#ulQuarter").hide();
        $('#mailattach').show();
        $('#additionaldeductions').show();
        //$("#ulRecord li").removeClass("mleft50");
        $('#customize').hide();
        $('#additionaldeductions').find('tbody').html('');
        $('#additionaldeductions').css('display', 'block');
        $('#additionaldeductions_wrapper').css('display', 'block');
        $('#tbldeduction').css('display', 'block');
        $('#additionaldeductions .dataTableScroll').css('display', 'block');
        $('.refPage').css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        $('.delete_btn').css('margin-left', '15px');
        getTotalPages();
        $("#NoData").remove();
        var d = new Date();
        var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

        //cut off enddate//
        var cutoffdatesplit = cutoffdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
        var cutoff_date = date.getTime();

        //cut off start  date //
        var cutoffstartdatesplit = cutoffStartdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
        var cutoffStart_date = date.getTime();

        var todaysplit = today.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
        var today_date = Date1.getTime();

        var htmldata = '';
        htmldata += '<tr><th class="APtd1"><input type="checkbox" id="apvalid" /></th>';
        htmldata += ' <th class="sort APtd10" column="AssociateID">AssociateID</th>';
        htmldata += ' <th class="APtd10" column="PayoutType">DeductionType</th>';
        htmldata += ' <th class="sort APtd10" column="ProjectID">ProjectID</th>';
        htmldata += ' <th class="APtd11" column="CurrencyCode">CurrencyCode</th>';
        htmldata += ' <th class="APtd6" column="SplCaseReason">SplCaseReason</th>';
        htmldata += ' <th class="APtd6" column="ExceptionRemarks">ExceptionRemarks</th>';
        htmldata += ' <th class="APtd11" column="Amount">Amount</th>';
        //htmldata += ' <th class="APtd10">Installments</th>';
        htmldata += ' <th class="APtd11">Payroll Month</th>';
        htmldata += ' <th class="APtd11">Year</th>';
        htmldata += ' <th class="APtd9">Edit</th></tr>';

        $('#additionaldeductions').find('thead').html('').html(htmldata);
        $('#additionaldeductions thead tr th:nth-child(7').text('ExceptionRemarks');

        if (msg.d.length > 0) {
            $("#additionaldeductions .refPage").css("display", "block");
            //$('.btnlist').show();

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                var splcaseRsn = "";
                var expremarks = '';
                if (data.SpecialCaseReason != null) {
                    splcaseRsn = (data.SpecialCaseReason.length > 10) ? data.SpecialCaseReason.substring(0, 10) + '..' : data.SpecialCaseReason;
                }
                var payout_type = (data.DeductionType.length > 15) ? data.DeductionType.substring(0, 15) + '...' : data.DeductionType;
                //var splcaseRsn = (data.SpecialCaseReason.length > 10) ? data.SpecialCaseReason.substring(0, 10) + '..' : data.SpecialCaseReason;
                if (data.ExceptionRemarks != null) {
                    expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                }

                if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PrimaryKey + '><td class="APtd1"><input type="checkbox" class="APvalid" id=' + (i + 1) + '/></td>';
                }
                else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PrimaryKey + '><td class="APtd1"><input type="checkbox" class="APvalid" id=' + (i + 1) + ' disabled="disabled" /></td>';
                }
                grid_html += '<td class="APtd10">' + data.AssociateID + '</td>';
                grid_html += '<td class="APtd10" style="text-align:center;" title="' + data.PayoutType + '">' + payout_type + '</td>';
                grid_html += '<td class="APtd10">' + data.ProjectID + '</td>';
                grid_html += '<td class="APtd10">' + data.CurrencyCode + '</td>';
                grid_html += '<td class="APtd7" style="text-align:center;" title="' + data.SpecialCaseReason + '">' + splcaseRsn + '</td>';
                grid_html += '<td class="APtd7" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                grid_html += '<td class="APtd10">' + data.Amount + '</td>';
                //grid_html += '<td class="APtd10">' + data.Installments + '</td>';
                grid_html += '<td class="APtd10">' + data.PayrollMonth + '</td>';
                grid_html += '<td class="APtd10">' + data.PayrollYear + '</td>';
                if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
            });
            $('#additionaldeductions').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbldeduction").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('.btnlist').hide();
        }
    }

    else if (componentGroupId == 25 && CountryId == 6) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").hide();

        $('#divMaternityAllowance').show();
        $('#tbl_maternity').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('display', 'block');
        $('#divMaternityAllowance .dataTableScroll').css('display', 'block');
        $('#divMaternityAllowance .refPage').css('display', 'block');
        $('#divMaternityAllowance').find('tbody').html('');
        $('#divMaternityAllowance_wrapper').css('display', 'block');

        $("#aid1").attr("maxlength", "11");
        //$('.refPage').css('display', 'block');
        //$("#disLabel").css("margin-left", "675px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("width", "");
        //$("#ulRecord li").addClass("mleft50");
        //$("#ulRecord li").css("margin-left", "250px");
        //$("#ulRecord li").css("margin-top", "-32px");
        $("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "20px");
        $(".delete_btn").show();
        $('#aid1').css("margin-left", "17px");
        $('.error_msg_reject').css('left', '355px');
        getTotalPages();

        $("#NoData").remove();


        var htmldata = '';
        htmldata += '<tr><th class="APtd1"><input type="checkbox" id="apvalid" /></th>';
        htmldata += ' <th class="sort MAtd2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="sort MAtd2" column="AssociateID">Grade</th>';
        htmldata += ' <th class="sort MAtd2" column="AssociateID">MaritalStatus </th>';
        htmldata += ' <th class="MAtd3" column="PayoutType">Type</th>';
        htmldata += ' <th class="sort MAtd4" column="PayrollMonth">Payroll Month</th>';
        htmldata += ' <th class="MAtd5" column="PayrollYear">Year </th>';
        htmldata += ' <th class="MAtd5" column="Amount">Amount</th>';
        htmldata += ' <th class="MAtd5" column="ExceptionReason">ExceptionReason</th>';

        htmldata += ' <th class="MAtd9">Edit</th></tr>';

        $('#divMaternityAllowance').find('thead').html('').html(htmldata);

        var htmldata = '';
        if (msg.d.length > 0) {
            $("#divMaternityAllowance .refPage").css("display", "block");
            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';


            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var status = '';
                if (data.Status != null) {
                    status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                }


                if (cutoff_date == NaN) {
                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                    htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';
                    htmldata += '<td class="MAtd5">' + data.Grade + '</td>';

                    htmldata += '<td class="MAtd5">' + data.MaritalStatus + '</td>';

                    htmldata += '<td class="MAtd3">' + data.Type + '</td>';
                    htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                    htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                    htmldata += '<td class="MAtd5">' + data.Amount + '</td>';
                    htmldata += '<td class="MAtd5">' + data.ExceptionReason + '</td>';
                    htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                }

                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {

                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + '/></td>';
                    htmldata += '<td class="APtd2">' + data.AssociateID + '</td>';
                    htmldata += '<td class="APtd5">' + data.Grade + '</td>';

                    htmldata += '<td class="APtd5">' + data.MaritalStatus + '</td>';
                    htmldata += '<td class="APtd3">' + data.Type + '</td>';
                    htmldata += '<td class="APtd4">' + data.PayrollMonth + '</td>';
                    htmldata += '<td class="APtd5">' + data.PayrollYear + '</td>';
                    htmldata += '<td class="APtd5">' + data.Amount + '</td>';
                    htmldata += '<td class="APtd5">' + data.ExceptionReason + '</td>';
                    htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                            htmldata += '<td class="APtd2">' + data.AssociateID + '</td>';
                            htmldata += '<td class="APtd5">' + data.Grade + '</td>';

                            htmldata += '<td class="APtd5">' + data.MaritalStatus + '</td>';
                            htmldata += '<td class="APtd3">' + data.Type + '</td>';
                            htmldata += '<td class="APtd4">' + data.PayrollMonth + '</td>';
                            htmldata += '<td class="APtd5">' + data.PayrollYear + '</td>';
                            htmldata += '<td class="APtd5">' + data.Amount + '</td>';
                            htmldata += '<td class="APtd5">' + data.ExceptionReason + '</td>';
                            htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                    }
                    else {
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' /></td>';
                        htmldata += '<td class="APtd2">' + data.AssociateID + '</td>';
                        htmldata += '<td class="APtd5">' + data.Grade + '</td>';

                        htmldata += '<td class="APtd5">' + data.MaritalStatus + '</td>';
                        htmldata += '<td class="APtd3">' + data.Type + '</td>';
                        htmldata += '<td class="APtd4">' + data.PayrollMonth + '</td>';
                        htmldata += '<td class="APtd5">' + data.PayrollYear + '</td>';
                        htmldata += '<td class="APtd5">' + data.Amount + '</td>';
                        htmldata += '<td class="APtd5">' + data.ExceptionReason + '</td>';
                        htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                    }
                }

            });


            $('#tbl_maternity').find('tbody').html('').html(htmldata);
            if ($(".APvalid").length == $(".APvalid:disabled").length) {
                $("#apvalid").attr("disabled", "disabled");
            }
            else {
                $("#apvalid").removeAttr("disabled");
            }

        }
        else {
            $("#tbl_maternity").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 25 && CountryId == 7) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").hide();

        $('#divMaternityAllowance').show();
        $('#tbl_maternity').css('display', 'show');
        $('#divMaternityAllowance .dataTableScroll').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('overflow', 'scroll');
        $('#divMaternityAllowance .refPage').css('display', 'block');
        $('#divMaternityAllowance').find('tbody').html('');
        $('#divMaternityAllowance_wrapper').css('display', 'block');

        //$('.refPage').css('display', 'block');
        $("#disLabel").css("margin-left", "675px");
        $("#customize").css("left", "280px");
        $("#ulRecord li").css("width", "");
        $("#ulRecord li").addClass("mleft50");
        //$("#ulRecord li").css("margin-left", "250px");
        //$("#ulRecord li").css("margin-top", "-32px");
        $("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "20px");
        $(".delete_btn").show();
        $('#aid1').css("margin-left", "17px");
        $('.error_msg_reject').css('left', '355px');
        $("#aid1").attr("maxlength", "11");
        getTotalPages();

        $("#NoData").remove();

        var htmldata = '';
        htmldata += '<tr><th class="APtd1"><input type="checkbox" id="apvalid" /></th>';
        htmldata += ' <th class="sort MAtd2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="MAtd3" column="NoOfML">NoOfML</th>';
        htmldata += ' <th class="sort MAtd4" column="PayrollMonth">PayrollMonth</th>';
        htmldata += ' <th class="MAtd5" column="Year">Year</th>';
        htmldata += ' <th class="MAtd5" column="Amount">Amount</th>';
        htmldata += ' <th class="MAtd6" column="ExceptionReason">ExceptionReason</th>';

        htmldata += ' <th class="MAtd10">Edit</th></tr>';

        $('#tbl_maternity').find('thead').html('').html(htmldata);
        $('#tbl_maternity').css('display', 'block');
        var htmldata = '';
        if (msg.d.length > 0) {
            $("#divMaternityAllowance .refPage").css("display", "block");
            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var status = '';

                //if (data.Status != null) {
                //    status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                //}
                //// var splcaseRsn = (data.SpecialCaseReason.length > 10) ? data.SpecialCaseReason.substring(0, 10) + '..' : data.SpecialCaseReason;

                if (cutoff_date == NaN) {
                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '"><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                    htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';

                    htmldata += '<td class="MAtd3">' + data.TotalMaternityLeave + '</td>';
                    htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                    htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                    htmldata += '<td class="MAtd5">' + data.Amount + '</td>';
                    htmldata += '<td class="MAtd5">' + data.ExceptionReason + '</td>';
                    htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                }

                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {

                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '"><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + '/></td>';
                    htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';

                    htmldata += '<td class="MAtd3">' + data.TotalMaternityLeave + '</td>';
                    htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                    htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                    htmldata += '<td class="MAtd5">' + data.Amount + '</td>';
                    htmldata += '<td class="MAtd5">' + data.ExceptionReason + '</td>';
                    htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '"><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                            htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';

                            htmldata += '<td class="MAtd3">' + data.TotalMaternityLeave + '</td>';
                            htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                            htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                            htmldata += '<td class="MAtd5">' + data.Amount + '</td>';
                            htmldata += '<td class="MAtd5">' + data.ExceptionReason + '</td>';
                            htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                    }
                    else {
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '"><td class="APtd1"><input type="checkbox"  class="APvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                        htmldata += '<td class="MAtd2">' + data.AssociateID + '</td>';
                        htmldata += '<td class="MAtd3">' + data.TotalMaternityLeave + '</td>';
                        htmldata += '<td class="MAtd4">' + data.PayrollMonth + '</td>';
                        htmldata += '<td class="MAtd5">' + data.PayrollYear + '</td>';
                        htmldata += '<td class="MAtd5">' + data.Amount + '</td>';
                        htmldata += '<td class="MAtd5">' + data.ExceptionReason + '</td>';
                        htmldata += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                    }
                }

            });

            $('#tbl_maternity').css('display', 'block');
            $('#tbl_maternity').find('tbody').html('').html(htmldata);
            if ($(".APvalid").length == $(".APvalid:disabled").length) {
                $("#apvalid").attr("disabled", "disabled");
            }
            else {
                $("#apvalid").removeAttr("disabled");
            }

        }
        else {
            $("#tbl_maternity").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 41) {
        $("#mailattach").addClass('disabled');

        $("#divApprovalmsg1").show();
        $("#divApprovalmsg1").css("margin-left", "1px");
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        //$("#disLabel").css("margin-left", "320px");
        //$("#ulRecord li").css("margin-left", "545px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#ulQuarter").hide();
        //$("#ulRecord li").removeClass("mleft50");
        $('#mailattach').show();
        $('#customize').hide();

        $("#shiftdetails").show();
        $('#shiftdetails .dataTableScroll').css('display', 'block');
        $('#tbl_shift').css('display', 'table');
        $('#shiftdetails .viewport').css('overflow', 'scroll');
        $('#shiftdetails .viewport').css('display', 'block');
        $('#tbl_shift').find('tbody').html('');
        $('#tbl_shift').css('display', 'table');
        $('#tblShiftAllowanceHead').css('display', 'block');
        $('#tbl_shift_wrapper').css('display', 'block');
        $('#tbl_shift .dataTableScroll').css('display', 'table');

        //$("#disLabel").css("margin-left", "300px");
        getTotalPages();
        $("#NoData").remove();
        var d = new Date();
        var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

        //cut off enddate//
        var cutoffdatesplit = cutoffdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
        var cutoff_date = date.getTime();

        //cut off start  date //
        var cutoffstartdatesplit = cutoffStartdate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
        var cutoffStart_date = date.getTime();

        var todaysplit = today.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
        var today_date = Date1.getTime();

        var htmldata = '';
        htmldata += '<tr><th class="Nstd1"><input type="checkbox" id="svalid" /></th>';
        htmldata += ' <th class="sort Nstd2" column="AssociateID">AssociateID</th>';
        htmldata += ' <th class="Nstd3" column="StartDate">StartDate</th>';
        htmldata += ' <th class="Nstd4" column="EndDate">EndDate</th>';
        htmldata += ' <th class="Nstd5" column="StartTime">StartTime</th>';
        htmldata += ' <th class="Nstd6" column="EndTime">EndTime</th>';
        //htmldata += ' <th class="Nstd6" column="Amount">Amount</th>';
        htmldata += ' <th class="Nstd7" column="ExceptionReason">Exception Reason</th></tr>';

        $('#tbl_shift').find('thead').html('').html(htmldata);
        $('#tbl_shift thead tr th:nth-child(8').text('Exception Remarks');

        if (msg.d.length > 0) {
            $("#shiftrefPage").css("display", "block");
            $('.btnlist').show();

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';

                var shift = (data.ShiftType.length > 10) ? data.ShiftType.substring(0, 10) + '..' : data.ShiftType;
                if (data.ExceptionRemarks != null) {
                    ExceptionReason = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                }

                if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PrimaryKey + '><td class="Nstd1"><input type="checkbox" class="shiftvalid" id=' + (i + 1) + '/></td>';
                }
                else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PrimaryKey + '><td class="Nstd1"><input type="checkbox" class="shiftvalid" id=' + (i + 1) + ' disabled="disabled" /></td>';
                }
                //grid_html += '<td>' + data.ShiftType + '</td>';
                grid_html += '<td class="Nstd2">' + data.AssociateID + '</td>';
                grid_html += '<td class="Nstd3">' + data.StartDate + '</td>';
                grid_html += '<td class="Nstd4">' + data.EndDate + '</td>';
                grid_html += '<td class="Nstd5">' + data.StartTime + '</td>';
                grid_html += '<td class="Nstd6">' + data.EndTime + '</td>';
                //grid_html += '<td class="Nstd6">' + data.Amount + '</td>';
                grid_html += '<td class="Nstd7" style="text-align:center;" title="' + data.ExceptionRemarks + '">' + ExceptionReason + '</td>';

            });
            $('#tbl_shift').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_shift").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('.btnlist').hide();
            $("#shiftrefPage").css("display", "none");
        }
    }

    else if (componentGroupId == 42 || componentGroupId == 26 || componentGroupId == 27) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $('#mailattach').hide();
        $("#customize").hide();

        $('#divHighTemp').show();
        $('#divHighTemp .dataTableScroll').css('display', 'block');
        $('#tbl_Hightemp').css('display', 'block');
        $('#divHighTemp .viewport').css('display', 'block');
        $('#divHighTemp .viewport').css('overflow', 'scroll');

        $('#tbl_Hightemp').find('tbody').html('');
        $('#tbl_Hightemp').css('display', 'block');
        $('#divHighTemp .refPage').css('display', 'block');
        $('#divHighTemp_wrapper').css('display', 'block');

        //$('.refPage').css('display', 'block');
        $("#disLabel").css("margin-left", "600px");
        $("#ulRecord li").css("width", "");
        $("#ulRecord li").addClass("mleft50");
        //$("#ulRecord li").css("margin-left", "250px");
        //$("#ulRecord li").css("margin-top", "-32px");
        $("#ulRecord li").css("left", "30px");
        //$('.new_btn').css("margin-left", "20px");
        $(".delete_btn").show();
        $('#aid1').css("margin-left", "17px");
        $('.error_msg_reject').css('left', '355px');
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();

        getTotalPages();

        $("#NoData").remove();

        var htmldata = '';
        htmldata += '<tr><th class="APtd1"><input type="checkbox" id="highvalid" /></th>';
        htmldata += ' <th class="sort hightbl" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="sort hightbl" column="PayrollMonth">Payroll Month</th>';
        htmldata += ' <th class="hightbl" column="Year">Year </th>';
        htmldata += ' <th class="hightbl" column="Amount">Amount</th>';
        htmldata += ' <th class="hightbl">Exception Reason</th>';
        htmldata += '</tr>';

        $('#divHighTemp').find('thead').html('').html(htmldata);

        var htmldata = '';
        if (msg.d.length > 0) {
            $("#divHighTemp .refPage").css("display", "block");
            var d = new Date();
            var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

            // End date//
            var cutoffdatesplit = cutoffdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
            var cutoff_date = date.getTime();

            //cut off start  date //
            var cutoffstartdatesplit = cutoffStartdate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
            var cutoffStart_date = date.getTime();

            var todaysplit = today.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
            var today_date = Date1.getTime();
            var classname = '';

            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var status = '';
                if (data.Status != null) {
                    status = (data.Status.length > 15) ? data.Status.substring(0, 15) + '...' : data.Status;
                }

                if (cutoff_date == NaN) {
                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="Highvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {

                    htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="Highvalid" id=' + (i + 1) + '/></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="Highvalid" id=' + (i + 1) + '/></td>';
                        }
                    }
                    else {
                        htmldata += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="APtd1"><input type="checkbox"  class="Highvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                    }
                }
                htmldata += '<td class="hightbl">' + data.AssociateID + '</td>';
                htmldata += '<td class="hightbl">' + data.PayrollMonth + '</td>';
                htmldata += '<td class="hightbl">' + data.PayrollYear + '</td>';
                htmldata += '<td class="hightbl">' + data.Amount + '</td>';
                htmldata += '<td class="hightbl">' + data.ExceptionReason + '</td>';
                //if (cutoff_date == NaN) {

            });


            $('#divHighTemp').find('tbody').html('').html(htmldata);
            if ($(".Highvalid").length == $(".Highvalid:disabled").length) {
                $("#highvalid").attr("disabled", "disabled");
            }
            else {
                $("#highvalid").removeAttr("disabled");
            }

        }
        else {
            $("#tbl_Hightemp").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $("#highvalid").attr("Disabled", "Disabled");
        }
    }

    else if (componentGroupId == 18 && CountryId == 2) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#divApprovalmsg1").css("margin-left", "1px");
        $("#ulRecord").css('display', 'block');
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#ulQuarter").hide();
        $('#mailattach').show();
        $("#mailattach").css("left", "90px");
        $('#customize').hide();
        $('#disLabel').css('margin-left', '180px');
        //$("#ulRecord li").removeClass("mleft50");

        $('#tblSchoolfee').find('tbody').html('');
        $("#SchoolFee").css('display', 'block');
        $('#tblSchoolfee').css('display', 'block');
        $('#SchoolFee .dataTableScroll').css('display', 'none');
        $('#SchoolFee .viewport').css('display', 'block');
        $('#SchoolFee .dataTableScroll').css('display', 'block');
        $('#SchoolFee .viewport').css('display', 'block');
        $('#SchoolFee .viewport').css('overflow', 'scroll');

        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $('.delete_btn').css('margin-left', '15px');
        getTotalPages();
        var htmldata = '';
        htmldata += '<tr><th width="30px"><input type="checkbox" id="jvalid" />';
        htmldata += '</th><th class="sort" column="AssociateID" width="160px" id="Th1">Associate ID </th>';
        htmldata += '<th width="160px" id="Th4">Payroll Month </th>';
        htmldata += '<th class="sort" column="TotalAmount" width="160px">Total Amount </th>';
        htmldata += '<th width="280px">Exception Reason  </th>';
        htmldata += '<th width="60px">Edit </th></tr>';
        $('#tblSchoolfee').find('thead').html('').html(htmldata);

        $("#SchoolFee .refPage").css("display", "block");
        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }

                var SplCaseMailUploadId = data.SpecialCaseMail;
                var gridMailIdval = "";
                if (SplCaseMailUploadId == 0) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SpecialCaseMail + ' class="mail_btn" fileuploadid=' + data.SpecialCaseMail + '/>';
                }

                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + '><td><input type="checkbox" class="joiningexp" id=' + (i + 1) + ' /></td><td class="sort sf5">' + data.AssociateID + '</td><td class="sf5">' + data.PayrollMonth + '</td><td style="text-align:center;" class="sort sf5">' + data.TotalAmount + '</td><td class="Approvedtd4 sf5">' + gridMailIdval + '</td><td title="' + data.ExceptionRemarks + '" style="text-align:center;" class="sf5">' + expremarks + '</td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + '><td><input type="checkbox" class="joiningexp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="sf5">' + data.AssociateID + '</td>';
                    grid_html += '<td class=" sf5">' + data.PayrollMonth + '</td>';
                    grid_html += '<td class="sf5" style="text-align:center;">' + data.TotalAmount + '</td>';
                    grid_html += '<td class=" sf5" title="' + data.ExceptionRemarks + '" style="text-align:center;">' + expremarks + '</td>';
                    grid_html += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + '><td><input type="checkbox" class="joiningexp" id=' + (i + 1) + ' disabled="true" /></td>';
                    grid_html += '<td class="sf5">' + data.AssociateID + '</td>';
                    grid_html += '<td class=" sf5">' + data.PayrollMonth + '</td>';
                    grid_html += '<td class="sf5" style="text-align:center;">' + data.TotalAmount + '</td>';
                    grid_html += '<td class=" sf5" title="' + data.ExceptionRemarks + '" style="text-align:center;">' + expremarks + '</td>';
                    grid_html += '<td><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                }
            });

            $('#tblSchoolfee').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSchoolfee").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if ((componentGroupId == 18 || componentGroupId == 23 || componentGroupId == 24)
        && (CountryId != 2 && CountryId != 14 && CountryId != 15 && CountryId != 16 && CountryId != 17)) {
        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#divApprovalmsg1").css("margin-left", "1px");
        $("#ulRecord").css('display', 'block');
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#ulQuarter").hide();

        $('#APACSchoolFee').show();

        $('#tblSchoolfeeAPAC').css('display', 'block');
        $("#APACSchoolFee").css('display', 'block');
        $('#tblSchoolfeeAPAC').css('display', 'block');
        $('#tblSchoolfeeAPAC .viewport').css('display', 'block');
        $('#APACSchoolFee .dataTableScroll').css('display', 'block');
        $('#APACSchoolFee .viewport').css('display', 'block');

        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        //$("#ulRecord li").removeClass("mleft50");

        $('#tblSchoolfeeAPAC').find('tbody').html('');

        $('#APACSchoolFee .viewport').css('overflow', 'scroll');
        //$("#ulRecord li").css("margin-left", "680px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $('.delete_btn').css('margin-left', '15px');
        getTotalPages();

        var htmldata = '';
        htmldata += '<tr><th width="30px"><input type="checkbox" id="Asfvalid" />';
        htmldata += '</th><th class="sort pkgtbl" column="AssociateID" id="Th1">AssociateID </th>';
        htmldata += '<th class="sort pkgtbl" column="PayrollMonth" id="Th4">PayrollMonth </th>';
        htmldata += '<th class="pkgtbl" column="Year">Year </th>';
        if (componentGroupId == 18) {
            htmldata += '<th class="pkgtbl">Amount for Child1</th>';
            htmldata += '<th class="pkgtbl">Amount for Child2</th>';
        }
        htmldata += '<th class="pkgtbl" column="Amount">Amount</th>';
        htmldata += '<th class="pkgtbl" column="ExceptionReason" >Exception Reason</th>';
        htmldata += '<th style="width:60px;">Edit </th></tr>';
        $('#tblSchoolfeeAPAC').find('thead').html('').html(htmldata);

        $("#APACSchoolFee .refPage").css("display", "block");
        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }

                var SplCaseMailUploadId = data.SpecialCaseMail;
                var gridMailIdval = "";
                if (SplCaseMailUploadId == 0) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SpecialCaseMail + ' class="mail_btn" fileuploadid=' + data.SpecialCaseMail + '/>';
                }

                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + '><td><input type="checkbox" class="APACsfexp" id=' + (i + 1) + ' /></td><td>' + data.AssociateID + '</td><td>' + data.PayrollMonth + '</td><td style="text-align:center;">' + data.TotalAmount + '</td><td class="Approvedtd4">' + gridMailIdval + '</td><td title="' + data.ExceptionRemarks + '" style="text-align:center;">' + expremarks + '</td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + '><td><input type="checkbox" class="APACsfexp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="pkgtbl">' + data.AssociateID + '</td>';
                    grid_html += '<td class="pkgtbl">' + data.PayrollMonth + '</td>';
                    grid_html += '<td class="pkgtbl">' + data.Year + '</td>';
                    if (componentGroupId == 18) {
                        grid_html += '<td class="pkgtbl" style="text-align:center;" Amount1="' + data.Amount1 + '">' + data.Amount1 + '</td>';
                        grid_html += '<td class="pkgtbl" style="text-align:center;" Amount2="' + data.Amount2 + '">' + data.Amount2 + '</td>';
                    }
                    grid_html += '<td class="pkgtbl" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                    grid_html += '<td class="pkgtbl" title="' + data.ExceptionRemarks + '" style="text-align:center;">' + expremarks + '</td>';
                    grid_html += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_SGPSchoolFeesID + '><td><input type="checkbox" class="APACsfexp" id=' + (i + 1) + ' disabled="true" /></td>';
                    grid_html += '<td class="pkgtbl">' + data.AssociateID + '</td>';
                    grid_html += '<td class="pkgtbl">' + data.PayrollMonth + '</td>';
                    grid_html += '<td class="pkgtbl">' + data.Year + '</td>';
                    if (componentGroupId == 18) {
                        grid_html += '<td class="pkgtbl" style="text-align:center;" Amount1="' + data.Amount1 + '">' + data.Amount1 + '</td>';
                        grid_html += '<td class="pkgtbl" style="text-align:center;" Amount2="' + data.Amount2 + '">' + data.Amount2 + '</td>';
                    }
                    grid_html += '<td class="pkgtbl" style="text-align:center;" Amount="' + data.TotalAmount + '">' + data.TotalAmount + '</td>';
                    grid_html += '<td class="pkgtbl" title="' + data.ExceptionRemarks + '" style="text-align:center;">' + expremarks + '</td>';
                    grid_html += '<td><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
            });

            $('#tblSchoolfeeAPAC').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSchoolfeeAPAC").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 28) { // incity allowance
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#CBADetails").hide();

        $('#InCityOnsiteAllowance').show();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();
        //var oTable = $("#tblJoining").dataTable();
        //oTable.fnDestroy();
        $("#ulRecord").css('display', 'block');

        $('#tbl_InCityOnsiteAllowance').css('display', 'block');
        $("#InCityOnsiteAllowance").css('display', 'block');
        $('#tbl_InCityOnsiteAllowance').css('display', 'block');
        $('#tbl_InCityOnsiteAllowance .viewport').css('display', 'block');
        $('#InCityOnsiteAllowance .dataTableScroll').css('display', 'block');
        $('#InCityOnsiteAllowance .viewport').css('display', 'block');

        $('#tbl_InCityOnsiteAllowance').find('tbody').html('');

        var htmldata = '';
        htmldata += '<tr><th class="sbtbl1ex"><input type="checkbox" id="sbvalid" />';
        htmldata += '</th><th class="sbtbl2ex sort" column="AssociateID">Associate ID</th>';
        htmldata += '<th class="sbtbl3ex" column="ProjectID">ProjectID </th>';
        htmldata += '<th class="sbtbl4ex">StartDate </th>';
        htmldata += '<th class="sbtbl5ex">EndDate </th>';
        htmldata += '<th class="sbtbl6ex">ClientAddress</th>';
        htmldata += '<th class="sbtbl6ex sort">OfficeLocation</th>';
        htmldata += '<th class="sbtbl6ex sort">No Of Days</th>';
        htmldata += '<th class="sbtbl7ex sort" column="Amount" >Amount</th>';
        htmldata += '<th class="sbtbl8ex">Exception Reason </th>';
        htmldata += '<th class="sbtbl9ex">Edit</th></tr>';

        $('#tbl_InCityOnsiteAllowance').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "20px");
        $("#InCityOnsiteAllowance .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                else {
                    remarks = '';
                }
                var expremarks = (data.ExceptionRemarks.length > 15) ? data.ExceptionRemarks.substring(0, 15) + '...' : data.ExceptionRemarks;
                var clientaddress = (data.ClientAddress.length > 15) ? data.ClientAddress.substring(0, 15) + '...' : data.ClientAddress;

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_IncityOnsiteAllowance + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_IncityOnsiteAllowance + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' /></td>';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_IncityOnsiteAllowance + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' disabled="disabled" /></td>';
                }

                grid_html += '<td class="APtd2">' + data.AssociateID + '</td>';
                grid_html += '<td class="APtd3">' + data.ProjectID + '</td>';
                grid_html += '<td class="APtd4">' + data.StartDate + '</td>';
                grid_html += '<td class="APtd5">' + data.EndDate + '</td>';
                grid_html += '<td class="APtd5" title="' + data.ClientAddress + '">' + clientaddress + '</td>';
                grid_html += '<td class="APtd5">' + data.OfficeLocation + '</td>';
                grid_html += '<td class="APtd5">' + data.NumberOfDays + '</td>';
                grid_html += '<td class="APtd5">' + data.Amount + '</td>';
                grid_html += '<td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
            });

            $('#tbl_InCityOnsiteAllowance').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_InCityOnsiteAllowance").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if ((componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 57) && CountryId != 20) { // sign on bonus
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#SignOnBonus').show();
        $('#mailattach').hide();
        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();
        //var oTable = $("#tblJoining").dataTable();
        //oTable.fnDestroy();
        $("#ulRecord").css('display', 'block');
        //$('#tblSignonBonus').find('tbody').html('');
        //$('#SignOnBonus .dataTableScroll').css('display', 'block');
        //$('#SignOnBonus .overview_scroll').css('display', 'block');
        //$('#tblSignonBonus').css('display', 'block');
        //$('#tblSignonBonus .viewport').css('display', 'block');

        $('#SDDetails').hide();
        $('#SignOnBonus').show();
        $('#SignOnBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .viewport').css('display', 'block');
        $('#SignOnBonus .viewport').css('overflow', 'scroll');
        $('#tblSignonBonus').css('display', 'block');
        $('#tblSignonBonus .viewport').css('display', 'block');
        $('#tblSignonBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .refPage').css('display', 'block');
        $('#SignOnBonus').find('tbody').html('');
        $('#SignOnBonus_wrapper').css('display', 'block');

        var htmldata = '';
        htmldata += '<tr><th class="sbtbl1ex"><input type="checkbox" id="sbvalid" />';
        htmldata += '</th><th class="sbrbtbl sort" column="AssociateID">Associate ID</th>';
        if (CountryId != 3) {
            htmldata += '<th class="sbrbtbl">AssociateName </th>';
        }
        htmldata += '<th class="sbrbtbl">DateOfJoining </th>';
        htmldata += '<th class="sbrbtbl">AdvisedMonth </th>';
        htmldata += '<th class="sbrbtbl">year </th>';
        htmldata += '<th class="sbrbtbl sort" column="PayoutType">PayoutType</th>';
        htmldata += '<th class="sbrbtbl sort" column="Amount" >Amount</th>';
        if ((componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 57) && (CountryId == 18 || CountryId == 19)) {
            if (componentGroupId == 49 || componentGroupId == 57) {
                htmldata += '<th class="jbtblcustom">Retention Period End date </th>';
                htmldata += '<th class="jbtblcustom">Project ID</th>';
            }
            htmldata += '<th class="jbtblcustom">Currency</th>';
            htmldata += '<th class="jbtblcustom">Comments</th>';
        }

        htmldata += '<th class="sbrbtbl">Exception Reason </th>';
        htmldata += '<th class="sbrbtbl">Edit</th></tr>';

        $('#tblSignonBonus').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "20px");
        if (CountryId == 18 || CountryId == 19) {
            $(".delete_btn").css("margin-left", "175px");
        }
        $("#SignOnBonus .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                else {
                    remarks = '';
                }
                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_SignOnBonusID + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_SignOnBonusID + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' /></td>';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_SignOnBonusID + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + '  disabled="disabled" /></td>';
                }

                grid_html += '<td class="sbrbtbl">' + data.AssociateID + '</td>';
                if (CountryId != 3) {
                    grid_html += '<td class="sbrbtbl">' + data.AssociateName + '</td>';
                }
                grid_html += '<td class="sbrbtbl">' + data.DateOfJoining + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.Year + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.PayoutType + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.Amount + '</td>';
                if ((componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 57) && (CountryId == 18 || CountryId == 19)) {
                    if (componentGroupId == 49 || componentGroupId == 57) {
                        grid_html += '<td class="sbrbtbl" style="text-align:center;">' + data.RetentionEndDate + '</td>';
                        grid_html += '<td class="sbrbtbl" style="text-align:center;">' + data.ProjectId + '</td>';
                    }
                    grid_html += '<td class="sbrbtbl" style="text-align:center;">' + data.Currency + '</td>';
                    grid_html += '<td class="sbrbtbl" style="text-align:center;">' + data.Comments + '</td>';
                }


                grid_html += '<td class="sbrbtbl" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
            });

            $('#tblSignonBonus').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSignonBonus").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 59) {
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#SignOnBonus').show();
        $('#mailattach').hide();
        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();

        $("#ulRecord").css('display', 'block');

        $('#SignOnBonus').show();
        $('#SignOnBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .viewport').css('display', 'block');
        $('#SignOnBonus .viewport').css('overflow', 'scroll');
        $('#tblSignonBonus').css('display', 'block');
        $('#tblSignonBonus .viewport').css('display', 'block');
        $('#tblSignonBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .refPage').css('display', 'block');
        $('#SignOnBonus').find('tbody').html('');
        $('#SignOnBonus_wrapper').css('display', 'block');

        var htmldata = '';
        htmldata += '<tr><th class="sbtbl1ex"><input type="checkbox" id="sbvalid" />';
        htmldata += '</th><th class="sbrbtbl sort" column="AssociateID">Associate ID</th>';
        htmldata += '<th class="sbrbtbl">Country Where </br>Bonus Accrued </th>';
        htmldata += '<th class="sbrbtbl">Hire Type </th>';
        htmldata += '<th class="sbrbtbl">PayoutType</th>';
        htmldata += '<th class="sbrbtbl">Currency </th>';
        htmldata += '<th class="sbrbtbl">Bonus Type</th>';
        htmldata += '<th class="sbrbtbl">PerformancePay</th>';
        htmldata += '<th class="sbrbtbl">Target Bonus</th>';
        htmldata += '<th class="sbrbtbl">Calculated Plan</th>';
        htmldata += '<th class="sbrbtbl">Total </br>Payment</th>';
        htmldata += '<th class="sbrbtbl">UK Bonus</br>Sacrifice</th>';
        htmldata += '<th class="sbrbtbl">Active Country</th>';
        htmldata += '<th class="sbrbtbl">Paygroup Type</th>';
        htmldata += '<th class="sbrbtbl">Comments </th>';
        htmldata += '<th class="sbrbtbl">Exception Reason </th>';
        htmldata += '<th class="sbrbtbl">Edit</th></tr>';

        $('#tblSignonBonus').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "175px");
        $("#SignOnBonus .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_YearEndBonusID + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_YearEndBonusID + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' /></td>';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_YearEndBonusID + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + '  disabled="disabled" /></td>';
                }

                grid_html += '<td class="sbrbtbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.CountryBonus + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.HireType + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.PayoutType + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.Currency + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.BonusType + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.PerformancePay + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.TargetBonus + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.CalculatedPlan + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.TotalPayment + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.UKBonusSacrifice + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.ActiveCountry + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.PaygroupType + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.Comments + '</td>';
                grid_html += '<td class="sbrbtbl" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
            });

            $('#tblSignonBonus').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSignonBonus").append("<tr class='even' id='NoData'><td colspan='18' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 38) { // car damage and Traffic Fine
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#mailattach').hide();
        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();
        $('#CarDamageTrafficFine').css('display', 'block');
        //var oTable = $("#tblJoining").dataTable();
        //oTable.fnDestroy();
        $("#CarDamageTrafficFine").show();
        $('#tblCarDamageTrafficFine').find('tbody').html('');
        $('#CarDamageTrafficFine .dataTableScroll').css('display', 'block');
        $('#CarDamageTrafficFine .viewport').css('display', 'block');
        $('#CarDamageTrafficFine .viewport').css('overflow', 'scroll');
        $('#tblCarDamageTrafficFine').css('overflow', 'scroll');
        $('#tblCarDamageTrafficFine .viewport').css('display', 'block');
        $('#tblCarDamageTrafficFine').css('display', 'block');
        var htmldata = '';
        htmldata += '<tr><th class="sbtbl1ex"><input type="checkbox" id="ctexp" />';
        htmldata += '</th><th class="sbtbl2ex sort" column="AssociateID">Associate ID</th>';
        htmldata += '<th class="sbtbl3ex">Component </th>';
        htmldata += '<th class="sbtbl4ex">AdvisedMonth </th>';
        htmldata += '<th class="sbtbl5ex">year </th>';
        htmldata += '<th class="sbtbl6ex sort" column="PayoutType">PayoutType</th>';
        htmldata += '<th class="sbtbl7ex sort" column="Amount" >Amount</th>';
        htmldata += '<th class="sbtbl8ex">Exception Reason </th>';
        htmldata += '<th class="sbtbl9ex">Edit</th></tr>';

        $('#tblCarDamageTrafficFine').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "20px");
        $("#CarDamageTrafficFine .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        $("#aid3").attr("maxlength", "11");
        $("#aid3").numeric();

        if (msg.d.length > 0) {
            $('#ctexp').removeAttr("disabled");
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                else {
                    remarks = '';
                }
                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_SignOnBonusID + '><td class="sbtbl1ex"><input type="checkbox" class="carexp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="sbtbl2ex">' + data.AssociateID + '</td>';
                    grid_html += '<td class="sbtbl3ex">' + data.Component + '</td>';
                    grid_html += '<td class="sbtbl4ex">' + data.AdvisedMonth + '</td>';
                    grid_html += '<td class="sbtbl5ex">' + data.Year + '</td>';
                    grid_html += '<td class="sbtbl6ex">' + data.PayoutType + '</td>';
                    grid_html += '<td class="sbtbl7ex">' + data.Amount + '</td>';
                    grid_html += '<td class="sbtbl8ex" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="sbtbl9ex"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_SignOnBonusID + '><td class="sbtbl1ex"><input type="checkbox" class="carexp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="sbtbl2ex">' + data.AssociateID + '</td>';
                    grid_html += '<td class="sbtbl3ex">' + data.Component + '</td>';
                    grid_html += '<td class="sbtbl4ex">' + data.AdvisedMonth + '</td>';
                    grid_html += '<td class="sbtbl5ex">' + data.Year + '</td>';
                    grid_html += '<td class="sbtbl6ex">' + data.PayoutType + '</td>';
                    grid_html += '<td class="sbtbl7ex">' + data.Amount + '</td>';
                    grid_html += '<td class="sbtbl8ex" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="sbtbl9ex"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_SignOnBonusID + '><td class="sbtbl1ex"><input type="checkbox" class="carexp" id=' + (i + 1) + '  disabled="disabled"/></td>';
                    grid_html += '<td class="sbtbl2ex">' + data.AssociateID + '</td>';
                    grid_html += '<td class="sbtbl3ex">' + data.Component + '</td>';
                    grid_html += '<td class="sbtbl4ex">' + data.AdvisedMonth + '</td>';
                    grid_html += '<td class="sbtbl5ex">' + data.Year + '</td>';
                    grid_html += '<td class="sbtbl6ex">' + data.PayoutType + '</td>';
                    grid_html += '<td class="sbtbl7ex">' + data.Amount + '</td>';
                    grid_html += '<td class="sbtbl8ex" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="sbtbl9ex"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
            });

            $('#tblCarDamageTrafficFine').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblCarDamageTrafficFine").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#ctexp').attr("disabled", "disabled");
            //$('.btnlist').hide();
        }
    }
    else if (componentGroupId == 30 && CountryId != 20) { // Relocation
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#mailattach').hide();
        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();
        //var oTable = $("#tblJoining").dataTable();
        //oTable.fnDestroy();
        $("#Relocation").show();
        $('#tblRelocation').find('tbody').html('');
        $('#Relocation .dataTableScroll').css('display', 'block');
        $('#Relocation .viewport').css('display', 'block');
        $('#Relocation .viewport').css('overflow', 'scroll');
        $('#tblRelocation').css('display', 'block');
        $('#tblRelocation .viewport').css('display', 'block');

        var htmldata = '';
        if (CountryId != 18 && CountryId != 19) {
            htmldata += '<tr><th class="APtd1"><input type="checkbox" id="relvalid" />';
            htmldata += '</th><th class="APtd2 sort" column="AssociateID">Associate ID</th>';
            htmldata += '<th class="APtd3">AdvisedMonth </th>';
            htmldata += '<th class="APtd12">year </th>';
            htmldata += '<th class="APtd5 sort" column="Amount" >Amount</th>';
            htmldata += '<th class="APtd5 sort" column="PayoutType">PayoutType</th>';
            htmldata += '<th class="APtd5" column="AdditionalComments" >Additional Comments</th>';
            htmldata += '<th class="APtd5" column="SpecialCaseReason" >SpecialCase Reason</th>';
            htmldata += '<th class="APtd6">Exception Reason </th>';
            htmldata += '<th class="APtd9">Edit</th></tr>';
        }
        else {

            htmldata += '<tr><th width="35px"><input type="checkbox" id="relvalid" /></th>';
            htmldata += '<th class="sort reltbl" column="AssociateID"  id="Th1">Associate ID </th>';
            htmldata += '<th class="reltbl" id="Th1">Associate Name </th>';
            htmldata += '<th class="sort reltbl" column="Amount">Amount </th>';
            htmldata += '<th class="reltbl" column="Currency" id="Th3">Currency </th>';
            htmldata += '<th column="AdvisedMonth" class="sort reltbl">AdvisedMonth</th>';
            htmldata += '<th column="Year" class="sort reltbl">Year</th>';
            htmldata += '<th class="reltbl">Comments </th>';
            htmldata += '<th class="reltbl" id="Th3">Type of payout  </th>';
            htmldata += '<th class="reltbl">Exception Reason </th>';
            htmldata += '<th width="60px">Edit</th></tr>';
        }

        $('#tblRelocation').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "20px");
        if (CountryId == 18 || CountryId == 19) {
            $(".delete_btn").css("margin-left", "175px");
        }
        $("#Relocation .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $("#relvalid").attr("Enabled", "Enabled");

            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                else {
                    remarks = '';
                }
                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                if (CountryId != 18 && CountryId != 19) {
                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_NLDRelocationID + '><td class="APtd1"><input type="checkbox" class="relocationexp" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="APtd2">' + data.AssociateID + '</td>';
                        grid_html += '<td class="APtd3">' + data.AdvisedMonth + '</td>';
                        grid_html += '<td class="APtd12">' + data.Year + '</td>';
                        grid_html += '<td class="APtd5">' + data.Amount + '</td>';
                        grid_html += '<td class="APtd5">' + data.PayoutType + '</td>';
                        grid_html += '<td class="APtd5">' + data.AdditionalComments + '</td>';
                        grid_html += '<td class="APtd5">' + data.SpecialCaseReason + '</td>';
                        grid_html += '<td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                        grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_NLDRelocationID + '><td class="APtd1"><input type="checkbox" class="relocationexp" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="APtd2">' + data.AssociateID + '</td>';
                        grid_html += '<td class="APtd3">' + data.AdvisedMonth + '</td>';
                        grid_html += '<td class="APtd12">' + data.Year + '</td>';
                        grid_html += '<td class="APtd5">' + data.Amount + '</td>';
                        grid_html += '<td class="APtd5">' + data.PayoutType + '</td>';
                        grid_html += '<td class="APtd5">' + data.AdditionalComments + '</td>';
                        grid_html += '<td class="APtd5">' + data.SpecialCaseReason + '</td>';
                        grid_html += '<td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                        grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_NLDRelocationID + '><td class="APtd1"><input type="checkbox" class="relocationexp" id=' + (i + 1) + '  disabled="disabled"/></td>';
                        grid_html += '<td class="APtd2">' + data.AssociateID + '</td>';
                        grid_html += '<td class="APtd3">' + data.AdvisedMonth + '</td>';
                        grid_html += '<td class="APtd12">' + data.Year + '</td>';
                        grid_html += '<td class="APtd5">' + data.Amount + '</td>';
                        grid_html += '<td class="APtd5">' + data.PayoutType + '</td>';
                        grid_html += '<td class="APtd5">' + data.AdditionalComments + '</td>';
                        grid_html += '<td class="APtd5">' + data.SpecialCaseReason + '</td>';
                        grid_html += '<td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                        grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
                else {
                    if (cutoff_date == NaN) {
                        grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_NLDRelocationID + '><td class="APtd1"><input type="checkbox" class="relocationexp" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="APtd2">' + data.AssociateID + '</td>';
                        grid_html += '<td class="APtd2">' + data.AssociateName + '</td>';
                        grid_html += '<td class="APtd5">' + data.Amount + '</td>';
                        grid_html += '<td class="APtd5">' + data.Currency + '</td>';
                        grid_html += '<td class="APtd3">' + data.AdvisedMonth + '</td>';
                        grid_html += '<td class="APtd12">' + data.Year + '</td>';
                        grid_html += '<td class="APtd5">' + data.Comments + '</td>';
                        grid_html += '<td class="APtd5">' + data.PayoutType + '</td>';
                        grid_html += '<td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                        grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                        grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_NLDRelocationID + '><td class="APtd1"><input type="checkbox" class="relocationexp" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="APtd2">' + data.AssociateID + '</td>';
                        grid_html += '<td class="APtd2">' + data.AssociateName + '</td>';
                        grid_html += '<td class="APtd5">' + data.Amount + '</td>';
                        grid_html += '<td class="APtd5">' + data.Currency + '</td>';
                        grid_html += '<td class="APtd3">' + data.AdvisedMonth + '</td>';
                        grid_html += '<td class="APtd12">' + data.Year + '</td>';
                        grid_html += '<td class="APtd5">' + data.Comments + '</td>';
                        grid_html += '<td class="APtd5">' + data.PayoutType + '</td>';
                        grid_html += '<td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                        grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_NLDRelocationID + '><td class="APtd1"><input type="checkbox" class="relocationexp" id=' + (i + 1) + '  disabled="disabled"/></td>';
                        grid_html += '<td class="APtd2">' + data.AssociateID + '</td>';
                        grid_html += '<td class="APtd2">' + data.AssociateName + '</td>';
                        grid_html += '<td class="APtd5">' + data.Amount + '</td>';
                        grid_html += '<td class="APtd5">' + data.Currency + '</td>';
                        grid_html += '<td class="APtd3">' + data.AdvisedMonth + '</td>';
                        grid_html += '<td class="APtd12">' + data.Year + '</td>';
                        grid_html += '<td class="APtd5">' + data.Comments + '</td>';
                        grid_html += '<td class="APtd5">' + data.PayoutType + '</td>';
                        grid_html += '<td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                        grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
            });

            $('#tblRelocation').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblRelocation").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
            $("#relvalid").attr("Disabled", "Disabled");
        }
    }
    else if (componentGroupId == 34) { // Transition
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#mailattach').hide();
        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();

        $("#Transition").show();
        $('#tblTransition').find('tbody').html('');
        $('#Transition .dataTableScroll').css('display', 'block');
        $('#Transition .viewport').css('display', 'block');
        $('#Transition .viewport').css('overflow', 'scroll');
        $('#tblTransition').css('display', 'block');
        $('#tblTransition .viewport').css('display', 'block');

        var htmldata = '';
        htmldata += '<tr><th class="APtd1"><input type="checkbox" id="relvalid" />';
        htmldata += '</th><th class="APtd2 sort" column="AssociateID">Associate ID</th>';
        htmldata += '<th class="APtd3">DateOfJoining </th>';
        htmldata += '<th class="APtd3">DateOfLeaving </th>';
        htmldata += '<th class="APtd3">AdvisedMonth </th>';
        htmldata += '<th class="APtd4">year </th>';
        htmldata += '<th class="APtd5 sort" column="Amount" >Amount</th>';
        htmldata += '<th class="APtd5 sort" column="PayoutType">PayoutType</th>';
        htmldata += '<th class="APtd6">Exception Reason </th>';
        htmldata += '<th class="APtd9">Edit</th></tr>';

        $('#tblTransition').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "20px");
        $("#Transition .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $("#relvalid").attr("Enabled", "Enabled");
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                else {
                    remarks = '';
                }
                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_NLDTransitionID + '><td class="APtd1"><input type="checkbox" class="relocationexp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="APtd2">' + data.AssociateID + '</td>';
                    grid_html += '<td class="APtd3">' + data.DOJ + '</td>';
                    grid_html += '<td class="APtd3">' + data.DOL + '</td>';
                    grid_html += '<td class="APtd3">' + data.AdvisedMonth + '</td>';
                    grid_html += '<td class="APtd4">' + data.Year + '</td>';
                    grid_html += '<td class="APtd5">' + data.Amount + '</td>';
                    grid_html += '<td class="APtd5">' + data.PayoutType + '</td>';
                    grid_html += '<td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_NLDTransitionID + '><td class="APtd1"><input type="checkbox" class="relocationexp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="APtd2">' + data.AssociateID + '</td>';
                    grid_html += '<td class="APtd3">' + data.DOJ + '</td>';
                    grid_html += '<td class="APtd3">' + data.DOL + '</td>';
                    grid_html += '<td class="APtd3">' + data.AdvisedMonth + '</td>';
                    grid_html += '<td class="APtd4">' + data.Year + '</td>';
                    grid_html += '<td class="APtd5">' + data.Amount + '</td>';
                    grid_html += '<td class="APtd5">' + data.PayoutType + '</td>';
                    grid_html += '<td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_NLDTransitionID + '><td class="APtd1"><input type="checkbox" class="relocationexp" id=' + (i + 1) + '  disabled="disabled"/></td>';
                    grid_html += '<td class="APtd2">' + data.AssociateID + '</td>';
                    grid_html += '<td class="APtd3">' + data.DOJ + '</td>';
                    grid_html += '<td class="APtd3">' + data.DOL + '</td>';
                    grid_html += '<td class="APtd3">' + data.AdvisedMonth + '</td>';
                    grid_html += '<td class="APtd4">' + data.Year + '</td>';
                    grid_html += '<td class="APtd5">' + data.Amount + '</td>';
                    grid_html += '<td class="APtd5">' + data.PayoutType + '</td>';
                    grid_html += '<td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
            });

            $('#tblTransition').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblTransition").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
            $("#relvalid").attr("Disabled", "Disabled");
        }
    }

    else if (componentGroupId == 35) { // Honorarium
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#mailattach').hide();
        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();

        $("#Honorarium").show();
        $('#tblHonorarium').find('tbody').html('');
        $('#Honorarium .dataTableScroll').css('display', 'block');
        $('#Honorarium .viewport').css('display', 'block');
        $('#Honorarium .viewport').css('overflow', 'scroll');
        $('#tblHonorarium').css('display', 'block');
        $('#tblHonorarium .viewport').css('display', 'block');
        var htmldata = '';
        htmldata += '<tr><th class="APtd1"><input type="checkbox" id="relvalid" />';
        htmldata += '</th><th class="APtd2 sort" column="AssociateID">Associate ID</th>';
        htmldata += '<th class="APtd6">ProjectID </th>';
        htmldata += '<th class="APtd3">AdvisedMonth </th>';
        htmldata += '<th class="APtd4">year </th>';
        htmldata += '<th class="APtd5 sort" column="Amount" >Amount</th>';
        htmldata += '<th class="APtd6 sort" column="PayoutType">PayoutType</th>';
        htmldata += '<th class="APtd6">Exception Reason </th>';
        htmldata += '<th class="APtd9">Edit</th></tr>';

        $('#tblHonorarium').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        //$(".delete_btn").css("margin-left", "20px");
        //$(".delete_btn").css("display", "block");
        $("#Honorarium .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                else {
                    remarks = '';
                }
                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_NLDHonorariumID + '><td class="APtd1"><input type="checkbox" class="relocationexp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="APtd2">' + data.AssociateID + '</td>';
                    grid_html += '<td class="APtd6">' + data.ProjectID + '</td>';
                    grid_html += '<td class="APtd3">' + data.AdvisedMonth + '</td>';
                    grid_html += '<td class="APtd4">' + data.Year + '</td>';
                    grid_html += '<td class="APtd5">' + data.Amount + '</td>';
                    grid_html += '<td class="APtd6">' + data.PayoutType + '</td>';
                    grid_html += '<td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_NLDHonorariumID + '><td class="APtd1"><input type="checkbox" class="relocationexp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="APtd2">' + data.AssociateID + '</td>';
                    grid_html += '<td class="APtd6">' + data.ProjectID + '</td>';
                    grid_html += '<td class="APtd3">' + data.AdvisedMonth + '</td>';
                    grid_html += '<td class="APtd4">' + data.Year + '</td>';
                    grid_html += '<td class="APtd5">' + data.Amount + '</td>';
                    grid_html += '<td class="APtd6">' + data.PayoutType + '</td>';
                    grid_html += '<td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_NLDHonorariumID + '><td class="APtd1"><input type="checkbox" class="relocationexp" id=' + (i + 1) + '  disabled="disabled"/></td>';
                    grid_html += '<td class="APtd2">' + data.AssociateID + '</td>';
                    grid_html += '<td class="APtd6">' + data.ProjectID + '</td>';
                    grid_html += '<td class="APtd3">' + data.AdvisedMonth + '</td>';
                    grid_html += '<td class="APtd4">' + data.Year + '</td>';
                    grid_html += '<td class="APtd5">' + data.Amount + '</td>';
                    grid_html += '<td class="APtd6">' + data.PayoutType + '</td>';
                    grid_html += '<td class="APtd6" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
            });

            $('#tblHonorarium').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblHonorarium").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $("#relvalid").attr("Disabled", "Disabled");
            //$('.btnlist').hide();
        }
    }
    else if (componentGroupId == 33 || componentGroupId == 50) { // Rewards
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#mailattach').hide();
        $('#customize').hide();

        $('#disLabel').css('margin-left', '300px');
        getTotalPages();
        //var oTable = $("#tblJoining").dataTable();
        //oTable.fnDestroy();
        $('#RewardsandRegonition').show();
        $('#tblrewards').find('tbody').html('');
        $('#RewardsandRegonition .dataTableScroll').css('display', 'block');
        $('#RewardsandRegonition .viewport').css('display', 'block');
        $('#RewardsandRegonition .viewport').css('overflow', 'scroll');
        $('#tblrewards').css('display', 'block');
        $('#tblrewards .viewport').css('display', 'block');

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        $("#aid3").attr("maxlength", "11");
        $("#aid3").numeric();

        var htmldata = '';
        htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="rrvalid"/>';
        htmldata += '</th><th class="sort rrtbl" column="AssociateID" id="Th1">Associate ID </th>';
        if (componentGroupId == 50) {
            htmldata += ' <th class="rrtbl">AssociateName</th>';
            htmldata += ' <th class="rrtbl">DOJ</th>';
            htmldata += ' <th column="AdvisedMonth" class="rrtbl">AdvisedMonth</th>';
            htmldata += ' <th class="rrtbl">Year</th>';
        }
        htmldata += '<th class="sort rrtbl" column="Amount">Amount </th>';
        if (componentGroupId == 33 || (componentGroupId == 50 && (CountryId == 18 || CountryId == 19))) {
            htmldata += '<th class="rrtbl">SubComponent</th>';
        }
        htmldata += '<th class="rrtbl">Currency</th>';
        if (componentGroupId == 33) {
            htmldata += '<th class="rrtbl">Frequency</th>';
        }
        if ((componentGroupId == 50 && (CountryId == 18 || CountryId == 19))) {
            htmldata += '<th class="rrtbl">Units</th>';
        }
        htmldata += '<th class="sort rrtbl" column="PayoutType" id="Th3">PayoutType  </th>';
        htmldata += '<th class="rrtbl">Exception Reason </th>';
        htmldata += '<th class="jbtblEdit">Edit </th></tr>';

        $('#tblrewards').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "20px");
        if (CountryId == 18 || CountryId == 19) {
            $(".delete_btn").css("margin-left", "175px");
        }
        $("#RewardsandRegonition .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                var expremarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 15) ? data.Remarks.substring(0, 15) + '...' : data.Remarks;
                }
                else {
                    remarks = '';
                }
                if (data.ExceptionReason != null) {
                    expremarks = (data.ExceptionReason.length > 20) ? data.ExceptionReason.substring(0, 20) + '...' : data.ExceptionReason;
                }
                else {
                    expremarks = '';
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsexp" id=' + (i + 1) + ' disabled="true" /></td>';
                    grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                    if (componentGroupId == 50) {
                        grid_html += '<td class="rrtbl">' + data.AssociateName + '</td>';
                        grid_html += '<td class="rrtbl">' + data.DateOfJoining + '</td>';
                        grid_html += '<td class="rrtbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                        grid_html += '<td class="rrtbl" style="text-align:center;">' + data.Year + '</td>';
                    }
                    grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    if (componentGroupId == 33 || (componentGroupId == 50 && (CountryId == 18 || CountryId == 19))) {
                        grid_html += '<td class="rrtbl">' + data.SubComponent + '</td>';
                    }
                    grid_html += '<td class="rrtbl">' + data.Currency + '</td>';
                    if (componentGroupId == 33) {
                        grid_html += '<td class="rrtbl">' + data.Frequency + '</td>';
                    }
                    if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
                        grid_html += '<td class="rrtbl">' + data.Units + '</td>';
                    }
                    grid_html += '<td class="rrtbl">' + data.PayoutType + '</td>';
                    grid_html += '<td class="rrtbl" title="' + data.ExceptionReason + '">' + expremarks + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsexp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                    if (componentGroupId == 50) {
                        grid_html += '<td class="rrtbl">' + data.AssociateName + '</td>';
                        grid_html += '<td class="rrtbl">' + data.DateOfJoining + '</td>';
                        grid_html += '<td class="rrtbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                        grid_html += '<td class="rrtbl" style="text-align:center;">' + data.Year + '</td>';
                    }
                    grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    if (componentGroupId == 33 || (componentGroupId == 50 && (CountryId == 18 || CountryId == 19))) {
                        grid_html += '<td class="rrtbl">' + data.SubComponent + '</td>';
                    }
                    grid_html += '<td class="rrtbl">' + data.Currency + '</td>';
                    if (componentGroupId == 33) {
                        grid_html += '<td class="rrtbl">' + data.Frequency + '</td>';
                    }
                    if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
                        grid_html += '<td class="rrtbl">' + data.Units + '</td>';
                    }
                    grid_html += '<td class="rrtbl">' + data.PayoutType + '</td>';
                    grid_html += '<td class="rrtbl" title="' + data.ExceptionReason + '">' + expremarks + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="rewardsexp" id=' + (i + 1) + ' disabled="true" /></td>';
                    grid_html += '<td class="rrtbl">' + data.AssociateID + '</td>';
                    if (componentGroupId == 50) {
                        grid_html += '<td class="rrtbl">' + data.AssociateName + '</td>';
                        grid_html += '<td class="rrtbl">' + data.DateOfJoining + '</td>';
                        grid_html += '<td class="rrtbl" style="text-align:center;">' + data.AdvisedMonth + '</td>';
                        grid_html += '<td class="rrtbl" style="text-align:center;">' + data.Year + '</td>';
                    }
                    grid_html += '<td class="rrtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    if (componentGroupId == 33 || (componentGroupId == 50 && (CountryId == 18 || CountryId == 19))) {
                        grid_html += '<td class="rrtbl">' + data.SubComponent + '</td>';
                    }
                    grid_html += '<td class="rrtbl">' + data.Currency + '</td>';
                    if (componentGroupId == 33) {
                        grid_html += '<td class="rrtbl">' + data.Frequency + '</td>';
                    }
                    if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
                        grid_html += '<td class="rrtbl">' + data.Units + '</td>';
                    }
                    grid_html += '<td class="rrtbl">' + data.PayoutType + '</td>';
                    grid_html += '<td class="rrtbl" title="' + data.ExceptionReason + '">' + expremarks + '</td>';
                    //grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    grid_html += '<td width="60px"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                }
            });

            $('#tblrewards').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblrewards").append("<tr class='even' id='NoData'><td colspan='14' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#rrvalid').attr("disabled", "disabled");
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 46) { // benefits
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#mailattach').hide();
        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        getTotalPages();
        //var oTable = $("#tblJoining").dataTable();
        //oTable.fnDestroy();
        $('#divBenefits').show();
        $('#tbl_benefits').find('tbody').html('');
        $('#divBenefits .dataTableScroll').css('display', 'block');
        $('#divBenefits .viewport').css('display', 'block');
        $('#divBenefits .viewport').css('overflow', 'scroll');
        $('#tbl_benefits').css('display', 'block');
        $('#tbl_benefits .viewport').css('display', 'block');

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        $("#aid3").attr("maxlength", "11");
        $("#aid3").numeric();

        var htmldata = '';
        htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="benvalid"/>';
        htmldata += '</th><th class="sort rrexptbl" column="AssociateID" id="Th1">Associate ID </th>';
        htmldata += '<th class="sort rrexptbl" column="AssociateName" id="Th1">Associate Name </th>';
        htmldata += '<th class="rrexptbl">Benefit Type</th>';
        htmldata += '<th class="sort rrexptbl" column="Amount">Amount </th>';
        htmldata += '<th class="sort rrexptbl" column="PayoutType" id="Th3">PayoutType  </th>';
        //htmldata += '<th class="rrtbl">Attachment</th>';
        htmldata += '<th class="rrexptbl">Exception Reason </th>';
        htmldata += '<th class="jbtblEdit">Edit </th></tr>';

        $('#tbl_benefits').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "20px");
        $("#divBenefits .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var expremarks = '';
                var attachment = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                if (data.ExceptionReason != null) {
                    expremarks = (data.ExceptionReason.length > 20) ? data.ExceptionReason.substring(0, 20) + '...' : data.ExceptionReason;
                }
                else {
                    expremarks = '';
                }
                if (data.Attachment != null) {
                    attachment = data.Attachment;
                }
                else {
                    attachment = '';
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="benefitsexp" id=' + (i + 1) + ' disabled="true" /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="benefitsexp" id=' + (i + 1) + ' /></td>';
                }
                else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_RewardsID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="benefitsexp" id=' + (i + 1) + ' disabled="true" /></td>';
                }
                grid_html += '<td class="rrexptbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="rrexptbl">' + data.AssociateName + '</td>';
                grid_html += '<td class="rrexptbl">' + data.SubComponent + '</td>';
                grid_html += '<td class="rrexptbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                grid_html += '<td class="rrexptbl">' + data.PayoutType + '</td>';
                //grid_html += '<td class="rrtbl">' + attachment + '</td>';
                grid_html += '<td class="rrexptbl" title="' + data.ExceptionReason + '">' + expremarks + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td width="60px"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }

            });

            $('#tbl_benefits').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_benefits").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#benvalid').attr("disabled", "disabled");
            //$('.btnlist').hide();
        }
    }
    else if (componentGroupId == 36 || componentGroupId == 37) { // Insurance Taxation
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#mailattach').hide();
        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        getTotalPages();

        $("#InsuranceTaxation").show();
        $('#tblInsurancetax').find('tbody').html('');
        $('#InsuranceTaxation .dataTableScroll').css('display', 'block');
        $('#InsuranceTaxation .viewport').css('display', 'block');
        $('#InsuranceTaxation .viewport').css('overflow', 'scroll');
        $('#tblInsurancetax').css('display', 'block');
        $('#tblInsurancetax .viewport').css('display', 'block');

        $('.error_msg_reject').css("left", "150px");
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();

        var htmldata = '';
        htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="taxvalid"/>';
        htmldata += '</th><th class="sort inexetaxtbl" column="AssociateID" id="Th1">Associate ID </th>';
        htmldata += '<th class="inexetaxtbl">StartDate</th>';
        htmldata += '<th class="inexetaxtbl">EndDate</th>';
        htmldata += '<th class="sort inexetaxtbl" column="Amount">Amount </th>';
        htmldata += '<th class="inexetaxtbl">EffectiveDate</th>';
        htmldata += '<th class="sort inexetaxtbl" column="BeneficiaryAmount">Beneficiary Amount </th>';
        htmldata += '<th class="inexetaxtbl">Exception Reason </th>';
        htmldata += '<th class="jbtblEdit">Edit </th></tr>';

        $('#tblInsurancetax').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "20px");
        $("#InsuranceTaxation .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                var expremarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                else {
                    remarks = '';
                }

                if (data.ExceptionRemarks != null) {

                    expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                }
                else {
                    expremarks = '';
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="insuranceexp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="inexetaxtbl">' + data.AssociateID + '</td>';
                    grid_html += '<td class="inexetaxtbl">' + data.StartDate + '</td>';
                    grid_html += '<td class="inexetaxtbl">' + data.EndDate + '</td>';
                    grid_html += '<td class="inexetaxtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    grid_html += '<td class="inexetaxtbl">' + data.EffectiveDate + '</td>';
                    grid_html += '<td class="inexetaxtbl">' + data.BeneficiaryAmount + '</td>';
                    grid_html += '<td class="inexetaxtbl" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="insuranceexp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="inexetaxtbl">' + data.AssociateID + '</td>';
                    grid_html += '<td class="inexetaxtbl">' + data.StartDate + '</td>';
                    grid_html += '<td class="inexetaxtbl">' + data.EndDate + '</td>';
                    grid_html += '<td class="inexetaxtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    grid_html += '<td class="inexetaxtbl">' + data.EffectiveDate + '</td>';
                    grid_html += '<td class="inexetaxtbl">' + data.BeneficiaryAmount + '</td>';
                    grid_html += '<td class="inexetaxtbl" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="insuranceexp" id=' + (i + 1) + '  disabled="disabled"/></td>';
                    grid_html += '<td class="inexetaxtbl">' + data.AssociateID + '</td>';
                    grid_html += '<td class="inexetaxtbl">' + data.StartDate + '</td>';
                    grid_html += '<td class="inexetaxtbl">' + data.EndDate + '</td>';
                    grid_html += '<td class="inexetaxtbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    grid_html += '<td class="inexetaxtbl">' + data.EffectiveDate + '</td>';
                    grid_html += '<td class="inexetaxtbl">' + data.BeneficiaryAmount + '</td>';
                    grid_html += '<td class="inexetaxtbl" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td width="60px"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                }
            });

            $('#tblInsurancetax').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblInsurancetax").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#taxvalid').attr("disabled", "disabled");
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 31) { // net travel
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $("#mailattach").addClass('disabled');
        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        $('#deletebtn').css('margin-left', '65px');
        getTotalPages();
        //var oTable = $("#tblJoining").dataTable();
        //oTable.fnDestroy();

        $("#divNetTravelAllowance").show();
        $('#tbl_netTravel').find('tbody').html('');
        $('#divNetTravelAllowance .dataTableScroll').css('display', 'block');
        $('#divNetTravelAllowance .viewport').css('display', 'block');
        $('#divNetTravelAllowance .viewport').css('overflow', 'scroll');
        $('#tbl_netTravel').css('display', 'block');
        $('#tbl_netTravel .viewport').css('display', 'block');

        var htmldata = '';
        htmldata += '<tr><th class="jbtblchkBox"><input type="checkbox" id="netvalidcheckbox"/>';
        htmldata += '</th><th class="sort nettbl" column="AssociateID" id="Th1">Associate ID </th>';
        htmldata += '<th class="nettbl">StartDate</th>';
        htmldata += '<th class="nettbl">EndDate</th>';
        htmldata += '<th class="sort nettbl">Amount </th>';
        htmldata += '<th class="nettbl">EffectiveDate</th>';
        htmldata += '<th class="nettbl">Exception Reason </th>';
        htmldata += '<th class="jbtblEdit">Edit </th></tr>';
        $('#tbl_netTravel').find('tbody').html('').html('');
        $('#tbl_netTravel').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "20px");
        $("#tbl_netTravel .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "530px");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                else {
                    remarks = '';
                }
                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="NetException" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="nettbl">' + data.AssociateID + '</td>';
                    grid_html += '<td class="nettbl">' + data.StartDate + '</td>';
                    grid_html += '<td class="nettbl">' + data.EndDate + '</td>';
                    grid_html += '<td class="nettbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    grid_html += '<td class="nettbl">' + data.EffectiveDate + '</td>';
                    grid_html += '<td class="nettbl" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="NetException" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="nettbl">' + data.AssociateID + '</td>';
                    grid_html += '<td class="nettbl">' + data.StartDate + '</td>';
                    grid_html += '<td class="nettbl">' + data.EndDate + '</td>';
                    grid_html += '<td class="nettbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    grid_html += '<td class="nettbl">' + data.EffectiveDate + '</td>';
                    grid_html += '<td class="nettbl" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="jbtblchkBox"><input type="checkbox" class="NetException" id=' + (i + 1) + '  disabled="disabled"/></td>';
                    grid_html += '<td class="nettbl">' + data.AssociateID + '</td>';
                    grid_html += '<td class="nettbl">' + data.StartDate + '</td>';
                    grid_html += '<td class="nettbl">' + data.EndDate + '</td>';
                    grid_html += '<td class="nettbl" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    grid_html += '<td class="nettbl">' + data.EffectiveDate + '</td>';
                    grid_html += '<td class="nettbl" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td width="60px"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                }
            });

            $('#tbl_netTravel').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_netTravel").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#netvalidcheckbox').attr("disabled", "disabled");
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 32) { // Commuting Allowance
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#CommutingAllowance').show();
        $('#mailattach').hide();
        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        getTotalPages();
        //var oTable = $("#tblJoining").dataTable();
        //oTable.fnDestroy();
        $('#tbl_Commuting').find('tbody').html('');
        $('#CommutingAllowance .dataTableScroll').css('display', 'block');
        $('#CommutingAllowance .viewport').css('display', 'block');
        $('#CommutingAllowance .viewport').css('overflow', 'scroll');
        $('#tbl_Commuting').css('display', 'block');
        $('#tbl_Commuting .viewport').css('display', 'block');

        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        var htmldata = '';
        htmldata += '<tr><th class="commchkbox"><input type="checkbox" id="cvalid"/>';
        htmldata += '</th><th class="sort commtblEx" column="AssociateID" id="Th1">Associate ID </th>';
        htmldata += '<th class="commtblEx">StartDate</th>';
        htmldata += '<th class="commtblEx">EndDate</th>';
        htmldata += '<th class="commtblEx">Distance</th>';
        htmldata += '<th class="sort commtblEx" coloumn="Amount">Amount </th>';
        htmldata += '<th class="commtblEx" coloumn="EffectiveDate">EffectiveDate</th>';
        htmldata += '<th class="commtblEx">SpecialCaseReason</th>';
        htmldata += '<th class="commtblEx">Exception Reason </th>';
        htmldata += '<th width="60px">Edit </th></tr>';

        $('#tbl_Commuting').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "20px");
        $("#tbl_Commuting .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                else {
                    remarks = '';
                }
                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var splcaseRsn = '';
                if (data.SpecialCaseReason != null) {
                    splcaseRsn = (data.SpecialCaseReason.length > 20) ? data.SpecialCaseReason.substring(0, 20) + '...' : data.SpecialCaseReason;
                }
                else {
                    splcaseRsn = '';
                }
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="commchkbox"><input type="checkbox" class="commute_exp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="commtblEx">' + data.AssociateID + '</td>';
                    grid_html += '<td class="commtblEx">' + data.StartDate + '</td>';
                    grid_html += '<td class="commtblEx">' + data.EndDate + '</td>';
                    grid_html += '<td class="commtblEx">' + data.Distance + '</td>';
                    grid_html += '<td class="commtblEx" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    grid_html += '<td class="commtblEx">' + data.EffectiveDate + '</td>';
                    grid_html += '<td class="commtblEx" title="' + data.SpecialCaseReason + '">' + splcaseRsn + '</td>';
                    grid_html += '<td class="commtblEx" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="commchkbox"><input type="checkbox" class="commute_exp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="commtblEx">' + data.AssociateID + '</td>';
                    grid_html += '<td class="commtblEx">' + data.StartDate + '</td>';
                    grid_html += '<td class="commtblEx">' + data.EndDate + '</td>';
                    grid_html += '<td class="commtblEx">' + data.Distance + '</td>';
                    grid_html += '<td class="commtblEx" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    grid_html += '<td class="commtblEx">' + data.EffectiveDate + '</td>';
                    grid_html += '<td class="commtblEx" title="' + data.SpecialCaseReason + '">' + splcaseRsn + '</td>';
                    grid_html += '<td class="commtblEx" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InsuranceTaxationID + ' status=' + data.Status + '><td class="commchkbox"><input type="checkbox" class="commute_exp" id=' + (i + 1) + '  disabled="true"/></td>';
                    grid_html += '<td class="commtblEx">' + data.AssociateID + '</td>';
                    grid_html += '<td class="commtblEx">' + data.StartDate + '</td>';
                    grid_html += '<td class="commtblEx">' + data.EndDate + '</td>';
                    grid_html += '<td class="commtblEx">' + data.Distance + '</td>';
                    grid_html += '<td class="commtblEx" style="text-align:center;" Amount="' + data.Amount + '">' + data.Amount + '</td>';
                    grid_html += '<td class="commtblEx">' + data.EffectiveDate + '</td>';
                    grid_html += '<td class="commtblEx" title="' + data.SpecialCaseReason + '">' + splcaseRsn + '</td>';
                    grid_html += '<td class="commtblEx" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td width="60px"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                }
            });

            $('#tbl_Commuting').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_Commuting").append("<tr class='even' id='NoData'><td colspan='11' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }
    // on call and overtime allowance
    else if ((componentGroupId == 39 || componentGroupId == 22) && CountryId == 3) {
        $("#mailattach").addClass('disabled');

        $("#divApprovalmsg1").show();
        $("#divApprovalmsg1").css("margin-left", "1px");
        $("#ulRecord").css('display', 'block');
        $(".tbl_upload_holder").hide();
        $("#disLabel").css("margin-left", "180px");

        //$("#ulRecord li").css("margin-left", "665px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#ulQuarter").hide();
        // $('#mailattach').show();
        $('#divOnCallAllowance').show();
        //$("#ulRecord li").removeClass("mleft50");
        $('#mailattach').show();
        $("#mailattach").css("left", "152px");
        $('#customize').hide();
        getTotalPages();
        //var oTable = $("#tblJoining").dataTable();
        //oTable.fnDestroy();


        $('#divOnCallAllowance').show();
        $('#divOnCallAllowance .dataTableScroll').css('display', 'block');
        $('#tbl_oncall').css('display', 'block');
        $('#divOnCallAllowance .viewport').css('display', 'block');
        $('#divOnCallAllowance .viewport').css('overflow', 'scroll');

        $('#tbl_oncall').find('tbody').html('');
        $('#tbl_oncall').css('display', 'block');
        $('#tbl_oncall .viewport').css('overflow', 'scroll');

        $('.delete_btn').css('margin-left', '15px');
        $('#tbl_oncall').find('tbody').html('').html('');

        $("#aid1").attr("maxlength", "7");
        $("#aid1").numeric();
        $("#aid3").attr("maxlength", "10");
        $("#aid3").numeric();
        $(".error_msg_reject").css("left", "400px");
        var htmldata = '';

        htmldata += '<tr><th class="td1"><input type="checkbox" id="ocexp" /></th>';
        htmldata += ' <th id="Th5" class="sort ot2" column="AssociateID">AssociateID </th>';
        htmldata += ' <th class="sort ot3" column="ProjectId">ProjectId </th>';
        htmldata += ' <th class="sort ot4" column="AccountID">AccountID</th>';
        htmldata += ' <th class="sort ot5" column="AccountName">AccountName</th>';
        htmldata += ' <th class="ot6" column="StartDate">StartDate</th>';
        htmldata += ' <th class="ot7" column="EndDate">EndDate</th>';

        htmldata += ' <th class="sort ot10" column="DayType">DayType</th>';
        htmldata += ' <th class="sort ot11" column="Amount">Amount</th>';
        htmldata += ' <th class="ot12" column="NoOfHours">NoOfHours</th>';
        htmldata += ' <th column="SpecialCaseReason" class="ot13">Total Hours</th>';
        htmldata += '<th width="110px" class="sort ot15" column="ExceptionRemarks">ExceptionRemarks</th>';
        htmldata += ' <th column="SpecialCaseMail" class="NSAtd10">ApprovalMail</th>';
        htmldata += ' <th class="td11">Edit</th></tr>';
        $('#tbl_oncall').find('thead').html('').html(htmldata);

        //$("#ulRecord li").removeClass("mleft50");
        ////$("#ulRecord li").css("margin-left", "433px");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            $("#divOnCallAllowance .refPage").css("display", "block");

            var classname = '';


            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';

                //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();
                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var DayType = (data.DayType.length > 30) ? data.DayType.substring(0, 30) + '...' : data.DayType;
                var gridMailIdval = "";
                var FileUploadID = data.FileUploadID;
                if ((FileUploadID == 0) || (FileUploadID == null)) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileUploadID + ' class="mail_btn" fileuploadid=' + data.FileUploadID + '/>';
                }
                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTExp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="ot2">' + data.AssociateID + '</td>';
                    grid_html += '<td class="ot3">' + data.ProjectID + '</td>';
                    grid_html += '<td class="ot4">' + data.AccountID + '</td>';
                    grid_html += '<td class="ot5">' + data.AccountName + '</td>';
                    grid_html += '<td style="text-align:center;" class="ot6" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="ot7" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';

                    grid_html += '<td class="ot10">' + DayType + '</td>';
                    grid_html += '<td class="ot11">' + data.Amount + '</td>';
                    grid_html += '<td class="ot12">' + data.NoOfHours + '</td>';
                    grid_html += '<td class="ot13">' + data.TotalHours + '</td>';

                    grid_html += '<td class="ot14" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="NSAtd10">' + gridMailIdval + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }

                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTExp" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="ot2">' + data.AssociateID + '</td>';
                    grid_html += '<td class="ot3">' + data.ProjectID + '</td>';
                    grid_html += '<td class="ot4">' + data.AccountID + '</td>';
                    grid_html += '<td class="ot5">' + data.AccountName + '</td>';
                    grid_html += '<td style="text-align:center;" class="ot6" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="ot7" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';

                    grid_html += '<td class="ot10">' + DayType + '</td>';
                    grid_html += '<td class="ot11">' + data.Amount + '</td>';
                    grid_html += '<td class="ot12">' + data.NoOfHours + '</td>';
                    grid_html += '<td class="ot13">' + data.TotalHours + '</td>';

                    grid_html += '<td class="ot14" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="NSAtd10">' + gridMailIdval + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                }
                else {
                    if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTExp" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="ot2">' + data.AssociateID + '</td>';
                        grid_html += '<td class="ot3">' + data.ProjectID + '</td>';
                        grid_html += '<td class="ot4">' + data.AccountID + '</td>';
                        grid_html += '<td class="ot5">' + data.AccountName + '</td>';
                        grid_html += '<td style="text-align:center;" class="ot6" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                        grid_html += '<td style="text-align:center;" class="ot7" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';

                        grid_html += '<td class="ot10">' + DayType + '</td>';
                        grid_html += '<td class="ot11">' + data.Amount + '</td>';
                        grid_html += '<td class="ot12">' + data.NoOfHours + '</td>';
                        grid_html += '<td class="ot13">' + data.TotalHours + '</td>';
                        grid_html += '<td class="ot14" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                        grid_html += '<td class="NSAtd10">' + gridMailIdval + '</td>';

                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTExp" id=' + (i + 1) + ' /></td>';
                        grid_html += '<td class="ot2">' + data.AssociateID + '</td>';
                        grid_html += '<td class="ot3">' + data.ProjectID + '</td>';
                        grid_html += '<td class="ot4">' + data.AccountID + '</td>';
                        grid_html += '<td class="ot5">' + data.AccountName + '</td>';
                        grid_html += '<td style="text-align:center;" class="ot6" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                        grid_html += '<td style="text-align:center;" class="ot7" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';

                        grid_html += '<td class="ot10">' + DayType + '</td>';
                        grid_html += '<td class="ot11">' + data.Amount + '</td>';
                        grid_html += '<td class="ot12">' + data.NoOfHours + '</td>';
                        grid_html += '<td class="ot13">' + data.TotalHours + '</td>';

                        grid_html += '<td class="ot14" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                        grid_html += '<td class="NSAtd10">' + gridMailIdval + '</td>';
                        grid_html += '<td width="60px"><img class="edit_details" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }
            });
            $('#tbl_oncall').find('tbody').html('').html(grid_html);

        }

        else {
            $("#tbl_oncall").append("<tr class='even' id='NoData'><td colspan='15' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#ocexp').attr("disabled", "disabled");
        }
    }
    else if (componentGroupId == 22 && (CountryId == 5 || CountryId == 6 || CountryId == 7 || CountryId == 8 || CountryId == 9 || CountryId == 10 || CountryId == 11 || CountryId == 12 || CountryId == 13)) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#mailattach").show();
        $("#customize").hide();

        $('#divOnCallAllowance').show();
        $('#divOnCallAllowance .dataTableScroll').css('display', 'block');
        $('#tbl_oncall').css('display', 'block');
        $('#divOnCallAllowance .viewport').css('display', 'block');
        $('#divOnCallAllowance .viewport').css('overflow', 'scroll');

        $('#tbl_oncall').find('tbody').html('');
        $('#tbl_oncall').css('display', 'block');

        //$("#disLabel").css("margin-left", "290px");
        //  $("#customize").css("left", "280px");   
        $("#ulRecord li").addClass("mleft50");
        //$("#ulRecord li").css("margin-left", "580px");
        //$("#ulRecord li").css("margin-top", "-31px");
        $("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $("#aid1").attr("maxlength", "10");

        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="ot1"><input type="checkbox" id="ocvalid" /></th>';
        htmldata += ' <th id="Th5" class="sort ot_2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="sort ot_3" column="ProjectId">ProjectId </th>';

        htmldata += ' <th class="ot_4" column="StartDate">Start Date</th>';
        htmldata += ' <th class="ot_5" column="EndDate">End Date</th>';
        htmldata += ' <th class="ot_6" column="StartTime">Start Time</th>';
        htmldata += ' <th class="ot_7" column="EndTime">End Time</th>';
        if (CountryId == 7 || CountryId == 10) {
            htmldata += ' <th class="sort ot_8" column="DayType">Day Type </th>';
        }
        if (CountryId != 8 && CountryId != 9 && CountryId != 11 && CountryId != 12 && CountryId != 13) {
            htmldata += ' <th class="sort ot_9" column="Amount">Amount </th>';
        }
        if (CountryId == 8 || CountryId == 9) {
            $('#dwnload_Data').hide();
            $('#dwnload_Report').css('float', 'right');
            $("#mailattach").hide();
            htmldata += ' <th class="ot_7" column="AllowanceType">AllowanceType</th>';
            htmldata += ' <th class="ot_3" column="AssociateRemarks">Associate Remarks</th>';
        }
        //// htmldata += ' <th class="ot12" column="Amount">Total Hours </th>';
        //// htmldata += ' <th column="SpecialCaseReason" class="ot13">Total Hours/Amount<br /></th>';
        htmldata += '<th  class="sort ot_13" column="ExceptionRemarks">ExceptionRemarks</th>';
        htmldata += ' <th class="ot_12">Edit</th></tr>';
        $('#tbl_oncall').find('thead').html('').html(htmldata);
        if (CountryId == 11 || CountryId == 12 || CountryId == 13) {
            $("#mailattach").hide();
            $(".delete_btn").css("margin-left", "6px");
        }


        if (msg.d.length > 0) {
            $("#divOnCallAllowance .refPage").css("display", "block");

            var classname = '';


            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                var InputRemarks = '';
                if (data.ExceptionRemarks != null) {
                    expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                }
                if (data.InputRemarks != null) {
                    InputRemarks = (data.InputRemarks.length > 30) ? data.InputRemarks.substring(0, 30) + '...' : data.InputRemarks;
                }
                //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var gridMailIdval = "";

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="ot_2">' + data.AssociateID + '</td>';
                    grid_html += '<td class="ot_3">' + data.ProjectID + '</td>';

                    grid_html += '<td style="text-align:center;" class="ot_4" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="ot_5" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';
                    grid_html += '  <td style="text-align:center;" class="ot_6"><span class="clsActualTime">' + data.StartTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.StartTime + '" size="10"  /></p></td>';
                    grid_html += '  <td style="text-align:center;" class="ot_7"><span class="clsActualTime">' + data.EndTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.EndTime + '" size="10"  /></p></td>';
                    if (CountryId == 7 || CountryId == 10)
                        grid_html += '<td class="ot_8">' + data.DayType + '</td>';
                    if (CountryId != 8 && CountryId != 9 && CountryId != 11 && CountryId != 12 && CountryId != 13) {
                        grid_html += '<td class="ot_9">' + data.Amount + '</td>';
                    }
                    if (CountryId == 8 || CountryId == 9) {
                        grid_html += '<td class="ot_7">' + data.AllowanceType + '</td>';
                        grid_html += '<td class="ot_3" title="' + data.InputRemarks + '">' + InputRemarks + '</td>';
                    }
                    //grid_html += '<td class="ot_10">' + data.NoOfHours + '</td>';
                    ////grid_html += '<td class="ot13">' + data.TotalHours + '</td>';
                    //grid_html += '<td class="ot_13">' + data.ExceptionRemarks + '</td>';
                    grid_html += '<td class="ot_13" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }

                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td class="ot_2">' + data.AssociateID + '</td>';
                    grid_html += '<td class="ot_3">' + data.ProjectID + '</td>';

                    grid_html += '<td style="text-align:center;" class="ot_4" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="ot_5" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';
                    grid_html += '  <td style="text-align:center;" class="ot_6"><span class="clsActualTime">' + data.StartTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.StartTime + '" size="10"  /></p></td>';
                    grid_html += '  <td style="text-align:center;" class="ot_7"><span class="clsActualTime">' + data.EndTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.EndTime + '" size="10"  /></p></td>';
                    if (CountryId == 7 || CountryId == 10)
                        grid_html += '<td class="ot_8">' + data.DayType + '</td>';
                    if (CountryId != 8 && CountryId != 9 && CountryId != 11 && CountryId != 12 && CountryId != 13) {
                        grid_html += '<td class="ot_9">' + data.Amount + '</td>';
                    }
                    if (CountryId == 8 || CountryId == 9) {
                        grid_html += '<td class="ot_7">' + data.AllowanceType + '</td>';
                        grid_html += '<td class="ot_3" title="' + data.InputRemarks + '">' + InputRemarks + '</td>';
                    }
                    //grid_html += '<td class="ot12">' + data.NoOfHours + '</td>';
                    ////grid_html += '<td class="ot13">' + data.TotalHours + '</td>';
                    grid_html += '<td class="ot_13" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="ot_2">' + data.AssociateID + '</td>';
                            grid_html += '<td class="ot_3">' + data.ProjectID + '</td>';

                            grid_html += '<td style="text-align:center;" class="ot_4" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                            grid_html += '<td style="text-align:center;" class="ot_5" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';
                            grid_html += '  <td style="text-align:center;" class="ot_6"><span class="clsActualTime">' + data.StartTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.StartTime + '" size="10"  /></p></td>';
                            grid_html += '  <td style="text-align:center;" class="ot_7"><span class="clsActualTime">' + data.EndTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.EndTime + '" size="10"  /></p></td>';
                            if (CountryId == 7 || CountryId == 10)
                                grid_html += '<td class="ot_8">' + data.DayType + '</td>';
                            if (CountryId != 8 && CountryId != 9 && CountryId != 11 && CountryId != 12 && CountryId != 13) {
                                grid_html += '<td class="ot_9">' + data.Amount + '</td>';
                            }
                            if (CountryId == 8 || CountryId == 9) {
                                grid_html += '<td class="ot_7">' + data.AllowanceType + '</td>';
                                grid_html += '<td class="ot_3" title="' + data.InputRemarks + '">' + InputRemarks + '</td>';
                            }
                            //grid_html += '<td class="ot_10">' + data.NoOfHours + '</td>';
                            ////grid_html += '<td class="ot13">' + data.TotalHours + '</td>';
                            grid_html += '<td class="ot_13" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                            grid_html += '<td class="ot_2">' + data.AssociateID + '</td>';
                            grid_html += '<td class="ot_3">' + data.ProjectID + '</td>';

                            grid_html += '<td style="text-align:center;" class="ot_4" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                            grid_html += '<td style="text-align:center;" class="ot_5" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';
                            grid_html += '  <td style="text-align:center;" class="ot_6"><span class="clsActualTime">' + data.StartTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.StartTime + '" size="10"  /></p></td>';
                            grid_html += '  <td style="text-align:center;" class="ot_7"><span class="clsActualTime">' + data.EndTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.EndTime + '" size="10"  /></p></td>';
                            if (CountryId == 7 || CountryId == 10)
                                grid_html += '<td class="ot_8">' + data.DayType + '</td>';
                            if (CountryId != 8 && CountryId != 9 && CountryId != 11 && CountryId != 12 && CountryId != 13) {
                                grid_html += '<td class="ot_9">' + data.Amount + '</td>';
                            }
                            if (CountryId == 8 || CountryId == 9) {
                                grid_html += '<td class="ot_7">' + data.AllowanceType + '</td>';
                                grid_html += '<td class="ot_3" title="' + data.InputRemarks + '">' + InputRemarks + '</td>';
                            }

                            ////grid_html += '<td class="ot13">' + data.TotalHours + '</td>';
                            grid_html += '<td class="ot_13" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }
                }
            });

            $('#tbl_oncall').find('tbody').html('').html(grid_html);
        }


        else {
            $("#tbl_oncall").append("<tr class='even' id='NoData'><td colspan='15' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    // oca- china, aus, NZ
    else if ((componentGroupId == 21 && CountryId == 7) || ((componentGroupId == 39 || componentGroupId == 101) && (CountryId == 7 || CountryId == 8 || CountryId == 9))) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#customize").hide();
        if (CountryId == 7 || CountryId == 8) {
            $("#mailattach").hide();
        }
        else {
            $("#mailattach").show();
        }
        $('#divStatutoryPayout').show();
        $('#divStatutoryPayout .dataTableScroll').css('display', 'block');
        $('#tbl_Statutory').css('display', 'block');
        $('#divStatutoryPayout .viewport').css('display', 'block');
        $('#divStatutoryPayout .viewport').css('overflow', 'scroll');

        $('#tbl_Statutory').find('tbody').html('');
        $('#tbl_Statutory').css('display', 'block');
        $('#tbl_Statutory .viewport').css('display', 'block');

        $("#disLabel").css("margin-left", "-13px");
        $("#mailattach").css("left", "-21px");
        // $("#ulRecord li").css("width", "");
        $("#ulRecord li").addClass("mleft50");
        //$("#ulRecord li").css("margin-left", "250px");
        //$("#ulRecord li").css("margin-top", "");
        $("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");

        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';

        if (CountryId == 7) {
            htmldata += '<tr><th class="ot1"><input type="checkbox" id="chkvalid" /></th>';
            htmldata += ' <th id="Th5" class="sort OCA_APAC" column="AssociateID">Associate ID </th>';
            htmldata += ' <th class="OCA_APAC">ProjectId </th>';
            htmldata += ' <th class="sort OCA_APAC">Type of Day</th>';
            htmldata += ' <th class="sort OCA_APAC" column="Criteria">Criteria </th>';
            htmldata += ' <th class="OCA_APAC" column="StartDate">Start Date</th>';
            htmldata += ' <th class="OCA_APAC" column="EndDate">End Date</th>';
            htmldata += ' <th class="OCA_APAC" column="StartTime">Start Time</th>';
            htmldata += ' <th class="OCA_APAC" column="EndTime">End Time</th>';
            htmldata += ' <th class="sort OCA_APAC" column="Amount">Amount </th>';
            htmldata += '<th  class="OCA_APAC" column="ExceptionRemarks">ExceptionRemarks</th>';
            htmldata += ' <th class="ot15">Edit</th></tr>';
        }
        else if (CountryId == 8 && componentGroupId == 101) {
            htmldata += '<tr><th class="ot1"><input type="checkbox" id="chkvalid" /></th>';
            htmldata += ' <th id="Th5" class="sort OCA_AUS_standBy" column="AssociateID">Associate ID </th>';
            htmldata += ' <th class="OCA_AUS_standBy">ProjectId </th>';
            htmldata += ' <th class="OCA_AUS_standBy" column="ClaimDate">Date</th>';
            htmldata += ' <th class="OCA_AUS_standBy" column="NoOfHrs">Hours Stand-By</th>';
            htmldata += '<th class="OCA_AUS_standBy" column="ExceptionRemarks">ExceptionRemarks</th>';
            htmldata += '<th class="OCA_AUS_standBy" column="AssociateRemarks">Associate Remarks</th>';
            htmldata += '<th style="width:80px;">Edit</th></tr>';
        }
        else {
            htmldata += '<tr><th class="ot1"><input type="checkbox" id="chkvalid" /></th>';
            htmldata += ' <th id="Th5" class="sort OCA_APAC_AUS" column="AssociateID">Associate ID </th>';
            htmldata += ' <th class="OCA_APAC_AUS">ProjectId </th>';
            htmldata += ' <th class="OCA_APAC_AUS" column="StartDate">Start Date</th>';
            htmldata += ' <th class="OCA_APAC_AUS" column="EndDate">End Date</th>';
            htmldata += ' <th class="OCA_APAC_AUS" column="StartTime">Start Time</th>';
            htmldata += ' <th class="OCA_APAC_AUS" column="EndTime">End Time</th>';
            if (CountryId != 8 && CountryId != 9) {
                htmldata += ' <th class="sort OCA_APAC_AUS" column="Amount">Amount </th>';
            }
            else if (CountryId == 8 || CountryId == 9) {
                htmldata += '<th class="OCA_APAC_AUS" column="AssociateRemarks">Associate Remarks</th>';
            }
            htmldata += '<th class="OCA_APAC_AUS" column="ExceptionRemarks">ExceptionRemarks</th>';
            htmldata += '<th style="width:80px;">Edit</th></tr>';
        }
        $('#tbl_Statutory').find('thead').html('').html(htmldata);

        if (msg.d.length > 0) {
            $("#divStatutoryPayout .refPage").css("display", "block");

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                var InputRemarks = '';
                if (data.ExceptionRemarks != null) {
                    expremarks = (data.ExceptionRemarks.length > 20) ? data.ExceptionRemarks.substring(0, 20) + '...' : data.ExceptionRemarks;
                }
                if (data.InputRemarks != null) {
                    InputRemarks = (data.InputRemarks.length > 20) ? data.InputRemarks.substring(0, 20) + '...' : data.InputRemarks;
                }
                if (CountryId == 7) {
                    daytype = (data.DayType.length > 20) ? data.DayType.substring(0, 20) + '...' : data.DayType;
                    criteria = (data.Criteria.length > 20) ? data.Criteria.substring(0, 20) + '...' : data.Criteria;
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var gridMailIdval = "";

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="checkexp" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="checkexp" id=' + (i + 1) + ' /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="checkexp" id=' + (i + 1) + ' /></td>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="checkexp" id=' + (i + 1) + ' /></td>';
                        }
                    }
                }

                if (CountryId == 7) {
                    grid_html += '<td class="OCA_APAC">' + data.AssociateID + '</td>';
                    grid_html += '<td class="OCA_APAC">' + data.ProjectID + '</td>';
                    grid_html += '<td class="OCA_APAC" title="' + data.DayType + '">' + daytype + '</td>';
                    grid_html += '<td class="OCA_APAC" title="' + data.Criteria + '">' + criteria + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_APAC" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_APAC" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_APAC"><span class="clsActualTime">' + data.StartTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.StartTime + '" size="10"  /></p></td>';
                    grid_html += '<td style="text-align:center;" class="OCA_APAC"><span class="clsActualTime">' + data.EndTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.EndTime + '" size="10"  /></p></td>';
                    grid_html += '<td class="OCA_APAC">' + data.Amount + '</td>';
                    grid_html += '<td class="OCA_APAC" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';

                }
                else if (CountryId == 8 && componentGroupId == 101) {
                    grid_html += '<td class="OCA_AUS_standBy">' + data.AssociateID + '</td>';
                    grid_html += '<td class="OCA_AUS_standBy">' + data.ProjectID + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_AUS_standBy" ClaimDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_AUS_standBy" NoOfHrs="' + data.NoOfHours + '" >' + data.NoOfHours + '</td>';
                    grid_html += '<td class="OCA_AUS_standBy" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                    grid_html += '<td class="OCA_AUS_standBy" title="' + data.InputRemarks + '">' + InputRemarks + '</td>';
                }
                else {
                    grid_html += '<td class="OCA_APAC_AUS">' + data.AssociateID + '</td>';
                    grid_html += '<td class="OCA_APAC_AUS">' + data.ProjectID + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_APAC_AUS" StartDate="' + data.StartDate + '" >' + data.StartDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_APAC_AUS" EndDate="' + data.EndDate + '" >' + data.EndDate + '</td>';
                    grid_html += '<td style="text-align:center;" class="OCA_APAC_AUS"><span class="clsActualTime">' + data.StartTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.StartTime + '" size="10"  /></p></td>';
                    grid_html += '<td style="text-align:center;" class="OCA_APAC_AUS"><span class="clsActualTime">' + data.EndTime + '</span><p class="clsTimeHolder"><input type="text" class="defaultEntry abc" value="' + data.EndTime + '" size="10"  /></p></td>';
                    if (CountryId != 8 && CountryId != 9) {
                        grid_html += '<td class="OCA_APAC_AUS">' + data.Amount + '</td>';
                    }
                    if (CountryId == 8 || CountryId == 9) {
                        grid_html += '<td class="OCA_APAC_AUS" title="' + data.InputRemarks + '">' + InputRemarks + '</td>';
                    }
                    grid_html += '<td class="OCA_APAC_AUS" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';
                }
                if (cutoff_date == NaN) {
                    grid_html += '<td width="80px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width=80px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted") {
                            grid_html += '<td width="80px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<td width="80px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }
                }
            });

            $('#tbl_Statutory').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_Statutory").append("<tr class='even' id='NoData'><td colspan='15' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    else if (componentGroupId == 21 && CountryId == 4) {
        $("#mailattach").addClass('disabled');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#customize").hide();

        $('#divStatutoryPayout').show();
        $('#divStatutoryPayout .dataTableScroll').css('display', 'block');
        $('#tbl_Statutory').css('display', 'block');
        $('#divStatutoryPayout .viewport').css('display', 'block');
        $('#divStatutoryPayout .viewport').css('overflow', 'scroll');
        $('#tbl_Statutory').find('tbody').html('');
        $('#tbl_Statutory').css('display', 'block');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        $("#ulRecord li").css("width", "");
        $("#ulRecord li").addClass("mleft50");
        //$("#ulRecord li").css("margin-left", "250px");
        //$("#ulRecord li").css("margin-top", "");
        $("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");

        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="ot1"><input type="checkbox" id="ocvalid" /></th>';
        htmldata += ' <th id="Th5" class="sort ot2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="sort ot3">ProjectId </th>';
        htmldata += '<th class="APtd3">PayrollMonth </th>';
        htmldata += '<th class="APtd4">year </th>';
        htmldata += '<th class="APtd4">OT Hours </th>';
        htmldata += '<th class="APtd4">Type </th>';
        htmldata += '<th class="APtd4">Amount </th>';
        htmldata += '<th width="110px" class="sort ot15" column="ExceptionRemarks">ExceptionRemarks</th>';
        htmldata += ' <th class="ot15">Edit</th></tr>';
        $('#tbl_Statutory').find('thead').html('').html(htmldata);


        if (msg.d.length > 0) {
            $("#divStatutoryPayout .refPage").css("display", "block");

            var classname = '';


            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var gridMailIdval = "";

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="OTValid" id=' + (i + 1) + ' /></td>';
                        }
                    }
                }
                grid_html += '<td class="ot2">' + data.AssociateID + '</td>';
                grid_html += '<td class="ot3">' + data.ProjectID + '</td>';
                grid_html += '<td class="ot10">' + data.PayrollMonth + '</td>';
                grid_html += '<td class="ot11">' + data.Year + '</td>';
                grid_html += '<td class="ot11">' + data.OT_Hours + '</td>';
                grid_html += '<td class="ot11">' + data.Type + '</td>';
                grid_html += '<td class="ot11">' + data.Amount + '</td>';
                grid_html += '<td class="ot13">' + data.SpecialCaseReason + '</td>';
                grid_html += '<td class="ot14">' + data.ExceptionRemarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }
                }
            });

            $('#tbl_Statutory').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_Statutory").append("<tr class='even' id='NoData'><td colspan='15' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (((componentGroupId == 51 || componentGroupId == 45) && CountryId == 15) || (componentGroupId == 53 && (CountryId == 18 || CountryId == 19))) {
        $("#ulRecord").css('display', 'block');
        $('#mailattach').addClass('disabled');
        if (componentGroupId == 45 || (componentGroupId == 53 && (CountryId == 18 || CountryId == 19))) {
            $('#mailattach').css('display', 'none');
        }
        else {
            $('#mailattach').css('display', 'block');
        }
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#customize").hide();

        $('#divWellness').show();
        $('#divWellness .dataTableScroll').css('display', 'block');
        $('#tbl_Wellness').css('display', 'block');
        $('#divWellness .viewport').css('display', 'block');
        $('#divWellness .viewport').css('overflow', 'scroll');

        $('#tbl_Wellness').find('tbody').html('');
        $('#tbl_Wellness').css('display', 'block');
        $('#tbl_Wellness .viewport').css('display', 'block');

        $("#ulRecord").css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#ulRecord li").addClass("mleft50");
        if (componentGroupId == 45) {
            $("#ulRecord li").css("left", "400px");
        }
        else {
            $("#ulRecord li").css("left", "300px");
        }
        //$("#mailattach").css("top", "-29px");
        //$("#mailattach").css("left", "503px");
        $('.new_btn').css("margin-left", "13px");
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        getTotalPages();
        $("#NoData").remove();
        if (componentGroupId == 53 && (CountryId == 18 || CountryId == 19)) {
            $(".delete_btn").css("margin-left", "300px");
        }
        var htmldata = '';

        htmldata += '<tr><th class="WBtdexp1"><input type="checkbox" id="WBExceptionchk" /></th>';
        htmldata += '<th id="Th5" class="sort WBtdexp2" column="AssociateID">Associate ID </th>';
        htmldata += '<th class="WBtdexp3">Associate Name </th>';
        htmldata += '<th class="WBtdexp4">Payroll Month </th>';

        if (componentGroupId == 51) {
            htmldata += '<th class="WBtdexp5">Year </th>';
            htmldata += '<th class="WBtdexp6">AssignmentStartDate</th>';
            htmldata += '<th class="sort WBtdexp7">Amount </th>';
            htmldata += '<th width="110px" class="sort WBtdexp8">ExceptionRemarks</th>';
        }
        else if (componentGroupId == 53 && (CountryId == 18 || CountryId == 19)) {
            htmldata += '<th class="WBtdexp5">Payroll Year </th>';
            htmldata += '<th class="WBtdexp6">Leave Start Date</th>';
            htmldata += '<th class="WBtdexp7">Leave End Date </th>';
            htmldata += '<th class="WBtd6" column="NumberOfDays">KIT Days</th>';
            htmldata += '<th width="110px" class="WBtdexp8">ExceptionRemarks</th>';
        }
        else {
            htmldata += '<th class="WBtdexp5">Year </th>';
            htmldata += '<th class="sort WBtdexp6">Amount </th>';
            htmldata += '<th class="sort WBtdexp8" column="PayoutType">PayoutType</th>';
            htmldata += '<th class="sort WBtd6" column="NumberOfDays">No Of Days</th>';
            htmldata += '<th width="110px" class="sort WBtdexp8">ExceptionRemarks</th>';
        }
        htmldata += '<th class="WBtdexp9">Edit</th></tr>';
        $('#tbl_Wellness').find('thead').html('').html(htmldata);

        if (msg.d.length > 0) {
            $("#divWellness .refPage").css("display", "block");

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var expremarks = '';
                if (data.ExceptionReason != null) {
                    expremarks = (data.ExceptionReason.length > 20) ? data.ExceptionReason.substring(0, 20) + '...' : data.ExceptionReason;
                }
                //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var gridMailIdval = "";

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' ><td width="35px" class="WBtdexp1"><input type="checkbox" class="WBvalid" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' ><td width="35px" class="WBtdexp1"><input type="checkbox" class="WBvalid" id=' + (i + 1) + ' /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="WBtdexp1" id=' + (i + 1) + ' /></td>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="WBtdexp1" id=' + (i + 1) + ' /></td>';
                        }
                    }
                }
                grid_html += '<td class="WBtdexp2">' + data.AssociateID + '</td>';
                grid_html += '<td class="WBtdexp3">' + data.AssociateName + '</td>';
                grid_html += '<td class="WBtdexp4">' + data.PayrollMonth + '</td>';
                grid_html += '<td class="WBtdexp5">' + data.Year + '</td>';

                if (componentGroupId == 51) {
                    grid_html += '<td class="WBtdexp6">' + data.AssignmentStartDate + '</td>';
                    grid_html += '<td class="WBtdexp7">' + data.Amount + '</td>';

                }
                else if (componentGroupId == 53) {
                    grid_html += '<td class="WBtdexp6">' + data.StartDate + '</td>';
                    grid_html += '<td class="WBtdexp7">' + data.EndDate + '</td>';
                    grid_html += '<td class="WBtdexp1">' + data.Amount + '</td>';
                }
                else {
                    grid_html += '<td class="WBtdexp1">' + data.Amount + '</td>';
                    grid_html += '<td class="WBtdexp1">' + data.PayoutType + '</td>';
                    grid_html += '<td class="WBtdexp1">' + data.NumberOfDays + '</td>';
                }
                grid_html += '<td class="WBtdexp8" title="' + data.ExceptionReason + '">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                    }
                }
            });

            $('#tbl_Wellness').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_Wellness").append("<tr class='even' id='NoData'><td colspan='15' class='text-center' style='width:105%;'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if ((componentGroupId == 47 || (componentGroupId == 48 && CountryId != 17))) {
        $("#ulRecord").css('display', 'block');
        $('#mailattach').removeClass('disabled');
        $('#mailattach').css('display', 'none');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#customize").hide();

        $('#divMobileTaxation').show();
        $('#divMobileTaxation .dataTableScroll').css('display', 'block');
        $('#tbl_MobileTaxation').css('display', 'block');
        $('#divMobileTaxation .viewport').css('display', 'block');
        $('#divMobileTaxation .viewport').css('overflow', 'scroll');
        $('#tbl_MobileTaxation').find('tbody').html('');
        $('#tbl_MobileTaxation').css('display', 'block');
        $('#tbl_MobileTaxation .viewport').css('display', 'block');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        $("#ulRecord li").css("width", "");
        $("#ulRecord li").addClass("mleft50");
        //$("#ulRecord li").css("margin-left", "-85px");
        //$("#ulRecord li").css("margin-top", "");
        $("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");

        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="MTtd1"><input type="checkbox" id="WBExceptionchk" /></th>';
        htmldata += '<th id="Th5" class="sort MTtd2" column="AssociateID">Associate ID </th>';
        htmldata += '<th class="MTtd3">AssociateName </th>';
        htmldata += '<th class="MTtd4">AssignmentStartDate</th>';
        htmldata += '<th class="MTtd5">StartDate</th>';
        htmldata += '<th class="MTtd6">EndDate</th>';
        htmldata += '<th class="sort MTtd7" column="PayoutType">PayoutType</th>';
        htmldata += '<th class="sort MTtd8" column="Amount">Amount </th>';
        htmldata += '<th width="110px" class="sort MTtd9" column="ExceptionReason">ExceptionRemarks</th>';

        htmldata += '<th class="MBtd10">Edit</th></tr>';
        $('#tbl_MobileTaxation').find('thead').html('').html(htmldata);

        if (msg.d.length > 0) {
            $("#divMobileTaxation .refPage").css("display", "block");

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var expremarks = '';
                if (data.ExceptionReason != null) {
                    expremarks = (data.ExceptionReason.length > 20) ? data.ExceptionReason.substring(0, 20) + '...' : data.ExceptionReason;
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var gridMailIdval = "";

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' ><td width="35px" class="MTtd1"><input type="checkbox" class="WBvalid" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' ><td width="35px" class="MTtd1"><input type="checkbox" class="WBvalid" id=' + (i + 1) + ' /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="MTtd1" id=' + (i + 1) + ' /></td>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="MTtd1" id=' + (i + 1) + ' /></td>';
                        }
                    }
                }
                grid_html += '<td class="MTtd2">' + data.AssociateID + '</td>';
                grid_html += '<td class="MTtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="MTtd4">' + data.AssignmentStartDate + '</td>';
                grid_html += '<td class="MTtd5">' + data.StartDate + '</td>';
                grid_html += '<td class="MTtd6">' + data.EndDate + '</td>';
                grid_html += '<td class="MTtd7">' + data.PayoutType + '</td>';
                grid_html += '<td class="MTtd8">' + data.Amount + '</td>';
                grid_html += '<td class="MTtd9" title="' + data.ExceptionReason + '">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                    }
                }
            });

            $('#tbl_MobileTaxation').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_MobileTaxation").append("<tr class='even' id='NoData'><td colspan='10' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#WBExceptionchk').attr("disabled", "disabled");
        }
    }

    else if ((componentGroupId == 48 && CountryId == 17)) {
        if (RoleId == 19) {
            $('#dwnload_Data').hide();;
            $('#dwnload_Report').css('float', 'right');
        }
        $("#ulRecord").css('display', 'block');
        $('#mailattach').hide();
        $('#mailattach').removeClass('disabled');
        $('#mailattach').css('display', 'none');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#customize").hide();

        $('#divMobileTaxation').show();
        $('#divMobileTaxation .dataTableScroll').css('display', 'block');
        $('#tbl_MobileTaxation').css('display', 'block');
        $('#divMobileTaxation .viewport').css('display', 'block');
        $('#divMobileTaxation .viewport').css('overflow', 'scroll');
        $('#tbl_MobileTaxation').find('tbody').html('');
        $('#tbl_MobileTaxation .viewport').css('display', 'block');

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        $("#ulRecord li").css("width", "");
        $("#ulRecord li").addClass("mleft50");
        //$("#ulRecord li").css("margin-left", "250px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#ulRecord li").css("left", "200px");
        $('.new_btn').css("margin-left", "13px");
        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';
        htmldata += '<tr><th class="MTtd1"><input type="checkbox" id="WBExceptionchk" /></th>';
        htmldata += ' <th class="sort MTtd2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="MTtd3" column="AssociateName">Associate Name </th>';
        htmldata += ' <th class="MTtd4">Assignment Start Date</th>';
        htmldata += ' <th class="MTtd5">Invoice Amount</th>';
        htmldata += ' <th class="MTtd6">Transportation Type</th>';
        htmldata += ' <th class="MTtd7">Month of Declaration</th>';
        htmldata += ' <th class="MTtd7">Payroll year</th>';
        htmldata += ' <th class="MTtd7">Frequnecy Type</th>';
        htmldata += ' <th class="MTtd7">Declaring Multiple Allowance</th>';
        //htmldata += ' <th class="MTtd7">Pass Availed</th>';
        //htmldata += ' <th class="MTtd7">Pass Amount</th>';
        htmldata += ' <th class="MTtd7">ApprovalMail</th>';
        htmldata += ' <th class="MTtd7">InVoice</th>';
        htmldata += ' <th class="MTtd7">Declaration</th>';
        //htmldata += ' <th class="MTtd7">Payout Type</th>';
        htmldata += '<th width="110px" class="sort MTtd9" column="ExceptionReason">ExceptionRemarks</th>';
        htmldata += '<th class="MBtd10">Edit</th></tr>';
        $('#tbl_MobileTaxation').find('thead').html('').html(htmldata);
        $('#tbl_MobileTaxation').css('font-size', '13px');

        if (msg.d.length > 0) {
            $("#divMobileTaxation .refPage").css("display", "block");

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var expremarks = '';
                if (data.ExceptionReason != null) {
                    expremarks = (data.ExceptionReason.length > 20) ? data.ExceptionReason.substring(0, 20) + '...' : data.ExceptionReason;
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var gridMailIdval = "";

                if (data.FileUploadID == 0) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileUploadID + ' class="mail_btn" fileuploadid=' + data.FileUploadID + '/>';
                }

                var invoiceMailIdval = "";

                if (data.InVoice == 0) {
                    invoiceMailIdval = "<div></div>";
                }
                else {
                    invoiceMailIdval = '<input type="button" style="cursor:pointer" id=' + data.InVoice + ' class="mail_btn" fileuploadid=' + data.InVoice + '/>';
                }
                var Decl = "";

                if (data.DeclarationForm == 0 || data.DeclarationForm == 'undefined') {
                    Decl = "<div></div>";
                }
                else {
                    Decl = '<input type="button" style="cursor:pointer" id=' + data.DeclarationForm + ' class="mail_btn" fileuploadid=' + data.DeclarationForm + '/>';
                }
                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' ><td width="35px" class="MTtd1"><input type="checkbox" class="WBvalid" id=' + (i + 1) + ' /></td>';
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' ><td width="35px" class="MTtd1"><input type="checkbox" class="WBvalid" id=' + (i + 1) + ' /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="MTtd1" id=' + (i + 1) + ' /></td>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_OnCall_OverTime_AllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="MTtd1" id=' + (i + 1) + ' /></td>';
                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                    }
                }

                grid_html += '<td class="MBtd2">' + data.AssociateID + '</td>';
                grid_html += '<td class="MBtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="MBtd4">' + data.AssignmentStartDate + '</td>';
                grid_html += '<td class="MBtd5">' + data.Amount + '</td>';
                grid_html += '<td class="MBtd6">' + data.TransportationType + '</td>';
                grid_html += '<td class="MBtd7">' + data.PayrollMonth + '</td>';
                grid_html += '<td class="MBtd7">' + data.Year + '</td>';
                grid_html += '<td class="MBtd7">' + data.FrequencyType + '</td>';
                grid_html += '<td class="MBtd7">' + data.SpecialCaseReason + '</td>';
                //grid_html += '<td class="MBtd7">' + data.BuscardAvailed + '</td>';
                //grid_html += '<td class="MBtd7">' + data.BuscardAmount + '</td>';
                grid_html += '<td class="MBtd7">' + gridMailIdval + '</td>';
                grid_html += '<td class="MBtd7">' + invoiceMailIdval + '</td>';
                grid_html += '<td class="MBtd7">' + Decl + '</td>';
                //grid_html += '<td class="MBtd7">' + data.PayoutType + '</td>';
                grid_html += '<td class="MTtd9" title="' + data.ExceptionReason + '">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                    }
                }
            });

            $('#tbl_MobileTaxation').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_MobileTaxation").append("<tr class='even' id='NoData'><td colspan='15' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#WBExceptionchk').attr("disabled", "disabled");
        }
    }

    else if (componentGroupId == 18 && (CountryId == 14 || CountryId == 15 || CountryId == 16 || CountryId == 17)) {
        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#divApprovalmsg1").css("margin-left", "1px");
        $("#ulRecord").css('display', 'block');
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#ulQuarter").hide();

        $('#divCE_SchoolFee').show();
        $('#tblSchoolfee_CE').css('display', 'block');
        $("#divCE_SchoolFee").css('display', 'block');
        $('#divCE_SchoolFee .dataTableScroll').css('display', 'block');
        $('#divCE_SchoolFee .viewport').css('display', 'block');

        $('#customize').hide();
        $('#disLabel').css('margin-left', '160px');
        //$("#ulRecord li").removeClass("mleft50");

        $('#tblSchoolfee_CE').find('tbody').html('');

        $('#divCE_SchoolFee .viewport').css('overflow', 'scroll');
        //$("#ulRecord li").css("margin-left", "680px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $('.delete_btn').css('margin-left', '15px');
        getTotalPages();

        var htmldata = '';
        htmldata += '<tr><th width="30px"><input type="checkbox" id="CESchoolvalid"/></th>';
        htmldata += '<th class="sort sftbl" column="AssociateID">AssociateID </th>';
        htmldata += '<th class="sftbl">AssociateName </th>';
        htmldata += '<th class="sftbl" column="Child">Child </th>';
        htmldata += '<th class="sort sftbl" column="StartDate">StartDate of <br>Academic Year </th>';
        htmldata += '<th class="sort sftbl" column="EndDate">EndDate of <br>Academic Year</th>';
        htmldata += '<th class="sftbl">Amount</th>';
        htmldata += '<th class="sftbl">No Of Installments </th>';
        htmldata += '<th class="sftbl">FrequencyType </th>';
        htmldata += '<th class="sftbl">FrequencySelection </th>';
        htmldata += '<th class="pkgtbl" column="ExceptionReason" >Exception Reason</th>';
        htmldata += '<th style="width:60px;">Edit </th></tr>';
        $('#tblSchoolfee_CE').find('thead').html('').html(htmldata);

        $("#divCE_SchoolFee .refPage").css("display", "block");
        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            $.each(msg.d, function (i, data) {

                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                if (data.ExceptionRemarks != null) {
                    expremarks = (data.ExceptionRemarks.length > 20) ? data.ExceptionRemarks.substring(0, 20) + '...' : data.ExceptionRemarks;
                }

                var SplCaseMailUploadId = data.SpecialCaseMail;

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_CESchoolFeesID + '><td><input type="checkbox" class="CEsfexp" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_CESchoolFeesID + '><td><input type="checkbox" class="CEsfexp" id=' + (i + 1) + ' /></td>';
                } else {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_CESchoolFeesID + '><td><input type="checkbox" class="CEsfexp" id=' + (i + 1) + ' disabled="true" /></td>';
                }

                grid_html += '<td class="pkgtbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="pkgtbl">' + data.AssociateName + '</td>';
                grid_html += '<td class="pkgtbl">' + data.ChildType + '</td>';
                grid_html += '<td class="pkgtbl">' + data.StartDate + '</td>';
                grid_html += '<td class="pkgtbl">' + data.EndDate + '</td>';
                grid_html += '<td class="pkgtbl" style="text-align:center;" Amount1="' + data.Amount + '">' + data.Amount + '</td>';
                grid_html += '<td class="pkgtbl">' + data.NumberOfInstallment + '</td>';
                grid_html += '<td class="pkgtbl">' + data.FrequencyType + '</td>';
                grid_html += '<td class="pkgtbl">' + data.FrequencySelection + '</td>';
                grid_html += '<td class="pkgtbl" title="' + data.ExceptionRemarks + '" style="text-align:center;">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
            });

            $('#tblSchoolfee_CE').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSchoolfee_CE").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }
    else if ((componentGroupId == 52)) {
        $("#ulRecord").css('display', 'block');
        $('#mailattach').removeClass('disabled');
        $('#mailattach').css('display', 'none');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#customize").hide();

        $('#divMobileTaxation').show();
        $('#divMobileTaxation .dataTableScroll').css('display', 'block');
        $('#tbl_MobileTaxation').css('display', 'block');
        $('#divMobileTaxation .viewport').css('display', 'block');
        $('#divMobileTaxation .viewport').css('overflow', 'scroll');

        $('#tbl_MobileTaxation').find('tbody').html('');
        $('#tbl_MobileTaxation').css('display', 'block');
        $('#tbl_MobileTaxation .viewport').css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        $("#ulRecord li").css("width", "");
        $("#ulRecord li").addClass("mleft50");
        //$("#ulRecord li").css("margin-left", "250px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#ulRecord li").css("left", "200px");
        $('.delete_btn').css("margin-left", "350px");

        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="WBExceptionchk" /></th>';
        htmldata += '<th id="Th5" class="sort LVtd2" column="AssociateID">Associate ID </th>';
        htmldata += '<th class="LVtd3">AssociateName </th>';
        htmldata += ' <th class="LVtd3">PayrollMonth</th>';
        htmldata += ' <th class="LVtd4">PayrollYear</th>';
        htmldata += ' <th class="LVtd5">No Of Leaves</th>';
        htmldata += ' <th class="LVtd5">Training / </br>Client Lunch</th>';
        htmldata += ' <th class="sort LVtd6" column="SpecialCaseReason">SpecialCaseReason</th>';
        htmldata += ' <th class="LVtd7">SpecialCaseMail</th>';
        htmldata += ' <th class="LVtd10">No Of Holidays </br> Worked</th>';
        htmldata += ' <th class="LVtd10">No Of Lunch </br> voucher Eligible</th>';
        htmldata += '<th width="110px" class="LVtd8">ExceptionRemarks</th>';
        htmldata += '<th width="60px">Edit</th></tr>';
        $('#tbl_MobileTaxation').find('thead').html('').html(htmldata);

        if (msg.d.length > 0) {
            $("#divMobileTaxation .refPage").css("display", "block");

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var expremarks = '';
                if (data.ExceptionReason != null) {
                    expremarks = (data.ExceptionReason.length > 20) ? data.ExceptionReason.substring(0, 20) + '...' : data.ExceptionReason;
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var gridMailIdval = "";

                if ((data.SplCaseMail == 0) || (data.SplCaseMail == null)) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMail + ' class="mail_btn" fileuploadid=' + data.FileUploadID + '/>';
                }

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InCityOnsiteAllowance + ' ><td width="35px" class="LVtd1"><input type="checkbox" class="WBvalid" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InCityOnsiteAllowance + ' ><td width="35px" class="LVtd1"><input type="checkbox" class="WBvalid" id=' + (i + 1) + ' /></td>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InCityOnsiteAllowance + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="LVtd1" id=' + (i + 1) + ' /></td>';
                        }
                        else {
                            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_InCityOnsiteAllowance + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="LVtd1" id=' + (i + 1) + ' /></td>';
                        }
                    }
                }
                grid_html += '<td class="LVtd2">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3">' + data.PayrollMonth + '</td>';
                grid_html += '<td class="LVtd4">' + data.Year + '</td>';
                grid_html += '<td class="LVtd5">' + data.LeaveDays + '</td>';
                grid_html += '<td class="LVtd5">' + data.TrainingDays + '</td>';
                grid_html += '<td class="LVtd6">' + data.SpecialCaseReason + '</td>';
                grid_html += '<td class="LVtd7">' + gridMailIdval + '</td>';
                grid_html += '<td class="LVtd10">' + data.HolidaysWorked + '</td>';
                grid_html += '<td class="LVtd10">' + data.EligibleDays + '</td>';
                grid_html += '<td class="LVtd8;" title="' + data.ExceptionReason + '">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted") {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                        }
                        else {
                            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                        }
                    }
                    else {
                        grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                    }
                }
            });

            $('#tbl_MobileTaxation').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_MobileTaxation").append("<tr class='even' id='NoData'><td colspan='13' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#WBExceptionchk').attr("disabled", "disabled");
        }
    }
    else if ((componentGroupId == 56)) {
        $("#ulRecord").css('display', 'block');
        $('#mailattach').removeClass('disabled');
        $('#mailattach').css('display', 'none');
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $("#customize").hide();

        $('#divUK_Travel').show();
        $('#divUK_Travel .dataTableScroll').css('display', 'block');
        $('#tblTravelUK').css('display', 'block');
        $('#divUK_Travel .viewport').css('display', 'block');
        $('#divUK_Travel .viewport').css('overflow', 'scroll');

        $('#tblTravelUK').find('tbody').html('');
        $('#tblTravelUK').css('display', 'block');
        $('#tblTravelUK .viewport').css('display', 'block');
        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        $("#ulRecord li").css("width", "");
        $("#ulRecord li").addClass("mleft50");
        //$("#ulRecord li").css("margin-left", "250px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#ulRecord li").css("left", "200px");
        if (CountryId != 18 && CountryId != 19) {
            $('.delete_btn').css("margin-left", "350px");
        }

        $(".delete_btn").css("margin-left", "175px");



        getTotalPages();
        $("#NoData").remove();
        var htmldata = '';

        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="WBExceptionchk" /></th>';
        htmldata += '<th id="Th5" class="sort LVtd2" column="AssociateID">Associate ID </th>';
        htmldata += '<th class="LVtd3">AssociateName </th>';
        htmldata += ' <th class="LVtd3">AdvisedMonth</th>';
        htmldata += ' <th class="LVtd4">Year</th>';
        htmldata += ' <th class="LVtd5">Amount</th>';
        htmldata += ' <th class="LVtd6">NoOfPayments</th>';
        htmldata += ' <th class="LVtd7">FrequencyType</th>';
        htmldata += ' <th class="sort LVtd8" column="ProjectID">ProjectID</th>';
        htmldata += ' <th class="LVtd9">AccountID</th>';
        htmldata += '<th width="110px" class="LVtd9">ExceptionRemarks</th>';
        htmldata += '<th width="60px">Edit</th></tr>';
        $('#tblTravelUK').find('thead').html('').html(htmldata);

        if (msg.d.length > 0) {
            $("#divUK_Travel .refPage").css("display", "block");

            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var expremarks = '';
                if (data.ExceptionReason != null) {
                    expremarks = (data.ExceptionReason.length > 20) ? data.ExceptionReason.substring(0, 20) + '...' : data.ExceptionReason;
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                // End date//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var gridMailIdval = "";

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' ><td width="35px" class="LVtd1"><input type="checkbox" class="WBvalid" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' ><td width="35px" class="LVtd1"><input type="checkbox" class="WBvalid" id=' + (i + 1) + ' /></td>';
                }
                //else {
                //    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                //        if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                //            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="LVtd1" id=' + (i + 1) + ' /></td>';
                //        }
                //        else {
                //            grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_MaternityAllowanceID + ' status=' + data.Status + '><td width="35px"><input type="checkbox" class="LVtd1" id=' + (i + 1) + ' /></td>';
                //        }
                //    }
                //}
                grid_html += '<td class="LVtd2">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3">' + data.PayrollMonth + '</td>';
                grid_html += '<td class="LVtd4">' + data.Year + '</td>';
                grid_html += '<td class="LVtd5">' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5">' + data.NoOfPayments + '</td>';
                grid_html += '<td class="LVtd6">' + data.FrequencyType + '</td>';
                grid_html += '<td class="LVtd7">' + data.ProjectID + '</td>';
                grid_html += '<td class="LVtd10">' + data.AccountID + '</td>';
                grid_html += '<td class="LVtd8;" title="' + data.ExceptionReason + '">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                //else {
                //    if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                //        if (data.Status == "Rejected" || data.Status == "Rejectedby Home Manager" || data.Status == "Rejected by Client/Engagement Partner" || data.Status == "Resubmitted after Home Manager rejection" || data.Status == "Resubmitted after Client/Engagement Partner rejection" || data.Status == "Resubmitted") {
                //            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                //        }
                //        else {
                //            grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" /></td></tr>';
                //        }
                //    }
                //}
            });

            $('#tblTravelUK').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblTravelUK").append("<tr class='even' id='NoData'><td colspan='13' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            $('#WBExceptionchk').attr("disabled", "disabled");
        }
    }

    else if (componentGroupId == 75 || (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71 || componentGroupId == 72
        || componentGroupId == 74 || componentGroupId == 73 || ((componentGroupId == 3 || componentGroupId == 29 || componentGroupId == 30
            || componentGroupId == 49) && CountryId == 20)) {
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#SignOnBonus').show();
        $('#mailattach').hide();
        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();

        $("#ulRecord").css('display', 'block');
        $('#SDDetails').hide();
        $('#SignOnBonus').show();
        $('#SignOnBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .viewport').css('display', 'block');
        $('#SignOnBonus .viewport').css('overflow', 'scroll');
        $('#tblSignonBonus').css('display', 'block');
        $('#tblSignonBonus .viewport').css('display', 'block');
        $('#tblSignonBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .refPage').css('display', 'block');
        $('#SignOnBonus').find('tbody').html('');
        $('#SignOnBonus_wrapper').css('display', 'block');

        var htmldata = '';
        htmldata += '<tr><th class="sbtbl1ex"><input type="checkbox" id="sbvalid" />';
        htmldata += '</th><th class="sbrbtbl sort" column="AssociateID">Associate ID</th>';
        htmldata += '<th class="sbrbtbl">Advised Month </th>';
        htmldata += '<th class="sbrbtbl">Advised Year</th>';
        htmldata += '<th class="sbrbtbl">Amount</th>';
        htmldata += '<th class="sbrbtbl">Project ID </th>';
        htmldata += '<th class="sbrbtbl">Payment Date</th>';
        if (((componentGroupId == 3 || componentGroupId == 29 || componentGroupId == 30
            || componentGroupId == 49) && CountryId == 20)) {
            htmldata += '<th class="sbrbtbl">Retention End Date </th>';
            htmldata += '<th class="sbrbtbl">Clawback Type</th>';
        }
        htmldata += '<th class="sbrbtbl">Remarks</th>';
        htmldata += '<th class="sbrbtbl">Exception Reason </th>';
        htmldata += '<th class="sbrbtbl">Edit</th></tr>';

        $('#tblSignonBonus').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "20px");
        if (CountryId == 20) {
            $(".delete_btn").css("margin-left", "155px");
        }
        $("#SignOnBonus .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionReason.length > 30) ? data.ExceptionReason.substring(0, 30) + '...' : data.ExceptionReason;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_SignonBonusID + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_SignonBonusID + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' /></td>';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_SignonBonusID + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + '  disabled="disabled" /></td>';
                }

                grid_html += '<td class="sbrbtbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.Year + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.Amount + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.ProjectId + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.PaymentDate + '</td>';
                if ((componentGroupId == 3 || componentGroupId == 29 || componentGroupId == 30
                    || componentGroupId == 49) && CountryId == 20) {
                    grid_html += '<td class="sbrbtbl">' + data.RetentionEndDate + '</td>';
                    grid_html += '<td class="sbrbtbl">' + data.ClawBackType + '</td>';

                }
                grid_html += '<td class="sbrbtbl">' + data.InputRemarks + '</td>';
                grid_html += '<td class="sbrbtbl" title="' + data.ExceptionReason + '">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
            });

            $('#tblSignonBonus').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSignonBonus").append("<tr class='even' id='NoData'><td colspan='18' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 54 || componentGroupId == 55) {
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#SignOnBonus').show();
        $('#mailattach').hide();
        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();

        $("#ulRecord").css('display', 'block');

        $('#SignOnBonus').show();
        $('#SignOnBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .viewport').css('display', 'block');
        $('#SignOnBonus .viewport').css('overflow', 'scroll');
        $('#tblSignonBonus').css('display', 'block');
        $('#tblSignonBonus .viewport').css('display', 'block');
        $('#tblSignonBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .refPage').css('display', 'block');
        $('#SignOnBonus').find('tbody').html('');
        $('#SignOnBonus_wrapper').css('display', 'block');

        var htmldata = '';
        htmldata += '<tr><th class="sbtbl1ex"><input type="checkbox" id="sbvalid" />';
        htmldata += '</th><th class="sbrbtbl sort" column="AssociateID">Associate ID</th>';
        htmldata += '<th class="sbrbtbl">AdvisedMonth </th>';
        htmldata += '<th class="sbrbtbl">AdvisedYear </th>';
        htmldata += '<th class="sbrbtbl">Assignment</br>BeginDate</th>';
        htmldata += '<th class="sbrbtbl">Amount </th>';
        htmldata += '<th class="sbrbtbl">Currency</th>';
        htmldata += '<th class="sbrbtbl">Comments</th>';
        htmldata += '<th class="sbrbtbl">Exception Reason </th>';
        htmldata += '<th class="sbrbtbl">Edit</th></tr>';

        $('#tblSignonBonus').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "175px");

        $("#SignOnBonus .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_RewardsId + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_RewardsId + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' /></td>';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_RewardsId + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + '  disabled="disabled" /></td>';
                }

                grid_html += '<td class="sbrbtbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.Year + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.BeginDate + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.Amount + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.Currency + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.Comments + '</td>';
                grid_html += '<td class="sbrbtbl" title="' + data.ExceptionRemarks + '">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
            });

            $('#tblSignonBonus').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSignonBonus").append("<tr class='even' id='NoData'><td colspan='18' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }
    else if (componentGroupId == 58) {
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#SignOnBonus').show();
        $('#mailattach').hide();
        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "220px");
        getTotalPages();

        $("#ulRecord").css('display', 'block');

        $('#divMaternityAllowance').show();
        $('#divMaternityAllowance .dataTableScroll').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('display', 'block');
        $('#divMaternityAllowance .viewport').css('overflow', 'scroll');
        $('#tbl_maternity').css('display', 'block');
        $('#tbl_maternity .viewport').css('display', 'block');
        $('#tbl_maternity .dataTableScroll').css('display', 'block');
        $('#divMaternityAllowance .refPage').css('display', 'block');
        $('#divMaternityAllowance').find('tbody').html('');
        $('#divMaternityAllowance_wrapper').css('display', 'block');

        var htmldata = '';
        htmldata += '<tr><th class="APtd1"><input type="checkbox" id="apvalid" /></th>';
        htmldata += ' <th class="sort MAtd2" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="sort MAtd2" column="AssociateID">Associate Name </th>';
        htmldata += ' <th class="sort MAtd5" column="Amount">Advised Month </th>';
        htmldata += ' <th class="MAtd8" column="SplCaseMail">Advised Year</th>';
        htmldata += ' <th class="MAtd3" column="Type">Amount</th>';
        htmldata += ' <th class="sort MAtd4" column="PayrollMonth">Registry Number</th>';
        htmldata += ' <th class="MAtd5" column="PayrollYear">Marital status  </th>';
        htmldata += ' <th class="MAtd5" column="Amount">Relationship with the deceased </th>';
        htmldata += ' <th class="MAtd5" column="Amount">Payment Date </th>';
        htmldata += ' <th class="MAtd5" column="Amount">Remarks </th>';
        htmldata += '<th class="sbrbtbl">Exception Reason </th>';
        htmldata += ' <th class="MAtd5" column="Amount">Copy of death certificate</th>';
        hmldata += '<th class="sbrbtbl">Edit</th></tr>';

        $('#tblSignonBonus').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "155px");
        $("#SignOnBonus .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionRemarks.length > 30) ? data.ExceptionRemarks.substring(0, 30) + '...' : data.ExceptionRemarks;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_RewardsId + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_RewardsId + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' /></td>';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_RewardsId + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + '  disabled="disabled" /></td>';
                }

                grid_html += '<td class="MAtd2">' + data.AssociateID + '</td>';
                grid_html += '<td class="MAtd2">' + data.AssociateName + '</td>';
                grid_html += '<td class="MAtd2">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="MAtd2">' + data.Year + '</td>';
                grid_html += '<td class="MAtd2">' + data.Amount + '</td>';
                grid_html += '<td class="MAtd3">' + data.RegistryNumber + '</td>';
                grid_html += '<td class="MAtd4">' + data.MaritalStatus + '</td>';
                grid_html += '<td class="MAtd5">' + data.Relationship + '</td>';
                grid_html += '<td class="MAtd5">' + data.PaymentDate + '</td>';
                grid_html += '<td class="MAtd5">' + data.InputRemarks + '</td>';
                grid_html += '<td class="MAtd5">' + data.ExceptionReason + '</td>';
                grid_html += '<td class="MBtd7">' + gridMailIdval + '</td>';



                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
            });

            $('#tbl_maternity').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_maternity").append("<tr class='even' id='NoData'><td colspan='18' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }

    else if (componentGroupId == 79 || componentGroupId == 80 || componentGroupId == 81) { //// Sick leave conversion,Ad-hoc payment and Onetime payment bind exception data

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'none');

        $('#SAODetails').show();
        $('#SAODetails').css('display', 'block');
        $('#SAODetails .dataTableScroll').css('display', 'block');
        $('#tbl_SAODetails').css('display', 'table');
        $('#SAODetails .viewport').css('display', 'block');
        $('#SAODetails .viewport').css('overflow', 'scroll');
        $('#SAODetails').find('tbody').html('');
        $('#SAODetails').css('display', 'block');
        $("#ulRecord").css("display", "block");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        $("#ulRecord li").css("width", "");
        $("#ulRecord li").addClass("mleft50");
        //$("#ulRecord li").css("margin-left", "250px");
        //$("#ulRecord li").css("margin-top", "");
        $("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();

        $('#SAODetails').find('tbody').html('');

        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd3">Associate Name </th>';
        htmldata += ' <th class="LVtd3" column="AdvisedMonth">Advised Month</th>';
        htmldata += ' <th class="LVtd3" column="Year">Advised Year</th>';
        htmldata += ' <th class="LVtd6">Amount</th>';
        htmldata += ' <th class="LVtd6">Payment Date</th>';

        if (componentGroupId == 79) {
            htmldata += ' <th class="LVtd6">No of Days to be encashed</th>';
        }
        if (componentGroupId == 81) {
            htmldata += ' <th class="LVtd6">Project ID</th>';
            htmldata += ' <th class="LVtd6">Taxable</th>';
        }
        htmldata += ' <th class="LVtd6">Remarks</th>';
        htmldata += '<th class="LVtd4">Exception Reason</th>'
        htmldata += '<th class="LVtd4">Edit</th>'
        htmldata += ' </tr>';

        $('#tbl_SAODetails').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "155px");
        $("#SAODetails .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {

                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = '';
                if (typeof data.ExceptionReason != 'Undefined') {
                    expremarks = (data.ExceptionReason.length > 15) ? data.ExceptionReason.substring(0, 15) + '...' : data.ExceptionReason;
                }

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();
                if (!data.ProjectID) {
                    data.ProjectID = "N/A";
                }

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd3" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.PaymentDate + '</td>';

                if (componentGroupId == 79) {
                    grid_html += '<td class="LVtd5" >' + data.DaysEncashed + '</td>';
                }
                if (componentGroupId == 81) {
                    grid_html += '<td class="LVtd8" >' + data.ProjectID + '</td>';
                    grid_html += '<td class="LVtd8" >' + data.Taxable + '</td>';
                }
                grid_html += '<td class="LVtd5" >' + data.Remarks + '</td>';
                grid_html += '<td class="LVtd5" title="' + data.ExceptionReason + '">' + expremarks + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="LVtd1"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
                grid_html += '</tr>';
            });

            $('#tbl_SAODetails').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_SAODetails").append("<tr class='even' id='NoData'><td colspan='13' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 83) { //// Lost Admin Access bind exception data

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'none');

        $('#LAADetails').show();
        $('#LAADetails').css('display', 'block');
        $('#LAADetails .dataTableScroll').css('display', 'block');
        $('#tbl_LAADetails').css('display', 'block');
        $('#LAADetails .viewport').css('display', 'block');
        $('#LAADetails .viewport').css('overflow', 'scroll');
        $('#LAADetails').find('tbody').html('');
        $('#LAADetails').css('display', 'block');
        $("#ulRecord").css("display", "block");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        $("#ulRecord li").css("width", "");
        $("#ulRecord li").addClass("mleft50");
        //$("#ulRecord li").css("margin-left", "250px");
        //$("#ulRecord li").css("margin-top", "");
        $("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();

        $('#LAADetails').find('tbody').html('');

        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd3">Associate Name </th>';
        htmldata += ' <th class="LVtd3" column="AdvisedMonth">Advised Month</th>';
        htmldata += ' <th class="LVtd3" column="AdvisedYear">Advised Year</th>';
        htmldata += ' <th class="LVtd6">Principal Amount</th>';
        htmldata += ' <th class="LVtd6">Amortization Amount</th>';
        htmldata += ' <th class="LVtd6">Payment Date</th>';
        htmldata += ' <th class="LVtd6">Remarks</th>';
        htmldata += '<th class="LVtd4">Exception Reason</th>'
        htmldata += '<th class="LVtd4">Edit</th>'
        htmldata += ' </tr>';

        $('#tbl_LAADetails').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "155px");
        $("#LAADetails .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionReason.length > 15) ? data.ExceptionReason.substring(0, 15) + '...' : data.ExceptionReason;

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd3" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.AmortizationAmount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.PaymentDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Remarks + '</td>';
                grid_html += '<td class="LVtd5" title="' + data.ExceptionReason + '">' + expremarks + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="LVtd1"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
                grid_html += '</tr>';
            });

            $('#tbl_LAADetails').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_LAADetails").append("<tr class='even' id='NoData'><td colspan='13' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }

    else if (componentGroupId == 84) { //// HDMF Contribution bind exception data

        $("#mailattach").hide();
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $(".tbl_upload_holder").hide();
        $('.stoppayment_btn').hide();
        $("#customize").hide();
        $('#deletebtn').show();
        $('#SPDetails').css('display', 'none');

        $('#HDMFDetails').show();
        $('#HDMFDetails').css('display', 'block');
        $('#HDMFDetails .dataTableScroll').css('display', 'block');
        $('#tbl_HDMFDetails').css('display', 'block');
        $('#HDMFDetails .viewport').css('display', 'block');
        $('#HDMFDetails .viewport').css('overflow', 'scroll');
        $('#HDMFDetails').find('tbody').html('');
        $('#HDMFDetails').css('display', 'block');
        $("#ulRecord").css("display", "block");

        //$("#disLabel").css("margin-left", "300px");
        $("#customize").css("left", "280px");
        $("#ulRecord li").css("width", "");
        $("#ulRecord li").addClass("mleft50");
        //$("#ulRecord li").css("margin-left", "250px");
        //$("#ulRecord li").css("margin-top", "");
        $("#ulRecord li").css("left", "30px");
        $('.new_btn').css("margin-left", "13px");
        $('#aid1').show();
        getTotalPages();
        $('#aid1').attr("maxlength", "11");
        $('#aid1').numeric();
        $("#NoData").remove();

        $('#HDMFDetails').find('tbody').html('');

        var htmldata = '';
        htmldata += '<tr><th class="LVtd1"><input type="checkbox" id="MTvalidchk" /></th>';
        htmldata += ' <th class="sort LVtd3" column="AssociateID">Associate ID </th>';
        htmldata += ' <th class="LVtd3">Associate Name </th>';
        htmldata += ' <th class="LVtd3" column="AdvisedMonth">Advised Month</th>';
        htmldata += ' <th class="LVtd3" column="Year">Advised Year</th>';
        htmldata += ' <th class="LVtd6">Employee Share Amount</th>';
        htmldata += ' <th class="LVtd6">Start Date</th>';
        htmldata += ' <th class="LVtd6">End Date</th>';
        htmldata += ' <th class="LVtd6">Payment Date</th>';
        htmldata += ' <th class="LVtd6">Remarks</th>';
        htmldata += '<th class="LVtd4">Exception Reason</th>'
        htmldata += '<th class="LVtd4">Edit</th>'
        htmldata += ' </tr>';

        $('#tbl_HDMFDetails').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "155px");
        $("#HDMFDetails .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionReason.length > 15) ? data.ExceptionReason.substring(0, 15) + '...' : data.ExceptionReason;

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();


                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' /></td > ';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_CE_CommonComponentTableID + '><td class="APtd1"><input type="checkbox" class="signonexp" id = ' + (i + 1) + ' disabled= "disabled" /></td > ';
                }

                grid_html += '<td class="LVtd3" column="AssociateID">' + data.AssociateID + '</td>';
                grid_html += '<td class="LVtd3">' + data.AssociateName + '</td>';
                grid_html += '<td class="LVtd3" column="AdvisedMonth">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="LVtd4" column="Year">' + data.AdvisedYear + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Amount + '</td>';
                grid_html += '<td class="LVtd5" >' + data.StartDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.EndDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.PaymentDate + '</td>';
                grid_html += '<td class="LVtd5" >' + data.Remarks + '</td>';

                grid_html += '<td class="LVtd5" title="' + data.ExceptionReason + '">' + expremarks + '</td>';
                if (cutoff_date == NaN) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="LVtd1"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="LVtd1"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled = "disabled" /></td ></tr > ';
                }
                grid_html += '</tr>';
            });

            $('#tbl_HDMFDetails').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tbl_HDMFDetails").append("<tr class='even' id='NoData'><td colspan='13' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
            //$('.btnlist').hide();
        }
    }
    else if (componentGroupId == 94) {
        $("#divApprovalmsg1").show();
        $("#ulQuarter").hide();
        $('#SignOnBonus').show();
        $('#mailattach').hide();
        $('#customize').hide();
        $('#disLabel').css('margin-left', '300px');
        $('.error_msg_reject').css("left", "150px");
        getTotalPages();

        $("#ulRecord").css('display', 'block');

        $('#SignOnBonus').show();
        $('#SignOnBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .viewport').css('display', 'block');
        $('#SignOnBonus .viewport').css('overflow', 'scroll');
        $('#tblSignonBonus').css('display', 'block');
        $('#tblSignonBonus .viewport').css('display', 'block');
        $('#tblSignonBonus .dataTableScroll').css('display', 'block');
        $('#SignOnBonus .refPage').css('display', 'block');
        $('#SignOnBonus').find('tbody').html('');
        $('#SignOnBonus_wrapper').css('display', 'block');

        var htmldata = '';
        htmldata += '<tr><th class="sbtbl1ex"><input type="checkbox" id="sbvalid" />';
        htmldata += '</th><th class="sbrbtbl sort" column="AssociateID">AssociateID</th>';
        htmldata += '<th class="sbrbtbl">AdvisedMonth </th>';
        htmldata += '<th class="sbrbtbl">AdvisedYear</th>';
        htmldata += '<th class="sbrbtbl">PrincipalAmount</th>';
        htmldata += '<th class="commutetbl">DateGranted</th>';
        htmldata += '<th class="commutetbl">Semimonthly </br>Amortization Amount</th>';
        htmldata += '<th class="commutetbl">LoanType</th>';
        htmldata += '<th class="commutetbl">PaymentDate </th>';
        htmldata += '<th class="commutetbl">Remarks </th>';
        htmldata += '<th class="sbrbtbl">ExceptionReason </th>';
        htmldata += '<th class="sbrbtbl">Edit</th></tr>';

        $('#tblSignonBonus').find('thead').html('').html(htmldata);
        //$('#tblSignonBonus').find('thead tr th:nth-child(9)').text('Exception Remarks');
        $(".delete_btn").css("margin-left", "155px");
        $("#SignOnBonus .refPage").css("display", "block");

        //$("#ulRecord li").removeClass("mleft50");
        //$("#ulRecord li").css("margin-left", "670px");
        //$("#ulRecord li").css("margin-top", "-30px");
        $("#aid1").attr("maxlength", "11");
        $("#aid1").numeric();
        if (msg.d.length > 0) {
            var classname = '';
            $.each(msg.d, function (i, data) {
                var remarks = '';
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }

                var expremarks = (data.ExceptionReason.length > 30) ? data.ExceptionReason.substring(0, 30) + '...' : data.ExceptionReason;
                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_RewardsID + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' /></td>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_RewardsID + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + ' /></td>';
                }
                else {
                    grid_html += '<tr class="' + classname + '"  pk_id=' + data.PK_RewardsID + '><td class="APtd1"><input type="checkbox" class="signonexp" id=' + (i + 1) + '  disabled="disabled" /></td>';
                }

                grid_html += '<td class="sbrbtbl">' + data.AssociateID + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.AdvisedMonth + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.Year + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.Amount + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.DateGranted + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.PrincipalAmount + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.LoanType + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.PaymentDate + '</td>';
                grid_html += '<td class="sbrbtbl">' + data.Remarks + '</td>';
                grid_html += '<td class="sbrbtbl" title="' + data.ExceptionReason + '">' + expremarks + '</td>';

                if (cutoff_date == NaN) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<td class="APtd9"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else {
                    grid_html += '<td class="APtd9"><img style="pointer-events:none; cursor:default;" class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
                }
            });

            $('#tblSignonBonus').find('tbody').html('').html(grid_html);
        }
        else {
            $("#tblSignonBonus").append("<tr class='even' id='NoData'><td colspan='18' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();
        }
    }


    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
}


$(document).on('mouseover', '#tblReferral tbody tr td:nth-child(8),#tblNoticepay tbody tr td:nth-child(5),#tblJoining tbody tr td:nth-child(6),#tblShiftAllowance tbody tr td:nth-child(10)', function () {
    if ($('#a_exceptions').hasClass('selected')) {
        $(this).attr('title', $(this).attr('expremarks'));
    }
    if ($('#a_valid').hasClass('selected')) {
        $(this).attr('title', $(this).attr('RejectionReason'));
    }
});

$(document).on('mouseover', '#tblReferral tbody tr td:nth-child(8),#tblNoticepay tbody tr td:nth-child(6),#tblJoining tbody tr td:nth-child(7)', function () {
    $(this).attr('title', $(this).attr('remarks'));
});

$(document).on('mouseover', '#tblShiftAllowance tbody tr td:nth-child(3)', function () {
    $(this).attr('title', $(this).attr('Allowance'));
});

$(document).on('mouseover', '#tblShiftAllowance tbody tr td:nth-child(4)', function () {
    $(this).attr('title', $(this).attr('ShiftTypeName'));
});

$(document).on('mouseover', '#tbl_oncall tbody tr td:nth-child(8),#tbl_oncall tbody tr td:nth-child(12)', function () {
    if ($('#a_exceptions').hasClass('selected')) {
        $(this).attr('title', $(this).attr('expremarks'));
    }

    $(this).attr('title', $(this).attr('DayType'));

});

$(document).on('mouseover', '#tblReferral tbody tr td:nth-child(8),#tblNoticepay tbody tr td:nth-child(5),#tblJoining tbody tr td:nth-child(6),#tblShiftAllowance tbody tr td:nth-child(10),#tbl_Wellness tbody tr td:nth-child(8),#tbl_MobileTaxation tbody tr td:nth-child(9)', function () {
    if ($('#a_exceptions').hasClass('selected')) {
        $(this).attr('title', $(this).attr('expremarks'));
    }
    if ($('#a_valid').hasClass('selected')) {
        $(this).attr('title', $(this).attr('RejectionReason'));
    }
});

$(document).on('click', '#shiftpopenddate', function () {

    var startDate = new Date($('#shiftpopstartdate').val());
    var maxdate = new Date(startDate.getTime() + (24 * 60 * 60 * 1000));
    if ($('#shiftpopstartdate').val() == '') {
        $('.popdivcontedit').css('color', 'red').text('Please select Start Date');
    }
    else if ($('#shiftpopstartdate').val() != '') {
        $("#shiftpopenddate").datepicker("destroy");
        $("#shiftpopenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        $("#shiftpopenddate").datepicker("option", "minDate", startDate);
        $("#shiftpopenddate").datepicker("option", "maxDate", maxdate);
        //$("#shiftpopenddate").datepicker({ changeMonth: true, changeYear: true, minDate: startDate, maxDate: maxdate, prevText: "", nextText: "" });
    }
});

$(document).on('click', '#shiftpopstartdate', function () {
    var startDate1 = '';
    var maxdate = '';
    if (appStartDate != '' && appExpDate != '') {
        var today = new Date();
        var yesterday = new Date((today.getMonth() + 1) + "/15/" + today.getFullYear());
        //var yesterday = new Date(new Date().getTime() - (24 * 60 * 60 * 1000));
        startDate1 = new Date(appStartDate);
        maxdate = new Date(appExpDate);
        if (maxdate > yesterday)
            maxdate = yesterday;
        //$("#shiftpopstartdate").datepicker("destroy");
        $("#shiftpopstartdate").datepicker("option", "minDate", startDate1);
        $("#shiftpopstartdate").datepicker("option", "maxDate", maxdate);
    }
    else {
        $("#shiftpopstartdate").datepicker("destroy");
        $("#shiftpopstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var today = new Date();
        var yesterday = new Date((today.getMonth() + 1) + "/15/" + today.getFullYear());
        //var yesterday = new Date(new Date().getTime() - (24 * 60 * 60 * 1000));
        $("#shiftpopstartdate").datepicker("option", "minDate", "");
        $("#shiftpopstartdate").datepicker("option", "maxDate", yesterday);
    }
});

$(document).on('change', '#shiftpopstartdate', function () {
    $('.popdivcontedit').text('');
    var startDate = new Date($('#shiftpopstartdate').val());
    var maxdate = new Date(startDate.getTime() + (24 * 60 * 60 * 1000));
    if (appExpDate != '' && maxdate >= new Date(appExpDate)) {
        maxdate = new Date(appExpDate);
    }
    else {
        var today = new Date();
        var yesterday = new Date((today.getMonth() + 1) + "/15/" + today.getFullYear());
        //var yesterday = new Date(new Date().getTime() - (24 * 60 * 60 * 1000));
        if (maxdate > yesterday)
            maxdate = yesterday;
    }
    if ($('#shiftpopstartdate').val() != '') {
        $("#shiftpopenddate").datepicker("destroy");
        $("#shiftpopenddate").datepicker({ changeMonth: true, changeYear: true, minDate: $('#shiftpopstartdate').val(), maxDate: maxdate, prevText: "", nextText: "" });
    }
});

$(document).on('click', '#6thEndate', function () {
    $("#6thEndate").datepicker("destroy");
    $("#6thEndate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#6thStartDate').val() == '') {
        $('.popdivcontedit').css('color', 'red').text('Please select Start Date');
    }
    else if ($('#6thStartDate').val() != '') {
        $("#6thEndate").datepicker("destroy");
        $("#6thEndate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var fromdate = new Date($("#6thStartDate").val());
        var minimumdate = new Date(fromdate);
        var fromdate1 = new Date($("#6thStartDate").val());
        fromdate1.setDate(fromdate.getDate() + 1);
        var frommonth = fromdate.getMonth();
        var frommonth1 = fromdate1.getMonth();

        fromdate.setDate(fromdate.getDate() + 1);

        var toDate = new Date(fromdate);

        $("#6thEndate").datepicker("option", "minDate", minimumdate);
        $("#6thEndate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#6thStartDate', function () {
    $('.popdivcontedit').text('');
    //  $("#6thStartDate").datepicker("destroy");
    $(".popup_date").datepicker({
        changeMonth: true, changeYear: true, prevText: "", nextText: "",
        onFocus: 'show'
    });
    $("#6thStartDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    //setTimeout(function () {
    //    $('.popup_date').datepicker('show');
    //    $('#6thStartDate').datepicker('show');
    //}, 10)

    var currentdate = new Date();
    var year = currentdate.getFullYear();
    var month = currentdate.getMonth();
    if (month == "0" || month == "2" || month == "4" || month == "6" || month == "7" || month == "9" || month == "11")
        currentdate.setMonth(currentdate.getMonth(), 31);
    else if (month == "3" || month == "5" || month == "8" || month == "10")
        currentdate.setMonth(currentdate.getMonth(), 30);
    else if (month == "1" && year % 4 != 0)
        currentdate.setMonth(currentdate.getMonth(), 28);
    else if (month == "1" && year % 4 == 0)
        currentdate.setMonth(currentdate.getMonth(), 29);
    var prevmonthdate = new Date(currentdate);
    var maximumdate = new Date(prevmonthdate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 1);
    var minimumdate = new Date(maximumdate);

    $("#6thStartDate").datepicker("option", "minDate", minimumdate);
    $("#6thStartDate").datepicker("option", "maxDate", prevmonthdate);


});

$(document).on('change', '#6thStartDate', function () {
    $("#6thStartDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", });
    var fromdate = new Date($("#6thStartDate").val());
    var minimumdate = new Date(fromdate);
    var fromdate1 = new Date($("#6thStartDate").val());
    fromdate1.setDate(fromdate.getDate() + 1);
    var frommonth = fromdate.getMonth();
    var frommonth1 = fromdate1.getMonth();
    if (frommonth == frommonth1) {
        fromdate.setDate(fromdate.getDate() + 1);
    }
    else {
        fromdate.setDate(fromdate.getDate() + 0);
    }
    var toDate = new Date(fromdate);

    $("#6thEndate").datepicker("option", "minDate", minimumdate);
    $("#6thEndate").datepicker("option", "maxDate", toDate);

});

$(document).on('click', '#Nsa_endDate', function () {
    $("#Nsa_endDate").datepicker("destroy");
    $("#Nsa_endDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    if ($('#Nsa_startDate').val() == '') {
        $('.popdivcontedit').css('color', 'red').text('Please select Start Date');
    }
    else if ($('#Nsa_startDate').val() != '') {
        $("#Nsa_endDate").datepicker("destroy");
        $("#Nsa_endDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var fromdate = new Date($("#Nsa_startDate").val());
        var minimumdate = new Date(fromdate);
        var fromdate1 = new Date($("#Nsa_startDate").val());
        fromdate1.setDate(fromdate.getDate() + 1);
        var frommonth = fromdate.getMonth();
        var frommonth1 = fromdate1.getMonth();

        fromdate.setDate(fromdate.getDate() + 1);

        var toDate = new Date(fromdate);

        $("#Nsa_endDate").datepicker("option", "minDate", minimumdate);
        $("#Nsa_endDate").datepicker("option", "maxDate", toDate);
    }
});

$(document).on('click', '#Nsa_startDate', function () {
    $('.popdivcontedit').text('');
    $("#Nsa_startDate").datepicker("destroy");
    $(".popup_date").datepicker("destroy");
    $(".popup_date").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });

    $("#Nsa_startDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    //setTimeout(function () {
    //    $('.popup_date').datepicker('show');
    //    $('#Nsa_startDate').datepicker('show');
    //}, 10)

    var currentdate = new Date();
    var year = currentdate.getFullYear();
    var month = currentdate.getMonth();
    if (month == "0" || month == "2" || month == "4" || month == "6" || month == "7" || month == "9" || month == "11")
        currentdate.setMonth(currentdate.getMonth(), 31);
    else if (month == "3" || month == "5" || month == "8" || month == "10")
        currentdate.setMonth(currentdate.getMonth(), 30);
    else if (month == "1" && year % 4 != 0)
        currentdate.setMonth(currentdate.getMonth(), 28);
    else if (month == "1" && year % 4 == 0)
        currentdate.setMonth(currentdate.getMonth(), 29);
    var prevmonthdate = new Date(currentdate);
    var maximumdate = new Date(prevmonthdate);
    maximumdate.setMonth(maximumdate.getMonth() - 6, 1);
    var minimumdate = new Date(maximumdate);

    $("#Nsa_startDate").datepicker("option", "minDate", minimumdate);
    $("#Nsa_startDate").datepicker("option", "maxDate", prevmonthdate);
    $('.popup_date').datepicker('show');
    $('#Nsa_startDate').datepicker('show');

});

$(document).on('change', '#Nsa_startDate', function () {
    $("#Nsa_startDate").datepicker("destroy");
    $("#Nsa_startDate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
    var fromdate = new Date($("#Nsa_startDate").val());
    var minimumdate = new Date(fromdate);
    var fromdate1 = new Date($("#Nsa_startDate").val());
    fromdate1.setDate(fromdate.getDate() + 1);
    var frommonth = fromdate.getMonth();
    var frommonth1 = fromdate1.getMonth();
    if (frommonth == frommonth1) {
        fromdate.setDate(fromdate.getDate() + 1);
    }
    else {
        fromdate.setDate(fromdate.getDate() + 0);
    }
    var toDate = new Date(fromdate);

    $("#Nsa_endDate").datepicker("option", "minDate", minimumdate);
    $("#Nsa_endDate").datepicker("option", "maxDate", toDate);
});

$(document).on('change', '.poptxtbox', function () {

    var startDate = new Date($(this).val());
    var maxdate = new Date(startDate.getTime() + (24 * 60 * 60 * 1000));
    var validto = new Date($(this).parent().attr("ProjectValidTo"));
    if (validto != '' && maxdate >= new Date(validto)) {
        maxdate = new Date(validto);
    }
    else {
        var today = new Date();
        var yesterday = new Date((today.getMonth() + 1) + "/15/" + today.getFullYear());
        //var yesterday = new Date(new Date().getTime() - (24 * 60 * 60 * 1000));
        if (maxdate > yesterday)
            maxdate = yesterday;
    }
    if (startDate != '') {
        $($(this).closest("tr").find(".poptxtbox7")).datepicker("destroy");
        $($(this).closest("tr").find(".poptxtbox7")).datepicker({ changeMonth: true, changeYear: true, minDate: startDate, maxDate: maxdate, prevText: "", nextText: "" });
    }
});

$(document).on('click', '.poptxtbox', function () {
    var validfrom = $(this).parent().attr("ProjectValidFrom");
    var validto = $(this).parent().attr("ProjectValidTo");
    if (validfrom != "" && validto != "") {
        var today = new Date();
        var yesterday = new Date((today.getMonth() + 1) + "/15/" + today.getFullYear());
        //var yesterday = new Date(new Date().getTime() - (24 * 60 * 60 * 1000));
        maxdate = new Date(validto);
        if (maxdate > yesterday)
            maxdate = yesterday;
        $(".poptxtbox").datepicker("destroy");
        $(".poptxtbox").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        $(this).datepicker("option", "minDate", new Date(validfrom));
        $(this).datepicker("option", "maxDate", maxdate);
    }
    else {
        $(".poptxtbox").datepicker("destroy");
        $(".poptxtbox").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        //var yesterday = new Date(new Date().getTime() - (24 * 60 * 60 * 1000));
        var today = new Date();
        var yesterday = new Date((today.getMonth() + 1) + "/15/" + today.getFullYear());
        (this).datepicker.datepicker("option", "minDate", "");
        (this).datepicker.datepicker("option", "maxDate", yesterday);
    }
});

$(document).on('click', '.poptxtbox7', function () {
    var startDate = new Date($('.poptxtbox').val());
    var maxdate = new Date(startDate.getTime() + (24 * 60 * 60 * 1000));
    if ($('.poptxtbox').val() == '') {
        $('.popdivcontedit').css('color', 'red').text('Please select Start Date');
    }
    else if ($('.poptxtbox').val() != '') {
        $(".poptxtbox7").datepicker("destroy");
        $(".poptxtbox7").datepicker({ changeMonth: true, changeYear: true, minDate: startDate, maxDate: maxdate, prevText: "", nextText: "" });
    }
});

function datediff(fromDate, toDate, interval) {
    /*
                 * DateFormat month/day/year hh:mm:ss
                 * ex.
                 * datediff('01/01/2011 12:00:00','01/01/2011 13:30:00','seconds');
                 */
    var second = 1000, minute = second * 60, hour = minute * 60, day = hour * 24, week = day * 7;
    fromDate = new Date(fromDate);
    toDate = new Date(toDate);
    var timediff = toDate - fromDate;
    if (isNaN(timediff)) return NaN;
    switch (interval) {
        case "years": return toDate.getFullYear() - fromDate.getFullYear();
        case "months": return (
            (toDate.getFullYear() * 12 + toDate.getMonth())
            -
            (fromDate.getFullYear() * 12 + fromDate.getMonth())
        );
        case "weeks": return Math.floor(timediff / week);
        case "days": return Math.floor(timediff / day);
        case "hours": return Math.floor(timediff / hour);
        case "minutes": return Math.floor(timediff / minute);
        case "seconds": return Math.floor(timediff / second);
        default: return undefined;
    }
}

//payout month,remarks validation
$(document).on('keypress', '#PayoutMonth,#Remarks,#TransRemarks,#NSARemarks,#UBSRemarks,#CLRemarks,#UBSPayoutmonth', function (e) {
    var regex = new RegExp("^[a-z A-Z 0-9]+$");
    var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
    if (regex.test(str)) {
        return true;
    }

    e.preventDefault();
    return false;
});

//6thday
$(document).on('click', '#update_newpopup', function () {
    var compid = $('#bonus').val();
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    var obj = $('.popup_tab1 tr:nth-child(2)');

    var assoid = $("#AssoId").val();
    var startDate = $('#6thStartDate').val();
    var endDate = $('#6thEndate').val();
    var startTime = $('#PopStartTime').val();
    var endTime = $('#PopEndTime').val();
    var projid = $('#6thProjid').text();

    var payoutType = $('#6thDayPayoutType').val();
    var payoutTypetxt = $('#6thDayPayoutType option:selected').text();
    var pkeyId = $("#AssoId").parent().parent().attr('id');

    var error = '';
    var checkedRowsLength = $('#6thdayAllowance_tab2 tbody tr').length;
    if (checkedRowsLength > 10) {
        errorpopup("We suggest you to go for bulk upload rather than editing more than 10 records");
    } else {

        if (assoid == '' || projid == '' || payoutType == -1 || startDate == '' || endDate == '' || startTime == '' || endTime == '') {
            error = 'Please fill all fields';
        }
        else {
            //if (assoid.length != 6) {
            //    error += 'Associate Id should be six digits';
            //}
            //else
            if (projid.length != 10) {
                error += 'Project Id should be 10 digits';
            }
            //var startDatesplit = startDate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            //var date1 = new Date(startDatesplit[2], startDatesplit[0] - 1, startDatesplit[1]); //Y D M
            var date1 = new Date(startDate);
            var startdate = date1.getTime();

            //var endDatesplit = endDate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            //var date2 = new Date(endDatesplit[2], endDatesplit[0] - 1, endDatesplit[1]); //Y D M
            var date2 = new Date(endDate);
            var enddate = date2.getTime();

            var diff = datediff(date1, date2, 'days');

            if (diff > 1) {
                error += 'Time Duration should not be greater than 24hrs!';
            }

            //Same date combination//
            else if (startdate == enddate && endTime < startTime) {
                error += 'EndDate Time should be greater than the StartDateTime!';
            }
            else if (startdate != enddate && startTime == endTime) {
                error += 'StartTime and EndTime should not be same for different dates';
            }
            else if (startdate != enddate && startTime < endTime) {
                error += 'Time Duration should not be greater than 24hrs!';
            }
            //same date combination ends here

            // Different Date combination
            else if (startdate > enddate) {
                error += 'Start Date should not be greater than End Date';
            }
            else if (endTime == startTime && startdate == enddate) {
                error += 'StartDateTime and EndDateTime Should not be equal';
            }
            else if (startdate != enddate && endTime > startTime) {
                error += 'Time Duration should not be greater than 24hrs!';
            }

            // Different Date combination ends here                 

        }
        if ($('#6thdayAllowance_tab2 tbody tr').length > 0) {
            if ($('#6thdayAllowance_tab2 tbody tr').text() != 'No data available') {
                $('#6thdayAllowance_tab2 tbody tr').each(function (i) {
                    if ($(this).find('td:nth-child(2)').text() == assoid) {
                        if ((startDate >= $(this).find('td:nth-child(3)').text() && startDate <= $(this).find('td:nth-child(3)').text()) || (endDate >= $(this).find('td:nth-child(3)').text() && endDate <= $(this).find('td:nth-child(4)').text())) {
                            error += 'Data is already entered for the Associate in the given Date Range';
                        }
                    }
                });
            }
        }
        if (error != '') {
            $('.popdivcontedit').text('').css('color', 'red').text(error);
        }
        else {
            $('.tblpopadd_upwrap').show();
            $('#btn_Save6thDay').show();
            $('.popdivcontedit').text('').css('color', 'green').text('Updated Successfully');
            var dynamicHTML = '';

            dynamicHTML += '<tr id="' + pkeyId + '"><td class="SANewtd1" 6thDay="' + payoutType + '">' + payoutTypetxt + '</td>';
            dynamicHTML += '<td class="SANewtd2">' + assoid + '</td>';
            dynamicHTML += '<td class="SANewtd3">' + startDate + '</td>';
            dynamicHTML += '<td class="SANewtd4">' + endDate + '</td>';
            dynamicHTML += '<td class="SANewtd5">' + startTime + '</td>';
            dynamicHTML += '<td class="SANewtd6">' + endTime + '</td>';
            dynamicHTML += '<td class="SANewtd7">' + projid + '</td>';
            dynamicHTML += '<td class="SANewtd8"></td>';
            dynamicHTML += '<td class="SANewtd9"><input type="button" class="btn_editicon newpopupbtns" /></td>';
            dynamicHTML += '<td class="SANewtd9"><input type="button" class="btn_deleteicon newpopupbtns" /></td></tr>';
            if ($('#6thdayAllowance_tab2 tbody tr').length > 0) {
                if ($('#6thdayAllowance_tab2 tbody tr').text() != 'No data available') {
                    $('#6thdayAllowance_tab2 tbody').append(dynamicHTML);
                    $('.6thdayAllowance_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                    $('.6thdayAllowance_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                    $('#6thdayAllowance_tab2 tr:odd td').css('background-color', '#ffffff');
                    $('#6thdayAllowance_tab2 tr:even td').css('background-color', '#ebebeb');
                }
                else {
                    $('#6thdayAllowance_tab2 tbody').html(dynamicHTML);
                    $('.6thdayAllowance_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                    $('.6thdayAllowance_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                    $('#6thdayAllowance_tab2 tr:odd td').css('background-color', '#ffffff');
                    $('#6thdayAllowance_tab2 tr:even td').css('background-color', '#ebebeb');
                }
            }
            else {
                $('#6thdayAllowance_tab2 tbody').html(dynamicHTML);
                $('.6thdayAllowance_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                $('.6thdayAllowance_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                $('#6thdayAllowance_tab2 tr:odd td').css('background-color', '#ffffff');
                $('#6thdayAllowance_tab2 tr:even td').css('background-color', '#ebebeb');
            }
            $('#6thdayAllowance_tab2').dataTable({
                "fnInitComplete": function () {
                    // custom scroll bars
                    $('#6thdayAllowance_tab2_wrapper')
                        .find('.dataTables_scrollBody')
                        .jScrollPane({ verticalDragMinHeight: 8, verticalDragMaxHeight: 8, horizontalDragMinWidth: 82, horizontalDragMaxWidth: 82, autoReinitialise: true });
                },
                //"sPaginationType": "full_numbers",
                "bPaginate": false,
                "sScrollY": "240px",
                "bFilter": false,
                "bRetrieve": true,
                "bDestroy": true,
                "bInfo": false,
                "aLengthMenu": [[5, 25, 50, 100, -1], [5, 25, 50, 100, "All"]],
                "iDisplayLength": 5,
                "aoColumns": [
                    { "bSortable": false },
                    { "bSortable": false },
                    { "bSortable": false },
                    { "bSortable": false },
                    { "bSortable": false },
                    { "bSortable": false },
                    { "bSortable": false },
                    { "bSortable": false },
                    { "bSortable": false },
                    { "bSortable": false }
                ],
                "fnDrawCallback": function () {
                    $('#tableId_info').prepend($('#tableId_length'));

                    $('.6thdayAllowance_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                    $('.6thdayAllowance_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                    $('#6thdayAllowance_tab2 tr:odd td').css('background-color', '#ffffff');
                    $('#6thdayAllowance_tab2 tr:even td').css('background-color', '#ebebeb');
                }
            });
            $('.6thdayAllowance_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #c8c8c8');
            $('.6thdayAllowance_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
            $('#6thdayAllowance_tab2 tr:odd td').css('background-color', '#ffffff');
            $('#6thdayAllowance_tab2 tr:even td').css('background-color', '#ebebeb');

            $("#6thDayPayoutType option:nth-child(1)").prop("selected", true);
            var payouttxt = $("#6thDayPayoutType option:nth-child(1)").text();
            $('#select6thDayPayoutType').text(payouttxt);



            $('#AssoId').val('');
            $('#6thStartDate').val('');
            $('#6thEndate').val('');
            $('#6thProjid').val('');

            $('.defaultEntry').timeEntry('setTime', "09:00");
            $('.popdivcontedit').text('');
        }
    }
    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
});

//NSA
$(document).on('click', '#NSAupdate_newpopup', function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    var obj = $('.popup_tab1 tr:nth-child(2)');
    //var shiftTime = $('#selectNSAPayoutType').text();
    var assoid = $("#NSAAssoId").val();
    var startDate = $('#Nsa_startDate').val();
    var endDate = $('#Nsa_endDate').val();
    var startTime = $('#Nsa_StartTime').val();
    var endTime = $('#Nsa_EndTime').val();
    var projid = $('#NSAProjId').text();
    var pkeyId = $("#NSAAssoId").parent().parent().attr('id');
    //var shiftTime = $('#NSAPayoutType').val();
    //var shiftTimetxt = $('#selectNSAPayoutType').text();

    var error = '';
    if (assoid == '' || startDate == '' || endDate == '' || startTime == '' || endTime == '' || projid == '') {
        error = 'Please fill all fields';
    }
    else {
        //if (assoid.length != 6) {
        //    error += 'Associate Id should be six digits';
        //}
        if (projid.length != 10) {
            error += 'Project Id should be 10 digits';
        }
        //var startDatesplit = startDate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        //var date1 = new Date(startDatesplit[2], startDatesplit[0] - 1, startDatesplit[1]); //Y D M
        var date1 = new Date(startDate);
        var startdate = date1.getTime();

        //var endDatesplit = endDate.split('/');
        // Month is zero-indexed so subtract one from the month inside the constructor
        //var date2 = new Date(endDatesplit[2], endDatesplit[0] - 1, endDatesplit[1]); //Y D M
        var date2 = new Date(endDate);
        var enddate = date2.getTime();

        var diff = datediff(date1, date2, 'days');

        if (diff > 1) {
            error += 'Time Duration should not be greater than 24hrs!';
        }

        //Same date combination//
        else if (startdate == enddate && endTime < startTime) {
            error += 'EndDate Time should be greater than the StartDateTime!';
        }
        else if (startdate != enddate && startTime == endTime) {
            error += 'StartTime and EndTime should not be same for different dates';
        }
        else if (startdate != enddate && startTime < endTime) {
            error += 'Time Duration should not be greater than 24hrs!';
        }
        //same date combination ends here

        // Different Date combination
        else if (startdate > enddate) {
            error += 'Start Date should not be greater than End Date';
        }
        else if (endTime == startTime && startdate == enddate) {
            error += 'StartDateTime and EndDateTime Should not be equal';
        }
        else if (startdate != enddate && endTime > startTime) {
            error += 'Time Duration should not be greater than 24hrs!';
        }

    }
    if ($('#Nsa_tbl2 tbody tr').length > 0) {
        if ($('#Nsa_tbl2 tbody tr').text() != 'No data available') {
            $('#Nsa_tbl2 tbody tr').each(function (i) {
                if ($(this).find('td:nth-child(2)').text() == assoid) {
                    //if ($(this).find('td:nth-child(1)').attr('allowanceType') == allowanceType && allowanceType == 1) {
                    if ((startDate >= $(this).find('td:nth-child(3)').text() && startDate <= $(this).find('td:nth-child(3)').text()) || (endDate >= $(this).find('td:nth-child(3)').text() && endDate <= $(this).find('td:nth-child(4)').text())) {
                        error += 'Data is already entered for the Associate in the given Date Range';
                    }
                }
            });
        }
    }
    if (error != '') {
        $('.popdivcontedit').text('').css('color', 'red').text(error);
    }
    else {
        $('.tblpopadd_upwrap').show();
        $('.popdivcontedit').text('').css('color', 'green').text('Updated Successfully');

        var dynamicHTML = '';
        dynamicHTML += '<tr id="' + pkeyId + '"><td>' + assoid + '</td>';
        dynamicHTML += '<td>' + startDate + '</td>';
        dynamicHTML += '<td>' + endDate + '</td>';
        dynamicHTML += '<td>' + startTime + '</td>';
        dynamicHTML += '<td>' + endTime + '</td>';
        dynamicHTML += '<td>' + projid + '</td>';
        dynamicHTML += '<td></td>';
        dynamicHTML += '<td><input type="button" class="btn_editicon newpopupbtns" /></td>';
        dynamicHTML += '<td><input type="button" class="btn_deleteicon newpopupbtns" /></td></tr>';
        if ($('#Nsa_tbl2 tbody tr').length > 0) {
            if ($('#Nsa_tbl2 tbody tr').text() != 'No data available') {
                $('#Nsa_tbl2 tbody').append(dynamicHTML);
                $('.Nsa_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #ffffff');
                $('.Nsa_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                $('#Nsa_tbl2 tr:odd td').css('background-color', '#ffffff');
                $('#Nsa_tbl2 tr:even td').css('background-color', '#ebebeb');
            }
            else {
                $('#Nsa_tbl2 tbody').html(dynamicHTML);
                $('.Nsa_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #ffffff');
                $('.Nsa_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                $('#Nsa_tbl2 tr:odd td').css('background-color', '#ffffff');
                $('#Nsa_tbl2 tr:even td').css('background-color', '#ebebeb');
            }
        }
        else {
            $('#Nsa_tbl2 tbody').html(dynamicHTML);
            $('.Nsa_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #ffffff');
            $('.Nsa_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
            $('#Nsa_tbl2 tr:odd td').css('background-color', '#ffffff');
            $('#Nsa_tbl2 tr:even td').css('background-color', '#ebebeb');
        }
        $('#Nsa_tbl2').dataTable({
            "fnInitComplete": function () {
                // custom scroll bars
                $('#Nsa_tbl2_wrapper')
                    .find('.dataTables_scrollBody')
                    .jScrollPane({ verticalDragMinHeight: 8, verticalDragMaxHeight: 8, horizontalDragMinWidth: 82, horizontalDragMaxWidth: 82, autoReinitialise: true });
            },
            //"sPaginationType": "full_numbers",
            "bPaginate": false,
            "sScrollY": "240px",
            "bFilter": false,
            "bRetrieve": true,
            "bDestroy": true,
            "bInfo": false,
            "aLengthMenu": [[5, 25, 50, 100, -1], [5, 25, 50, 100, "All"]],
            "iDisplayLength": 5,
            "aoColumns": [
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false }
            ],
            "fnDrawCallback": function () {
                $('#tableId_info').prepend($('#tableId_length'));

                $('.Nsa_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                $('.Nsa_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                $('#Nsa_tbl2 tr:odd td').css('background-color', '#ffffff');
                $('#Nsa_tbl2 tr:even td').css('background-color', '#ebebeb');
            }
        });
        $('.Nsa_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #c8c8c8');
        $('.Nsa_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
        $('#Nsa_tbl2 tr:odd td').css('background-color', '#ffffff');
        $('#Nsa_tbl2 tr:even td').css('background-color', '#ebebeb');


        $('#NSAAssoId').val('');
        $('#Nsa_startDate').val('');
        $('#Nsa_endDate').val('');
        $('.defaultEntry').timeEntry('setTime', "09:00");
        $('#NSAProjId').val('');
        $('.popdivcontedit').text('');

        $("#NSAPayoutType option:nth-child(1)").prop("selected", true);
        var shifttxt = $("#NSAPayoutType option:nth-child(1)").text();
        $('#selectNSAPayoutType').text(shifttxt);
    }
    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
});

function deleteFromgrid(data) {
    $('.popdivcontedit').text('')
    var oTable = $("#6thdayAllowance_tab2").dataTable();
    oTable.fnDestroy();
    $(data).parent().parent().remove();
    $('#6thdayAllowance_tab2 tr:odd td').css('background-color', '#ffffff');
    $('#6thdayAllowance_tab2 tr:even td').css('background-color', '#ebebeb');

    $('#6thdayAllowance_tab2').dataTable({
        "fnInitComplete": function () {
            // custom scroll bars
            $('#6thdayAllowance_tab2_wrapper')
                .find('.dataTables_scrollBody')
                .jScrollPane({ verticalDragMinHeight: 8, verticalDragMaxHeight: 8, horizontalDragMinWidth: 82, horizontalDragMaxWidth: 82, autoReinitialise: true });
        },
        //"sPaginationType": "full_numbers",
        "bPaginate": false,
        "sScrollY": "240px",
        "bFilter": false,
        "bRetrieve": true,
        "bDestroy": true,
        "bInfo": false,
        "aLengthMenu": [[5, 25, 50, 100, -1], [5, 25, 50, 100, "All"]],
        "iDisplayLength": 5,
        "aoColumns": [
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false }
        ],
        "fnDrawCallback": function () {
            $('#tableId_info').prepend($('#tableId_length'));

            $('.6thdayAllowance_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #c8c8c8');
            $('.6thdayAllowance_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
            $('#6thdayAllowance_tab2 tr:odd td').css('background-color', '#ffffff');
            $('#6thdayAllowance_tab2 tr:even td').css('background-color', '#ebebeb');
        }
    });
    $('.6thdayAllowance_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #c8c8c8');
    $('.6thdayAllowance_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
    $('#6thdayAllowance_tab2 tr:odd td').css('background-color', '#ffffff');
    $('#6thdayAllowance_tab2 tr:even td').css('background-color', '#ebebeb');
}

$(document).on('click', '#6thdayAllowance_tab2 tbody tr td:nth-child(9) input', function () {

    var UsrAgnt = navigator.userAgent;
    if (UsrAgnt.indexOf("Chrome") > -1) {

    }
    else {

    }

    var startdate = $(this).parent().parent().find('td:nth-child(3)').text();
    var endDate = $(this).parent().parent().find('td:nth-child(4)').text();

    $("#6thEndate").datepicker("destroy");
    $("#6thEndate").datepicker({ changeMonth: true, changeYear: true, minDate: startdate, maxDate: endDate, prevText: "", nextText: "" });

    $('.popdivcontedit').text('');

    var associateId = $(this).parent().parent().find('td:nth-child(2)').text();
    var startdate = $(this).parent().parent().find('td:nth-child(3)').text();
    var endDate = $(this).parent().parent().find('td:nth-child(4)').text();
    var startTime = $(this).parent().parent().find('td:nth-child(5)').text();
    var endTime = $(this).parent().parent().find('td:nth-child(6)').text();
    var projid = $(this).parent().parent().find('td:nth-child(7)').text();

    var shiftType = $(this).parent().parent().find('td:nth-child(1)').attr('6thDay');
    var shiftTypetext = $(this).parent().parent().find('td:nth-child(1)').text();
    var pkeyID = $(this).parent().parent().attr('id');


    $('#AssoId').val(associateId);
    $('#6thStartDate').val(startdate);
    $('#6thEndate').val(endDate);
    $('#6thProjid').val(projid);
    $('.popup_tab1 tr:nth-child(2) td:nth-child(5) p input').timeEntry('setTime', startTime);
    $('.popup_tab1 tr:nth-child(2) td:nth-child(6) p input').timeEntry('setTime', endTime);
    $('#6thDayPayoutType').val(shiftType).attr('selected', 'selected');
    $('#select6thDayPayoutType').text(shiftTypetext);
    $('#AssoId').parent().parent().attr('id', pkeyID);

    deleteFromgrid(this);
});

$(document).on('click', '#6thdayAllowance_tab2 tbody tr td:nth-child(10) input', function () {//To delete corresponding row from popup
    deleteFromgrid(this);
});

function deleteFromNSAgrid(data) {
    $('.popdivcontedit').text('')
    var oTable = $("#Nsa_tbl2").dataTable();
    oTable.fnDestroy();
    $(data).parent().parent().remove();
    $('#Nsa_tbl2 tr:odd td').css('background-color', '#ffffff');
    $('#Nsa_tbl2 tr:even td').css('background-color', '#ebebeb');

    $('#Nsa_tbl2').dataTable({
        "fnInitComplete": function () {
            // custom scroll bars
            $('#Nsa_tbl2_wrapper')
                .find('.dataTables_scrollBody')
                .jScrollPane({ verticalDragMinHeight: 8, verticalDragMaxHeight: 8, horizontalDragMinWidth: 82, horizontalDragMaxWidth: 82, autoReinitialise: true });
        },
        //"sPaginationType": "full_numbers",
        "bPaginate": false,
        "sScrollY": "100px",
        "bFilter": false,
        "bRetrieve": true,
        "bDestroy": true,
        "bInfo": false,
        "aLengthMenu": [[5, 25, 50, 100, -1], [5, 25, 50, 100, "All"]],
        "iDisplayLength": 5,
        "aoColumns": [
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false },
            { "bSortable": false }
        ],
        "fnDrawCallback": function () {
            $('#tableId_info').prepend($('#tableId_length'));

            $('.Nsa_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #c8c8c8');
            $('.Nsa_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
            $('#Nsa_tbl2 tr:odd td').css('background-color', '#ffffff');
            $('#Nsa_tbl2 tr:even td').css('background-color', '#ebebeb');
        }
    });
    $('.Nsa_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #c8c8c8');
    $('.Nsa_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
    $('#Nsa_tbl2 tr:odd td').css('background-color', '#ffffff');
    $('#Nsa_tbl2 tr:even td').css('background-color', '#ebebeb');
}

$(document).on('click', '#Nsa_tbl2 tbody tr td:nth-child(8) input', function () {

    var startdate = $(this).parent().parent().find('td:nth-child(2)').text();
    var endDate = $(this).parent().parent().find('td:nth-child(3)').text();

    $("#Nsa_endDate").datepicker("destroy");
    $("#Nsa_endDate").datepicker({ changeMonth: true, changeYear: true, minDate: startdate, maxDate: endDate, prevText: "", nextText: "" });

    $('.popdivcontedit').text('');

    var associateId = $(this).parent().parent().find('td:nth-child(1)').text();
    var startdate = $(this).parent().parent().find('td:nth-child(2)').text();
    var endDate = $(this).parent().parent().find('td:nth-child(3)').text();
    var startTime = $(this).parent().parent().find('td:nth-child(4)').text();
    var endTime = $(this).parent().parent().find('td:nth-child(5)').text();
    var projid = $(this).parent().parent().find('td:nth-child(6)').text();
    var pkeyID = $(this).parent().parent().attr('id');

    $('#NSAAssoId').val(associateId);
    $('#Nsa_startDate').val(startdate);
    $('#Nsa_endDate').val(endDate);
    $('#NSAProjId').val(projid);
    $('#NSAAssoId').parent().parent().attr('id', pkeyID);

    $('.popup_tab1 tr:nth-child(2) td:nth-child(4) p input').timeEntry('setTime', startTime);
    $('.popup_tab1 tr:nth-child(2) td:nth-child(5) p input').timeEntry('setTime', endTime);

    deleteFromNSAgrid(this);
});

$(document).on('click', '#Nsa_tbl2 tbody tr td:nth-child(9) input', function () {//To delete corresponding row from popup
    deleteFromNSAgrid(this);
});

$(function () {
    $('.defaultEntry').timeEntry({
        show24Hours: true,
        timeSteps: [1, 5, 1],
        defaultTime: "09:00",
        spinnerImage: '../Images/spinnerDefault.png',
        useMouseWheel: true,
        spinnerIncDecOnly: true,
        spinnerSize: [20, 20, 0]
    });
});

$(document).on('change', '#popallowanceType', function () {
    var shiftOption = '';
    $.each(shiftTypes, function (i, data) {
        if (data.ComponentID == $('#popallowanceType').val()) {
            shiftOption += '<option value="' + data.ShiftTypeID + '">' + data.ShiftType + '</option>';
        }
    });
    $('#popshifttype').html(shiftOption);
    $('#popshifttype').find('option:nth-child(1)').attr('selected', 'selected');
    var shiftName = $('#popshifttype').find('option:nth-child(1)').text();
    $('#selectpopshifttype').text(shiftName);

    if ($('#popallowanceType').val() != 4) {
        $('.popup_assoc tr:nth-child(2) td:nth-child(8) input').prev('.checkbox').attr('disabled', 'disabled');
        $('.popup_assoc tr:nth-child(2) td:nth-child(8) input').prev('.checkbox').css('background-position', '0px 0px');
    }
    else {
        $('.popup_assoc tr:nth-child(2) td:nth-child(8) input').prev('.checkbox').removeAttr('disabled');
        $('.popup_assoc tr:nth-child(2) td:nth-child(8) input').prev('.checkbox').css('background-position', '0px 0px');
    }
    var compId = $('#popallowanceType').val();
    getStartDate(compId);
});

$(document).on('click', '#btn_newSave', function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    if ($('#tblpopadd tbody tr').length > 0) {
        if ($('#tblpopadd tbody tr').text() != 'No data available') {
            var count = 0;
            var projectId = $('#proid').val();
            var shiftarray = new Array();
            $.each($('#tblpopadd tbody tr'), function (i) {
                var obj = $('#tblpopadd tbody tr:nth-child(' + (i + 1) + ')');
                if (obj.find('td:nth-child(9)').text() != 'success') {
                    shiftarray[i] = projectId + "," + obj.find('td:nth-child(2)').attr('allowanceType') + "," + obj.find('td:nth-child(1)').text() + "," + obj.find('td:nth-child(3)').attr('shiftType') + "," + obj.find('td:nth-child(4)').text() + "," + obj.find('td:nth-child(7)').text() + "," + obj.find('td:nth-child(5)').text() + "," + obj.find('td:nth-child(6)').text();
                }
            });
            var datastring = "{'shiftDetails':'" + JSON.stringify(shiftarray) + "'}";
            $.ajax({
                type: "POST",
                url: "../WebMethods.aspx/SaveNewShiftGrid",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d.length > 0) {
                        $.each($('#tblpopadd tbody tr'), function (i) {
                            var obj = $('#tblpopadd tbody tr:nth-child(' + (i + 1) + ')');
                            if (msg.d[i] != null) {
                                if (msg.d[i] == 'success') {
                                    obj.find('td:nth-child(8)').text('').css('color', 'green').text(msg.d[i]);
                                    obj.find('td:nth-child(9) input').attr('disabled', 'disabled');
                                    obj.find('td:nth-child(10) input').attr('disabled', 'disabled');
                                }
                                else {
                                    var errormsg = (msg.d[i].length > 20) ? msg.d[i].substring(0, 20) + '...' : msg.d[i];
                                    obj.find('td:nth-child(8)').attr('errormsg', msg.d[i]);
                                    obj.find('td:nth-child(8)').text('').css('color', 'red').text(errormsg);
                                    count++;
                                }
                            }
                        });
                        if (count > 0) {
                            $('.popdivcontedit').text('').css('color', 'red').text(count + ' Uploaded Records has Exception.');
                        }
                        else {
                            $('.popdivcontedit').text('').css('color', 'green').text('Data Uploaded Successfully');
                        }
                    }
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                },
                error: function (xhr) {
                    errorpopup(parent.document.getElementById("hdnSession").value);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
            });
        }
        else {
            $('.popdivcontedit').text('').css('color', 'red').text('No data to save!!');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }
    else {
        $('.popdivcontedit').text('').css('color', 'red').text('No data to save!!');
        $("#progressBackgroundFilter").hide();
        $("#processMessage").hide();
    }
});

//SDA new save
$(document).on('click', '#btn_Save6thDay', function () {
    var componentid = $('#bonus').val();
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    if ($('#6thdayAllowance_tab2 tbody tr').length > 0) {
        if ($('#6thdayAllowance_tab2 tbody tr').text() != 'No data available') {
            var count = 0;
            var shiftarray = new Array();
            $.each($('#6thdayAllowance_tab2 tbody tr'), function (i) {
                var obj = $('#6thdayAllowance_tab2 tbody tr:nth-child(' + (i + 1) + ')');
                if (obj.find('td:nth-child(9)').text() != 'success') {
                    obj.find('td:nth-child(1)').text()
                    var assid = obj.find('td:nth-child(2)').text();
                    var startDate = obj.find('td:nth-child(3)').text();
                    var endDate = obj.find('td:nth-child(4)').text();
                    var startTime = obj.find('td:nth-child(5)').text();
                    var endTime = obj.find('td:nth-child(6)').text();
                    var payouttype = obj.find('td:nth-child(1)').attr('6thDay');
                    var payouttypetxt = obj.find('td:nth-child(1)').text();
                    var pkeyId = $('#6thdayAllowance_tab2 tbody tr:nth-child(' + (i + 1) + ')').attr('id');
                    if (!$.isNumeric(pkeyId)) {
                        pkeyId = 0;
                    }
                    //if (pkeyId == undefined || pkeyId == 'undefined') {
                    //    pkeyId = 0;
                    //}
                    var projid = obj.find('td:nth-child(7)').text(); // need to chnage below line
                    shiftarray[i] = assid + "," + componentid + "," + startDate + "," + endDate + "," + startTime + "," + endTime + "," + payouttype + "," + projid + "," + pkeyId;// + "," + transelig + "," + bilingdet;
                }

            });

            var datastring = "{'shiftDetails':'" + JSON.stringify(shiftarray) + "'}";
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveNewSDAShiftGrid",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d.length > 0) {
                        $.each($('#6thdayAllowance_tab2 tbody tr'), function (i) {
                            var obj = $('#6thdayAllowance_tab2 tbody tr:nth-child(' + (i + 1) + ')');
                            if (msg.d[0][i] != null) {
                                if (msg.d[0][i] == 'success') {
                                    obj.find('td:nth-child(8)').text('').css('color', 'green').text(msg.d[0][i]);
                                    obj.find('td:nth-child(11) input').attr('disabled', 'disabled');
                                    obj.find('td:nth-child(12) input').attr('disabled', 'disabled');
                                    obj.find('td:nth-child(8)').attr('title', msg.d[0][i]);
                                }
                                else {

                                    var errormsg = (msg.d[0][i].length > 20) ? msg.d[0][i].substring(0, 20) + '...' : msg.d[0][i];
                                    obj.find('td:nth-child(8)').attr('errormsg', msg.d[0][i]);
                                    obj.find('td:nth-child(8)').text('').css('color', 'red').text(errormsg);
                                    obj.find('td:nth-child(8)').attr('title', msg.d[0][i]);
                                    count++;
                                }
                            }
                            if (msg.d[1].length > 0) {
                                $('#6thdayAllowance_tab2 tbody tr:nth-child(' + (i + 1) + ')').attr('id', msg.d[1][i]);
                            }
                        });
                        if (count > 0) {
                            $('.popdivcontedit').text('').css('color', 'red').text(count + ' Uploaded Records has Exception.');
                        }
                        else {
                            $('.popdivcontedit').text('').css('color', 'green').text('Data Uploaded Successfully');
                        }
                    }
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                },
                error: function (xhr) {
                    errorpopup(parent.document.getElementById("hdnSession").value);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
            });
        }
        else {
            $('.popdivcontedit').text('').css('color', 'red').text('No data to save!!');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }
    else {
        $('.popdivcontedit').text('').css('color', 'red').text('No data to save!!');
        $("#progressBackgroundFilter").hide();
        $("#processMessage").hide();
    }
});

//NSA
$(document).on('click', '#btn_SaveNSA', function () {
    var componentid = $('#bonus').val();
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    if ($('#Nsa_tbl2 tbody tr').length > 0) {
        if ($('#Nsa_tbl2 tbody tr').text() != 'No data available') {
            var count = 0;
            var shiftarray = new Array();

            $.each($('#Nsa_tbl2 tbody tr'), function (i) {
                var obj = $('#Nsa_tbl2 tbody tr:nth-child(' + (i + 1) + ')');
                if (obj.find('td:nth-child(8)').text() != 'success') {
                    var assid = obj.find('td:nth-child(1)').text();
                    var startDate = obj.find('td:nth-child(2)').text();
                    var endDate = obj.find('td:nth-child(3)').text();
                    var startTime = obj.find('td:nth-child(4)').text();
                    var endTime = obj.find('td:nth-child(5)').text();
                    var projid = obj.find('td:nth-child(6)').text();
                    var status = obj.find('td:nth-child(7)').text();
                    //var ShiftTime = obj.find('td:nth-child(1)').attr('NSAShiftTime');
                    //var ShiftTimetxt = obj.find('td:nth-child(1)').text();

                    var pkeyId = $('#Nsa_tbl2 tbody tr:nth-child(' + (i + 1) + ')').attr('id');

                    if (!$.isNumeric(pkeyId)) {
                        pkeyId = 0;
                    }
                    //if (pkeyId == undefined || pkeyId == 'undefined') {
                    //    pkeyId = 0;
                    //}

                    shiftarray[i] = assid + "," + componentid + "," + startDate + "," + endDate + "," + startTime + "," + endTime + "," + projid + "," + pkeyId + "," + status;
                }
            });

            var datastring = "{'shiftDetails':'" + JSON.stringify(shiftarray) + "'}";
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveNewNSAShiftGrid",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d.length > 0) {
                        $.each($('#Nsa_tbl2 tbody tr'), function (i) {
                            var obj = $('#Nsa_tbl2 tbody tr:nth-child(' + (i + 1) + ')');
                            if (msg.d[0][i] != null) {
                                if (msg.d[0][i] == 'success') {
                                    obj.find('td:nth-child(7)').text('').css('color', 'green').text(msg.d[0][i]);
                                    obj.find('td:nth-child(8) input').attr('disabled', 'disabled');
                                    obj.find('td:nth-child(9) input').attr('disabled', 'disabled');
                                    obj.find('td:nth-child(7)').attr('title', msg.d[0][i]);
                                }
                                else {

                                    var errormsg = (msg.d[0][i].length > 20) ? msg.d[0][i].substring(0, 20) + '...' : msg.d[0][i];
                                    obj.find('td:nth-child(7)').attr('errormsg', msg.d[0][i]);
                                    obj.find('td:nth-child(7)').text('').css('color', 'red').text(errormsg);
                                    obj.find('td:nth-child(7)').attr('title', msg.d[0][i]);
                                    count++;
                                }
                            }

                            if ($('#Nsa_tbl2 tbody tr:nth-child(' + (i + 1) + ')').attr('id') == 'undefined' ||
                                $('#Nsa_tbl2 tbody tr:nth-child(' + (i + 1) + ')').attr('id') == false) {
                                $('#Nsa_tbl2 tbody tr:nth-child(' + (i + 1) + ')').attr('id', msg.d[1][i]);
                            }
                            //if (msg.d[1].length > 0) {
                            //    $('#Nsa_tbl2 tbody tr:nth-child(' + (i + 1) + ')').attr('id', msg.d[1][i]);
                            //}
                        });
                        if (count > 0) {
                            $('.popdivcontedit').text('').css('color', 'red').text(count + ' Uploaded Records has Exception.');
                        }
                        else {
                            $('.popdivcontedit').text('').css('color', 'green').text('Data Uploaded Successfully');
                        }
                    }
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                },
                error: function (xhr) {
                    errorpopup(parent.document.getElementById("hdnSession").value);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
            });
        }
        else {
            $('.popdivcontedit').text('').css('color', 'red').text('No data to save!!');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }
    else {
        $('.popdivcontedit').text('').css('color', 'red').text('No data to save!!');
        $("#progressBackgroundFilter").hide();
        $("#processMessage").hide();
    }
});

//SDA edit save
$(document).on('click', '#SDAEdit_Save', function () {
    var componentid = $('#bonus').val();

    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    if ($('#6th_edit tbody tr').length > 0) {
        var validationFlag = 0;
        $('#6th_edit tbody tr').each(function () {
            var obj = $(this);
            var shifttype = $(this).find('td:nth-child(1) select option:selected').attr('SDAEditshiftDetails')
            var assid = $(this).find('td:nth-child(2) label').html();
            var startDate = $(this).find('td:nth-child(3) input').val();
            var endDate = $(this).find('td:nth-child(4) input').val();
            var startTime = $(this).find('td:nth-child(5) input').val();
            var endTime = $(this).find('td:nth-child(6) input').val();
            var projectid = $(this).find('td:nth-child(7) label').html();


            //var startDatesplit = startDate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            //var date1 = new Date(startDatesplit[2], startDatesplit[0] - 1, startDatesplit[1]); //Y D M
            var date1 = new Date(startDate);
            var startdate = date1.getTime();
            //var endDatesplit = endDate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            //var date2 = new Date(endDatesplit[2], endDatesplit[0] - 1, endDatesplit[1]); //Y D M
            var date2 = new Date(endDate);
            var enddate = date2.getTime();
            var error = '';

            if (startDate == '' || endDate == '' || startTime == '' || endTime == '') {
                error = 'Please fill all fields';
                AppendMsg(error, obj);
            }
            else {
                var diff = datediff(date1, date2, 'days');

                if (diff > 1) {
                    error += 'Time Duration should not be greater than 24hrs!';
                    AppendMsg(error, obj);
                }

                //Same date combination//
                else if (startdate == enddate && endTime < startTime) {
                    error += 'EndDate Time should be greater than the StartDateTime!';
                    AppendMsg(error, obj);
                }
                else if (startdate != enddate && startTime == endTime) {
                    error += 'StartTime and EndTime should not be same for different dates';
                    AppendMsg(error, obj);
                }
                else if (startdate != enddate && startTime < endTime) {
                    error += 'Time Duration should not be greater than 24hrs!';
                    AppendMsg(error, obj);
                }
                //same date combination ends here

                // Different Date combination
                else if (startdate > enddate) {
                    error += 'Start Date should not be greater than End Date';
                    AppendMsg(error, obj);
                }
                else if (endTime == startTime && startdate == enddate) {
                    error += 'StartDateTime and EndDateTime Should not be equal';
                    AppendMsg(error, obj);
                }
                else if (startdate != enddate && endTime > startTime) {
                    error += 'Time Duration should not be greater than 24hrs!';
                    AppendMsg(error, obj);
                }
                else if (startDate == '') {
                    error = 'Please Select StartDate';
                    AppendMsg(error, obj);
                }
                // Different Date combination ends here 

                else {
                    error = '';
                    obj.find('td:nth-child(9)').text('');
                    obj.find('td:nth-child(9)').removeAttr('errormsg');
                    obj.find('td:nth-child(9)').removeAttr('title');
                }
            }

        });

        function AppendMsg(error, obj) {
            errormsg = (error.length > 15) ? error.substring(0, 15) + '...' : error;
            obj.find('td:nth-child(9)').attr('errormsg', error);// attr('error',error)
            obj.find('td:nth-child(9)').text('').css('color', 'red').text(errormsg);
            obj.find('td:nth-child(9)').attr('title', error);
            validationFlag = 1;
        }

        $("#progressBackgroundFilter").hide();
        $("#processMessage").hide();

        if (validationFlag == 0) {
            $("#progressBackgroundFilter").show();
            $("#processMessage").show();

            var count = 0;
            var projectId = $('#proid').val();
            var shiftarray = new Array();

            if ($('#a_valid').hasClass('selected')) {
                type = 1;
            }
            else if ($('#a_exceptions').hasClass('selected')) {
                type = 2;
            }

            $.each($('#edit6thValues tr'), function (i) {
                var obj = $('#edit6thValues tr:nth-child(' + (i + 1) + ')');
                var pk_id = obj.attr('id');
                var shifttype = obj.find('td:nth-child(1) select option:selected').attr('SDAEditshiftDetails')
                var assid = obj.find('td:nth-child(2)').text();
                var startDate = obj.find('td:nth-child(3) input').val();
                var endDate = obj.find('td:nth-child(4) input').val();
                var startTime = obj.find('td:nth-child(5) input').val();
                var endTime = obj.find('td:nth-child(6) input').val();
                var projid = obj.find('td:nth-child(7)').text();
                //var transelig = obj.find('td:nth-child(8) select option:selected').attr('SDAEditTransAllowance')
                //var bilingdet = obj.find('td:nth-child(9) select option:selected').attr('SDAEditBilingDetails');

                shiftarray[i] = pk_id + "," + type + "," + startDate + "," + endDate + "," + startTime + "," + endTime + "," + componentid + "," + shifttype + "," + projid;
            });

            var datastring = "{'shiftDetails':'" + JSON.stringify(shiftarray) + "'}";
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/UpdateSDAGridData",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d.length > 0) {
                        $.each($('#6th_edit tbody tr'), function (i) {
                            var obj = $('#6th_edit tbody tr:nth-child(' + (i + 1) + ')');
                            if ((msg.d[i]).toLowerCase() == 'success') {
                                if (type == 1) {
                                    obj.find('td:nth-child(9)').text('').css('color', 'green').text('Updated Successfully');
                                }
                                else if (type == 2) {
                                    obj.find('td:nth-child(9)').text('').css('color', 'green').text('Moved to Valid');
                                }
                            }
                            else {
                                var errormsg = (msg.d[i].length > 15) ? msg.d[i].substring(0, 15) + '...' : msg.d[i];
                                obj.find('td:nth-child(9)').attr('errormsg', msg.d[i]);
                                obj.find('td:nth-child(9)').text('').css('color', 'red').text(errormsg);
                                obj.find('td:nth-child(9)').attr('title', msg.d[i]);
                                count++;
                            }
                        });
                    }
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                },
                error: function (xhr) {
                    errorpopup(parent.document.getElementById("hdnSession").value);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
            });
        }
    }
    else {
        $("#progressBackgroundFilter").hide();
        $("#processMessage").hide();
    }
});

//NSA edit save
$(document).on('click', '#NSAEdit_Save', function () {
    var componentid = $('#bonus').val();
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    if ($('#NSAedit tbody tr').length > 0) {
        var validationFlag = 0;
        $('#NSAedit tbody tr').each(function () {
            var obj = $(this);
            var assid = $(this).find('td:nth-child(1) label').html();

            var startDate = $(this).find('td:nth-child(2) input').val();
            var endDate = $(this).find('td:nth-child(3) input').val();
            var startTime = $(this).find('td:nth-child(4) input').val();
            var endTime = $(this).find('td:nth-child(5) input').val();
            var projid = $(this).find('td:nth-child(6) label').html();

            // var ShiftTime = $('#BPSNsa_tbl2 tbody tr td:nth-child(1) ').html();

            //var startDatesplit = startDate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            //var date1 = new Date(startDatesplit[2], startDatesplit[0] - 1, startDatesplit[1]); //Y D M
            var date1 = new Date(startDate);
            var startdate = date1.getTime();
            //var endDatesplit = endDate.split('/');
            // Month is zero-indexed so subtract one from the month inside the constructor
            //var date2 = new Date(endDatesplit[2], endDatesplit[0] - 1, endDatesplit[1]); //Y D M
            var date2 = new Date(endDate);
            var enddate = date2.getTime();
            var error = '';

            if (projid == '' || startDate == '' || endDate == '' || startTime == '' || endTime == '') {
                error = 'Please fill all fields';
                AppendMsg(error, obj);
            }
            else {
                var diff = datediff(date1, date2, 'days');

                if (diff > 1) {
                    error += 'Time Duration should not be greater than 24hrs!';
                    AppendMsg(error, obj);
                }

                //Same date combination//
                else if (startdate == enddate && endTime < startTime) {
                    error += 'EndDate Time should be greater than the StartDateTime!';
                    AppendMsg(error, obj);
                }
                else if (startdate != enddate && startTime == endTime) {
                    error += 'StartTime and EndTime should not be same for different dates';
                    AppendMsg(error, obj);
                }
                else if (startdate != enddate && startTime < endTime) {
                    error += 'Time Duration should not be greater than 24hrs!';
                    AppendMsg(error, obj);
                }
                //same date combination ends here

                // Different Date combination
                else if (startdate > enddate) {
                    error += 'Start Date should not be greater than End Date';
                    AppendMsg(error, obj);
                }
                else if (endTime == startTime && startdate == enddate) {
                    error += 'StartDateTime and EndDateTime Should not be equal';
                    AppendMsg(error, obj);
                }
                else if (startdate != enddate && endTime > startTime) {
                    error += 'Time Duration should not be greater than 24hrs!';
                    AppendMsg(error, obj);
                }
                // Different Date combination ends here              
                else if (startDate == '') {
                    error = 'Please Select StartDate';
                    AppendMsg(error, obj);
                }

                else {
                    error = '';
                    obj.find('td:nth-child(9)').text('');
                    obj.find('td:nth-child(9)').removeAttr('errormsg');
                    obj.find('td:nth-child(9)').removeAttr('title');
                }
            }
        });

        function AppendMsg(error, obj) {
            errormsg = (error.length > 15) ? error.substring(0, 15) + '...' : error;
            obj.find('td:nth-child(8)').attr('errormsg', error);// attr('error',error)
            obj.find('td:nth-child(8)').text('').css('color', 'red').text(errormsg);
            obj.find('td:nth-child(8)').attr('title', error);
            validationFlag = 1;
        }

        $("#progressBackgroundFilter").hide();
        $("#processMessage").hide();
        if (validationFlag == 0) {

            $("#progressBackgroundFilter").show();
            $("#processMessage").show();
            var count = 0;
            var projectId = $('#proid').val();
            var shiftarray = new Array();
            if ($('#a_valid').hasClass('selected')) {
                type = 1;
            }
            else if ($('#a_exceptions').hasClass('selected')) {
                type = 2;
            }
            $.each($('#editNSAvalues tr'), function (i) {
                var obj = $('#editNSAvalues tr:nth-child(' + (i + 1) + ')');
                var pk_id = obj.attr('id');
                //var shifttype = obj.find('td:nth-child(1) select option:selected').attr('NSAEditshiftDetails')
                var assid = obj.find('td:nth-child(1)').text();
                var startDate = obj.find('td:nth-child(2) input').val();
                var endDate = obj.find('td:nth-child(3) input').val();
                var startTime = obj.find('td:nth-child(4) input').val();
                var endTime = obj.find('td:nth-child(5) input').val();
                var projid = obj.find('td:nth-child(6)').text();

                shiftarray[i] = pk_id + "," + type + "," + startDate + "," + endDate + "," + startTime + "," + endTime + "," + componentid + "," + projid;
            });
            var datastring = "{'shiftDetails':'" + JSON.stringify(shiftarray) + "'}";
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/UpdateNSAGridData",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d.length > 0) {
                        $.each($('#NSAedit tbody tr'), function (i) {
                            var obj = $('#NSAedit tbody tr:nth-child(' + (i + 1) + ')');
                            if ((msg.d[i]).toLowerCase() == 'success') {
                                if (type == 1) {
                                    obj.find('td:nth-child(8)').text('').css('color', 'green').text('Updated Successfully');
                                }
                                else if (type == 2) {
                                    obj.find('td:nth-child(8)').text('').css('color', 'green').text('Moved to Valid');
                                }
                            }
                            else {
                                var errormsg = (msg.d[i].length > 15) ? msg.d[i].substring(0, 15) + '...' : msg.d[i];
                                obj.find('td:nth-child(8)').attr('errormsg', msg.d[i]);
                                obj.find('td:nth-child(8)').text('').css('color', 'red').text(errormsg);
                                obj.find('td:nth-child(8)').attr('title', msg.d[i]);
                                count++;
                            }
                        });
                    }
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                },
                error: function (xhr) {
                    errorpopup(parent.document.getElementById("hdnSession").value);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
            });
        }
    }

    else {
        $("#progressBackgroundFilter").hide();
        $("#processMessage").hide();
    }

});

$(document).on('mouseover', '#tblpopadd tbody tr td:nth-child(8)', function () {
    $(this).attr('title', $(this).attr('errormsg'));
});

$(document).on('change', '#proid', function () {
    if ($('#a_valid').hasClass('selected')) {
        BindValidGridtbl();
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        BindExceptionsGridtbl();
    }
});

$(document).on('click', '.btnlist li:nth-child(2) input', function () {
    if ($('#tbl_shift tbody tr td:nth-child(1)').find(':checked').length > 0) {
        infopopup('Are you sure you want to delete the selected record(s)?');
    }
    else {
        errorpopup('Please select records to delete');
    }
});

$(document).on('click', '.btnlist li:nth-child(1) input', function () {

    getcutoffDate();
    var compgrpid = $('#bonus').val();
    var type = '';
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    if (isCutOffDateOver == 0) {
        $("#progressBackgroundFilter").show();
        $("#processMessage").show();

        //SDA
        if (compgrpid == 15) {
            $('#6theditAmount').numeric();
            $('#div6thDay_edit table tbody').html("");
            var checkedRowsLength = $('#tbl_shift tbody tr td:nth-child(1)').find(':checked').length;
            var checkedRows = $('#tbl_shift tbody tr td:nth-child(1)').find(':checked').parent().parent().clone(false);
            if (checkedRowsLength != 0) {
                if (checkedRowsLength > 10) {
                    errorpopup("We suggest you to go for bulk upload rather than editing more than 10 records");
                }

                else {
                    $("#progressBackgroundFilter").show();
                    $("#processMessage").show();
                    $(".defaultEntry").css("line-height", "");
                    $('#div6thDay_edit table tbody').html("");
                    var oTable = $("#6th_edit").dataTable();
                    oTable.fnDestroy();
                    if ($('#a_valid').hasClass('selected')) {
                        $('#6th_edit thead tr th:nth-child(8) img').attr('src', '../Images/Rejection.png').attr('title', 'Rejection Reason');
                    }
                    else if ($('#a_exceptions').hasClass('selected')) {
                        $('#6th_edit thead tr th:nth-child(8) img').attr('src', '../Images/exception.png').attr('title', 'Exception Remarks');
                    }

                    //$('#BPS6th_edit tbody').html(checkedRows);
                    var windowWidth = '100%';
                    var windowHeight = '100%';
                    var popupHeight = $("#6thDayeditPopup").height();
                    var popupWidth = $("#6thDayeditPopup").width();
                    var ele = window.parent.document.getElementById('background');
                    $(ele).fadeIn("slow")
                    $(".background_bg").fadeIn("slow");
                    $('#6thDayeditPopup').fadeIn("slow");
                    $(".background_bg").css({
                        "opacity": "0.5"
                    });

                    $('#6thDayeditPopup').css({
                        'position': 'absolute',
                        'z-index': '100',
                        "top": "0%",
                        "left": "2%"
                    });

                    $('#6th_edit').dataTable({
                        "fnInitComplete": function () {
                            //commented to remove vertical scroll
                            // custom scroll bars
                            //$('#BPS6th_edit_wrapper')
                            //.find('.dataTables_scrollBody')
                            //.jScrollPane({ verticalDragMinHeight: 8, verticalDragMaxHeight: 8, horizontalDragMinWidth: 82, horizontalDragMaxWidth: 82, autoReinitialise: true });
                        },
                        //"sPaginationType": "full_numbers",
                        "bPaginate": false,
                        "sScrollY": "150px",
                        "bFilter": false,
                        "bRetrieve": true,
                        "bDestroy": true,
                        "bInfo": false,
                        "aLengthMenu": [[5, 25, 50, 100, -1], [5, 25, 50, 100, "All"]],
                        "iDisplayLength": 5,
                        "aoColumns": [
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false }
                        ],
                        "fnDrawCallback": function () {
                            $('#tableId_info').prepend($('#tableId_length'));
                            $('#6th_edit tr th:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                            $('#6th_edit tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                            $('#6th_edit tr:odd td').css('background-color', '#ffffff');
                            $('#6th_edit tr:even td').css('background-color', '#ebebeb');
                        }
                    });

                    $('#div6thDay_edit').jScrollPane();
                    $('.scrollpopup .jspPane').css('left', '0px');
                    $('.scrollpopup .jspDrag').css('left', '0px');

                    var appendFlag = 0;
                    // var datei = 0
                    $("#progressBackgroundFilter").show();
                    $("#processMessage").show();
                    if (checkedRowsLength > 0) {
                        var datastring = '{"componentGroupId":"' + compgrpid + '"}';
                        var shifttypedropdown = '';
                        $.ajax({
                            type: "POST",
                            url: "../APAC_WebMethods.aspx/GetAllowanceType",
                            contentType: "application/json; charset=utf-8",
                            dataType: "json",
                            data: datastring,
                            cache: false,
                            success: function (msg) {
                                var shifttype = '';
                                $.each(msg.d, function (i, data) {
                                    shifttype += '<option value="' + data.ShiftTypeID + '" SDAEditshiftDetails="' + data.ShiftTypeID + '">' + data.ShiftType + '</option>';
                                });
                                shifttypedropdown = '<select id="SDAEditshiftDetails" name="SDAEditshiftDetails" style="line-height: 27px; height: 20px;">' + shifttype + '</select>';

                                AddHtml();
                            }

                        });

                        function AddHtml() {
                            $("#progressBackgroundFilter").show();
                            $("#processMessage").show();

                            var shifttxt = '';
                            var j = 0;
                            checkedRows.each(function () {
                                $('#edit6thValues').empty();
                                var selecteddata = $(this).attr('pk_id');
                                var datastring = '{"componentGroupId":"' + compgrpid + '","keyId":"' + selecteddata + '","type":"' + type + '"}';
                                $.ajax({
                                    type: "POST",
                                    url: "../APAC_WebMethods.aspx/GetEditData",
                                    contentType: "application/json; charset=utf-8",
                                    dataType: "json",
                                    data: datastring,
                                    cache: false,
                                    success: function (msg) {
                                        $.each(msg.d, function (i, data) {
                                            j = j + 1;
                                            appendFlag++;
                                            var editassociateid = data[i].AssociateID;
                                            var editstartdate = data[i].StartDate
                                            var editenddate = data[i].EndDate
                                            var editstarttime = data[i].StartTime
                                            var editendtime = data[i].EndTime
                                            var editprojid = data[i].ProjectID
                                            var editstatus = data[i].Status;
                                            var rejectrsn = data[i].RejectionReason;
                                            var exceptionremarks = data[i].ExceptionRemarks;
                                            var reason = '';
                                            var pk_id = data[i].PK_SGPShiftTimePayoutID;
                                            shifttxt = data[i].ShiftTypeName;

                                            var htmlvalue = '';
                                            htmlvalue += '<tr id="' + selecteddata + '"><td class="SAtd2 uploadselectbox">' + shifttypedropdown + '</td>';
                                            htmlvalue += '<td class="SAtd2"><label id="6thEditAssociateID">' + editassociateid + '</label></td>';
                                            htmlvalue += '<td class="SAtd3"><input name="" type="text" StartDate="' + editstartdate + '" value="' + editstartdate + '" id="6thedit_fromDate' + j + '" class="popup_Editstartdate" oncopy="return false" onpaste="return false" style="color: #1e1e1e; text-indent: 6px;" /></td>';
                                            htmlvalue += '<td class="SAtd4"><input name="" type="text"  EndDate="' + editenddate + '" value="' + editenddate + '" id="6thedit_toDate' + j + '" class="popup_EditEnddate" oncopy="return false" onpaste="return false" style="color: #1e1e1e; text-indent: 6px; "  /></td>';
                                            htmlvalue += '<td class="SAtd5"><p class="popTimeHolder"><input type="text" class="defaultEntry poptime" value="' + editstarttime + '" id="6thedit_starttime" value="09:00" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 10px;height:20px;" /></p></td>';
                                            htmlvalue += '<td class="SAtd6"><p class="popTimeHolder"><input type="text" class="defaultEntry poptime" value="' + editendtime + '" id="6thedit_endtime" value="09:00" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 10px;height:20px;" /></p></td>';
                                            htmlvalue += '<td class="SAtd7"><label id="6theditProjId">' + editprojid + '</label></td>';

                                            if (type == 1) {
                                                if (rejectrsn != '') {
                                                    reason = rejectrsn;
                                                    htmlvalue += '<td class="SAtd9"><img class="spriteImage" style="--x:-2296px;--y:-1110px;width:20px;height:20px" title="' + reason + '" /></td>';
                                                }
                                                else {
                                                    htmlvalue += '<td class="SAtd9"><img class="spriteImage" style="--x:-2296px;--y:-1110px;width:20px;height:20px" disabled="disabled"/></td>';
                                                }
                                            }

                                            else {
                                                if (exceptionremarks != '') {
                                                    reason = exceptionremarks;
                                                    htmlvalue += '<td class="SAtd9"><img class="spriteImage" style="--x:-2343px;--y:-1110px;width:20px;height:20px" title="' + reason + '" /></td>';
                                                }
                                                else {
                                                    htmlvalue += '<td class="SAtd9" reason=""><img class="spriteImage" style="--x:-2343px;--y:-1110px;width:20px;height:20px" disabled="disabled" /></td>';
                                                }
                                            }

                                            htmlvalue += '<td class="SAtd8"><label id="6theditRemarks"></td></tr>';
                                            $('#edit6thValues').append(htmlvalue);
                                            $('#edit6thValues tr:odd td').css('background-color', '#ffffff');
                                            $('#edit6thValues tr:even td').css('background-color', '#ebebeb');
                                            if (shifttxt != '') {
                                                $('#edit6thValues tr[id^="' + pk_id + '"]').find("#SDAEditshiftDetails option:contains('" + shifttxt + "')").prop("selected", true);
                                            }
                                            else {
                                                $('#edit6thValues tr[id^="' + pk_id + '"]').find("#SDAEditshiftDetails option:nth-child(1)").prop("selected", true);
                                            }

                                        });
                                        if (appendFlag == checkedRowsLength) {
                                            $('#edit6thValues tr').each(function () {
                                                var thisObj = $(this);

                                                thisObj.find(".popup_Editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
                                                thisObj.find(".popup_Editstartdate").val(thisObj.find('td:nth-child(3) input').attr('StartDate'));

                                                thisObj.find(".popup_EditEnddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
                                                thisObj.find(".popup_EditEnddate").val(thisObj.find('td:nth-child(4) input').attr('EndDate'));

                                                $(this).find('.defaultEntry').timeEntry({ show24Hours: true, timeSteps: [1, 5, 1], defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
                                            });
                                            $("#progressBackgroundFilter").hide();
                                            $("#processMessage").hide();
                                        }
                                    },
                                    error: function (xhr) {
                                        errorpopup(parent.document.getElementById("hdnSession").value);
                                        $("#progressBackgroundFilter").hide();
                                        $("#processMessage").hide();
                                    }
                                });
                            });

                        }
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                }
            }
            else {
                $("#uploadeditbtn").addClass("disablebutton");
            }
        }

        //NSA
        if (compgrpid == 16) {
            var comptxt = $("#selectbon").text();
            $('#popupName').text(comptxt);
            var checkedRowsLength = $('#tbl_shift tbody tr td:nth-child(1)').find(':checked').length;
            var checkedRows = $('#tbl_shift tbody tr td:nth-child(1)').find(':checked').parent().parent().clone(false);
            if (checkedRowsLength != 0) {
                if (checkedRowsLength > 10) {
                    errorpopup("We suggest you to go for bulk upload rather than editing more than 10 records");
                }
                else {
                    $(".defaultEntry").css("line-height", "");
                    $("#progressBackgroundFilter").show();
                    $("#processMessage").show();
                    $('#divNSA_edit table tbody').html("");
                    var oTable = $("#NSAedit").dataTable();
                    oTable.fnDestroy();
                    if ($('#a_valid').hasClass('selected')) {
                        $('#NSAedit thead tr th:nth-child(7) img').attr('src', '../Images/Rejection.png').attr('title', 'Rejection Reason');
                    }
                    else if ($('#a_exceptions').hasClass('selected')) {
                        $('#NSAedit thead tr th:nth-child(7) img').attr('src', '../Images/exception.png').attr('title', 'Exception Remarks');
                    }

                    //$(this).append('<td></td>');

                    // $('#BPSNSAedit tbody').html(checkedRows);
                    var windowWidth = '100%';
                    var windowHeight = '100%';
                    var popupHeight = $("#NSAeditPopup").height();
                    var popupWidth = $("#NSAeditPopup").width();
                    var ele = window.parent.document.getElementById('background');
                    $(ele).fadeIn("slow")
                    $(".background_bg").fadeIn("slow");
                    $('#NSAeditPopup').fadeIn("slow");
                    $(".background_bg").css({
                        "opacity": "0.5"
                    });

                    $('#NSAeditPopup').css({
                        'position': 'absolute',
                        'z-index': '100',
                        "top": "0%",
                        "left": "2%"
                    });

                    $('#NSAedit').dataTable({
                        "fnInitComplete": function () {
                            // custom scroll bars
                            $('#NSAedit_wrapper')
                                .find('.dataTables_scrollBody')
                                .jScrollPane({ verticalDragMinHeight: 8, verticalDragMaxHeight: 8, horizontalDragMinWidth: 82, horizontalDragMaxWidth: 82, autoReinitialise: true });
                        },
                        //"sPaginationType": "full_numbers",
                        "bPaginate": false,
                        "sScrollY": "340px",
                        "bFilter": false,
                        "bRetrieve": true,
                        "bDestroy": true,
                        "bInfo": false,
                        "aLengthMenu": [[5, 25, 50, 100, -1], [5, 25, 50, 100, "All"]],
                        "iDisplayLength": 5,
                        "aoColumns": [

                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false }

                        ],
                        "fnDrawCallback": function () {
                            $('#tableId_info').prepend($('#tableId_length'));
                            $('#NSAedit tr th:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                            $('#NSAedit tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                            $('#NSAedit tr:odd td').css('background-color', '#ffffff');
                            $('#NSAedit tr:even td').css('background-color', '#ebebeb');
                        }
                    });
                    //$('#divBPSNSA_edit').jScrollPane();

                    $('.scrollpopup .jspPane').css('left', '0px');
                    $('.scrollpopup .jspDrag').css('left', '0px');

                    var appendFlag = 0;
                    $("#progressBackgroundFilter").show();
                    $("#processMessage").show();
                    if (checkedRowsLength > 0) {
                        //function AddNSAHtml() {
                        $("#progressBackgroundFilter").show();
                        $("#processMessage").show();

                        var NsaShiftTxt = '';
                        var NsaSPlcaseTxt = '';
                        var j = 0;
                        checkedRows.each(function () {
                            $('#editNSAvalues').empty();
                            var selecteddata = $(this).attr('pk_id');
                            var datastring = '{"componentGroupId":"' + compgrpid + '","keyId":"' + selecteddata + '","type":"' + type + '"}';
                            $.ajax({
                                type: "POST",
                                url: "../APAC_WebMethods.aspx/GetEditData",
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                data: datastring,
                                cache: false,
                                success: function (msg) {
                                    $.each(msg.d, function (i, data) {
                                        appendFlag++;
                                        j = j + 1;
                                        var editassoid = data[i].AssociateID;
                                        var editstartdate = data[i].StartDate;
                                        var editenddate = data[i].EndDate;
                                        var editstarttime = data[i].StartTime;
                                        var editendtime = data[i].EndTime;
                                        var editprojid = data[i].ProjectID;
                                        var status = data[i].Status;
                                        var editrejectrsn = data[i].RejectionReason;
                                        var editexceptionremarks = data[i].ExceptionRemarks;
                                        var reason = '';
                                        var pk_id = data[i].PK_SGPShiftTimePayoutID;

                                        var htmlvalue = '';
                                        htmlvalue += '<tr id="' + selecteddata + '">';
                                        htmlvalue += '<td class="NSAEtd1"><label id="editAssociateID">' + editassoid + '</label></td>';
                                        htmlvalue += '<td class="NSAEtd2"><input name="" type="text"  StartDate="' + editstartdate + '" value="' + editstartdate + '"  id="NSAedit_fromDate' + j + '" class="popup_Editstartdate" oncopy="return false" onpaste="return false" style="color: #1e1e1e; text-indent: 6px;"/></td>';
                                        htmlvalue += '<td class="NSAEtd3"><input name="" type="text"  EndDate="' + editenddate + '" value="' + editenddate + '" id="NSAedit_toDate' + j + '" class="popup_EditEnddate" oncopy="return false" onpaste="return false" style="color: #1e1e1e; text-indent: 6px;"/></td>';
                                        htmlvalue += '<td class="NSAEtd4"><p class="popTimeHolder"><input type="text" class="defaultEntry poptime" value="' + editstarttime + '" id="NSAStartTime" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 0;height:20px;" /></p></td>';
                                        htmlvalue += '<td class="NSAEtd5"><p class="popTimeHolder"><input type="text" class="defaultEntry poptime" value="' + editendtime + '" id="NSAEndTime" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 0;height:20px;" /></p></td>';
                                        htmlvalue += '<td class="NSAEtd6"><label id="editprojectid">' + editprojid + '</label></td>';

                                        if (type == 1) {
                                            if (editrejectrsn != '') {
                                                reason = editrejectrsn;
                                                htmlvalue += '<td class="NSAEtd7"><img class="spriteImage" style="--x:-2296px;--y:-1110px;width:20px;height:20px" title="' + reason + '" /></td>';
                                            }
                                            else {
                                                htmlvalue += '<td class="NSAEtd7"><img class="spriteImage" style="--x:-2296px;--y:-1110px;width:20px;height:20px" disabled="disabled"/></td>';
                                            }
                                        }

                                        else {
                                            if (editexceptionremarks != '') {
                                                reason = editexceptionremarks;
                                                htmlvalue += '<td class="NSAtEd7"><img class="spriteImage" style="--x:-2343px;--y:-1110px;width:20px;height:20px" title="' + reason + '" /></td>';
                                            }
                                            else {
                                                htmlvalue += '<td class="NSAEtd7" reason=""><img class="spriteImage" style="--x:-2343px;--y:-1110px;width:20px;height:20px" disabled="disabled" /></td>';
                                            }
                                        }

                                        htmlvalue += '<td class="NSAEtd8"><label id="editStatus"></label></td></tr>';

                                        $('#editNSAvalues').append(htmlvalue);
                                        $('#editNSAvalues tr:odd td').css('background-color', '#ffffff');
                                        $('#editNSAvalues tr:even td').css('background-color', '#ebebeb');

                                    });

                                    if (appendFlag == checkedRowsLength) {
                                        $('#editNSAvalues tr').each(function () {
                                            var thisObj = $(this);

                                            thisObj.find(".popup_Editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
                                            thisObj.find(".popup_Editstartdate").val(thisObj.find('td:nth-child(2) input').attr('StartDate'));

                                            thisObj.find(".popup_EditEnddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
                                            thisObj.find(".popup_EditEnddate").val(thisObj.find('td:nth-child(3) input').attr('EndDate'));

                                            $(this).find('.defaultEntry').timeEntry({ show24Hours: true, timeSteps: [1, 5, 1], defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
                                        });
                                        $("#progressBackgroundFilter").hide();
                                        $("#processMessage").hide();
                                    }
                                },
                                error: function (xhr) {
                                    errorpopup(parent.document.getElementById("hdnSession").value);
                                    $("#progressBackgroundFilter").hide();
                                    $("#processMessage").hide();
                                }

                            });
                        });
                        //}
                    }
                }
            }
            else {
                $("#uploadeditbtn").addClass("disablebutton");
            }
        }
        //Shift Allowance - Malaysia
        if (compgrpid == 41) {
            //var comptxt = $("#selectbon").text(); jquery upgrade fix
            var comptxt = $('#bonus option:selected').text();

            $('#popupName').text(comptxt);
            $('#Span1').text('');
            $('#Span1').text('Shift Allowance');
            var checkedRowsLength = $('#tbl_shift tbody tr td:nth-child(1)').find(':checked').length;
            var checkedRows = $('#tbl_shift tbody tr td:nth-child(1)').find(':checked').parent().parent().clone(false);
            if (checkedRowsLength != 0) {
                if (checkedRowsLength > 10) {
                    errorpopup("We suggest you to go for bulk upload rather than editing more than 10 records");
                }
                else {
                    $(".defaultEntry").css("line-height", "");
                    $("#progressBackgroundFilter").show();
                    $("#processMessage").show();
                    $('#divNSA_edit table tbody').html("");
                    var oTable = $("#NSAedit").dataTable();
                    oTable.fnDestroy();
                    if ($('#a_valid').hasClass('selected')) {
                        $('#NSAedit thead tr th:nth-child(7) img').attr('src', '../Images/Rejection.png').attr('title', 'Rejection Reason');
                    }
                    else if ($('#a_exceptions').hasClass('selected')) {
                        $('#NSAedit thead tr th:nth-child(7) img').attr('src', '../Images/exception.png').attr('title', 'Exception Remarks');
                    }

                    //$(this).append('<td></td>');

                    // $('#BPSNSAedit tbody').html(checkedRows);
                    var windowWidth = '100%';
                    var windowHeight = '100%';
                    var popupHeight = $("#NSAeditPopup").height();
                    var popupWidth = $("#NSAeditPopup").width();
                    var ele = window.parent.document.getElementById('background');
                    $(ele).fadeIn("slow")
                    $(".background_bg").fadeIn("slow");
                    $('#NSAeditPopup').fadeIn("slow");
                    $(".background_bg").css({
                        "opacity": "0.5"
                    });

                    $('#NSAeditPopup').css({
                        'position': 'absolute',
                        'z-index': '100',
                        "top": "0%",
                        "left": "2%"
                    });

                    $('#NSAedit').dataTable({
                        "fnInitComplete": function () {
                            // custom scroll bars
                            $('#NSAedit_wrapper')
                                .find('.dataTables_scrollBody')
                                .jScrollPane({ verticalDragMinHeight: 8, verticalDragMaxHeight: 8, horizontalDragMinWidth: 82, horizontalDragMaxWidth: 82, autoReinitialise: true });
                        },
                        //"sPaginationType": "full_numbers",
                        "bPaginate": false,
                        "sScrollY": "340px",
                        "bFilter": false,
                        "bRetrieve": true,
                        "bDestroy": true,
                        "bInfo": false,
                        "aLengthMenu": [[5, 25, 50, 100, -1], [5, 25, 50, 100, "All"]],
                        "iDisplayLength": 5,
                        "aoColumns": [

                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false },
                            { "bSortable": false }

                        ],
                        "fnDrawCallback": function () {
                            $('#tableId_info').prepend($('#tableId_length'));
                            $('#NSAedit tr th:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                            $('#NSAedit tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                            $('#NSAedit tr:odd td').css('background-color', '#ffffff');
                            $('#NSAedit tr:even td').css('background-color', '#ebebeb');
                        }
                    });
                    //$('#divBPSNSA_edit').jScrollPane();

                    $('.scrollpopup .jspPane').css('left', '0px');
                    $('.scrollpopup .jspDrag').css('left', '0px');

                    var appendFlag = 0;
                    $("#progressBackgroundFilter").show();
                    $("#processMessage").show();
                    if (checkedRowsLength > 0) {
                        //function AddNSAHtml() {
                        $("#progressBackgroundFilter").show();
                        $("#processMessage").show();

                        var NsaShiftTxt = '';
                        var NsaSPlcaseTxt = '';
                        var j = 0;
                        checkedRows.each(function () {
                            $('#editNSAvalues').empty();
                            var selecteddata = $(this).attr('pk_id');
                            var datastring = '{"componentGroupId":"' + compgrpid + '","keyId":"' + selecteddata + '","type":"' + type + '"}';
                            $.ajax({
                                type: "POST",
                                url: "../APAC_WebMethods.aspx/GetEditData",
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                data: datastring,
                                cache: false,
                                success: function (msg) {
                                    $.each(msg.d, function (i, data) {
                                        appendFlag++;
                                        j = j + 1;
                                        var editassoid = data[i].AssociateID;
                                        var editstartdate = data[i].StartDate;
                                        var editenddate = data[i].EndDate;
                                        var editstarttime = data[i].StartTime;
                                        var editendtime = data[i].EndTime;
                                        var editprojid = data[i].ProjectID;
                                        var status = data[i].Status;
                                        var editrejectrsn = data[i].RejectionReason;
                                        var editexceptionremarks = data[i].ExceptionRemarks;
                                        var reason = '';
                                        var pk_id = data[i].PK_SGPShiftTimePayoutID;

                                        var htmlvalue = '';
                                        htmlvalue += '<tr id="' + selecteddata + '">';
                                        htmlvalue += '<td class="NSAEtd1"><label id="editAssociateID">' + editassoid + '</label></td>';
                                        htmlvalue += '<td class="NSAEtd2"><input name="" type="text"  StartDate="' + editstartdate + '" value="' + editstartdate + '"  id="NSAedit_fromDate' + j + '" class="popup_Editstartdate" oncopy="return false" onpaste="return false" style="color: #1e1e1e; text-indent: 6px;"/></td>';
                                        htmlvalue += '<td class="NSAEtd3"><input name="" type="text"  EndDate="' + editenddate + '" value="' + editenddate + '" id="NSAedit_toDate' + j + '" class="popup_EditEnddate" oncopy="return false" onpaste="return false" style="color: #1e1e1e; text-indent: 6px;"/></td>';
                                        htmlvalue += '<td class="NSAEtd4"><p class="popTimeHolder"><input type="text" class="defaultEntry poptime" value="' + editstarttime + '" id="NSAStartTime" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 0;height:20px;" /></p></td>';
                                        htmlvalue += '<td class="NSAEtd5"><p class="popTimeHolder"><input type="text" class="defaultEntry poptime" value="' + editendtime + '" id="NSAEndTime" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 0;height:20px;" /></p></td>';
                                        htmlvalue += '<td class="NSAEtd6"><label id="editprojectid">' + editprojid + '</label></td>';

                                        if (type == 1) {
                                            if (editrejectrsn != '') {
                                                reason = editrejectrsn;
                                                htmlvalue += '<td class="NSAEtd7"><img class="spriteImage" style="--x:-2296px;--y:-1110px;width:20px;height:20px" title="' + reason + '" /></td>';
                                            }
                                            else {
                                                htmlvalue += '<td class="NSAEtd7"><img class="spriteImage" style="--x:-2296px;--y:-1110px;width:20px;height:20px" disabled="disabled"/></td>';
                                            }
                                        }

                                        else {
                                            if (editexceptionremarks != '') {
                                                reason = editexceptionremarks;
                                                htmlvalue += '<td class="NSAtEd7"><img class="spriteImage" style="--x:-2343px;--y:-1110px;width:20px;height:20px" title="' + reason + '" /></td>';
                                            }
                                            else {
                                                htmlvalue += '<td class="NSAEtd7" reason=""><img class="spriteImage" style="--x:-2343px;--y:-1110px;width:20px;height:20px" disabled= /></td>';
                                            }
                                        }

                                        htmlvalue += '<td class="NSAEtd8"><label id="editStatus"></label></td></tr>';

                                        $('#editNSAvalues').append(htmlvalue);
                                        $('#editNSAvalues tr:odd td').css('background-color', '#ffffff');
                                        $('#editNSAvalues tr:even td').css('background-color', '#ebebeb');

                                    });

                                    if (appendFlag == checkedRowsLength) {
                                        $('#editNSAvalues tr').each(function () {
                                            var thisObj = $(this);

                                            thisObj.find(".popup_Editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
                                            thisObj.find(".popup_Editstartdate").val(thisObj.find('td:nth-child(2) input').attr('StartDate'));

                                            thisObj.find(".popup_EditEnddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
                                            thisObj.find(".popup_EditEnddate").val(thisObj.find('td:nth-child(3) input').attr('EndDate'));

                                            $(this).find('.defaultEntry').timeEntry({ show24Hours: true, timeSteps: [1, 5, 1], defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
                                        });
                                        $("#progressBackgroundFilter").hide();
                                        $("#processMessage").hide();
                                    }
                                },
                                error: function (xhr) {
                                    errorpopup(parent.document.getElementById("hdnSession").value);
                                    $("#progressBackgroundFilter").hide();
                                    $("#processMessage").hide();
                                }

                            });
                        });
                        //}
                    }
                }
            }
            else {
                $("#uploadeditbtn").addClass("disablebutton");
            }
        }

    }

    else if (isCutOffDateOver == 1 && compgrpid == 15) {
        $("#uploadeditbtn").addClass("disablebutton");
    }
    else if (isCutOffDateOver == 1 && compgrpid == 16) {
        $("#uploadeditbtn").addClass("disablebutton");
    }
    else if (isCutOffDateOver == 1 && compgrpid == 41) {
        $("#uploadeditbtn").addClass("disablebutton");
    }
    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
});

$(document).on('change', '#tblpopedit tbody tr td:nth-child(2) select', function () {
    var shiftOption = '';
    var compId = $(this).val();
    $.each(shiftTypes, function (i, data) {
        if (data.ComponentID == compId) {
            shiftOption += '<option value="' + data.ShiftTypeID + '">' + data.ShiftType + '</option>';
        }
    });
    $(this).parent().next().find('select').html(shiftOption);
});

$(document).on('mouseover', '#tblpopedit tbody tr td:nth-child(8) img', function () {
    $(this).attr('title', $(this).parent().attr('reason'));
});

$(document).on('mouseover', '#tblpopedit tbody tr td:nth-child(9)', function () {
    $(this).attr('title', $(this).attr('errormsg'));
});

$(document).on('change', '#bonus', function () {
    OnLoad = 1;
    $("#NoData").remove();
    $('#ddlMonth').html('');
    monthHTML = '';
    monthHTML += '<option value="0">All</option>' + '<option value="1">January</option>' + '<option value="2">February</option>' + '<option value="3">March</option>' + '<option value="4">April</option>' + '<option value="5">May</option>' + '<option value="6">June</option>' + '<option value="7">July</option>' + '<option value="8">August</option>' + '<option value="9">September</option>' + '<option value="10">October</option>' + '<option value="11">November</option>' + '<option value="12">December</option>';
    $('#ddlMonth').html(monthHTML);
    var d = new Date();
    var CurrentMonth = d.getMonth() + 1;
    $('#ddlMonth').find('option:nth-child(' + (CurrentMonth + 1) + ')').attr('selected', 'selected');
    $('#selectMonth').text($('#ddlMonth').find('option:nth-child(' + (CurrentMonth + 1) + ')').text());

    $("#progressBackgroundFilter").show();
    $("#processMessage").show();

    //  $("#idpopup_msg1").css("margin-top", "-350px");
    var comp = $("#bonus").val();
    getcutoffDate();
    //if (comp == 2 || comp == 3 || comp == 15 || comp == 16 || comp == 17 || comp == 18 || comp == 19 || comp == 20 || comp == 21  || comp == 22 || comp == 23 || comp == 24 || comp == 25 || comp == 26 || comp == 27 || comp == 28 || comp == 29 || comp == 30 || comp == 31 || comp == 32 || comp == 33 || comp == 34 || comp == 35 || comp == 36 || comp == 37 || comp == 38 || comp == 39 || comp == 40 || comp == 42) {
    if (comp == 48 && CountryId == 17) {
        populateTransportFilterDropdown();
    }
    else if ((comp == 22 || comp == 39 || comp == 101) && (CountryId == 8 || CountryId == 9)) {
        IsAssociateServianContino();
        populateFilterDropdown();
    }
    else {
        populateFilterDropdown();
        if (comp == 22 && RoleId == 19 && (CountryId == 11 || CountryId == 12 || CountryId == 13 || CountryId == 8 || CountryId == 9)) {
            $('#aid1').hide();
            $('#aid2').hide();
            $('#aid3').hide();
        }

    }
    // }

    var d = new Date();
    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();
    //cut off enddate//
    var cutoffdatesplit = cutoffdate.split('/');
    // Month is zero-indexed so subtract one from the month inside the constructor
    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
    var cutoff_date = date.getTime();

    //cut off start  date //
    var cutoffstartdatesplit = cutoffStartdate.split('/');
    // Month is zero-indexed so subtract one from the month inside the constructor
    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
    var cutoffStart_date = date.getTime();

    var todaysplit = today.split('/');
    // = new Date(c Month is zero-indexed so subtract one from the month inside the constructor
    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
    var today_date = Date1.getTime();

    $('#aid').val('');
    $('#bid').val('');
    if (comp == 2 || comp == 3 || comp == 17 || (comp == 18 && CountryId == 2) || comp == 19 || comp == 20 ||
        comp == 75 || comp == 71 || comp == 72 || comp == 73 || comp == 74 || comp == 94) {

        $("#mailattach").addClass('disabled');
        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#displayrecords").val("5");
        $("#selectRecord").text("5");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        $("#a_otherGeo").hide();
        $('.btnlist').hide();
        if (comp == 3) { var CustomizeJB = '~1~2~3~4~5~'; }
        else if (comp == 2 && (CountryId != 18 && CountryId != 19 && CountryId != 20)) {
            var CustomizeRB = '~1~2~3~4~5~6~7~8~9~10~';
            $("#a_otherGeo").show();
        }
        else if (comp == 17 && CountryId == 2) { var CustomizeSAR = '~1~2~3~4~5~6~'; }
        else if (comp == 18) { var CustomizeSF = '~1~2~3~4~'; }
        else if (comp == 19) { var CustomizeAP = '~1~2~3~4~6~9'; }
        else if (comp == 20) { var CustomizeAD = '~1~2~4~5~6~7~' }
    }
    else if ((comp == 18 && (CountryId == 4)) || comp == 23 || comp == 24 || comp == 29 || comp == 30 || comp == 33 ||
        comp == 46 || comp == 49 || comp == 34 || comp == 35 || comp == 36 || comp == 37 || comp == 38 || comp == 31 ||
        comp == 32 || comp == 28 || comp == 50 || comp == 57 || comp == 85 || comp == 86 || comp == 87 || comp == 88 ||
        comp == 89 || comp == 58) {
        $("#mailattach").addClass('disabled');
        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#drpdown_filter').hide();
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        //getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        $("#a_otherGeo").hide();
        $('.btnlist').hide();

        if (comp == 29) {
            var CustomizeSoB = '~1~5~6~7~';
            //$('#divFAQ').show();
        }
        if (comp == 28 && CountryId == 7) {
            message = "Amount cannot be claimed for future months.</br>";
            errorpopup_1(message);
        }
    }
    else if (comp == 42 || comp == 26 || comp == 27) {

        $('#deletebtn').show();
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        $("#a_otherGeo").hide();
        $('.btnlist').hide();
        $('#mailattach').hide();
        $('#customize').hide();

    }
    else if ((comp == 39 || comp == 22) && CountryId == 3) {

        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#drpdown_filter').hide();
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        //$("#a_otherGeo").show();
        $('.btnlist').hide();

    }
    else if ((comp == 22) && (CountryId == 5 || CountryId == 6 || CountryId == 7 || CountryId == 8 || CountryId == 9 ||
        CountryId == 10 || CountryId == 11 || CountryId == 12 || CountryId == 13)) {

        $("#mailattach").addClass('disabled');
        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#drpdown_filter').hide();
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        //$("#a_otherGeo").show();
        $('.btnlist').hide();
        var CustomizeOT = '~1~2~3~4~5~6~7~9~10';
        if (CountryId == 7) {
            var message = "\u2022 Please note overtime allowance can only be raised if comp off is not provided by your BU. If you have not received comp off, please upload approval email from your Talent Manager to claim the overtime allowance.</br>"
            message += "\u2022 Amount should be claimed separately for each day.</br>";
            message += "\u2022 Amount cannot be claimed for future dates.</br>";
            errorpopup_1(message);
        }
        if (CountryId == 8) {
            var message = "</br>The form is to be filled out by Associates where compensatory time off cannot be taken due to "
            message += "project circumstances or when the same is due for expiry. The overtime hours worked will be cashed out ";
            message += "at the employees normal rate of pay. A business case must be raised to explain why compensatory day off ";
            message += "could not be used. This form of compensation is not to be used to earn extra money by employees.";
            errorpopup(message);
        }
    }
    else if (comp == 21 || ((comp == 39 || comp == 101) && CountryId != 3)) {

        $("#mailattach").addClass('disabled');
        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#drpdown_filter').hide();
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        //getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        //$("#a_otherGeo").show();
        $('.btnlist').hide();

        if (comp == 39 && CountryId == 7) {
            var message = "\u2022 Amount should be claimed separately for each day.</br>";
            message += "\u2022 Amount cannot be claimed for future dates.</br>";
            errorpopup_1(message);
        }
    }
    else if (comp == 15 || comp == 16 || comp == 41) {

        $('#upload').show();
        $("#mailattach").addClass('disabled');
        getProjIDforShiftUser();
        $('#deletebtn').hide();
        $('#divprojfilter').show();
        $('#drpdown_filter').parent().addClass('mleft10');
        $('#proid').css("width", '90px');
        $('#aid').css("width", "120px").removeClass('mleft50').addClass('mleft20');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        if (comp == 15) { var CustomizeSDA = '~1~2~3~4~5~6~9~'; }
        else if (comp == 16) { var CustomizeNSA = '~1~2~3~4~5~8~'; }
    }
    else {

        $('#upload').show();
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $('#bid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $('#deletebtn').hide();
        $('#SAdeletebtn').show();
        $('#divprojfilter').hide();
        $("#ulRecord").css('display', 'none');
        $('.refPage').css('display', 'none');
        $("#a_valid").click();
        $("#a_otherGeo").hide()
    }
});

$(document).on('change', '#ddlMonth', function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    if (page == 0) {
        page = 1;
    }
    $("#NoData").remove();
    if ($('#aid').val() == '' || $('#bid').val() == '') {
        if ($("#a_valid").hasClass("selected")) {
            BindValidGridtbl();
        } else {
            BindExceptionsGridtbl();
        }
    }
    else {
        keyPressEnter();
    }
});

$(document).on('change', '#drpdown_filter', function () {
    $("#aid").val("");
    $("#bid").val("");
    var compgrp = $("#bonus").val();
    var type = '';
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_duplicates').hasClass('selected')) {
        type = 2;
    }


});

function populateFilterDropdown() {
    $('#drpdown_filter').html('');
    $('#searchtxt').css('display', 'block');
    $('#filterdrpdwn').css('display', 'none');
    var datastring = '{"componentGroupId":"' + $('#bonus').val() + '"}';
    $.ajax({
        type: "POST",
        url: "../WebMethods.aspx/GetFilterDropdownData",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            var option_html = '';
            var txt_html = '';
            var count = 1;
            $.each(msg.d, function (i, data) {
                option_html += "<option value='" + data.CUserDefined1 + "'>" + data.CDescription + "</option>";
                txt_html += "<input type='text'  class='txtbx_med_190 mleft10 search flft' id='aid" + count + "'  name='" + data.CUserDefined1 + "'  placeholder='Search " + data.CDescription + "' title='Search " + data.CDescription + "'   />"
                //txt_html += "<label for='aid" + count + "'>Search " + data.CDescription + "</label>"
                count++;
            });

            $('#searchtxt').html(txt_html);
            $('input').placeholder({ customClass: 'my-placeholder' });

        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function populateTransportFilterDropdown() {
    $('#drpdown_filter').html('');
    $('#searchtxt').css('display', 'block');
    $('#filterdrpdwn').css('display', 'none');
    var datastring = '{"componentGroupId":"' + $('#bonus').val() + '"}';
    $.ajax({
        type: "POST",
        url: "../WebMethods.aspx/GetFilterDropdownData",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            var option_html = '';
            var txt_html = '';
            var count = 1;
            $.each(msg.d, function (i, data) {
                option_html += "<option value='" + data.CUserDefined1 + "'>" + data.CDescription + "</option>";
                txt_html += "<input type='text'  class='txtbx_med_190 mleft10 search flft' id='bid" + count + "'  name='" + data.CUserDefined1 + "'  placeholder='Search " + data.CDescription + "'  title='Search " + data.CDescription + "'/>"
                //txt_html += "<label for='aid" + count + "'>Search " + data.CDescription + "</label>"
                count++;
            });
            $('#searchtxt').html(txt_html);
            $('input').placeholder({ customClass: 'my-placeholder' });

        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

$(document).on('keyup', '#editAmount', function () {

    var type = '';
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    var componentGroupId = $('#bonus').val();
    var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
    var pkey = obj.attr('pkey');
    var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '"}';
    $.ajax({
        type: "POST",
        //url: "../APAC_WebMethods.aspx/GetEditData",
        url: "../APAC_WebMethods.aspx/GetEditDataSGP",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        async: false,
        data: datastring,
        cache: false,
        success: function (msg) {
            if (msg.d.length > 0) {
                if (!($('.popup_edit .inner_cont ul:nth-child(3)').hasClass('editAmountiframe'))) {
                    if ($('#bonus').val() == 30) {
                        if (msg.d[0][0].Amount != $("#editAmount").val()) {
                            var list = '';

                            list += '<ul id="EditMandatory" class="mtop10 editAmountiframe" iframe style=""><li style="width:332px;"><label>Amount Approval mail :</label></li><li iframe id="editframe1"><iframe id="frameApp" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                            list += '<li style="padding-top:5px;"><div id="App_aft_upload"></div></li>';
                            list += '</ul>';

                            $('.popup_edit .inner_cont').append(list);
                            $('.popup_edit .inner_cont').css("height", "auto");

                        }
                    }
                    else {
                        if (msg.d[0][0].TotalAmount != $("#editAmount").val()) {
                            var list = '';

                            list += '<ul id="EditMandatory" class="mtop10 editAmountiframe" iframe style="margin-left:5px;"><li style="width:324px;"><label>Amount Approval mail :</label></li><li iframe id="editframe1"><iframe id="frameApp" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                            list += '<li style="padding-top:5px;"><div id="App_aft_upload"></div></li>';
                            list += '</ul>';

                            $('.popup_edit .inner_cont').append(list);
                        }
                    }

                }
                else {
                    if ($('#bonus').val() == 30) {
                        if (msg.d[0][0].Amount == $("#editAmount").val()) {
                            $('.popup_edit .inner_cont').css("height", "auto");
                            $('#EditMandatory').remove();
                        }
                    }
                    else {
                        if (msg.d[0][0].TotalAmount == $("#editAmount").val()) {
                            $('.popup_edit .inner_cont').css("height", "auto");
                            $('#EditMandatory').remove();
                        }
                    }
                }
            }
        },
        error: function (xhr) {
            $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
        }
    });
});

$(document).on('click', '.edit_details', function (event) {

    LV_LwdDate = '';
    $('.inner_cont').css("height", '');
    $('.popup_edit .innerErrorHolder').text('');
    var componentGroupId = $('#bonus').val();
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    var type = '';
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
        if (componentGroupId == 2 && CountryId == 2) {
            $('.popup_edit').css("top", '20px');
            $('.inner_cont').css("height", '300px');
        }
        else if (componentGroupId == 2 && (CountryId == 18 && CountryId == 19)) {
            $('.inner_cont').css("height", '300px');
        }
        else if (componentGroupId == 3) {
            $('.inner_cont').css("height", '240px');
        }
        else if (componentGroupId == 17) {
            $('.inner_cont').css("height", '230px');
        }
        else if ((componentGroupId == 18 && CountryId == 2) || (componentGroupId == 20 && CountryId == 2)) {
            $('.inner_cont').css("height", '150px');
        }
        else if (componentGroupId == 18 && (CountryId != 2 && CountryId != 14 && CountryId != 15 && CountryId != 16 && CountryId != 17)) {
            $('.inner_cont').css("height", '170px');
        }
        else if (componentGroupId == 18 && (CountryId == 14 || CountryId == 15 || CountryId == 16 || CountryId == 17)) { //nordics
            $('.inner_cont').css("height", '250px');
        }
        else if (componentGroupId == 19 || componentGroupId == 21) {
            $('.inner_cont').css("height", '200px');
        }
        else if (componentGroupId == 20 && CountryId != 2) {
            $('.inner_cont').css("height", '260px');
        }
        else if (componentGroupId == 33) {
            $('.inner_cont').css("height", '280px');
        }
        else if (componentGroupId == 36 || componentGroupId == 37) {
            $('.inner_cont').css("height", '240px');
        }
        else if (componentGroupId == 46) {
            $('.inner_cont').css("height", '250px');
        }
        else if ((componentGroupId == 49 || componentGroupId == 52) && (CountryId != 18 && CountryId != 19)) {
            $('.inner_cont').css("height", '250px');
        }
        else if ((componentGroupId == 49 || componentGroupId == 57) && (CountryId == 18 || CountryId != 19)) {
            $('.inner_cont').css("height", '250px');
        }
        else if (componentGroupId == 60 || componentGroupId == 61 || componentGroupId == 62 ||
            componentGroupId == 63 || componentGroupId == 64 || componentGroupId == 65 ||
            componentGroupId == 68 || componentGroupId == 69 || componentGroupId == 70 ||
            componentGroupId == 71 || componentGroupId == 72 || componentGroupId == 73 ||
            componentGroupId == 74 || componentGroupId == 75 || (componentGroupId == 2 && CountryId == 20)
            || componentGroupId == 79 || componentGroupId == 80 || componentGroupId == 81
            || componentGroupId == 83 || componentGroupId == 84 || ((componentGroupId == 3 || componentGroupId == 29
                || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20) || componentGroupId == 85
            || componentGroupId == 86
            || componentGroupId == 87 || componentGroupId == 88 || componentGroupId == 89) {
            $('.inner_cont').css("height", '180px');

        }
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
        if (componentGroupId == 2) {
            $('.popup_edit').css("top", '20px');
            $('.inner_cont').css("height", '300px');
        }
        else if (componentGroupId == 3) {
            $('.inner_cont').css("height", '270px');
        }
        else if (componentGroupId == 17) {
            $('.inner_cont').css("height", '230px');
        }
        else if (componentGroupId == 18 && CountryId == 2) {
            $('.inner_cont').css("height", '180px');
        }
        else if (componentGroupId == 18 && (CountryId != 2 && CountryId != 14 && CountryId != 15 && CountryId != 16)) {
            $('.inner_cont').css("height", '180px');
        }
        else if (componentGroupId == 18 && (CountryId == 14 || CountryId == 15 || CountryId == 16)) { //nordics
            $('.inner_cont').css("height", '250px');
        }
        else if (componentGroupId == 19 && CountryId == 2) {
            $('.inner_cont').css("height", '200px');
        }
        else if (componentGroupId == 19 && CountryId != 2) {
            $('.inner_cont').css("height", '290px');
        }
        else if ((componentGroupId == 20 && CountryId == 2) || componentGroupId == 21) {
            $('.inner_cont').css("height", '200px');
        }

        else if (componentGroupId == 20 && CountryId != 2) {
            $('.inner_cont').css("height", '260px');
        }

        else if (componentGroupId == 36 || componentGroupId == 37) {
            $('.inner_cont').css("height", '220px');
        }
        else if (componentGroupId == 46 || componentGroupId == 49 || componentGroupId == 57
            || componentGroupId == 33) {
            $('.inner_cont').css("height", '280px');
        }
        else if (componentGroupId == 52 || componentGroupId == 56 || componentGroupId == 60 ||
            componentGroupId == 61 || componentGroupId == 62 || componentGroupId == 63 ||
            componentGroupId == 64 || componentGroupId == 65 || componentGroupId == 68 ||
            componentGroupId == 69 || componentGroupId == 70 || componentGroupId == 79 ||
            componentGroupId == 80 || componentGroupId == 81 || componentGroupId == 83
            || componentGroupId == 84 || componentGroupId == 85 || componentGroupId == 86
            || componentGroupId == 87 || componentGroupId == 88 || componentGroupId == 89) {
            $('.inner_cont').css("height", '270px');
        }

        else if (componentGroupId == 71 || componentGroupId == 72 || componentGroupId == 73 ||
            componentGroupId == 74 || componentGroupId == 75 || (componentGroupId == 2 && CountryId == 20)
            || ((componentGroupId == 3 || componentGroupId == 29
                || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {
            $('.inner_cont').css("height", '180px');
        }

    }
    else if ($('#a_otherGeo').hasClass('selected')) {
        type = 3;
        if (componentGroupId == 2) {
            //$('.inner_cont').css("height", '350px'); //253832
            $('.popup_edit').css("top", '20px');
            $('.inner_cont').css("height", '300px');
        }
    }

    //// if (componentGroupId == 47) {
    ////    $("#MB_startdate").datepicker("destroy");
    ////    $("#MB_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    ////    $("#MB_enddate").datepicker("destroy");
    ////    $("#MB_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
    ////}

    var status = $(this).parent().parent().attr('status');
    var pkey = $(this).parent().parent().attr('pk_id');
    $('.popup_edit .innerErrorHolder').text('');
    var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetEditDataSGP",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        async: false,
        data: datastring,
        cache: false,
        success: function (msg) {
            var list = '';
            var options = '';
            var BGoptions = '';
            var DeductionTypeoptions = '';
            var RecOptions = '';
            var refereeBGoptions = '';
            var Installmenttype = '';
            var CurrencyCode = '';
            var componentGroupId = $('#bonus').val();
            if (msg.d.length > 0) {

                if (msg.d[0].length != 0) {
                    var SplCaseMailUploadId = msg.d[0][0].SplCaseMailUploadId;
                    var mailattachments = msg.d[0][0].MailAttachments;// need to chk here

                    if (componentGroupId == 2 && (CountryId != 18 && CountryId != 19 && CountryId != 20)) {//ReferralBonus

                        $('#ReferrerBGStats').html('');
                        $('#refsplcase').html('');
                        $('#RefereeBGStats').html('');
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        var referrergrade = (msg.d[0][0].ReferrorGrade.length > 20) ? msg.d[0][0].ReferrorGrade.substring(0, 20) + '...' : msg.d[0][0].ReferrorGrade;
                        var refereegrade = (msg.d[0][0].RefereeGrade.length > 20) ? msg.d[0][0].RefereeGrade.substring(0, 20) + '...' : msg.d[0][0].RefereeGrade;
                        var referrerdept = (msg.d[0][0].ReferrorDepartment.length > 20) ? msg.d[0][0].ReferrorDepartment.substring(0, 20) + '...' : msg.d[0][0].ReferrorDepartment;
                        var refereedept = (msg.d[0][0].RefereeDepartment.length > 20) ? msg.d[0][0].RefereeDepartment.substring(0, 20) + '...' : msg.d[0][0].RefereeDepartment;
                        list += ' <ul  pkey=' + pkey + '><li><label class="M_15">Referee ID</label><span class="M_40">' + msg.d[0][0].RefereeAssociateID + '</span></li><li><label class="M_30">Referee Name</label><span class="M_30">' + msg.d[0][0].RefreeName + '</span></li><li livalue="' + msg.d[0][0].RefereeGrade + '"><label class="M_15">Referee Grade</label><span class="M_40">' + refereegrade + '</span></li><li livalue="' + msg.d[0][0].RefereeDepartment + '"><label class="M_30">Referee Department</label><span class="M_30">' + refereedept + '</span></li><li><label class="M_15">Referee DOJ</label><span class="M_40">' + msg.d[0][0].RefereeDOJ + '</span></li><li><label class="M_30">Referee BG Status<span class="red">*</span></label><select name="BGStatus" id="RefereeBGStats" class="styled"><option value="-1" selected="selected">--Select BG Status--</option></select></li></ul>';
                        list += '<ul ><li><label class="M_15">Referrer ID<span class="red">*</span></label><input type="text" id="refrid" value="' + msg.d[0][0].ReferrorAssociateID + '" class="M_40 new_upload" /></li><li><label class="M_30">Referrer Name</label><span class="M_30">' + msg.d[0][0].ReffererName + '</span></li><li livalue="' + msg.d[0][0].ReferrorGrade + '"><label class="M_15">Referrer Grade</label><span class="M_40">' + referrergrade + '</span></li><li livalue="' + msg.d[0][0].ReferrorDepartment + '"><label class="M_30">Referrer Department</label><span class="M_30">' + referrerdept + '</span></li><li><label class="M_15">Referrer BG Status<span class="red">*</span></label><select name="BGStatus" id="ReferrerBGStats" class="styled"><option value="-1" selected="selected">--Select BG Status--</option></select></li><li><label class="M_30">SetId</label><span class="M_30">' + msg.d[0][0].SetId + '</span></li></ul>';
                        list += '<ul ><li><label class="M_15">Amount<span class="red">*</span></label><input type="text" value="' + msg.d[0][0].Amount + '" id="refamt" class="M_40 new_upload" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li><li><label class="M_30">Project ID</label><span id="refPjtId" class="M_30">' + msg.d[0][0].ProjectId + '</span></li><li><label class="M_15">Special Case Reason</label><select name="special" id="refsplcase1" class="styled M_40" style="width:150px;" title="Select Special Case Reason"><option value="-1" selected="selected">--Select Special Case Reason--</option></select></li>';
                        var mode = 0;
                        if (type == 1) {
                            if (status == 'Rejected' || status == 'Resubmitted') {
                                list += '<li><label class="M_15">Reject/Resubmit<br />Remarks</label><textarea class="M_40 txtarea1" style="text-indent:6px;height:25px;">' + msg.d[0][0].RejectionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '</textarea></li>';

                                $('.inner_cont').css("height", '365px');

                                $('.contentErrorHolder').css("background", 'url(../Images/errorHolder_rej.png) no-repeat left top');
                                $('.contentErrorHolder').css("height", '33px');

                                $('.close_popup').css("padding-top", '2px');
                                mode = 1;
                            }
                            else {
                                //253832
                                //list += '<li><div id="bfre_upload" style="display:none;"><label class="M15PaddingTop">Select File</label><span><input type="text" id="Uploadpath" disabled="disabled" class="M_40 new_upload"/></span><input id="reprtupload" type="button"  class="upload_pop"/></div>';
                                //$('.close_popup').css("margin-top", '');
                                //$('#btn_Update').css("margin-top", '');
                                //$('#btn_cancel').css("margin-top", '');
                            }
                        }
                        else if (type == 3) {
                            if (status == 'Rejected' || status == 'Resubmitted') {
                                list += '<li><label class="M_15">Reject/Resubmit<br />Remarks</label><textarea class="M_40 txtarea1" style="text-indent:6px;height:25px;">' + msg.d[0][0].RejectionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '</textarea></li>';

                                $('.inner_cont').css("height", '345px');
                                mode = 1;
                            }
                            else {
                                $('.inner_cont').css("height", '340px');
                                $('.contentErrorHolder').css("background", 'url(../Images/errorHolder_rej.png) no-repeat left top');
                                $('.contentErrorHolder').css("height", '33px');
                                $('.close_popup').css("padding-top", '2px');
                            }
                        }

                        //special case mail
                        list += '</ul>';
                        list += '<ul style="margin-left:5px; margin-top:10px;"><li><iframe id="frame1" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                        //list += '<li><br/><div id="bfre_upload"><label>Select File</label><span class="M_60"><input type="text" id="Uploadpath" disabled="disabled"/></span><input id="reprtupload" type="button"  class="upload_pop"/></div>';
                        if (ocm == "1") {

                            list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label style="margin-left: 10px;">Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                            if (SplCaseMailUploadId == 0) {
                                list += '<li style="margin-left:-8px;padding-top:5px;"><div id="aft_uploadocmedit"></div></li>';
                            }

                        }
                        else {
                            list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label style="margin-left: 10px;">Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                            if (SplCaseMailUploadId == 0) {
                                list += '<li style="margin-left:-8px;padding-top:5px;"><div id="aft_uploadocmedit"></div></li>';
                            }
                        }

                        list += '</ul>';
                        if (msg.d.length > 4) {
                            if (msg.d[7].length != 0) {
                                $.each(msg.d[7], function (i, data) {
                                    options += '<option value="' + data.CCodeId + '" title="' + data.CDescription + '">' + data.CDescription + '</option>';
                                });
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('.popup_edit .inner_cont ul:nth-child(3) li:nth-child(3) select').append(options);
                                if (msg.d[0][0].SpecialCaseReason != "") {
                                    $(".popup_edit .inner_cont ul:nth-child(3) li:nth-child(3) select option:contains(" + $.trim(msg.d[0][0].SpecialCaseReason) + ")").attr('selected', 'selected');
                                }
                                else {
                                    $('#aft_upload1').hide();
                                    $('#frame1').hide();
                                }
                            }
                        }
                        else {
                            $('.popup_edit .inner_cont').html('').html(list);
                        }
                        $.each(msg.d[1], function (i, data) {
                            BGoptions += '<option value="' + data.CCodeId + '">' + data.CDescription + '</option>';
                        });
                        $.each(msg.d[2], function (i, data) {
                            refereeBGoptions += '<option value="' + data.CCodeId + '">' + data.CDescription + '</option>';
                        });
                        $('.popup_edit .inner_cont ul:nth-child(2) li:nth-child(5) select').append(BGoptions);
                        if (msg.d[0][0].ReferrorBGstatus != "") {
                            $(".popup_edit .inner_cont ul:nth-child(2) li:nth-child(5) select option:contains(" + $.trim(msg.d[0][0].ReferrorBGstatus) + ")").attr('selected', 'selected');
                        }

                        $('.popup_edit .inner_cont ul:nth-child(1) li:nth-child(6) select').append(refereeBGoptions);

                        $(".popup_edit .inner_cont ul:nth-child(1) li:nth-child(6) select").val(msg.d[0][0].RefereeBGstatus);
                        if (msg.d[0][0].RefereeBGstatus != "") {
                            $(".popup_edit .inner_cont ul:nth-child(1) li:nth-child(6) select option:contains(" + $.trim(msg.d[0][0].RefereeBGstatus) + ")").attr('selected', 'selected');
                        }
                        $("#refrid").numeric();
                        $("#refrid").attr("maxlength", "11");
                        $("#refamt").numeric();
                        $('.popup_edit .inner_cont').jScrollPane();
                    }

                    else if (componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87 || componentGroupId == 88 || componentGroupId == 89) {   //HDMF and SSS Loan

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        $('.inner_cont').css("height", '250px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="Ln_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="Ln_editYear">' + editdata.Year + '</span></li>';
                                list += '<li><label>Loan Amount<span class="red">*</span></label><input type="text"  id="editLoanAmount" value="' + editdata.LoanAmount + '" style="width:137px;height:20px;" /></li>';
                                list += '<li><label>Interest Amount<span class="red">*</span></label><input type="text"  id="editinterestAmount"value="' + editdata.InterestAmount + '" style="width:137px;height:20px;" /></li>';
                                list += ' <li><label>StartDate <span class="red">*</span></label><input type="text" id="Lnstartdate" value="' + editdata.StartDate + '" class="popup_date" style="width:137px;height:20px;margin-left:0px;"/></li>';
                                list += ' <li><label>EndDate <span class="red">*</span></label><input type="text" id="Lnenddate" value="' + editdata.EndDate + '" class="popup_date" style="width:137px;height:20px;;margin-left:0px;"/></li>';
                                list += '<li><label>Previous Payment<span class="red">*</span></label><input type="text"  id="editLnprevpaydate" value="' + editdata.PrevPayment + '" style="width:137px;height:20px;"/></li>';
                                list += '<li><label>Balance Amount<span class="red">*</span></label><input type="text"  id="editBalanceAmount" value="' + editdata.BalanceAmount + '" style="width:137px;height:20px;"   /></li>';
                                list += '<li><label>Term<span class="red">*</span></label><input type="text"  id="editLnTerm" value="' + editdata.Term + '" style="width:137px;height:20px;"   /></li>';
                                list += '<li><label>Monthly Amortization<span class="red">*</span></label><input type="text"  id="editMonthlyAmount" value="' + editdata.MonthlyAmount + '" style="width:137px;height:20px;"  /></li>';
                                list += '<li><label>PaymentDate</label><span id="">' + editdata.PaymentDate + '</span></li>';
                                list += '<li><label>Remarks</label><input  type="text" value="' + editdata.Remarks + '" class="new_upload" id="Fin_editAmount" style="width:100px"/></li>';
                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="Ln_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="Ln_editYear">' + editdata.Year + '</span></li>';
                                list += '<li><label>Loan Amount<span class="red">*</span></label><input type="text"  id="editLoanAmount" value="' + editdata.LoanAmount + '" style="width:137px;height:20px;"/></li>';
                                list += '<li><label>Interest Amount<span class="red">*</span></label><input type="text"  id="editinterestAmount"value="' + editdata.InterestAmount + '" style="width:137px;height:20px;"/></li>';
                                list += '<li><label>StartDate <span class="red">*</span></label><input type="text" id="Lnstartdate" value="' + editdata.StartDate + '" class="popup_date" style="width:137px;height:20px;margin-left:0px;"/></li>';
                                list += '<li><label>EndDate <span class="red">*</span></label><input type="text" id="Lnenddate" value="' + editdata.EndDate + '" class="popup_date" style="width:137px;height:20px;;margin-left:0px;"/></li>';
                                list += '<li><label>Previous Payment<span class="red">*</span></label><input type="text"  id="editLnprevpaydate" value="' + editdata.PrevPayment + '" style="width:137px;height:20px;"/></li>';
                                list += '<li><label>Balance Amount<span class="red">*</span></label><input type="text"  id="editBalanceAmount" value="' + editdata.BalanceAmount + '" style="width:137px;height:20px;"/></li>';
                                list += '<li><label>Term<span class="red">*</span></label><input type="text"  id="editLnTerm" value="' + editdata.Term + '" style="width:137px;height:20px;"/></li>';
                                list += '<li><label>Monthly Amortization<span class="red">*</span></label><input type="text"  id="editMonthlyAmount" value="' + editdata.MonthlyAmount + '" style="width:137px;height:20px;"/></li>';
                                //list += '<li><label>Payment Date<span class="red">*</span></label><span class="M_20"><select name="edit_paymentdate" id="edit_paymentdate" style="height:22px;text-indent:6px;margin-left:20px"><option>--select--</option></select></span></li>';
                                list += '<li><label>Payment Date</label><span>' + editdata.PaymentDate + '</span></li>';
                                list += '<li><label>Remarks</label><input  type="text" value="' + editdata.Remarks + '" class="new_upload" id="Fin_editAmount" style="width:100px"/></li>';
                                list += '<li value="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span>' + expremarks + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                PopulateEditmidyearComponentDetails(editdata.PaymentDate);
                                GetSessionTimeoutEdit();

                            }
                        }


                        $('#editLoanAmount').numeric();
                        $('#editinterestAmount').numeric();
                        $('#editBalanceAmount').numeric();
                        $('#editLnTerm').numeric();
                        $('#editMonthlyAmount').numeric();
                        $('#editLnprevpaydate').numeric();

                    }

                    else if (componentGroupId == 2 && (CountryId == 18 || CountryId == 19)) {//ReferralBonus


                        $('#ReferrerBGStats').html('');
                        $('#refsplcase').html('');
                        $('#RefereeBGStats').html('');
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        var department = (msg.d[0][0].RefereeDepartment.length > 20) ? msg.d[0][0].RefereeDepartment.substring(0, 20) + '...' : msg.d[0][0].RefereeDepartment;
                        list += '<ul  pkey=' + pkey + '><li><label class="M_15">Referrer ID</label><input id="RB_refeid" type="text" value="' + msg.d[0][0].ReferrorAssociateID + '" class="M_40 new_upload" /></li>';
                        //list += '<span class="M_30">' + msg.d[0][0].ReferrorAssociateID + '</span></li>';
                        list += '<li><label class="M_40">Referrer Name</label><span class="M_30" id="UK_Referrername">' + msg.d[0][0].ReffererName + '</span></li>';
                        list += '<li><label class="M_15">Referee ID</label><span class="M_30" id="Refereeid">' + msg.d[0][0].RefereeAssociateID + '</span></li>';
                        list += '<li><label class="M_40">Refree Name</label><span class="M_30" id="UK_Referrername">' + msg.d[0][0].RefreeName + '</span></li>';
                        list += '<li><label class="M_15">Amount</label><span class="M_30" id="RB_Amount">' + msg.d[0][0].Amount + '</span></li>';
                        list += '<li><label class="M_40">Currency</label><span class="M_40" id="RB_Currency">' + msg.d[0][0].Currency + '</span></li>';
                        list += '<li><label class="M_15">Hire Reason<span class="red">*</span></label><input id="RB_HireReason" type="text" value="' + msg.d[0][0].HireReason + '" class="M_40 new_upload" /></li>';
                        list += '<li><label class="M_40">Job Family</label><span class="M_30" id="UK_JobFamily">' + msg.d[0][0].JobFamily + '</span></li>';
                        list += '<li livalue="' + msg.d[0][0].RefereeDepartment.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label class="M_15">Department</label><span class="M_30" id="UK_Department">' + department + '</span></li>';
                        //list += '<li><label class="M_15">Department</label><span class="M_30" id="UK_Department">' + department + '</span></li>';
                        list += '<li><label class="M_15">Hiring Manager<span class="red">*</span></label><input id="RB_HiringManager" type="text" class="M_40 new_upload" value="' + msg.d[0][0].HiringManager + '"   /></li>';
                        list += '<li><label class="M_15">Advised Month</label><span class="M_30" id="SBAdvisedMonth">' + msg.d[0][0].AdvisedMonth + '</span></li>';
                        list += '<li><label class="M_40">Advised Year</label><span class="styled M_30" id="SBYear">' + msg.d[0][0].Year + '</span></li>';
                        list += '<li><label class="M_15">Comments</label><input type="text" class="M_30 new_upload"    id="RB_Comments" value="' + msg.d[0][0].Comments + '" /></li>';
                        if (type == 2) {


                            var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;
                            //list += '<li><label class="M_15">ExceptionRemarks</label><span class="M_30">' + expremarks + '</span></li>';
                            list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label class="M_15">Exception Remarks</label><span class="M_30">' + expremarks + '</span></li>';
                        }

                        list += '</ul>';

                        $('.popup_edit .inner_cont').html('').html(list);

                        RB_UKAmount(msg.d[0][0].ReferrorAssociateID, componentGroupId);



                        $("#refamt").numeric();
                        $('.popup_edit .inner_cont').jScrollPane();
                    }


                    else if (componentGroupId == 3 && CountryId != 20) {//JoiningBonusOnUploadButtonClick
                        $('#JoiningRecruittype').html('');
                        $('#JoiningBGStats').html('');
                        $('#Joiningsplcase').html('');
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        var grade = (msg.d[0][0].Grade.length > 20) ? msg.d[0][0].Grade.substring(0, 20) + '...' : msg.d[0][0].Grade;
                        list += '<ul  pkey=' + pkey + '><li><label class="M_15">Associate ID</label><span class="M_30">' + msg.d[0][0].AssociateID + '</span></li>';
                        list += '<li><label class="M_30">Name</label><span class="M_40">' + msg.d[0][0].Name + '</span></li>';
                        list += '<li><label class="M_15">Amount<span class="red">*</span></label><input type="text" value="' + msg.d[0][0].Amount + '" class="M_30 new_upload" id="jamt" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
                        list += '<li><label class="M_30">DOJ</label><span class="M_40">' + msg.d[0][0].DOJ + '</span></li>';
                        list += '<li><label class="M_15">ProjectId<span class="red">*</span></label><input type="text" value="' + msg.d[0][0].ProjectId + '" id="pjid" class="M_30 new_upload" /></li>';
                        list += '<li><label class="M_30">BGstatus<span class="red">*</span></label><select name="BGStatus" id="JoiningBGStats" class="styled M_40"><option value="-1" selected="selected">--Select BG Status--</option></select></li>';
                        list += '<li><label class="M_15">RecruitmentType<span class="red">*</span></label><select name="Recruitment" id="JoiningRecruittype" style="width: 175px;" class="styled M_30"><option value="-1" selected="selected">--Select Recruitment Type--</option></select></li>';
                        list += '<li><label class="M_30">Special Case Reason</label><select name="special" id="Joiningsplcase1" style="width: 175px;" class="styled M_40"><option value="-1" selected="selected">--Select Special Case Reason--</option></select></li>';
                        list += '<li livalue="' + msg.d[0][0].Grade + '"><label class="M_15">Grade</label><span class="M_30">' + grade + '</span></li>';
                        list += '<li><label class="M_30">Company ID</label><span class="M_40">' + msg.d[0][0].Company + '</span></li>';
                        list += '<li><label class="M_15">SetID</label><span class="M_30">' + msg.d[0][0].SETID + '</span></li>';
                        list += '<li><label class="M_30">Remarks</label><textarea class="M_40 txtarea1" style="text-indent:6px;">' + msg.d[0][0].Remarks + '</textarea></li>';
                        var mode = 0;
                        if (type == 1) {
                            if (status == 'Rejected' || status == 'Resubmitted') {
                                list += '<li><label class="M_15">Reject/Resubmit<br />Remarks</label><textarea class="M_30 txtarea1" style="text-indent:6px;">' + msg.d[0][0].RejectionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '</textarea></li>';
                                $('.inner_cont').css("height", '265px');
                                mode = 1;
                            }
                            else {
                                // list += '<li><div id="bfre_upload" style="display:none;"><label class="M_15 PaddingTop">Select File</label><span><input type="text" id="Uploadpath" disabled="disabled" class="M_30 new_upload"/></span><input id="reprtupload" type="button"  class="upload_pop"/></div>';
                            }
                        }

                        else {
                            var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;
                            list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label class="M_15">Exception Remarks</label><span class="M_30">' + expremarks + '</span></li>';
                            mode = 1;
                        }

                        list += '</ul>';
                        list += '<ul  style="margin-left:5px;margin-top:18px;"><li><iframe id="frame1" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                        if (SplCaseMailUploadId == 0) {
                            list += '<li style="margin-left:-8px;padding-top:5px;"><div id="aft_upload1"></div></li>';
                        }
                        else {
                            var val = "";
                            if (mode == 1) {
                                val = "<label class=\"M_30\">Special Case Mail</label><a href='#' fileuploadid=\"" + SplCaseMailUploadId + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + SplCaseMailUploadId + "\" /></a>";
                            }
                            else {
                                val = "<label class=\"M_15\">Special Case Mail</label><a href='#' fileuploadid=\"" + SplCaseMailUploadId + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + SplCaseMailUploadId + "\" /></a>";
                            }
                            list += '<li style="padding-top:5px;"><div id="aft_upload1">' + val + '</div></li>';
                        }
                        list += '</ul>';
                        if (msg.d.length > 4) {
                            if (msg.d[7].length != 0) {
                                $.each(msg.d[7], function (i, data) {
                                    options += '<option value="' + data.CCodeId + '">' + data.CDescription + '</option>';
                                });
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('.popup_edit .inner_cont ul li:nth-child(8) select').append(options);
                                if (msg.d[0][0].SpecialCaseReason != "") {
                                    $(".popup_edit .inner_cont ul li:nth-child(8) select option:contains(" + $.trim(msg.d[0][0].SpecialCaseReason) + ")").attr('selected', 'selected');
                                }
                                else {
                                    $('#aft_upload1').hide();
                                    $('#frame1').hide();
                                }
                            }
                        }
                        else {
                            $('.popup_edit .inner_cont').html('').html(list);
                            $('#aft_upload1').hide();
                            $('#frame1').hide();
                        }
                        $("#jamt").numeric();
                        $("#pjid").numeric();
                        $("#pjid").attr("maxlength", "10");
                        $.each(msg.d[1], function (i, data) {
                            BGoptions += '<option value="' + data.CCodeId + '">' + data.CDescription + '</option>';
                        });
                        $('.popup_edit .inner_cont ul li:nth-child(6) select').append(BGoptions);
                        if (msg.d[0][0].BGstatus != "") {
                            $(".popup_edit .inner_cont ul li:nth-child(6) select option:contains(" + $.trim(msg.d[0][0].BGstatus) + ")").attr('selected', 'selected');
                        }
                        $.each(msg.d[3], function (i, data) {
                            RecOptions += '<option value="' + data.CCodeId + '">' + data.CDescription + '</option>';
                        });
                        $('.popup_edit .inner_cont ul li:nth-child(7) select').append(RecOptions);
                        if (msg.d[0][0].RecruitmentType != "") {
                            $(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + $.trim(msg.d[0][0].RecruitmentType) + ")").attr('selected', 'selected');
                        }
                    }


                    else if (componentGroupId == 17) {//SAR
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '200px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];

                                var mailattachments = editdata.AttachMail;

                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                if (CountryId == 8) {
                                    list += '<li GuestHouse=' + editdata.Guesthouse + '><label>GuestHouse</label><span id="guesthouse" class="M_20" >' + editdata.Guesthouse + '</span></li>';
                                }
                                list += '<li occupancytypeid=' + editdata.OccupancyTypeId + '><label>OccupancyType</label><span id="occupancytype" class="styled M_20" >' + editdata.OccupancyType + '</span></li>';
                                list += '<li><label>Project ID<span class="red">*</span></label><input class="M_20" style="text-indent:6px;margin-left:-21px;width:139px;" type="text" id="projid"  value="' + editdata.ProjectId + '" maxlength="10" /></li>';
                                list += ' <li><label >StartDate <span class="red">*</span></label><input type="text" id="sar_startdate" value="' + editdata.StartDate + '" class="popup_date singSASD"  style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                list += '<li><label >EndDate<span class="red">*</span></label><input type="text" id="sar_enddate" value="' + editdata.EndDate + '"  class="popup_date singSAED" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                list += '<li><label >TotalDays<span class="red">*</span></label><input  id="totaldays" type="text" style="text-indent:6px;margin-left:-25px;width:139px;" value="' + editdata.TotalDays + '" /></li>';
                                list += '<li><label>Currency Code<span class="red">*</span></label><span><select id="editcurcode" style="width: 160px; height:22px;display:none;text-indent:6px;"><option>--select--</option></select></span></li>';

                                list += '<li><label>Special Case Reason</label><select name="seraptsplcase" id="serapteditsplcase" class="styled M_20"  style="margin-left:-25px;width:163px;--bgX: 60.2%;"><option value="-1" selected="selected">--Select Special Case Reason--</option></select></li>';

                                if (CountryId == 2) {
                                    list += '<li accounttypeid=' + editdata.AccountType + '><label>AccountType</label><span id="accounttype" class="styled M_20" >' + editdata.AccountTypeName + '</span></li>';
                                }
                                list += '</ul>';
                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frame7" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="padding-top:5px;"><div id="aft_upload7"></div></li></ul>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload7">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#projid').numeric();
                                $('#totaldays').attr('maxlength', '5');
                                $('#totaldays').numeric();
                                $("#sar_startdate.singSASD").datepicker("destroy");
                                $("#sar_startdate.singSASD").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                $("#sar_enddate.singSAED").datepicker("destroy");
                                $("#sar_enddate.singSAED").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                PopulateEditComponentDetails(editdata.CurrencyCode, "");
                                if (msg.d[0][0].AttachMail != "") {
                                    $('#aft_upload7').show();
                                    $('#editframe1').show();
                                }
                                else {
                                    $('#aft_upload7').hide();

                                }
                                $(".inner_cont").css("height", "190px");
                                Populateeditspl();
                                $('#select-editcurcode .selectList').find("option[pkcur = '" + editdata.CurrencyCode + "']").attr("selected", "selected");
                                GetSessionTimeoutEdit();

                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {


                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.AttachMail;
                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                if (CountryId == 8) {
                                    list += '<li GuestHouse=' + editdata.Guesthouse + '><label>GuestHouse</label><span id="guesthouse" class="M_20" >' + editdata.Guesthouse + '</span></li>';
                                }
                                list += '<li occupancytypeid=' + editdata.OccupancyType + '><label>OccupancyType</label><span id="occupancytype" class="styled M_20" >' + editdata.OccupancyTypeName + '</span></li>';
                                list += '<li><label>Project ID<span class="red">*</span></label><input class="M_20" style="text-indent:6px;margin-left:-21px;width:139px;" type="text" id="projid" value="' + editdata.ProjectId + '" maxlength="10" /></li>';
                                list += ' <li><label >StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="sar_startdate" value="' + editdata.StartDate + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                list += '<li><label >EndDate<span class="red">*</span></label><input type="text" class="popup_date" id="sar_enddate" value="' + editdata.EndDate + '" style="margin-left:-21px;width:137px;height:20px;"  /></li>';
                                //list += '<li><label>StartDate<span class="red">*</span></label><input class="popup_date" style="text-indent:6px;" type="text" id="projid"  value="' + editdata.StartDate + '"  /></li>';
                                //list += '<li><label>End Date<span class="red">*</span></label><input class="popup_date" style="text-indent:6px;" type="text" id="projid"  value="' + editdata.EndDate + '"  /></li>';
                                // list += '<li><label>Currency Code<span class="red">*</span></label><span><select id="editcurcode" style="width: 160px; height:22px;display:none;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label >TotalDays<span class="red">*</span></label><input  id="totaldays" type="text" style="text-indent:6px;margin-left:-25px;width:139px;" onkeypress="return isNumberKey(event)" value="' + editdata.TotalDays + '" /></li>';
                                list += '<li><label>Currency Code<span class="red">*</span></label><span><select id="editcurcode" style="width: 160px; height:22px;display:none;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Special Case Reason</label><select name="seraptsplcase" id="serapteditsplcase" class="styled M_20" style="margin-left:-25px;width:163px;--bgX: 60.2%;"><option value="-1" selected="selected">--Select Special Case Reason--</option></select></li>';

                                if (CountryId == 2) {
                                    list += '<li accounttypeid=' + editdata.AccountType + '><label>AccountType</label><span id="accounttype" class="styled M_20" >' + editdata.AccountTypeName + '</span></li>';
                                }
                                list += '</ul>';

                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frame7" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="padding-top:5px;"><div id="aft_upload7"></div></li></ul>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload7">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                // list += '<li style="margin-left: 330px; margin-top: -75px;"><label>Input Remarks</label><input class="M_20" type="text" id="remarks" value="' + editdata.InputRemarks + '" /></li></ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                if (msg.d[0][0].AttachMail != "") {
                                    $('#aft_upload7').show();
                                    $('#editframe1').show();
                                }
                                else {
                                    $('#aft_upload7').hide();

                                }
                                $(".inner_cont").css("height", "190px");
                                Populateeditspl();
                                $("#approverid").numeric();
                                $('#projid').numeric();
                                $('#totaldays').attr('maxlength', '5');
                                $('#totaldays').numeric();
                                $("#sar_startdate").datepicker("destroy");
                                $("#sar_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                $("#sar_enddate").datepicker("destroy");
                                $("#sar_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });


                                PopulateEditComponentDetails(editdata.CurrencyCode, "");

                                $('#select-editcurcode .selectList').find("option[pkcur = '" + editdata.CurrencyCode + "']").attr("selected", "selected");
                                GetSessionTimeoutEdit();
                            }
                        }

                    }

                    else if (componentGroupId == 18 && CountryId == 2) {//SchoolFeesOnUploadButtonClick
                        $('#JoiningRecruittype').html('');
                        $('#JoiningBGStats').html('');
                        $('#Joiningsplcase').html('');
                        var mailattachments = msg.d[0][0].AttachMail;
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        list += '<ul  pkey=' + pkey + '><li><label class="M_15">Associate ID</label><span class="M_30">' + msg.d[0][0].AssociateID + '</span></li>';
                        list += '<li><label class="M_30">Name</label><span class="M_40">' + msg.d[0][0].AssociateName + '</span></li>';
                        list += '<li><label class="M_15">Amount for Child1<span class="red">*</span></label><input type="text" maxlength="8" value="' + msg.d[0][0].Amount1 + '" class="M_30 new_upload" id="editamount1" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
                        list += '<li><label class="M_30">DOJ</label><span class="M_40">' + msg.d[0][0].DOJ + '</span></li>';
                        list += '<li><label class="M_15">Amount for Child2</label><input type="text" maxlength="8" value="' + msg.d[0][0].Amount2 + '" id="editamount2" class="M_30 new_upload" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
                        list += '<li><label class="M_30">Payroll Month</label><span class="M_40">' + msg.d[0][0].PayrollMonth + '</span></li>';
                        var mode = 0;
                        if (type == 2) {
                            var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;
                            list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label class="M_15">ExceptionRemarks</label><span class="M_30">' + expremarks + '</span></li>';
                            mode = 1;
                        }

                        list += '</ul>';

                        list += '<ul  iframe><li iframe id="editframe1"><iframe id="frame8" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                        if (mailattachments == 0) {

                            list += '<li style="padding-top:5px;"><div id="aft_upload8"></div></li></ul>';
                        }
                        else {
                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                            list += '<li style="padding-top:5px;"><div id="aft_upload8">' + val + '</div></li>';
                        }
                        list += '</ul>';


                        $('.popup_edit .inner_cont').html('').html(list);
                        if (msg.d[0][0].AttachMail != "") {
                            $('#aft_upload8').show();
                            $('#editframe1').show();
                        }
                        else {
                            $('#aft_upload8').hide();

                        }
                        // $('#frame7').hide();
                        //$("#editamount1").numeric();
                        //$("#editamount2").numeric();

                    }

                    else if ((componentGroupId == 18 || componentGroupId == 23 || componentGroupId == 24)
                        && (CountryId != 2 && CountryId != 14 && CountryId != 15 && CountryId != 16 && CountryId != 17)) {
                        $('#JoiningRecruittype').html('');
                        $('#JoiningBGStats').html('');
                        $('#Joiningsplcase').html('');
                        $(".inner_cont").css("height", "300px");
                        var mailattachments = msg.d[0][0].AttachMail;
                        var schoolFeesReceipt = msg.d[0][0].AmountMailId;
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        list += '<ul  pkey=' + pkey + '><li><label class="M_15">Associate ID</label><span class="M_30">' + msg.d[0][0].AssociateID + '</span></li>';
                        list += '<li><label class="M_30">Name</label><span class="M_40">' + msg.d[0][0].AssociateName + '</span></li>';
                        list += '<li><label class="M_15">Payroll Month</label><span class="M_30">' + msg.d[0][0].PayrollMonth + '</span></li>';
                        list += '<li><label class="M_30">year</label><span class="M_40">' + msg.d[0][0].Year + '</span></li>';
                        if ((componentGroupId == 23 || componentGroupId == 24) && (type == 1 || type == 2)) {
                            list += '<li><label class="M_15">Amount </label><input class="M_30" type="text" id="editAmount" style="width:100px;height:20px;" value="' + msg.d[0][0].TotalAmount + '" prevval="' + msg.d[0][0].TotalAmount + '"/></li>';
                        }
                        if (componentGroupId == 18) {
                            list += '<li><label class="M_15">Amount for Child1<span class="red">*</span></label><input type="text" maxlength="8" value="' + msg.d[0][0].Amount1 + '" class="M_30 new_upload" id="editamount1" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
                            list += '<li><label class="M_30">Amount for Child2</label><input type="text" maxlength="8" value="' + msg.d[0][0].Amount2 + '" id="editamount2" class="M_30 new_upload" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
                        }
                        var mode = 0;
                        if (type == 2) {
                            var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;
                            list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label class="M_15">ExceptionRemarks</label><span class="M_30">' + expremarks + '</span></li>';
                            mode = 1;
                        }
                        if (componentGroupId == 18) {
                            list += '<li style="margin-left:1px;"><label style="margin-left:-15px;">School Fees Receipt :</label></li>';

                            list += '<ul class="M_15" id="SFReceipt" style="margin-left:-14px;display: block"><li><iframe id="frameSFReceipt" src="../APAC_FileUpload.aspx?componentId=18" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
                            //list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload1" style="display:none;margin-left:19px;"></div></li>';
                            if (schoolFeesReceipt == 0) {

                                list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload1" style="margin-left:19px;"></div></li>';
                            }
                            else {
                                var val = "<label>SchoolFees Receipt</label><a href='#' fileuploadid=\"" + schoolFeesReceipt + "\" ><img class=\"spriteImage\" style=\"--x:-2330px;--y:-929px;width:16px;height:20px\" id=\"splCaseMailUpload\" fileuploadid=\"" + schoolFeesReceipt + "\" /></a>";
                                list += '<li style="padding-top:5px;"><div id="aft_upload1">' + val + '</div></li>';
                            }
                            list += ' </ul>';
                        }

                        list += '<li><label id="SFApprovalMailLabel" style="display:block;width:325px;margin-left: -14px;">Approval Mail :</label></li></ul>';

                        // if (msg.d[1][0].Status == 'Success') {

                        list += '<ul id="EditMandatory" class="M_15" style="margin-left:5px;" iframe><li iframe id="editframe1"><iframe id="frameSF" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                        if (mailattachments == 0) {

                            list += '<li style="padding-top:5px;"><div id="SF_aft_upload"></div></li>';
                        }
                        else {
                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                            list += '<li style="padding-top:5px;"><div id="SF_aft_upload" style="width:180px">' + val + '</div></li>';
                        }
                        list += '<li><label>MailValidityEndDate <span class="red">*</span></label><input type="text" class="popup_date" id="editMailValidityDate" value="' + msg.d[0][0].MailValidityEndDate + '" style="margin-left:-30px;width:137px;height:20px;" /></li>';

                        list += '</ul>';
                        //}
                        //else {
                        //    list += '<ul id="EditMandatory"  style="margin-left:5px;" iframe><li iframe id="editframe1"><iframe id="frameSF" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                        //    list += '<li style="padding-top:5px;"><div id="SF_aft_upload"></div></li>';
                        //    list += '<li><label>MailValidityEndDate <span class="red">*</span></label><input type="text" class="popup_date" id="editMailValidityDate" style="margin-left:-30px;width:137px;height:20px;" /></li>';
                        //    list += '</ul>';
                        //}

                        $('.popup_edit .inner_cont').html('').html(list);
                        if (msg.d[0][0].AttachMail != "") {
                            $('#aft_upload8').show();
                            $('#editframe1').show();
                        }
                        else {
                            $('#aft_upload8').hide();

                        }
                        // $('#frame7').hide();

                        //$("#editamount1").numeric();
                        //$("#editamount2").numeric();

                    }

                    else if (componentGroupId == 18 && (CountryId == 14 || CountryId == 15 || CountryId == 16 || CountryId == 17)) {

                        var editdata = msg.d[0][0];
                        var invoiceUploadId = msg.d[0][0].InvoiceAttachment;
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        list += '<ul  pkey=' + pkey + ' id="CESchoolFees_EditPopUp"><li><label class="M_45">Associate ID</label><span class="M_45" id="edit_CEassoid">' + editdata.AssociateID + '</span></li>';
                        list += '<li><label class="M_30">Name</label><span class="M_45">' + editdata.AssociateName + '</span></li>';
                        list += '<li><label class="M_45">Child</label><span class="M_45" childtype="' + editdata.ChildTypeID + '">' + editdata.ChildType + '</span></li>';
                        if (type == 1) {
                            list += '<li><label class="M_30">Amount</label><span class="M_45">' + editdata.Amount + '</span></li>';
                            list += '<li><label class="M_45">StartDate</label><span class="M_45">' + editdata.StartDate + '</span></li>';
                            list += '<li><label class="M_30">EndDate</label><span class="M_45">' + editdata.EndDate + '</span></li>';
                            list += '<li><label class="M_45">Frequency Type</label><span class="M_45">' + editdata.FrequencyType + '</span></li>';
                            list += '<li><label class="M_30">FrequencySelection</label><span class="M_45">' + editdata.FrequencySelection + '</span></li>';

                        }
                        else {
                            list += '<li><label class="M_30">Amount</label><input type="text" style="width:100px" maxlength="8" value="' + editdata.Amount + '" class="M_45 new_upload" id="editamount1" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
                            list += '<li><label class="M_45">StartDate<label class="red" style="margin-top: -25px; margin-left: 50px;">*</label></label><input type="text" id="CE_editstartdate" value="' + editdata.StartDate + '"  class="popup_date" style="width:100px;height:20px;margin-left:0px;" /></li>';
                            list += '<li><label class="M_30">EndDate<label class="red" style="margin-top: -25px; margin-left: 50px;">*</label></label><input type="text" id="CE_editenddate" value="' + editdata.EndDate + '" class="popup_date"   style="width:100px;height:20px;margin-left:0px;"/></li>';
                            list += '<li><label class="M_45">Frequency Type<span class="red">*</span></label><select name="Edit_CEFrequencyType" id="Edit_CEFrequencyType" class="M_45"><option value="-1" selected="selected">--Select FrequencyType--</option></select></li>';
                            list += '<li><label class="M_30">FrequencySelection<span class="red">*</span></label><select name="Edit_CEFrequencySelect" id="Edit_CEFrequencySelect" ><option value="-1" selected="selected">--Select Frequency--</option></select></li>';
                        }
                        list += '<li><label class="M_45">year</label><span class="M_45">' + editdata.Year + '</span></li>';

                        if (type == 1 || (type == 2 && CountryId == 17)) {
                            list += '<li><label class="M_30">No Of Installments</label><span>' + editdata.NumberOfInstallment + '</span></li>';
                        }
                        else {
                            list += '<li><label class="M_30">No Of Installments<span class="red">*</span></label><select name="Edit_CESchoolFeesInstallment" id="Edit_CESchoolFeesInstallment" ><option value="-1" selected="selected">--Select--</option></select></li>';
                        }

                        var mode = 0;
                        if (type == 2) {
                            var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;
                            list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label class="M_45">ExceptionRemarks</label><span class="M_30">' + expremarks + '</span></li>';
                            mode = 1;
                        }
                        else {
                            var rejReason = (msg.d[0][0].RejectionReason.length > 20) ? msg.d[0][0].RejectionReason.substring(0, 20) + '...' : msg.d[0][0].RejectionReason;
                            list += '<li livalue="' + msg.d[0][0].RejectionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label class="M_45">RejectionReason</label><span class="M_30">' + rejReason + '</span></li>';

                        }
                        list += '<li style="margin-left:1px;"><label>Invoice Receipt :</label></li>';
                        if (ocm == "1") {
                            list += '<ul id="ocmfile1" class="M_15" id="SFReceipt" style="margin-left:-14px;display: block"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                            if (invoiceUploadId == 0) {

                                list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                            }
                            else {
                                var val = "<label>Invoice Receipt</label><a href='#' fileuploadid=\"" + invoiceUploadId + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + invoiceUploadId + "\" /></a>";
                                list += '<li tyle="margin-left:-21px;padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                            }
                        }
                        else {
                            list += '<ul id="ocmfile1" class="M_15" id="SFReceipt" style="margin-left:-14px;display: block"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                            if (invoiceUploadId == 0) {

                                list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                            }
                            else {
                                var val = "<label>Invoice Receipt</label><a href='#' fileuploadid=\"" + invoiceUploadId + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + invoiceUploadId + "\" /></a>";
                                list += '<li tyle="margin-left:-21px;padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                            }
                        }

                        list += ' </ul>';
                        if (msg.d[0][0].InvoiceAttachment != "") {
                            $('#CEaft_upload').show();
                            $('#frameSFInvoice').show();
                        }
                        else {
                            $('#CEaft_upload').hide();
                            $('#frameSFInvoice').hide();
                        }

                        populateeditdropdowndetailsforCE(editdata.FrequencyType, editdata.FrequencySelection, editdata.FrequencyTypeID, editdata.NumberOfInstallment);

                        $('.popup_edit .inner_cont').css("height", "255px");
                        $('.popup_edit .inner_cont').html('').html(list);

                        var associateid = editdata.AssociateID;
                        var child = editdata.ChildTypeID;
                        var datastring = '{"associateId":"' + associateid + '","componentGroupId":"' + componentGroupId + '","isActive":"0","childType":"' + child + '"}';

                        $.ajax({
                            type: "POST",
                            url: "../APAC_WebMethods.aspx/GetCEAssociateNameForUploader",
                            contentType: "application/json; charset=utf-8",
                            dataType: "json",
                            data: datastring,
                            cache: false,
                            success: function (msg) {
                                if (msg.d.length > 0) {

                                    if (msg.d[1][0].Status != 0) {
                                        $('#CE_editstartdate').replaceWith("<span class='M_45 SFdate' data='0' id='CE_editstartdate_Lbl'></span>");
                                        $('#CE_editstartdate_Lbl').text($.trim(msg.d[1][0].StartDate));
                                        $('#CE_editenddate').replaceWith("<span class='M_45 SFdate' data='0' id='CE_editenddate_Lbl'></span>");
                                        $('#CE_editenddate_Lbl').text($.trim(msg.d[1][0].Enddate));
                                    }
                                    else {
                                        $('#CE_StartdateLbl').replaceWith("<input type='text' id='CE_startdate' data='1' value='" + editdata.StartDate + "' class='popup_date SFdate' style='width:100px;height:20px;' />");
                                        $('#CE_EnddateLbl').replaceWith("<input type='text' id='CE_enddate' data='1' value='" + editdata.EndDate + "' class='popup_date SFdate' style='width:100px;height:20px;'/>");
                                    }

                                    $("#CE_editstartdate").datepicker("destroy");
                                    $("#CE_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                    $("#CE_editenddate").datepicker("destroy");
                                    $("#CE_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                }
                            },
                            error: function (xhr) {
                                $('.popup_edit .innerErrorHolder').removeClass("green");
                                $('.popup_edit .innerErrorHolder').addClass("red");
                                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                            }
                        });

                    }

                    else if (componentGroupId == 19 && CountryId == 2) {//AdditionalPayout
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '210px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;
                                $('#editval').attr("pkey", pkey);
                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Payout Type</label><span class="M_20">' + editdata.ComponentName + '</span></li>';
                                list += '<li><label>Currency Code<span class="red">*</span></label><span><select id="editcurcode" style="width: 160px; height:22px;text-indent:6px;display:none;"><option>--select--</option></select></span></li>';
                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';
                                list += '<li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Project ID<span class="red">*</span></label><input class="M_20" style="text-indent:6px;" type="text" id="projid"  value="' + editdata.ProjectID + '" maxlength="10" /></li>';
                                // list += '<li><label>Currency Code<span class="red">*</span></label><span><select id="editcurcode" style="width: 160px; height:22px;display:none;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label >Amount<span class="red">*</span></label><input class="M_20" id="amount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text" style="text-indent:6px;" value="' + editdata.Amount + '" /></li>';
                                list += '<li id="frameforapproval"><iframe id="frame2" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload2" style="display:none;margin-left:19px;"></div></li>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload2">' + val + '</div></li>';
                                }
                                //list += '</ul>';

                                //list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload2" style="display:none;margin-left:19px;"></div></li>';
                                list += '<li><label>Special Case Reason</label><select class="M_20 styled" name="special" id="editsplcase" style="width:170px;height:22px;text-indent:6px;--bgX: 60.2%;"><option value="-1" selected="selected" style="width:160px;text-indent:6px;">--Select Special Case Reason--</option></select></li>';
                                list += '</ul>';

                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frameforhide" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                list += '<li style="padding-top:5px;"><div id="aft_uploadhide"></div></li></ul>';

                                // list += '<li style="margin-left: 330px; margin-top: -75px;"><label>Input Remarks</label><input class="M_20" style="text-indent:6px;" type="text" id="remarks"  value="' + editdata.InputRemarks + '" /></li></ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#projid').numeric();
                                $('#aft_uploadhide').hide();
                                $('#frameforhide').hide();
                                PopulateEditComponentDetails(editdata.CurrencyCode, editdata.SpecialCaseReason);
                                if (msg.d[0][0].SpecialCaseReason != "") {
                                    $('#editsplcase').find("option[pksplcase = '" + editdata.SpecialCaseReason + "']").attr("selected", "selected");
                                    $('#aft_uploadhide').show();
                                    $('#frameforhide').show();
                                }
                                else {
                                    $('#aft_uploadhide').hide();
                                    $('#frameforhide').hide();
                                }

                                $('#select-editcurcode .selectList').find("option[pkcur = '" + editdata.CurrencyCode + "']").attr("selected", "selected");
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                $('#editval').attr("pkey", pkey);
                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Component Type</label><span class="M_20">' + editdata.PayoutType + '</span></li>';
                                //list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';
                                list += '<li><label>Currency Code<span class="red">*</span></label><span class="M_20"><select id="editcurcode" style="width: 160px; height:22px;display:none;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Project ID<span class="red">*</span></label><input class="M_20" type="text" id="projid" value="' + editdata.ProjectID + '"  maxlength="10" /></li>';
                                list += '<li><label >Amount<span class="red">*</span></label><input class="M_20" id="amount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text" value="' + editdata.Amount + '"/></li>';
                                list += '<li id="frameforapproval"><iframe id="frame2" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
                                list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload2" style="display:none;margin-left:19px;"></div></li>';
                                list += '<li><label>Special Case Reason</label><select class="M_20" name="special" id="editsplcase" style="width:170px;height:22px;text-indent:6px;"><option value="-1" selected="selected" style="width:160px;text-indent:6px;">--Select Special Case Reason--</option></select></li>';
                                list += '</ul>';
                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frameforhide" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                list += '<li style="padding-top:5px;"><div id="aft_uploadhide"></div></li></ul>';
                                // list += '<li style="margin-left: 330px; margin-top: -75px;"><label>Input Remarks</label><input class="M_20" type="text" id="remarks" value="' + editdata.InputRemarks + '" /></li></ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                //$("#amount").numeric();
                                $("#approverid").numeric();
                                $('#projid').numeric();
                                $('#aft_uploadhide').hide();
                                $('#frame1').hide();
                                PopulateEditComponentDetails(editdata.CurrencyCode, editdata.SpecialCaseReason);
                                if (msg.d[0][0].SpecialCaseReason != "") {
                                    $('#editsplcase').find("option[pksplcase = '" + editdata.SpecialCaseReason + "']").attr("selected", "selected");
                                }
                                else {
                                    $('#aft_upload1').hide();
                                    $('#editframe1').hide();
                                }

                                $('#select-editcurcode .selectList').find("option[pkcur = '" + editdata.CurrencyCode + "']").attr("selected", "selected");
                                GetSessionTimeoutEdit();
                            }
                        }
                    }
                    else if (componentGroupId == 19 && CountryId != 2) {//AdditionalPayout
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '250px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            $('.inner_cont').css("height", '290px');

                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;
                                $('#editval').attr("pkey", pkey);
                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Payout Type</label><span class="M_20">' + editdata.SubComponentName + '</span></li>';
                                list += '<li><label>Currency Code<span class="red">*</span></label><span><select id="editcurcode" style="width: 160px; height:22px;text-indent:6px;display:none;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Project ID</label><input class="M_20" style="text-indent:6px;" type="text" id="projid"  value="' + editdata.ProjectID + '" maxlength="10" /></li>';
                                list += '<li><label>AdvisedMonth</label><span id="SB_AdvisedMonth" class="M_20">' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.PayrollYear + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" id="amount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text" oncopy="return false" onpaste="return false" style="text-indent:6px;" value="' + editdata.Amount + '" /></li>';
                                list += '<li><label>Special Case Reason</label><select class="M_20" name="special" id="editsplcase" style="width:170px;height:22px;text-indent:6px;"><option value="-1" selected="selected" style="width:160px;text-indent:6px;">--Select Special Case Reason--</option></select></li>';
                                list += '<li><label>Installments<span class="red">*</span> </label><span class="M_20"><select name="editAPInstallment" id="editAPInstallment" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li id="frameforapproval"><iframe id="frame2" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload2" style="display:none;margin-left:19px;"></div></li>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload2">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frameforhide" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (SplCaseMailUploadId == 0) {

                                    list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_uploadhide" style="display:none;margin-left:19px;"></div></li>';
                                }
                                else {
                                    var val1 = "<label>Special Case Mail</label><a href='#' fileuploadid=\"" + SplCaseMailUploadId + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + SplCaseMailUploadId + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_uploadhide">' + val1 + '</div></li>';
                                }
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#amount').numeric();
                                $('#projid').numeric();
                                PopulateAPACEditComponentDetails(editdata.CurrencyCode, editdata.SpecialCaseReason, editdata.Installments);
                                if (editdata.SpecialCaseReason != "-1" && editdata.SpecialCaseReason != null && editdata.SpecialCaseReason != "") {
                                    //    $(".popup_edit .inner_cont ul li:nth-child(9) select").append("<option value='" + '2' + "'>" + editdata.SpecialCaseReason + "</option>");
                                    //    $(".popup_edit .inner_cont ul li:nth-child(9) select option").eq([$(".popup_edit .inner_cont ul li:nth-child(7) select option").length - 1]).attr('selected', 'selected');
                                    $('#aft_uploadhide').show();
                                    $('#frameforhide').show();
                                    $('#editframe1').show();
                                }
                                else {
                                    $('#editframe1').hide();
                                    $('#aft_uploadhide').hide();
                                    $('#frameforhide').hide();
                                }

                                $('#select-editcurcode .selectList').find("option[pkcur = '" + editdata.CurrencyCode + "']").attr("selected", "selected");
                                $('#select-editAPInstallment .selectList').find("option[pkcur = '" + editdata.Installments + "']").attr("selected", "selected");
                                $('#select-editsplcase .selectList').find("option[pkcur = '" + editdata.SpecialCaseReason + "']").attr("selected", "selected");

                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;

                                $('#editval').attr("pkey", pkey);
                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Payout Type</label><span class="M_20">' + editdata.PayoutType + '</span></li>';
                                list += '<li><label>Currency Code<span class="red">*</span></label><span><select id="editcurcode" style="width: 160px; height:22px;text-indent:6px;display:none;"><option>--select--</option></select></span></li>';
                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';
                                list += '<li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Project ID</label><input class="M_20" style="text-indent:6px;" type="text" id="projid"  value="' + editdata.ProjectID + '" maxlength="10" /></li>';
                                list += '<li><label>AdvisedMonth<span class="red">*</span></label><span id="SB_AdvisedMonth" class="M_20">' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>Year<span class="red">*</span></label><span id="SB_Year" class="M_20">' + editdata.PayrollYear + '</span></li>';
                                // list += '<li><label>Currency Code<span class="red">*</span></label><span><select id="editcurcode" style="width: 160px; height:22px;display:none;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label >Amount<span class="red">*</span></label><input class="M_20" id="amount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text" style="text-indent:6px;" value="' + editdata.Amount + '" /></li>';
                                list += '<li><label>Special Case Reason</label><select class="M_20" name="special" id="editsplcase" style="width:170px;height:22px;text-indent:6px;"><option value="-1" selected="selected" style="width:160px;text-indent:6px;">--Select Special Case Reason--</option></select></li>';
                                list += '<li><label>Installments<span class="red">*</span> </label><span class="M_20"><select name="editAPInstallment" id="editAPInstallment" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li id="frameforapproval"><iframe id="frame2" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload2" style="display:none;margin-left:19px;"></div></li>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload2">' + val + '</div></li>';
                                }
                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';

                                list += '</ul>';

                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frameforhide" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (SplCaseMailUploadId == 0) {

                                    list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_uploadhide" style="display:none;margin-left:19px;"></div></li>';
                                }
                                else {
                                    var val1 = "<label>Special Case Mail</label><a href='#' fileuploadid=\"" + SplCaseMailUploadId + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_uploadhide">' + val1 + '</div></li>';
                                }

                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#projid').numeric();
                                $('#aft_uploadhide').hide();
                                $('#frameforhide').hide();
                                PopulateAPACEditComponentDetails(editdata.CurrencyCode, editdata.SpecialCaseReason, editdata.Installments);
                                if (msg.d[0][0].SpecialCaseReason != "") {
                                    $('#editsplcase').find("option[pksplcase = '" + editdata.SpecialCaseReason + "']").attr("selected", "selected");
                                    $('#aft_uploadhide').show();
                                    $('#frameforhide').show();
                                }
                                else {
                                    $('#aft_uploadhide').hide();
                                    $('#frameforhide').hide();
                                }

                                $('#select-editcurcode .selectList').find("option[pkcur = '" + editdata.CurrencyCode + "']").attr("selected", "selected");
                                $('#select-editAPInstallment .selectList').find("option[pkcur = '" + editdata.Installments + "']").attr("selected", "selected");
                                GetSessionTimeoutEdit();
                            }
                        }
                    }

                    else if (componentGroupId == 20 && CountryId == 2) {
                        $('#deductiontypeval').html('');
                        $('#installementval').html('');
                        $('#currencyCode').html('');
                        var mailattachments = msg.d[0][0].ApprovalMail;
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        list += '<ul  pkey=' + pkey + '><li><label class="M_15">Associate ID</label><span class="M_30">' + msg.d[0][0].AssociateID + '</span></li>';
                        list += ' <li><label class="M_15">Deduction Type<span class="red">*</span></label><select name="Deductiontype" id="deductiontypeval" class="styled M_40"><option value="-1" selected="selected">--Select Deduction Type--</option></select></li>';
                        list += '<li><label class="M_15">Amount<span class="red">*</span></label><input type="text" value="' + msg.d[0][0].Amount + '" class="M_40 new_upload" id="ADamt" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                        list += '<li><label class="M_15">ProjectId<span id="editproject" class="red">*</span></label><input type="text" value="' + msg.d[0][0].ProjectID + '" id="pjid" class="M_40 new_upload" /></li>';
                        list += '<li><label class="M_15">Installments<span class="red">*</span></label><select name="Installments" id="installementval" class="M_40"><option value="-1" selected="selected">--Select Installment Type--</option></select></li>';
                        list += '<li><label class="M_15">CurrencyCode<span class="red">*</span></label><select name="CurrencyCode" id="currencyCode" class="M_40"><option value="-1" selected="selected">--Select Currency Code--</option></select></li>';


                        list += '<ul style="margin-left:0px;"><li><iframe id="frame2" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
                        if (mailattachments == 0) {

                            list += '<li style="padding-top:5px;"><div id="aft_upload2"></div></li></ul>';
                        }
                        else {
                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                            list += '<li style="padding-top:5px;"><div id="aft_upload2">' + val + '</div></li>';
                        }
                        //list += '</ul>';


                        //list += '<ul style="margin-left:0px;"><li><iframe id="frame2" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
                        //list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload2" style="display:none;margin-left:19px;"></div></li></ul>';

                        if (type == 1) {
                            if (status == 'Rejected' || status == 'Resubmitted') {
                                list += '<li><label class="M_15">Reject/Resubmit<br />Remarks</label><textarea class="M_30 txtarea1" style="text-indent:6px;">' + msg.d[0][0].RejectionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '</textarea></li>';
                                $('.inner_cont').css("height", '250px');
                                mode = 1;
                            }
                            else {
                                // list += '<li><div id="bfre_upload" style="display:none;"><label class="M_15 PaddingTop">Select File</label><span><input type="text" id="Uploadpath" disabled="disabled" class="M_30 new_upload"/></span><input id="reprtupload" type="button"  class="upload_pop"/></div>';
                            }
                        }
                        else {
                            var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;
                            list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label class="M_15">Exception<br />Remarks</label><span class="M_30">' + expremarks + '</span></li>';
                            mode = 1;
                        }
                        list += '</ul>';
                        if (msg.d.length > 4) {

                            if (msg.d[4].length != 0) {
                                $.each(msg.d[4], function (i, data) {
                                    DeductionTypeoptions += '<option value="' + data.ComponentName + '">' + data.ComponentName + '</option>';
                                });
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('.popup_edit .inner_cont ul li:nth-child(2) select').append(DeductionTypeoptions);
                                if (msg.d[0][0].DeductionType != "") {
                                    $(".popup_edit .inner_cont ul li:nth-child(2) select option:contains(" + $.trim(msg.d[0][0].DeductionType) + ")").attr('selected', 'selected');
                                }
                                else {
                                    $('#aft_upload1').hide();
                                    $('#frame1').hide();
                                }
                                if (msg.d[0][0].DeductionType != "Salary Advance") {
                                    $('#editproject').show();
                                }
                                else {
                                    $('#editproject').hide();
                                }
                            }

                            if (msg.d[5].length != 0) {
                                $.each(msg.d[5], function (i, data) {
                                    Installmenttype += '<option value="' + data.CDescription + '">' + data.CDescription + '</option>';
                                });
                                //  $('.popup_edit .inner_cont').html('').html(list);
                                $('.popup_edit .inner_cont ul li:nth-child(5) select').append(Installmenttype);
                                if (msg.d[0][0].Installments != "") {
                                    $(".popup_edit .inner_cont ul li:nth-child(5) select option:contains(" + $.trim(msg.d[0][0].Installments) + ")").attr('selected', 'selected');
                                }
                                else {
                                    $('#aft_upload1').hide();
                                    $('#frame1').hide();
                                }
                            }
                            if (msg.d[6].length != 0) {
                                $.each(msg.d[6], function (i, data) {
                                    CurrencyCode += '<option value="' + data.CurrencyCode + '">' + data.CurrencyCode + '</option>';
                                });

                                $('#currencyCode').html(CurrencyCode);

                                //$(function () {
                                //    $("#currencyCode").not(".interactive").each(function () {
                                //        var sb = new SelectBox({
                                //            selectbox: $(this),
                                //            height: 90,
                                //            width: 160,
                                //        });
                                //    });
                                //    $(".selectValueWrap").css("position", "relative");
                                //    $(".selectValueWrap").css("width", "160px");
                                //    $(".selectValueWrap").css("left", "-40px");
                                //    $(".selectList").css("margin-left", "-40px");
                                //    $("#currencyCode").css("display", "none");
                                //});
                                $('.popup_edit .inner_cont ul li:nth-child(6) select').append(CurrencyCode);
                                // $('#select-currencyCode .selectList').find("option[pkcur = '" + msg.d[0][0].CurrencyCode + "']").attr("selected", "selected");
                                $(".popup_edit .inner_cont ul li:nth-child(6) select option:contains(" + $.trim(msg.d[0][0].CurrencyCode) + ")").attr('selected', 'selected');


                            }
                        }
                        else {
                            $('.popup_edit .inner_cont').html('').html(list);
                        }



                        $("#pjid").numeric();
                        $("#pjid").attr("maxlength", "10");
                    }

                    else if (componentGroupId == 20 && CountryId != 2) {//Additional Deduction
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '260px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;
                                var specialcasereason = editdata.SpecialCaseMail;
                                $('#editval').attr("pkey", pkey);
                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Deduction Type</label><span class="M_20" componentid=' + editdata.DEDUCTIONTYPE + '>' + editdata.SubComponentName + '</span></li>';
                                list += '<li><label>Currency Code<span class="red">*</span></label><span><select id="editcurcodeAD" style="width: 160px; height:22px;text-indent:6px;display:none;"><option>--select--</option></select></span></li>';
                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';
                                list += '<li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Project ID</label><input class="M_20" style="text-indent:6px;" type="text" id="AD_projid"  value="' + editdata.ProjectID + '" maxlength="10" /></li>';
                                list += '<li><label >Amount<span class="red">*</span></label><input class="M_20" id="AD_amount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text" style="text-indent:6px;" value="' + editdata.Amount + '" /></li>';
                                list += '<li><label>AdvisedMonth</label><span id="AD_AdvisedMonth" class="M_20" monthid=' + editdata.PayRollMonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="AD_Year" class="M_20">' + editdata.PayrollYear + '</span></li>';
                                // list += '<li><label>Currency Code<span class="red">*</span></label><span><select id="editcurcode" style="width: 160px; height:22px;display:none;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<ul  iframe style="margin-left:-3px;"><li id="frameforapproval"><iframe id="frame2" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload2" style="display:none;margin-left:19px;"></div></li>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload2">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                list += '<ul  iframe style="margin-left:-3px;"><li><label>Special Case Reason</label><select class="M_20" name="special" id="editsplcaseAD" style="width:170px;height:22px;text-indent:6px;"><option value="-1" selected="selected" style="width:160px;text-indent:6px;">--Select Special Case Reason--</option></select></li></ul>';
                                list += '<ul  iframe style="margin-left:-3px;"><li id="frameforapproval"><iframe id="editframe1" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
                                if (specialcasereason == 0) {

                                    list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_uploadhide" style="display:none;margin-left:19px;"></div></li>';
                                }
                                else {
                                    var val = "<label >SpecialCase Mail</label><a href='#' fileuploadid=\"" + specialcasereason + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + specialcasereason + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_uploadhide">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                //list += '<li><label>Installments<span class="red">*</span> </label><span class="M_20"><select name="editAPInstallment" id="editAPInstallment" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';


                                //list += '<ul  iframe><li iframe id="editframe1"><iframe id="editframe1" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                //list += '<li style="padding-top:5px;"><div id="aft_uploadhide"></div></li></ul>';
                                //if (specialcasereason == 0) {

                                //    list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload2" style="display:none;margin-left:19px;"></div></li>';
                                //}
                                //else {
                                //    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + specialcasereason + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                //    list += '<li style="padding-top:5px;"><div id="aft_upload2">' + val + '</div></li>';
                                //}
                                //list += '</ul>';
                                //list += '<ul  iframe style="margin-left:-3px;"><li><label>Special Case Reason</label><select class="M_20" name="special" id="editsplcaseAD" style="width:170px;height:22px;text-indent:6px;"><option value="-1" selected="selected" style="width:160px;text-indent:6px;">--Select Special Case Reason--</option></select></li></ul>';
                                ////list += '<li><label>Installments<span class="red">*</span> </label><span class="M_20"><select name="editAPInstallment" id="editAPInstallment" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';


                                //list += '<ul  iframe style="margin-left:-3px;"><li iframe id="editframe1"><iframe id="frameforhide" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                //list += '<li style="padding-top:5px;"><div id="aft_uploadhide"></div></li></ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#projid').numeric();
                                //$('#aft_upload2').hide();
                                //$('#editframe1').hide();
                                PopulateAPACEditADComponentDetails(editdata.CurrencyCode, editdata.SpecialCaseReason);
                                if (msg.d[0][0].SpecialCaseReason != "") {
                                    $('#editsplcaseAD').find("option[pksplcase = '" + editdata.SpecialCaseReason + "']").attr("selected", "selected");
                                    $('#aft_uploadhide').show();
                                    $('#editframe1').show();
                                }
                                else {
                                    $('#aft_uploadhide').hide();
                                    $('#editframe1').hide();
                                }

                                $('#select-editcurcodeAD .selectList').find("option[pkcur = '" + editdata.CurrencyCode + "']").attr("selected", "selected");
                                //$('#select-editAPInstallment .selectList').find("option[pkcur = '" + editdata.Installments + "']").attr("selected", "selected");
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;
                                var specialcasereason = editdata.SpecialCaseMail;
                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Deduction Type</label><span class="M_20" componentid=' + editdata.DeductionType + '>' + editdata.SubComponentName + '</span></li>';
                                list += '<li><label>Currency Code<span class="red">*</span></label><span><select id="editcurcodeAD" style="width: 160px; height:22px;text-indent:6px;display:none;"><option>--select--</option></select></span></li>';
                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';
                                list += '<li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Project ID</label><input class="M_20" style="text-indent:6px;" type="text" id="AD_projid"  value="' + editdata.ProjectID + '" maxlength="10" /></li>';
                                list += '<li><label >Amount<span class="red">*</span></label><input class="M_20" id="AD_amount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text" style="text-indent:6px;" value="' + editdata.Amount + '" /></li>';
                                list += '<li><label>AdvisedMonth</label><span id="AD_AdvisedMonth" class="M_20" monthid=' + editdata.PayRollMonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="AD_Year" class="M_20">' + editdata.PayrollYear + '</span></li>';
                                // list += '<li><label>Currency Code<span class="red">*</span></label><span><select id="editcurcode" style="width: 160px; height:22px;display:none;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<ul  iframe style="margin-left:-3px;"><li id="frameforapproval"><iframe id="frame2" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload2" style="display:none;margin-left:19px;"></div></li>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload2">' + val + '</div></li>';
                                }
                                list += ' </ul>';
                                list += '<ul  iframe style="margin-left:-3px;"><li><label>Special Case Reason</label><select class="M_20" name="special" id="editsplcaseAD" style="width:170px;height:22px;text-indent:6px;"><option value="-1" selected="selected" style="width:160px;text-indent:6px;">--Select Special Case Reason--</option></select></li></ul>';
                                list += '<ul  iframe style="margin-left:-3px;"><li id="frameforapproval"><iframe id="editframe1" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
                                if (specialcasereason == 0) {

                                    list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_uploadhide" style="display:none;margin-left:19px;"></div></li>';
                                }
                                else {
                                    var val = "<label>SpecialCase Mail</label><a href='#' fileuploadid=\"" + specialcasereason + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + specialcasereason + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_uploadhide">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                //list += '<ul  iframe><li><label>Special Case Reason</label><select class="M_20" name="special" id="editsplcaseAD" style="width:170px;height:22px;text-indent:6px;"><option value="-1" selected="selected" style="width:160px;text-indent:6px;">--Select Special Case Reason--</option></select></li></ul>';
                                ////list += '<li><label>Installments<span class="red">*</span> </label><span class="M_20"><select name="editAPInstallment" id="editAPInstallment" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';


                                //list += '<ul  iframe><li iframe id="editframe1"><iframe id="frameforhide" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                //list += '<li style="padding-top:5px;"><div id="aft_uploadhide"></div></li></ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#projid').numeric();
                                //$('#aft_upload2').hide();
                                //$('#frameforhide').hide();
                                PopulateAPACEditADComponentDetails(editdata.CurrencyCode, editdata.SpecialCaseReason);
                                if (msg.d[0][0].SpecialCaseReason != "") {
                                    $('#editsplcaseAD').find("option[pksplcase = '" + editdata.SpecialCaseReason + "']").attr("selected", "selected");
                                    $('#aft_uploadhide').show();
                                    $('#editframe1').show();
                                }
                                else {
                                    $('#aft_uploadhide').hide();
                                    $('#editframe1').hide();
                                }

                                $('#select-editcurcodeAD .selectList').find("option[pkcur = '" + editdata.CurrencyCode + "']").attr("selected", "selected");
                                //$('#select-editAPInstallment .selectList').find("option[pkcur = '" + editdata.Installments + "']").attr("selected", "selected");
                                GetSessionTimeoutEdit();
                            }
                        }
                    }
                    else if (componentGroupId == 33 || componentGroupId == 50) {//Reward and Regonition

                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();
                        // $('.inner_cont').css("height", '170px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;
                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                if (componentGroupId == 50) {
                                    list += '<li><label>DOJ</label><span id="asso_doj" class="M_20">' + editdata.DOJ + '</span></li>';
                                }
                                list += '<li><label>AdvisedMonth</label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="RRamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                if (componentGroupId == 33 || (componentGroupId == 50 && (CountryId == 18 || CountryId == 19))) {
                                    list += '<li><label>SubComponent</label><span id="RR_subcomponent" class="M_20">' + editdata.SubComponent + '</span></li>';
                                }
                                if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
                                    list += '<li><label>Currency</label><Label id="UKICurrency" value="" style="width:137px;height:20px;"  class="M_20 new_upload" /></li>';
                                }
                                else {
                                    list += '<li><label>Currency<span class="red">*</span> </label><span class="M_20"><select name="editCurrency" id="editCurrency" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                }
                                if (componentGroupId == 50 && (CountryId != 18 && CountryId != 19)) {
                                    list += '<li><label>Remarks<span class="red">*</span></label><input class="M_20" type="text" maxlength="50" value="' + editdata.Remarks + '" class="M_40 new_upload" id="RRremarks"  /></li>';
                                }
                                if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
                                    list += '<li><label>Remarks</label><input class="M_20" type="text" maxlength="50" value="' + editdata.Remarks + '" class="M_40 new_upload" id="RRremarks"  /></li>';
                                    list += '<li><label>Units</label><input class="M_20" type="text" value="' + editdata.Units + '" class="M_40 new_upload" id="RRUnits" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                }
                                if (componentGroupId == 33) {
                                    list += '<li><label>Remarks</label><input class="M_20" type="text" maxlength="50" value="' + editdata.Remarks + '" class="M_40 new_upload" id="RRremarks"  /></li>';
                                    list += '<li><label>Frequency<span class="red">*</span> </label><span class="M_20"><select name="editFrequency" id="editFrequency" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                }
                                if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
                                    list += '<li><label>PayoutType</label><Label id="UKIPayoutType" value="" style="width:137px;height:20px;"  class="M_20 new_upload" /></li>';
                                }
                                else {
                                    list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                }
                                list += '</ul>';
                                if (componentGroupId == 33) {
                                    list += '<ul  iframe><li iframe id="editframe3"><iframe id="frame3" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                    if (mailattachments == 0) {

                                        list += '<li style="padding-top:5px;"><div id="aft_upload3"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_upload3">' + val + '</div></li>';
                                    }
                                    list += '</ul>';
                                }
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#RRamount').numeric();
                                PopulateEditRRComponentDetails(editdata.PayoutType, editdata.Currency, editdata.Frequency);
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;
                                var expremarks = '';
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;
                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                if (componentGroupId == 50) {
                                    list += '<li><label>DOJ</label><span id="asso_doj" class="M_20">' + editdata.DOJ + '</span></li>';
                                }
                                list += '<li><label>AdvisedMonth</label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="RRamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                if (componentGroupId == 33 || (componentGroupId == 50 && (CountryId == 18 || CountryId == 19))) {
                                    list += '<li><label>SubComponent</label><span id="RR_subcomponent" class="M_20">' + editdata.SubComponent + '</span></li>';
                                }
                                if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
                                    list += '<li><label>Currency</label><Label id="UKICurrency" value="" style="width:137px;height:20px;"  class="M_20 new_upload" /></li>';
                                }
                                else {
                                    list += '<li><label>Currency<span class="red">*</span> </label><span class="M_20"><select name="editCurrency" id="editCurrency" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                }
                                if (componentGroupId == 50 && (CountryId != 18 && CountryId != 19)) {
                                    list += '<li><label>Remarks<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Remarks + '" class="M_40 new_upload" id="RRremarks"  /></li>';
                                }
                                if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
                                    list += '<li><label>Remarks</label><input class="M_20" type="text" maxlength="50" value="' + editdata.Remarks + '" class="M_40 new_upload" id="RRremarks"  /></li>';
                                    list += '<li><label>Units</label><input class="M_20" type="text" value="' + editdata.Units + '" class="M_40 new_upload" id="RRUnits" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                }
                                if (componentGroupId == 33) {
                                    list += '<li><label>Remarks</label><input class="M_20" type="text" value="' + editdata.Remarks + '" class="M_40 new_upload" id="RRremarks"  /></li>';
                                    list += '<li><label>Frequency<span class="red">*</span> </label><span class="M_20"><select name="editFrequency" id="editFrequency" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                }
                                if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
                                    list += '<li><label>PayoutType</label><Label id="UKIPayoutType" value="" style="width:137px;height:20px;"  class="M_20 new_upload" /></li>';
                                }
                                else {
                                    list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                }
                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                if (componentGroupId == 33) {
                                    list += '<ul  iframe><li iframe id="editframe3"><iframe id="frame3" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                    if (mailattachments == 0) {

                                        list += '<li style="padding-top:5px;"><div id="aft_upload3"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_upload3">' + val + '</div></li>';
                                    }
                                    list += '</ul>';
                                }
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#RRamount').numeric();
                                PopulateEditRRComponentDetails(editdata.PayoutType, editdata.Currency, editdata.Frequency);
                                GetSessionTimeoutEdit();
                            }
                        }
                    }

                    else if (componentGroupId == 46) {//Benefits
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();
                        // $('.inner_cont').css("height", '170px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                // var mailattachments = editdata.ApprovalMail;
                                var mailattachments = 0;
                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Benefit Type</label><span id="Ben_subcomponent" class="M_20">' + editdata.SubComponent + '</span></li>';
                                list += '<li><label>AdvisedMonth</label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="Benamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '</ul>';
                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li>';
                                    }
                                }
                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li>';
                                    }
                                }

                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#Benamount').numeric();
                                PopulateEditBenefitsComponentDetails(editdata.PayoutType);
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                //var mailattachments = editdata.ApprovalMail;
                                var mailattachments = 0;
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;
                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Benefit Type</label><span id="Ben_subcomponent" class="M_20">' + editdata.SubComponent + '</span></li>';
                                list += '<li><label>AdvisedMonth</label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="Benamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';

                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li>';
                                    }
                                }
                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li>';
                                    }
                                }


                                //list += '<ul  iframe><li iframe id="editframe3"><iframe id="frame3" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                //if (mailattachments == 0) {

                                //    list += '<li style="padding-top:5px;"><div id="aft_upload3"></div></li></ul>';
                                //}
                                //else {
                                //    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                //    list += '<li style="padding-top:5px;"><div id="aft_upload3">' + val + '</div></li>';
                                //}
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#Benamount').numeric();
                                PopulateEditBenefitsComponentDetails(editdata.PayoutType);
                                GetSessionTimeoutEdit();
                            }
                        }
                    }

                    else if (componentGroupId == 36 || componentGroupId == 37) {//Insurance Taxation and compensation
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();
                        // $('.inner_cont').css("height", '170px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += ' <li><label>StartDate</label><span class="M_20">' + editdata.StartDate + '</span></li>';
                                list += '<li><label>Amount</label><span class="M_20" id="taxamt">' + editdata.Amount + '</span></li>';
                                list += '<li><label>EffectiveDate</label><input type="text" class="M_20"  class="popup_date" id="editinsurancedate" value="' + editdata.EffectiveDate + '" /></li>';
                                list += '<li><label>Beneficary Amount</label><span class="M_20" id="benamount">' + editdata.BeneficiaryAmount + '</span></li>';
                                list += '<li style="width:100%"><label>Special Case Reason</label><select class="M_20" name="editinsurancesplcase" id="editinsurancesplcase" style="width:170px;height:22px;text-indent:6px;"><option value="-1" selected="selected" style="width:160px;text-indent:6px;">--Select Special Case Reason--</option></select></li>';
                                list += '</ul>';

                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frameforhide" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="padding-top:5px;"><div id="aft_uploadhide"></div></li></ul>';
                                }
                                else {
                                    var val = "<label>Special Case Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_uploadhide">' + val + '</div></li>';
                                }
                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                                if (editdata.SpecialCaseReason != "-1" && editdata.SpecialCaseReason != null && editdata.SpecialCaseReason != "") {
                                    $(".popup_edit .inner_cont ul li:nth-child(7) select").append("<option value='" + editdata.SpecialCaseReasonId + "'>" + editdata.SpecialCaseReason + "</option>");
                                    $(".popup_edit .inner_cont ul li:nth-child(7) select option").eq([$(".popup_edit .inner_cont ul li:nth-child(7) select option").length - 1]).attr('selected', 'selected');
                                }
                                else {
                                    PopulateEditComponentDetailsinsu(editdata.SpecialCaseReason);
                                }
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;
                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += ' <li><label>StartDate</label><span class="M_20">' + editdata.StartDate + '</span></li>';
                                list += '<li><label>Amount</label><span class="M_20" id="taxamt">' + editdata.Amount + '</span></li>';
                                list += '<li><label>EffectiveDate</label><input type="text" class="M_20"  class="popup_date" id="editinsurancedate" value="' + editdata.EffectiveDate + '" /></li>';
                                list += '<li><label>Beneficary Amount</label><span class="M_20" id="benamount">' + editdata.BeneficiaryAmount + '</span></li>';
                                list += '<li style="width:100%"><label>Special Case Reason</label><select class="M_20" name="special" id="editinsurancesplcase" style="width:250px;height:22px;text-indent:6px;"><option value="-1" selected="selected" style="width:160px;text-indent:6px;">--Select Special Case Reason--</option></select></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';

                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frameforhide" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="padding-top:5px;"><div id="aft_uploadhide"></div></li></ul>';
                                }
                                else {
                                    var val = "<label>Special Case Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_uploadhide">' + val + '</div></li>';
                                }
                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditComponentDetailsinsu(editdata.SpecialCaseReason);
                                if (msg.d[0][0].SpecialCaseReason != "") {
                                    $('#editinsurancesplcase').find("option[pksplcase = '" + editdata.SpecialCaseReason + "']").attr("selected", "selected");
                                }
                                GetSessionTimeoutEdit();
                            }
                        }

                    }
                    else if (componentGroupId == 31) {//Net Travel Allowance
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();
                        // $('.inner_cont').css("height", '170px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.FileUploadId;

                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += ' <li><label>StartDate</label><span class="M_20">' + editdata.StartDate + '</span></li>';
                                list += '<li><label>Amount</label><span class="M_20" id="netamt">' + editdata.Amount + '</span></li>';
                                /// list += '<li><label>Amount</label><span class="M_20" id="taxamt">' + editdata.Amount + '</span></li>';
                                list += '<li><label>EffectiveDate</label><input type="text" class="popup_date" id="editnetdate" value="' + editdata.EffectiveDate + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                //if (type == 1) {
                                //    if (status == 'Rejected' || status == 'Resubmitted') {
                                //        list += '<li><label class="M_15">Reject/Resubmit<br />Remarks</label><textarea class="M_30 txtarea1" style="text-indent:6px;">' + editdata.RejectionReason + '</textarea></li>';
                                //        $('.inner_cont').css("height", '300px');

                                //    }
                                //    else {
                                //        // list += '<li><div id="bfre_upload" style="display:none;"><label class="M_15 PaddingTop">Select File</label><span><input type="text" id="Uploadpath" disabled="disabled" class="M_30 new_upload"/></span><input id="reprtupload" type="button"  class="upload_pop"/></div>';
                                //    }
                                //}
                                //else {
                                //    var expremarks = (editdata.ExceptionReason.length > 20) ? editdata.substring(0, 20) + '...' : editdata.ExceptionReason;
                                //    list += '<li livalue="' + editdata.ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label class="M_15">Exception<br />Remarks</label><span class="M_30">' + expremarks + '</span></li>';
                                //    mode = 1;
                                //}
                                list += '</ul>';
                                list += '<ul  style="margin-top:20px;"><li><iframe id="frame3" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';

                                if (mailattachments == 0) {
                                    list += '<li style="padding-top:5px;"><div id="aft_upload3"></div></li></ul>';

                                }
                                else {

                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload3">' + val + '</div></li>';
                                }
                                var mode = 0;

                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditSignOnComponentDetails(editdata.PayoutType, '');

                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.FileUploadId;
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;
                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += ' <li><label>StartDate</label><span class="M_20">' + editdata.StartDate + '</span></li>';
                                list += '<li><label>Amount</label><span class="M_20" id="netamt">' + editdata.Amount + '</span></li>';
                                list += '<li><label>EffectiveDate</label><input type="text" class="popup_date" id="editnetdate" value="' + editdata.EffectiveDate + '" style="margin-left:-20px;width:137px;height:20px;" /></li>';
                                list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frame1" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="padding-top:5px;"><div id="aft_upload1"></div></li></ul>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload1">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditSignOnComponentDetails(editdata.PayoutType, '');


                                GetSessionTimeoutEdit();
                            }
                        }

                    }
                    else if (componentGroupId == 32) {//Commuting Allowance

                        // var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();
                        // $('.inner_cont').css("height", '170px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.FileUploadId;
                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="CT_editassoname" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>StartDate</label><span class="M_20">' + editdata.StartDate + '</span></li>';
                                list += '<li><label>Distance</label><input type="text" class="popup_date" id="editdistance" value="' + editdata.Distance + '" style="margin-left:-20px;width:137px;height:20px;" /></li>';
                                list += '<li><label>EffectiveDate</label><input type="text" class="popup_date" id="editcommutedate" value="' + editdata.EffectiveDate + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                list += '<li><label>PayoutType<span class="red">*</span></label><select name="editpayoutType" id="editpayoutType" class="M_20"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
                                list += '<li><label>Special Case Reason</label><select name="editCommutesplcase" id="editCommutesplcase" class="M_20" style="width:170px;height:22px;"><option value="-1" selected="selected" style="width:160px;">--Select SpecialCaseReason--</option></select></li>';
                                list += '</ul>';
                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frame2" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="padding-top:5px;"><div id="aft_upload2"></div></li></ul>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload2">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditSignOnComponentDetails(editdata.PayoutType, editdata.SpecialCaseReason);
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 25) ? msg.d[0][0].ExceptionRemarks.substring(0, 25) + '...' : msg.d[0][0].ExceptionRemarks; $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>StartDate</label><span class="M_20">' + editdata.StartDate + '</span></li>';
                                list += '<li><label>Distance</label><input class="M_20" type="text" id="editDistance" maxlength="15" value="' + editdata.Distance + '"></input></li>';
                                list += '<li><label>EffectiveDate</label><input type="text" class="popup_date" id="editinsurancedate" value="' + editdata.EffectiveDate + '" style="margin-left:-20px;width:137px;height:20px;" /></li>';
                                list += '<li><label>PayoutType<span class="red">*</span></label><select name="editpayoutType" id="editpayoutType" class="M_20"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
                                list += '<li><label>Special Case Reason</label><select name="editCommutesplcase" id="editCommutesplcase" class="M_20" style="width:170px;height:22px;"><option value="-1" selected="selected" style="width:160px;">--Select Special Case Reason--</option></select></li>';

                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frame1" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="padding-top:5px;"><div id="aft_upload2"></div></li></ul>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload2">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditSignOnComponentDetails(editdata.PayoutType, editdata.SpecialCaseReason);
                                GetSessionTimeoutEdit();
                            }
                        }

                    }
                    else if ((componentGroupId == 39 || componentGroupId == 22) && CountryId == 3) {//on call and overtime allowance                    
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        if (type == 1) {
                            $('.inner_cont').css("height", '200px');
                        }

                        else if (type == 1) {
                            $('.inner_cont').css("height", '215px');
                        }
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                $('#editval').attr("pkey", pkey);

                                var mailattachments = editdata.AttachMail;
                                var DayType = (editdata.DayTypeName.length > 20) ? editdata.DayTypeName.substring(0, 20) + '...' : editdata.DayTypeName;
                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';

                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';


                                list += '<li><label>DayType</label><span class="M_20" id="DayTypeID" daytype="' + editdata.DayType + '">' + DayType + '</span></li>';
                                list += ' <li><label >StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="OT_editstartdate" value="' + editdata.StartDate + '" oncopy="return false" onpaste="return false" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                list += '<li><label >EndDate<span class="red">*</span></label><input type="text" class="popup_date" id="OT_editenddate" value="' + editdata.EndDate + '" oncopy="return false" onpaste="return false" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                list += ' <li><label id="crit_label">TotalHours<span class="red">*</span></label><input type="number" class="number_box" id="TotalHours1" value="' + editdata.TotalHours + '" onkeyup="return allownums2(event)" min="0" max="24" style="margin-left:-25px;width:137px;height:20px;"/></li>';
                                list += '<li><label>Project ID</label><span class="M_20" style="margin-left:-28px;">' + editdata.ProjectID + '</span></li>';
                                list += '<li><label>Account Name</label><label id="OC_customername" class="M_20" style="margin-left:-28px;  customerid="' + editdata.CustomerID + '">' + editdata.AccountName + '</label></li>';
                                //list += ' <li><label >StartTime <span class="red">*</span></label><input type="text"  class="defaultEntry poptime" id="OC_Starttime" value="' + editdata.EndTime + '" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 15px;" /></li>';
                                //list += '<li><label >EndTime<span class="red">*</span></label><input type="text"  class="defaultEntry poptime" id="OC_endtime" value="' + editdata.EndTime + '" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 15px;" /></li>';
                                //list += '<li><label>Customer ID</label><span class="M_20">' + editdata.CustomerID + '</span></li>';

                                list += '</ul>';
                                //list += '<ul style="margin-left:5px;"><li><iframe id="frame3" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0"  allowtransparency="true"></iframe></li>';
                                /// list += '<li style="margin-left:-1px;padding-top:5px;"><div id="aft_upload3" style="display:none;"></div></li></ul>';
                                ////  list += '<ul  iframe><li iframe id="frame3"><iframe id="frame3" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                list += '<ul  style="margin-top:20px;"><li><iframe id="frame3" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';

                                if (mailattachments == 0) {
                                    list += '<li style="padding-top:5px;"><div id="aft_upload3"></div></li></ul>';

                                }
                                else {

                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload3">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                $('#projid').numeric();

                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;
                                var DayType = (editdata.DayTypeName.length > 20) ? editdata.DayTypeName.substring(0, 20) + '...' : editdata.DayTypeName;
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.AttachMail;
                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';


                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>DayType</label><span class="M_20" id="DayTypeID" daytype="' + editdata.DayType + '">' + DayType + '</span></li>';
                                list += ' <li><label >StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="OT_editstartdate" value="' + editdata.StartDate + '" oncopy="return false" onpaste="return false" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                list += '<li><label >EndDate<span class="red">*</span></label><input type="text" class="popup_date" id="OT_editenddate" value="' + editdata.EndDate + '" oncopy="return false" onpaste="return false" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                list += ' <li><label id="crit_label">TotalHours<span class="red">*</span></label><input type="number" class="number_box" id="TotalHours1" value="' + editdata.TotalHours + '" onkeyup="return allownums2(event)" min="0" max="24" style="margin-left:-25px;width:137px;height:20px;"/></li>';
                                list += '<li><label>Project ID</label><span class="M_20" style="margin-left:-28px;">' + editdata.ProjectID + '</span></li>';
                                list += '<li><label>Account Name</label><label id="OC_customername" class="M_20" style="margin-left:-28px;  customerid="' + editdata.CustomerID + '">' + editdata.AccountName + '</label></li>';

                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';

                                list += '</ul>';
                                //list += '<ul  iframe><li iframe id="frame3"><iframe id="frame3" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';


                                list += '<ul  style="margin-top:20px;"><li><iframe id="frame3" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';

                                if (mailattachments == 0) {
                                    list += '<li style="padding-top:5px;"><div id="aft_upload3"></div></li></ul>';

                                }
                                else {

                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload3">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                $('#projid').numeric();

                                GetSessionTimeoutEdit();
                            }
                        }
                    }
                    else if (componentGroupId == 22 && CountryId != 3) {//and overtime allowance       
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();
                        OTedit = 1;
                        OTnew = 0;
                        if (type == 1) {
                            $('.inner_cont').css("height", '170px');
                        }
                        else if (type == 2) {
                            $('.inner_cont').css("height", '200px');
                        }
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                $('#editval').attr("pkey", pkey);

                                var mailattachments = editdata.AttachMail;
                                var TMApprovalMail = editdata.TMApprovalMail;
                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                if (CountryId == 7 || CountryId == 10) {
                                    list += '<li><label>DayType</label><span class="M_20" id="DayTypeID" daytype="' + editdata.DayType + '">' + editdata.DayTypeName + '</span></li>';
                                }
                                else if (CountryId == 11 || CountryId == 12 || CountryId == 13) {
                                    list += '<li><label>Associate Name</label><span class="M_20">' + editdata.Name + '</span></li>'
                                }
                                else {
                                    list += ' <li></li>';
                                }
                                list += ' <li><label >StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="OC_editstartdate" value="' + editdata.StartDate + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                list += '<li><label >EndDate<span class="red">*</span></label><input type="text" class="popup_date" id="OC_editenddate" value="' + editdata.EndDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';

                                //list += '<li><label>StartTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="OT_starttime" class="defaultEntry poptime" oncopy="return false" onpaste="return false"  size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;margin-left:-26px;"  value="' + editdata.StartTime + '" ><span class="timeEntry_control" style="background: url(&quot;../Images/spinnerDefault.png&quot;) 0px 0px no-repeat; width: 20px; height: 20px;" title="Increment"></span></p>';
                                //list += '<li><label >EndTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="OT_endtime" class="defaultEntry poptime"  oncopy="return false" onpaste="return false" size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;margin-left:-22px;" value="' + editdata.EndTime + '" ><span class="timeEntry_control" id="timeimage"  title="Decrement"></span></p></label></li>';

                                list += '<li><label style="width: 87px;">StartTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="OT_editstarttime" class="defaultEntry poptime" oncopy="return false" onpaste="return false"  size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px;margin-left:52px; line-height: 18px;height:20px"  value="' + editdata.StartTime + '" ><span class="timeEntry_control" style="background: url(&quot;../Images/spinnerDefault.png&quot;) 0px 0px no-repeat; width: 17px; height: 20px;" title="Increment"></span></p>';
                                list += '<li><label style="width: 87px;">EndTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="OT_editendtime" class="defaultEntry poptime"  size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;margin-left:52px" value="' + editdata.EndTime + '" ><span class="timeEntry_control" id="timeimage"  title="Decrement"></span></p></label></li>';


                                if (CountryId == 8 || CountryId == 9) {
                                    list += '<li><label class="M_15" style="margin-left: 1px;">ProjectID<span class="red">*</span></label><select name="ProjectID" id="OT_Projectid" class="styled sdk" style="--bgX: 61%;margin-left:-41px;width: 150px;"><option name="" value="-1">--Select--</option></select></li>';
                                    list += '<li><label class="M_15" style="padding-left: 8px;">Project Description</label><label  id="OT_ProjectDesc" class="M_40 new_upload" style="width:207px;height:20px;margin-left:-35px;font-size: 10px;"></label></li>';
                                }
                                else {
                                    list += '<li><label>Project ID</label><span class="M_20">' + editdata.ProjectID + '</span></li>';
                                }
                                if (CountryId == 7) {
                                    list += '<li><label>ApproverID</label><input type="text" id="SP_ApproverID" value="' + editdata.ApproverId + '" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-21px;" /></li>';
                                }
                                else if (CountryId == 8 || CountryId == 9) {
                                    list += '<li style="margin-top:9px;"><label>ApproverID</label><input type="text" id="SP_ApproverID" value="' + editdata.ApproverId + '" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-21px;" disabled="disabled" /></li>';
                                    list += '<li style="margin-top:9px;"><label class="M_15" style="margin-left:2px;">OverTime<span class="red">*</span></label><select name="comptype" id="EditAllowanceTypeOT" class="styled" style="--bgX: 61%;margin-left:-41px;width: 150px;"><option value="-1">--Select--</option></select></li>';
                                    list += '<li style = "margin-top:9px" ><label class="M_15" style="margin-left:2px";>Associate Remarks</label><textarea style="margin-left: -41px; width: 172px; height: 42px;background-color: #f2f2f2;border: transparent;" name="Remarks" maxlength="500" id="OTEdit_Remarks" value="' + editdata.InputRemarks + '">' + editdata.InputRemarks + '</textarea></li >';
                                    list += '<li></li>'
                                }
                                else {
                                    if (CountryId != 11 && CountryId != 12 && CountryId != 13) {
                                        list += '<li><label>ApproverID<span class="red">*</span></label><input type="text" id="SP_ApproverID" value="' + editdata.ApproverId + '" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-21px;" /></li>';
                                    }
                                }

                                list += '</ul>';
                                if (CountryId == 7) {
                                    if (ocm == "1") {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {

                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            var val1 = "<label>TM Approval Mail</label><a href='#' fileuploadid=\"" + TMApprovalMail + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + TMApprovalMail + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmapprovaledit">' + val1 + '</div></li>';
                                        }
                                    }
                                    else {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {

                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            var val1 = "<label>TM Approval Mail</label><a href='#' fileuploadid=\"" + TMApprovalMail + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + TMApprovalMail + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmapprovaledit">' + val1 + '</div></li>';
                                        }
                                    }
                                }
                                else if (CountryId == 8 || CountryId == 9) {
                                    if (ocm == "1") {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:21px;margin-top:8px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                    else {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:21px;margin-top:8px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                }
                                else {
                                    if (CountryId != 11 && CountryId != 12 && CountryId != 13) {
                                        if (ocm == "1") {
                                            list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                            if (mailattachments == 0) {
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            }
                                            else {
                                                var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            }
                                        }
                                        else {
                                            list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                            if (mailattachments == 0) {
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            }
                                            else {
                                                var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            }
                                        }
                                    }
                                }
                                //if (CountryId == 7) {
                                //    if (ocm == "0") {
                                //        list += '<ul  style="margin-left:20px;"><li style="margin-top:9px"><label  >TM Approval Mail :</label></li></ul>';

                                //        list += '<ul  iframe style="margin-left:20px;"><li iframe id="editframe1"><iframe id="frameOT" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                //        if (TMApprovalMail == 0) {

                                //            list += '<li style="padding-top:5px;"><div id="OT_aft_upload"></div></li></ul>';
                                //        }
                                //        else {
                                //            var val = "<label>TM Approval Mail</label><a href='#' fileuploadid=\"" + TMApprovalMail + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload2\" fileuploadid=\"" + TMApprovalMail + "\" /></a>";
                                //            list += '<li style="padding-top:5px;"><div id="OT_aft_upload">' + val + '</div></li>';
                                //        }
                                //    }
                                //}
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#projid').numeric();
                                $('#aft_upload3').hide();
                                $('#editframe3').hide();
                                if (CountryId == 8 || CountryId == 9) {
                                    PopulateOT(editdata.AllowanceType);
                                    $('#OC_editstartdate').trigger('change');
                                    otproject = editdata.ProjectID;
                                    $('.popup_edit #OT_Projectid').val(otproject).attr('selected', 'selected');
                                    $('#OT_Projectid').trigger('change');
                                }
                                if (CountryId == 7) {
                                    $('.popup_edit').css("top", "1.5px");
                                }
                                var timearr = ServianAssociatedtls[0] == 1 ? [1, 5, 1] : [1, 1, 1];

                                $('#OT_editstarttime').timeEntry({ show24Hours: true, timeSteps: timearr, defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
                                $('#OT_editendtime').timeEntry({ show24Hours: true, timeSteps: timearr, defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });

                                //PopulateEditSPComponentDetails(editdata.DayType, '')
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];

                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;

                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.AttachMail;
                                var TMApprovalMail = editdata.TMApprovalMail;
                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                if (CountryId == 7 || CountryId == 10) {
                                    list += '<li><label>DayType</label><span class="M_20" id="DayTypeID" daytype="' + editdata.DayType + '">' + editdata.DayTypeName + '</span></li>';

                                }
                                else if (CountryId == 11 || CountryId == 12 || CountryId == 13) {
                                    list += '<li><label>Associate Name</label><span class="M_20">' + editdata.Name + '</span></li>'
                                }
                                else {
                                    list += ' <li></li>';
                                }
                                list += ' <li><label >StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="OC_editstartdate" value="' + editdata.StartDate + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                list += '<li><label >EndDate<span class="red">*</span></label><input type="text" class="popup_date" id="OC_editenddate" value="' + editdata.EndDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';

                                list += '<li><label>StartTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="OT_editexpstarttime" class="defaultEntry poptime" oncopy="return false" onpaste="return false"  size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;margin-left:-26px;"  value="' + editdata.StartTime + '" ><span class="timeEntry_control" style="background: url(&quot;../Images/spinnerDefault.png&quot;) 0px 0px no-repeat; width: 17px; height: 20px;" title="Increment"></span></p>';
                                list += '<li><label >EndTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="OT_editexpendtime" class="defaultEntry poptime"  oncopy="return false" onpaste="return false" size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;margin-left:-22px;" value="' + editdata.EndTime + '" ><span class="timeEntry_control" id="timeimage"  title="Decrement"></span></p></label></li>';
                                //list += ' <li><label >StartTime <span class="red">*</span></label><input type="text"  class="defaultEntry poptime" id="OC_Starttime" value="' + editdata.StartTime + '" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 15px;" /></li>';
                                //list += '<li><label >EndTime<span class="red">*</span></label><input type="text"  class="defaultEntry poptime" id="OC_endtime" value="' + editdata.EndTime + '" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 15px;" /></li>';
                                if (CountryId == 8 || CountryId == 9) {
                                    list += '<li><label class="M_15" style="margin-left: 1px;">ProjectID<span class="red">*</span></label><select name="ProjectID" id="OT_Projectid" class="styled sdk" style="--bgX: 61%;margin-left:-41px;width: 150px;"><option name="" value="-1">--Select--</option></select></li>';
                                    list += '<li><label class="M_15" style="padding-left: 8px;">Project Description</label><label  id="OT_ProjectDesc" class="M_40 new_upload" style="width:207px;height:20px;margin-left:-35px;font-size: 10px;"></label></li>';
                                }
                                else {
                                    list += '<li><label>Project ID</label><span class="M_20">' + editdata.ProjectID + '</span></li>';
                                }
                                if (CountryId == 8) {
                                    list += '<li style="margin-top:9px;"><label>ApproverID</label><input type="text" id="SP_ApproverID" value="' + editdata.ApproverId + '" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-21px;" disabled="disabled" /></li>';
                                    list += '<li style="margin-top:9px;"><label class="M_15" style="margin-left:2px;">OverTime<span class="red">*</span></label><select name="comptype" id="EditAllowanceTypeOT" class="styled" style="--bgX: 61%;margin-left:-41px;width: 150px;"><option value="-1">--Select--</option></select></li>';
                                    list += '<li style = "margin-top:9px" ><label class="M_15" style="margin-left:2px";>Associate Remarks</label><textarea style="margin-left: -41px; width: 172px; height: 42px;background-color: #f2f2f2;border: transparent;" name="Remarks" maxlength="500" id="OTEdit_Remarks" value="' + editdata.InputRemarks + '">' + editdata.InputRemarks + '</textarea></li >';
                                    list += ' <li></li>'
                                }
                                else if (CountryId == 9) {
                                    list += '<li style="margin-top:9px;"><label>ApproverID</label><input type="text" id="SP_ApproverID" value="' + editdata.ApproverId + '" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-21px;" disabled="disabled" /></li>';
                                    list += '<li style="margin-top:9px;"><label class="M_15" style="margin-left:2px;">OverTime<span class="red">*</span></label><select name="comptype" id="EditAllowanceTypeOT" class="styled" style="--bgX: 61%;margin-left:-41px;width: 150px;"><option value="-1">--Select--</option></select></li>';
                                    list += '<li style = "margin-top:9px" ><label class="M_15" style="margin-left:2px";>Associate Remarks</label><textarea style="margin-left: -41px; width: 172px; height: 42px;background-color: #f2f2f2;border: transparent;" name="Remarks" maxlength="500" id="OTEdit_Remarks" value="' + editdata.InputRemarks + '">' + editdata.InputRemarks + '</textarea></li >';
                                    list += '<li></li>'
                                }
                                else {
                                    if (CountryId != 11 && CountryId != 12 && CountryId != 13) {
                                        list += '<li><label>ApproverID<span class="red">*</span></label><input type="text" id="SP_ApproverID" value="' + editdata.ApproverId + '" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-21px;" /></li>';
                                    }
                                }
                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                if (CountryId == 7) {
                                    if (ocm == "1") {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            var val1 = "<label>TM Approval Mail</label><a href='#' fileuploadid=\"" + TMApprovalMail + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + TMApprovalMail + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmapprovaledit">' + val1 + '</div></li>';
                                        }
                                    }
                                    else {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            var val1 = "<label>TM Approval Mail</label><a href='#' fileuploadid=\"" + TMApprovalMail + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + TMApprovalMail + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmapprovaledit">' + val1 + '</div></li>';
                                        }
                                    }
                                }
                                else if (CountryId == 8 || CountryId == 9) {
                                    if (ocm == "1") {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                    else {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                }
                                else {
                                    if (CountryId != 11 && CountryId != 12 && CountryId != 13) {
                                        if (ocm == "1") {
                                            list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                            if (mailattachments == 0) {
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                            }
                                            else {
                                                var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            }
                                        }
                                        else {
                                            list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                            if (mailattachments == 0) {
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                            }
                                            else {
                                                var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            }
                                        }
                                    }
                                }
                                //if (CountryId == 7) {
                                //    if (ocm == "") {
                                //        list += '<ul ><li style="margin-top:9px"><label  >TM Approval Mail :</label></li></ul>';
                                //        list += '<ul  iframe style="margin-left:21px;"><li iframe id="editframe1"><iframe id="frameOT" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                //        if (TMApprovalMail == 0) {

                                //            list += '<li style="padding-top:5px;"><div id="OT_aft_upload"></div></li></ul>';
                                //        }
                                //        else {
                                //            var val = "<label>TM Approval Mail</label><a href='#' fileuploadid=\"" + TMApprovalMail + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload2\" fileuploadid=\"" + TMApprovalMail + "\" /></a>";
                                //            list += '<li style="padding-top:5px;"><div id="OT_aft_upload">' + val + '</div></li>';
                                //        }
                                //    }
                                //}

                                list += '</ul>';
                                var timearr = ServianAssociatedtls[0] == 1 ? [1, 5, 1] : [1, 1, 1];

                                $('#projid').numeric();
                                $('#OT_editexpstarttime').timeEntry({ show24Hours: true, timeSteps: timearr, defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
                                $('#OT_editexpendtime').timeEntry({ show24Hours: true, timeSteps: timearr, defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });

                                $('.popup_edit .inner_cont').html('').html(list);
                                if (CountryId == 8 || CountryId == 9) {
                                    PopulateOT(editdata.AllowanceType);
                                    $('#OC_editstartdate').trigger('change');
                                    otproject = editdata.ProjectID
                                    $('.popup_edit #OT_Projectid').val(otproject).attr('selected', 'selected');
                                    $('#OT_Projectid').trigger('change');
                                }
                                if (CountryId == 7) {
                                    $('.popup_edit').css("top", "1.5px");
                                }
                                GetSessionTimeoutEdit();
                            }
                        }
                        var datastring = '{"componentGroupId":"' + componentGroupId + '"}';
                        $.ajax({
                            type: "POST",
                            url: "../APAC_WebMethods.aspx/GetAllowanceType",
                            contentType: "application/json; charset=utf-8",
                            dataType: "json",
                            data: datastring,
                            cache: false,
                            async: false,
                            success: function (msg) {
                                if (msg.d.length > 0) {
                                    var ShiftType = msg.d;
                                    var shiftType = '';
                                    $.each(msg.d, function (i, data) {
                                        shiftType += '<option value="' + data.ShiftTypeID + '" OT_editDayType="' + data.ShiftTypeID + '">' + data.ShiftType + '</option>';
                                    });
                                    $('#OT_editDayType').html(shiftType);
                                    $('#OT_editDayType').find('option:nth-child(1)').attr('selected', 'selected');
                                    $('#selectOT_editDayType').text($("#OT_editDayType option:selected").text());
                                }
                            },
                            error: function (xhr) {
                                errorpopup(parent.document.getElementById("hdnSession").value);
                            }
                        });
                    }

                    else if ((componentGroupId == 21 || componentGroupId == 39 || componentGroupId == 101) && (CountryId == 7 || CountryId == 8 || CountryId == 9)) {//SP - China
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();
                        OCAnew = 0;
                        OCAedit = 1;

                        $('.inner_cont').css("height", '210px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                $('#editval').attr("pkey", pkey);
                                var mailattachments = editdata.AttachMail;
                                if (CountryId == 7) {
                                    list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                    list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                    list += '<li><label>DayType<span class="red">*</span></label><select name="editDayType" id="editDayType" class="M_20"><option value="-1" selected="selected">--Select DayType --</option></select></li>';
                                    list += '<li><label>Criteria<span class="red">*</span></label><select name="editCriteriaType" id="editCriteriaType" class="M_20"><option value="-1" selected="selected">--Select Criteria --</option></select></li>';
                                    list += '<li><label>StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="sp_editstartdate" value="' + editdata.StartDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                    list += '<li><label>EndDate<span class="red">*</span></label><input type="text" class="popup_date" id="sp_editenddate" value="' + editdata.EndDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                    list += '<li><label style="width: 87px;">StartTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="sp_editstarttime" class="defaultEntry poptime" oncopy="return false" onpaste="return false"  size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px;margin-left:42px; line-height: 18px;height:20px"  value="' + editdata.StartTime + '" ><span class="timeEntry_control" style="background: url(&quot;../Images/spinnerDefault.png&quot;) 0px 0px no-repeat; width: 17px; height: 20px;" title="Increment"></span></p>';
                                    list += '<li><label style="width: 87px;">EndTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="sp_editendtime" class="defaultEntry poptime"  size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;margin-left:42px" value="' + editdata.EndTime + '" ><span class="timeEntry_control" id="timeimage"  title="Decrement"></span></p></label></li>';
                                    list += '<li><label>ProjectId</label><input type="text" class="M_20" name="ProjectID" value="' + editdata.ProjectID + '"></li>';
                                    list += '</ul>';
                                    if (ocm == "1") {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                    else {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                    list += '</ul>';
                                }
                                else if (CountryId == 8 && componentGroupId == 101) {
                                    list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                    list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                    list += '<li><label>StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="sp_editstartdate" value="' + editdata.StartDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                    list += '<li><label>Stand-By Hours</label><span class="M_20">' + editdata.NoOfHours + '</span></li>';
                                    /*list += '<li><label>ProjectId</label><span class="M_20">' + editdata.ProjectID + '</span></li>';*/
                                    list += '<li><label class="M_15" style="margin-left: 1px;">ProjectID<span class="red">*</span></label><select name="ProjectID" id="OCA_ProjectID" class="styled sdk" style="--bgX: 61%;margin-left:-41px;width: 150px;"><option name="" value="-1">--Select--</option></select></li>';
                                    list += '<li><label class="M_15" style="padding-left: 8px;">Project Description</label><label  id="OCA_ProjectDesc" class="M_40 new_upload" style="width:207px;height:20px;margin-left:-35px;font-size: 10px;"></label></li>';
                                    /* list += '<li><label>ApproverID</label><input type="text" id="SP_ApproverID" value="' + editdata.ApproverId + '" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-21px;" /></li>';*/
                                    list += '<li style="margin-top:9px;"><label>ApproverID</label><input type="text" id="SP_ApproverID" value="' + editdata.ApproverId + '" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-21px;" disabled="disabled" /></li>';
                                    list += '<li><label class="M_15" style="margin-left: 3px;">Associate Remarks</label><textarea style="margin-left: -41px; width: 172px; height: 42px;background-color: #f2f2f2;border: transparent;" name="Remarks" maxlength="500" id="StandbyEdit_Remarks" value="' + editdata.InputRemarks + '">' + editdata.InputRemarks + '</textarea></li>';
                                    list += '</ul>';
                                    if (ocm == "1") {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px; margin-top:15px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                    else {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px; margin-top:15px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                    list += '</ul>';
                                }
                                else {
                                    list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                    list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                    list += '<li><label>StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="sp_editstartdate" value="' + editdata.StartDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                    list += '<li><label>EndDate<span class="red">*</span></label><input type="text" class="popup_date" id="sp_editenddate" value="' + editdata.EndDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                    list += '<li><label style="width: 87px;">StartTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="sp_editstarttime" class="defaultEntry poptime" oncopy="return false" onpaste="return false"  size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px;margin-left:42px; line-height: 18px;height:20px"  value="' + editdata.StartTime + '" ><span class="timeEntry_control" style="background: url(&quot;../Images/spinnerDefault.png&quot;) 0px 0px no-repeat; width: 17px; height: 20px;" title="Increment"></span></p>';
                                    list += '<li><label style="width: 87px;">EndTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="sp_editendtime" class="defaultEntry poptime"  size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;margin-left:42px" value="' + editdata.EndTime + '" ><span class="timeEntry_control" id="timeimage"  title="Decrement"></span></p></label></li>';

                                    if (CountryId == 8 || CountryId == 9) {
                                        list += '<li><label class="M_15" style="margin-left: 1px;">ProjectID<span class="red">*</span></label><select name="ProjectID" id="OCA_ProjectID" class="styled sdk" style="--bgX: 61%;margin-left:-41px;width: 150px;"><option name="" value="-1">--Select--</option></select></li>';
                                        list += '<li><label class="M_15" style="padding-left: 8px;">Project Description</label><label  id="OCA_ProjectDesc" class="M_40 new_upload" style="width:207px;height:20px;margin-left:-35px;font-size: 10px;"></label></li>';
                                        list += '<li><label>ApproverID</label><input type="text" id="SP_ApproverID" value="' + editdata.ApproverId + '" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-21px;" disabled="disabled" /></li>';
                                    } else {
                                        list += '<li><label>ProjectId</label><span class="M_20">' + editdata.ProjectID + '</span></li>';
                                        list += '<li><label>ApproverID<span class="red">*</span></label><input type="text" id="SP_ApproverID" value="' + editdata.ApproverId + '" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-21px;" /></li>';
                                    }
                                    if (componentGroupId == 39 && (CountryId == 8 || CountryId == 9)) {
                                        list += '<li><label class="M_15">Associate Remarks</label><textarea style="margin-left: -41px; width: 172px; height: 42px;background-color: #f2f2f2;border: transparent;" name="Remarks" maxlength="500" id="OCAEdit_Remarks"value="' + editdata.InputRemarks + '">' + editdata.InputRemarks + '</textarea></li>';
                                    }

                                    list += '</ul>';

                                    if (CountryId == 8 || CountryId == 9) {
                                        if (ocm == "1") {
                                            list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                            if (mailattachments == 0) {
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            }
                                            else {
                                                var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            }
                                        }
                                        else {
                                            list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                            if (mailattachments == 0) {
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            }
                                            else {
                                                var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            }
                                        }
                                        list += '</ul>';

                                    }
                                    else {
                                        if (ocm == "1") {
                                            list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                            if (mailattachments == 0) {

                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            }
                                            else {
                                                var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            }
                                        }
                                        else {
                                            list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                            if (mailattachments == 0) {

                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            }
                                            else {
                                                var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            }
                                        }
                                        list += '</ul>';
                                    }

                                }
                                $('.popup_edit .inner_cont').html('').html(list);

                                var timearr = ServianAssociatedtls[0] == 1 ? [1, 5, 1] : [1, 1, 1];

                                $('#sp_editstarttime').timeEntry({ show24Hours: true, timeSteps: timearr, defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
                                $('#sp_editendtime').timeEntry({ show24Hours: true, timeSteps: timearr, defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
                                $('#sp_editstarttime,#sp_editendtime').css('margin-left', '58px');

                                $('#projid').numeric();
                                //  $('#aft_uploadhide').hide();
                                //   $('#editframe1').hide();
                                // $('#aft_upload7').hide();
                                if (CountryId == 8 || CountryId == 9) {
                                    $('#sp_editstartdate').trigger('change');
                                    ocaproject = editdata.ProjectID
                                    $('.popup_edit #OCA_ProjectID').val(ocaproject).attr('selected', 'selected');
                                    $('#OCA_ProjectID').trigger('change');
                                }

                                if (CountryId == 7) {
                                    PopulateEditSPComponentDetails(editdata.DayType, editdata.Criteria)
                                }
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;

                                var mailattachments = editdata.AttachMail;

                                if (CountryId == 7) {
                                    list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                    list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                    list += ' <li><label>DayType <span class="red">*</span></label><input type="text" class="popup_date" id="OC_editDayType" value="' + editdata.DayType + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                    list += ' <li><label>Criteria <span class="red">*</span></label><input type="text" id="OC_Criteria" value="' + editdata.Criteria + '" style="width:137px;height:20px;margin-left:-25px;" /></li>';
                                    list += ' <li><label >StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="OC_editstartdate" value="' + editdata.StartDate + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                    list += '<li><label>EndDate<span class="red">*</span></label><input type="text" class="popup_date" id="OC_editenddate" value="' + editdata.EndDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                    list += '<li><label style="width: 87px;">StartTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="OC_editStarttime" class="defaultEntry poptime" oncopy="return false" onpaste="return false" value="09:00" size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;width:50px;margin-left:40px;"  value="' + editdata.StartTime + '" ><span class="timeEntry_control" style="background: url(&quot;../Images/spinnerDefault.png&quot;) 0px 0px no-repeat; width: 17px; height: 20px;" title="Increment"></span></p>';
                                    list += '<li><label style="width: 87px;">EndTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="OC_editendtime" class="defaultEntry poptime" value="09:00" size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;width:50px;margin-left:40px;" value="' + editdata.EndTime + '" ><span class="timeEntry_control" id="timeimage"  title="Decrement"></span></p></label></li>';
                                    //list += ' <li><label >StartTime <span class="red">*</span></label><input type="text"  class="defaultEntry poptime" id="OC_Starttime" value="' + editdata.StartTime + '" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 15px;" /></li>';
                                    //list += '<li><label >EndTime<span class="red">*</span></label><input type="text"  class="defaultEntry poptime" id="OC_endtime" value="' + editdata.EndTime + '" size="10" style="color: #1e1e1e; text-indent: 6px; margin-top: 3px; margin-left: 15px;" /></li>';
                                    list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                    list += '</ul>';
                                    if (ocm == "1") {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                    else {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                    list += '</ul>';

                                }
                                else if (componentGroupId == 101 && CountryId == 8) {
                                    list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                    list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                    list += ' <li><label >StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="OC_editstartdate" value="' + editdata.StartDate + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                    list += '<li><label>Stand-By Hours</label><span class="M_20">' + editdata.NoOfHours + '</span></li>';
                                    /*list += '<li><label>ProjectId</label><span class="M_20">' + editdata.ProjectID + '</span></li>';*/
                                    list += '<li><label class="M_15" style="margin-left: 1px;">ProjectID<span class="red">*</span></label><select name="ProjectID" id="OCA_ProjectID" class="styled sdk" style="--bgX: 61%;margin-left:-28px;width: 150px;"><option name="" value="-1">--Select--</option></select></li>';
                                    list += '<li><label class="M_15" style="padding-left: 15px;">Project Description</label><label  id="OCA_ProjectDesc" class="M_40 new_upload" style="width:207px;height:20px;margin-left:-35px;font-size: 10px;"></label></li>';
                                    list += '<li><label>ApproverID</label><input type="text" id="SP_ApproverID" value="' + editdata.ApproverId + '" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-29px;" disabled="disabled" /></li>';
                                    /*list += '<li><label>ApproverID</label><input type="text" id="SP_ApproverID" value="' + editdata.ApproverId + '" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-21px;" /></li>';*/
                                    list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                    list += '<li style="margin-left: 17px;"><label class="M_20">Associate Remarks</label><textarea style="margin-left: -29px; width: 172px; height: 42px;background-color: #f2f2f2;border: transparent;" name="Remarks" maxlength="500" id="OCAEdit_Remarks"value="' + editdata.InputRemarks + '">' + editdata.InputRemarks + '</textarea></li>';
                                    list += '</ul>';

                                    //list += '<ul  iframe><li iframe id="editframe1"><iframe id="frameforhide" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                    if (ocm == "1") {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px; margin-top:10px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {

                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                    else {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px; margin-top:10px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {

                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                    list += '</ul>';
                                }
                                else {
                                    list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                    list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                    list += ' <li><label >StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="OC_editstartdate" value="' + editdata.StartDate + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                    list += '<li><label >EndDate<span class="red">*</span></label><input type="text" class="popup_date" id="OC_editenddate" value="' + editdata.EndDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                    //list += '<li><label style="width: 87px;">StartTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="OC_editStarttime" class="defaultEntry poptime" oncopy="return false" onpaste="return false" value="09:00" size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;margin-left:38px;" value="' + editdata.StartTime + '" ><span class="timeEntry_control" style="background: url(&quot;../Images/spinnerDefault.png&quot;) 0px 0px no-repeat; width: 20px; height: 20px;" title="Increment"></span></p></label></li>';
                                    //list += '<li><label style="width: 87px;">EndTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="OC_editendtime" class="defaultEntry poptime" value="09:00" size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;margin-left:42px;" value="' + editdata.EndTime + '" ><span class="timeEntry_control" id="timeimage"  title="Decrement"></span></p></label></li>';

                                    list += '<li><label style="width: 87px;">StartTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="sp_editstarttime" class="defaultEntry poptime" oncopy="return false" onpaste="return false"  size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px;margin-left:42px; line-height: 18px;height:20px"  value="' + editdata.StartTime + '" ><span class="timeEntry_control" style="background: url(&quot;../Images/spinnerDefault.png&quot;) 0px 0px no-repeat; width: 17px; height: 20px;" title="Increment"></span></p>';
                                    list += '<li><label style="width: 87px;">EndTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="sp_editendtime" class="defaultEntry poptime"  size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;margin-left:42px" value="' + editdata.EndTime + '" ><span class="timeEntry_control" id="timeimage"  title="Decrement"></span></p></label></li>';
                                    if (CountryId == 8 || CountryId == 9) {
                                        list += '<li><label class="M_15" style="margin-left: 1px;">ProjectID<span class="red">*</span></label><select name="ProjectID" id="OCA_ProjectID" class="styled sdk" style="--bgX: 61%;margin-left:-41px;width: 150px;"><option name="" value="-1">--Select--</option></select></li>';
                                        list += '<li><label class="M_15" style="padding-left: 8px;">Project Description</label><label  id="OCA_ProjectDesc" class="M_40 new_upload" style="width:207px;height:20px;margin-left:-35px;font-size: 10px;"></label></li>';
                                    }
                                    list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                    if (CountryId == 8 || CountryId == 9) {
                                        list += '<li><label>ApproverID</label><input type="text" id="SP_ApproverID" value="' + editdata.ApproverId + '" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-21px;" disabled="disabled" /></li>';
                                    }
                                    else {
                                        list += '<li><label>ApproverID<span class="red">*</span></label><input type="text" id="SP_ApproverID" value="' + editdata.ApproverId + '" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-21px;" /></li>';
                                    }
                                    if (componentGroupId == 39 && (CountryId == 8 || CountryId == 9)) {
                                        list += '<li><label class="M_20">Associate Remarks</label><textarea style="margin-left: -41px; width: 172px; height: 42px;background-color: #f2f2f2;border: transparent;" name="Remarks" maxlength="500" id="OCAEdit_Remarks"value="' + editdata.InputRemarks + '">' + editdata.InputRemarks + '</textarea></li>';
                                    }
                                    list += '</ul>';

                                    //list += '<ul  iframe><li iframe id="editframe1"><iframe id="frameforhide" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                    if (CountryId == 8 || CountryId == 9) {
                                        if (ocm == "1") {
                                            list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;margin-top:10px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                            if (mailattachments == 0) {

                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            }
                                            else {
                                                var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            }
                                        }
                                        else {
                                            list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;margin-top:10px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                            if (mailattachments == 0) {
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            }
                                            else {
                                                var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            }
                                        }
                                        list += '</ul>';
                                    }
                                    else {
                                        if (ocm == "1") {
                                            list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                            if (mailattachments == 0) {

                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            }
                                            else {
                                                var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            }
                                        }
                                        else {
                                            list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                            if (mailattachments == 0) {
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                            }
                                            else {
                                                var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                                list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                            }
                                        }
                                        list += '</ul>';
                                    }
                                }

                                $('.popup_edit .inner_cont').html('').html(list);

                                $('#projid').numeric();
                                if (CountryId == 8 || CountryId == 9) {
                                    $('#OC_editstartdate').trigger('change');
                                    ocaproject = editdata.ProjectID
                                    $('.popup_edit #OCA_ProjectID').val(ocaproject).attr('selected', 'selected');
                                    $('#OCA_ProjectID').trigger('change');
                                }

                                $('#OC_editStarttime').timeEntry({ show24Hours: true, timeSteps: [1, 5, 1], defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
                                $('#OC_editendtime').timeEntry({ show24Hours: true, timeSteps: [1, 5, 1], defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
                                if (CountryId == 7) {
                                    PopulateEditSPComponentDetails(editdata.DayType, editdata.Criteria)
                                }
                                GetSessionTimeoutEdit();
                            }
                        }
                    }
                    else if (componentGroupId == 25) {//maternity
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '195px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;
                                $('#editval').attr("pkey", pkey);

                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                if (CountryId == 6)
                                    list += '<li style="width:100%"><label>Type</label><select class="M_20" name="editMAType" id="editMAType" style="width:170px;height:22px;text-indent:6px;"><option value="-1" selected="selected" style="width:160px;text-indent:6px;">--Select Type--</option></select></li>';

                                //list += '<li><label>Type</label><select class="M_20" name="editMAType" id="editMAType" style="width:170px;height:22px;text-indent:6px;"><option value="-1" selected="selected" style="width:160px;text-indent:6px;display:none;">--Select Type--</option></select></li>';
                                if (CountryId == 7)
                                    list += '<li><label >TotalMaternityLeave<span class="red">*</span></label><input class="M_20" id="amount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text" style="text-indent:6px;" value="' + editdata.TotalMaternityLeave + '" maxlength="3"/></li>';
                                list += '<li><label>PayrollMonth</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.PayrollYear + '</span></li></ul>';
                                // list += '<li><label>Currency Code<span class="red">*</span></label><span><select id="editcurcode" style="width: 160px; height:22px;display:none;text-indent:6px;"><option>--select--</option></select></span></li>';
                                if (CountryId == 6) {
                                    list += '<ul  style="margin-top:20px;"><li><iframe id="frame3" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';

                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_upload3"></div></li></ul>';

                                    }
                                    else {

                                        var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_upload3">' + val + '</div></li>';
                                    }
                                    list += '</ul>';
                                }



                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#projid').numeric();
                                $('#aft_uploadhide').hide();
                                $('#frameforhide').hide();

                                //if (editdata.Type != "-1" && editdata.Type != null && editdata.Type != "") {
                                //    $(".popup_edit .inner_cont ul li:nth-child(3) select").append("<option value='" + editdata.Type + "'>" + editdata.Type + "</option>");
                                //    $(".popup_edit .inner_cont ul li:nth-child(3) select option").eq([$(".popup_edit .inner_cont ul li:nth-child(3) select option").length - 1]).attr('selected', 'selected');
                                //}
                                //else {
                                PopulateAPACEditMAComponentDetails(editdata.Type);

                                /// $('#select-editMAType .selectList').find("option[pkcur = '" + editdata.Type + "']").attr("selected", "selected");

                                //}
                                //if (msg.d[0][0].Type != "") {
                                //    $('#editMAType').find("option[pksplcase = '" + editdata.Type + "']").attr("selected", "selected");

                                //}

                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                if (CountryId == 6)
                                    list += '<li style="width:100%"><label>Type</label><select class="M_20" name="editMAType" id="editMAType" style="width:170px;height:22px;text-indent:6px;"><option value="-1" selected="selected" style="width:160px;text-indent:6px;">--Select Type--</option></select></li>';

                                if (CountryId == 7)
                                    list += '<li><label >TotalMaternityLeave<span class="red">*</span></label><input class="M_20" id="amount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text" style="text-indent:6px;" value="' + editdata.TotalMaternityLeave + '" maxlength="3" /></li>';
                                list += '<li><label>PayrollMonth</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.PayrollYear + '</span></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';

                                list += '</ul>';
                                if (CountryId == 6) {
                                    list += '<ul  style="margin-top:20px;"><li><iframe id="frame3" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';

                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_upload3"></div></li></ul>';

                                    }
                                    else {

                                        var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_upload3">' + val + '</div></li>';
                                    }
                                    list += '</ul>';
                                }
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#projid').numeric();
                                $('#aft_uploadhide').hide();
                                $('#frameforhide').hide();
                                //PopulateAPACEditComponentDetails(editdata.CurrencyCode, editdata.SpecialCaseReason, editdata.Installments);
                                //if (msg.d[0][0].SpecialCaseReason != "") {
                                //    $('#editsplcase').find("option[pksplcase = '" + editdata.SpecialCaseReason + "']").attr("selected", "selected");
                                //    $('#aft_uploadhide').show();
                                //    $('#frameforhide').show();
                                //}
                                //else {
                                //    $('#aft_uploadhide').hide();
                                //    $('#frameforhide').hide();
                                //}
                                PopulateAPACEditMAComponentDetails(editdata.Type);
                                //$('#select-editcurcode .selectList').find("option[pkcur = '" + editdata.CurrencyCode + "']").attr("selected", "selected");
                                //$('#select-editAPInstallment .selectList').find("option[pkcur = '" + editdata.Installments + "']").attr("selected", "selected");
                                GetSessionTimeoutEdit();
                            }
                        }
                    }

                    else if (componentGroupId == 21 && (CountryId == 4)) {//Sp - Japan
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '170px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                $('#editval').attr("pkey", pkey);

                                var mailattachments = editdata.AttachMail;
                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Project ID</label><span class="M_20">' + editdata.ProjectID + '</span></li>';
                                list += '<li><label>PayrollMonth</label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>OT_Hours</label><span id="SB_Year" class="M_20">' + editdata.OT_Hours + '</span></li>';
                                list += '<li><label>Type</label><span id="SB_Year" class="M_20">' + editdata.Type + '</span></li>';
                                list += '</ul>';
                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frame7" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="padding-top:5px;"><div id="aft_upload7"></div></li></ul>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload7">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#projid').numeric();
                                $('#aft_upload3').hide();
                                $('#editframe3').hide();


                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;

                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.AttachMail;
                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Project ID</label><span class="M_20">' + editdata.ProjectID + '</span></li>';
                                list += '<li><label>PayrollMonth</label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>OT_Hours</label><span id="SB_Year" class="M_20">' + editdata.OT_Hours + '</span></li>';
                                list += '<li><label>Type</label><span id="SB_Year" class="M_20">' + editdata.Type + '</span></li>';

                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';

                                list += '</ul>';
                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frame7" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="padding-top:5px;"><div id="aft_upload7"></div></li></ul>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload7">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                $('#projid').numeric();
                                GetSessionTimeoutEdit();
                            }
                        }
                    }

                    else if (componentGroupId == 28) {  // incity allowance
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();
                        datastring = { "componentGroupId": componentGroupId }

                        $('.inner_cont').css("height", '170px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                var client = (msg.d[0][0].ClientAddress.length > 20) ? msg.d[0][0].ClientAddress.substring(0, 20) + '...' : msg.d[0][0].ClientAddress;

                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top: 5px;" pkey="' + pkey + '"><li><label>Project ID</label><input type="text" class="M_28" value="' + editdata.ProjectID + '"></li>';
                                list += ' <li><label >StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="Incityeditstartdate" value="' + editdata.StartDate + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                list += '<li><label >EndDate<span class="red">*</span></label><input type="text" class="popup_date" id="Incityeditenddate" value="' + editdata.EndDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                list += '<li><label>ClientAddress</label><input type="text" id="edit_ClientAddress" class="M_20 edit address" name="ClientAddress" title="' + editdata.ClientAddress + '" value="' + client + '"><span style="color: red; margin-left: -295px; font-size: 10px; position: relative; bottom: -34px;">Please ensure the client address provided is valid</span></li>';
                                list += '<li><label class="M_20">Office Location  <span class="red">*</span></label><select name="OfficeLocation" id="OfficeType" style="margin-left:-21px;"><option value="-1" selected="selected">--Select Office Location --</option></select></li>';
                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                                $("#Incityeditstartdate").datepicker("destroy");
                                $("#Incityeditstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                $("#Incityeditenddate").datepicker("destroy");
                                $("#Incityeditenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });

                                PopulateEditIncItyDetails(editdata.OfficeLocation);
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var client = (msg.d[0][0].ClientAddress.length > 20) ? msg.d[0][0].ClientAddress.substring(0, 20) + '...' : msg.d[0][0].ClientAddress;
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Project ID</label><span class="M_20">' + editdata.ProjectID + '</span></li>';
                                list += ' <li><label >StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="Incityeditstartdate" value="' + editdata.StartDate + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                list += '<li><label >EndDate<span class="red">*</span></label><input type="text" class="popup_date" id="Incityeditenddate" value="' + editdata.EndDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                list += '<li><label>ClientAddress</label><span id="edit_ClientAddress" class="M_20" title="' + editdata.ClientAddress + '">' + client + '</span></li>';
                                list += '<li><label>OfficeLocation</label><span class="M_20">' + editdata.OfficeLocation + '</span></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';

                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                $("#Incityeditstartdate").datepicker("destroy");
                                $("#Incityeditstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                $("#Incityeditenddate").datepicker("destroy");
                                $("#Incityeditenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });


                                PopulateEditIncItyDetails(editdata.OfficeLocation);

                                GetSessionTimeoutEdit();
                            }
                        }
                        //$.ajax({
                        //    type: "POST",
                        //    url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
                        //    contentType: "application/json; charset=utf-8",
                        //    dataType: "json",
                        //    data: JSON.stringify(datastring),
                        //    cache: false,
                        //    success: function (msg) {
                        //        if (msg.d.length > 0) {
                        //            officeType = '';
                        //            officeType += '<option value="-1">--Select Office Location--</option>';
                        //            if (msg.d[0].length != 0 && msg.d[0][0].FrequencyType != 0) {
                        //                $.each(msg.d[0], function (i, data) {
                        //                    officeType += '<option value="' + data.OfficeLocationID + '">' + data.OfficeLocation + '</option>';
                        //                });
                        //            }
                        //            $('#OfficeType').html(officeType);
                        //            $('#OfficeType').find('option:nth-child(1)').attr('selected', 'selected');
                        //            $('#selectOfficeType').text($("#OfficeType option:selected").text());
                        //            $('.popup_edit .innerErrorHolder').text('');
                        //        }
                        //        if (msg.d[0].length != 0) {
                        //            $.each(msg.d[0], function (i, data) {
                        //                officeType += '<option value="' + data.OfficeLocationID + '">' + data.OfficeLocation + '</option>';
                        //            });
                        //        }
                        //        $('#OfcLocation').html(officeType);
                        //        $('#OfcLocation').find('option:nth-child(5)').attr('selected', 'selected');
                        //        $('#selectOfcLocation').text($("#SBPayoutType option:selected").text());


                        //    },
                        //    error: function (xhr) {
                        //        errorpopup(parent.document.getElementById("hdnSession").value);
                        //    }
                        //});
                    }

                    else if ((componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 57) && CountryId != 20) {  // Sign on Bonus
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '185px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];

                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="SBasso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>DOJ </label><span id="SBasso_name" class="M_20">' + editdata.DOJ + '</span></li>';
                                list += '<li><label>AdvisedMonth</label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="SBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                if (CountryId == 18 || CountryId == 19) {
                                    if (componentGroupId == 49 || componentGroupId == 57) {
                                        list += '<li><label>RetentionEndDate<span class="red">*</span></label><input type="text" id="Retention_enddate" value="' + editdata.RetentionEndDate + '" class="popup_date"  style="width:137px;height:20px;margin-left:-20px;"/></li>';
                                        list += '<li><label>Project ID<span class="red">*</span></label><input type="text" id="Retention_Projectid" value="' + editdata.ProjectId + '" class="M_40 new_upload" maxlength="10" style="margin-left:-20px;"/></li>';
                                    }
                                    list += '<li><label>Currency</label><span id="sb_Currency" class="M_20">' + editdata.Currency + '</span></li>';
                                    //list += '<li><label class="M_15">Currency</label><label id="sb_Currency" value="' + editdata.Currency + '" style="margin-left:-39px;"></label></li>';
                                    list += '<li><label>Comments</label><input type="text" id="sb_Comments" value="' + editdata.Comments + '"  class="M_40 new_upload" style="margin-left:-20px;" /></li>';
                                }

                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#SBamount').numeric();

                                //$(".popup_edit .inner_cont ul li:nth-child(6) select option:contains(" + editdata.PayoutType + ")").attr('selected', 'selected');

                                PopulateEditSignOnComponentDetails(editdata.PayoutType, '');
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="SBasso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>DOJ </label><span id="SBasso_name" class="M_20">' + editdata.DOJ + '</span></li>';
                                list += '<li><label>AdvisedMonth<span class="red">*</span></label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year<span class="red">*</span></label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="SBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                if (CountryId == 18 || CountryId == 19) {
                                    if (componentGroupId == 49 || componentGroupId == 57) {
                                        list += '<li><label>RetentionEndDate<span class="red">*</span></label><input type="text" id="Retention_enddate" value="' + editdata.RetentionEndDate + '" class="popup_date"  style="width:137px;height:20px;margin-left:-20px;"/></li>';
                                        list += '<li><label>Project ID<span class="red">*</span></label><input type="text" id="Retention_Projectid" value="' + editdata.ProjectId + '" class="M_40 new_upload" maxlength="10" style="margin-left:-20px;"/></li>';
                                    }
                                    list += '<li><label>Currency</label><span id="sb_Currency" class="M_20">' + editdata.Currency + '</span></li>';
                                    //list += '<li><label class="M_15">Currency</label><label id="sb_Currency" value="' + editdata.Currency + '" style="margin-left:-39px;"></label></li>';
                                    list += '<li><label>Comments</label><input type="text" id="sb_Comments" value="' + editdata.Comments + '"  class="M_40 new_upload" style=";margin-left:-20px;"/></li>';
                                }
                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';

                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                $('#SBamount').numeric();

                                PopulateEditSignOnComponentDetails(editdata.PayoutType, '');

                                GetSessionTimeoutEdit();
                            }
                        }

                    }

                    else if (componentGroupId == 30 && CountryId != 20) {  // Relocation
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '170px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];

                                if (CountryId == 18 || CountryId == 19) {
                                    $('#editval').attr("pkey", pkey);

                                    list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                    list += '<li><label>Associate Name</label><span id="Rec_Asso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                    list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="edit_RecAmount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                    list += '<li><label>Currency</label><span id="edit_RecCurrency" class="M_20">' + editdata.Currency + '</span></li>';
                                    list += '<li><label>AdvisedMonth</label><span id="Rec_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                    list += '<li><label>Year</label><span id="Rec_Year" class="M_20">' + editdata.Year + '</span></li>';
                                    list += '<li><label>Comments</label><input class="M_20" type="text" maxlength="50" value="' + editdata.Comments + '" class="M_40 new_upload" id="edit_RecComments"  /></li>';
                                    list += '<li><label>PayoutType</label><span id="Rec_PayoutType" class="M_20">' + editdata.PayoutType + '</span></li>';
                                    list += '</ul>';

                                    $('.popup_edit .inner_cont').html('').html(list);

                                }
                                else {
                                    var mailattachments = editdata.AttachMail;
                                    $('#editval').attr("pkey", pkey);

                                    list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                    list += '<li><label>Associate Name</label><span id="SBasso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                    list += '<li><label>SpecialCaseReason </label><span id="SBasso_name" class="M_20"><select name="editspecialCaseReason" id="editspecialCaseReason" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                    list += '<li><label>AdvisedMonth<span class="red">*</span></label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                    list += '<li><label>Year<span class="red">*</span></label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                    list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                    list += '<li><label class="">Amount </label><input class="M_20" type="text" id="editRelocAmount" style="width:100px;height:20px;" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" value="' + editdata.Amount + '" prevval="' + editdata.Amount + '"/></li>';
                                    list += '</ul>';
                                    if (ocm == "1") {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Special Case Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                    else {
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Special Case Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                    list += '</ul>';
                                    $('.popup_edit .inner_cont').html('').html(list);
                                    PopulateEditRelocationComponentDetails(editdata.PayoutType, editdata.SpecialCaseReason);
                                }
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;
                                var mailattachments = editdata.AttachMail;

                                if (CountryId == 18 || CountryId == 19) {
                                    $('#editval').attr("pkey", pkey);
                                    list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                    list += '<li><label>Associate Name</label><span id="Rec_Asso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                    list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="edit_RecAmount" /></li>';
                                    list += '<li><label>Currency</label><span id="edit_RecCurrency" class="M_20">' + editdata.Currency + '</span></li>';
                                    list += '<li><label>AdvisedMonth</label><span id="Rec_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                    list += '<li><label>Year</label><span id="Rec_Year" class="M_20">' + editdata.Year + '</span></li>';
                                    list += '<li><label>Comments</label><input class="M_20" type="text" maxlength="50" value="' + editdata.Comments + '" class="M_40 new_upload" id="edit_RecComments"  /></li>';
                                    list += '<li><label>PayoutType</label><span id="Rec_PayoutType" class="M_20">' + editdata.PayoutType + '</span></li>';
                                    list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                    list += '</ul>';
                                }
                                else {
                                    list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                    list += '<li><label>Associate Name</label><span id="SBasso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                    list += '<li><label>SpecialCaseReason </label><span id="SBasso_name" class="M_20"><select name="editspecialCaseReason" id="editspecialCaseReason" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                    list += '<li><label>AdvisedMonth<span class="red">*</span></label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                    list += '<li><label>Year<span class="red">*</span></label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                    list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                    list += '<li><label class="">Amount </label><input class="M_20" type="text" id="editRelocAmount" style="width:100px;height:20px;" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" value="' + editdata.Amount + '" prevval="' + editdata.Amount + '"/></li>';
                                    list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';

                                    list += '</ul>';
                                    if (ocm == "1") {
                                        //list += '<ul class="mtop10" id="ocmfile1"> <li><label>Attach Mail(s)<span class="red">*</span></label><input class="mleft32 mtop10 mbot5 btn btn-primary" type="button" id="fileattach" value="Attach Here" style="margin-left:10px;"</li></ul>';
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {

                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Special Case Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }

                                    }
                                    else {
                                        //list += '<ul class="mtop10" id="ocmfile1"> <li><label>Attach Mail(s)<span class="red">*</span></label><input class="mleft32 mtop10 mbot5 btn btn-primary" type="button" id="fileattach" value="Attach Here" style="margin-left:10px;"</li></ul>';
                                        list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                        if (mailattachments == 0) {

                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Special Case Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                    }
                                    list += '</ul>';
                                }

                                $('.popup_edit .inner_cont').html('').html(list);

                                PopulateEditRelocationComponentDetails(editdata.PayoutType, editdata.specialCaseReason);

                                GetSessionTimeoutEdit();
                            }
                        }
                    }

                    else if (componentGroupId == 34) {  // Transition
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '170px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];

                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="SBasso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>AdvisedMonth<span class="red">*</span></label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year<span class="red">*</span></label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '</ul>';
                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frame1" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="padding-top:5px;"><div id="aft_upload1"></div></li></ul>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload1">' + val + '</div></li>';
                                }
                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);

                                PopulateEditSignOnComponentDetails(editdata.PayoutType, '');
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="SBasso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>AdvisedMonth<span class="red">*</span></label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year<span class="red">*</span></label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';

                                list += '</ul>';
                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frame1" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="padding-top:5px;"><div id="aft_upload1"></div></li></ul>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload1">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                PopulateEditSignOnComponentDetails(editdata.PayoutType, '');

                                GetSessionTimeoutEdit();
                            }
                        }

                    }

                    else if (componentGroupId == 35) {  // Honorarium
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '170px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];

                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="SBasso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>AdvisedMonth<span class="red">*</span></label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year<span class="red">*</span></label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>ProjectID<span class="red">*</span> </label><span class="M_20"><input type="text" value="' + editdata.ProjectID + '" class="new_upload" style="max-width:110px;" id="HonProjectID" maxlength="10"/></span></li>';
                                list += '<li><label>Amount<span class="red">*</span> </label><span class="M_20"><input type="text" value="' + editdata.Amount + '" class="new_upload" id="HonAmount" style="max-width:110px;" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></span></li>';

                                list += '</ul>';
                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frame1" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="padding-top:5px;"><div id="aft_upload1"></div></li></ul>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload1">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                PopulateEditSignOnComponentDetails(editdata.PayoutType, '');
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="SBasso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>AdvisedMonth<span class="red">*</span></label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year<span class="red">*</span></label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>ProjectID<span class="red">*</span> </label><span class="M_20"><input class="" style="max-width:110px;" type="text" value="' + editdata.ProjectID + '" class="M_40 new_upload" id="HonProjectID" maxlength="10"/></span></li>';
                                list += '<li><label>Amount<span class="red">*</span> </label><span class="M_20"><input class="" style="max-width:110px;" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="HonAmount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></span></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';

                                list += '</ul>';
                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frame1" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="padding-top:5px;"><div id="aft_upload1"></div></li></ul>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload1">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                PopulateEditSignOnComponentDetails(editdata.PayoutType, '');

                                GetSessionTimeoutEdit();
                            }
                        }
                        $("#HonProjectID").numeric();
                    }

                    else if (componentGroupId == 38) {  // car damage & traffic fine
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '170px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.FileUploadId;
                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name </label><span id="SBasso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>AdvisedMonth </label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>Component </label><span id="SB_Year" class="M_20">' + editdata.Component + '</span></li>';
                                list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="SBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                list += '</ul>';
                                list += '<ul  iframe><li iframe id="editframe1"><iframe id="frame1" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe></li>';
                                if (mailattachments == 0) {

                                    list += '<li style="padding-top:5px;"><div id="aft_upload1"></div></li></ul>';
                                }
                                else {
                                    var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                    list += '<li style="padding-top:5px;"><div id="aft_upload1">' + val + '</div></li>';
                                }
                                list += '</ul>';
                                // list += '<li style="margin-left: 330px; margin-top: -75px;"><label>Input Remarks</label><input class="M_20" type="text" id="remarks" value="' + editdata.InputRemarks + '" /></li></ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                $('#SBamount').numeric();

                                PopulateEditSignOnComponentDetails(editdata.PayoutType, '');
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="SBasso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>DOJ </label><span id="SBasso_name" class="M_20">' + editdata.DOJ + '</span></li>';
                                list += '<li><label>AdvisedMonth<span class="red">*</span></label><span id="SB_AdvisedMonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year<span class="red">*</span></label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="SBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';

                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                $('#SBamount').numeric();

                                PopulateEditSignOnComponentDetails(editdata.PayoutType, '');

                                GetSessionTimeoutEdit();
                            }
                        }

                    }
                    else if (componentGroupId == 51 && CountryId == 15) {//wellness benefit
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '195px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;
                                $('#editval').attr("pkey", pkey);

                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Assignment Start Date</label><span id="SB_Year" class="M_20">' + editdata.AssignmentStartDate + '</span></li>';
                                list += '<li><label>PayrollMonth</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.PayrollYear + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li></ul>';
                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Invoice</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                    }
                                }
                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {

                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Invoice</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                    }
                                }

                                list += '</ul>';
                            }

                            $('.popup_edit .inner_cont').html('').html(list);
                            $('#projid').numeric();
                            //$('#aft_uploadWBInvoice').hide();
                            //$('#frameforhide').hide();

                            //if (editdata.Type != "-1" && editdata.Type != null && editdata.Type != "") {
                            //    $(".popup_edit .inner_cont ul li:nth-child(3) select").append("<option value='" + editdata.Type + "'>" + editdata.Type + "</option>");
                            //    $(".popup_edit .inner_cont ul li:nth-child(3) select option").eq([$(".popup_edit .inner_cont ul li:nth-child(3) select option").length - 1]).attr('selected', 'selected');
                            //}
                            //else {


                            /// $('#select-editMAType .selectList').find("option[pkcur = '" + editdata.Type + "']").attr("selected", "selected");

                            //}
                            //if (msg.d[0][0].Type != "") {
                            //    $('#editMAType').find("option[pksplcase = '" + editdata.Type + "']").attr("selected", "selected");

                            //}

                            GetSessionTimeoutEdit();

                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                $('#editval').attr("pkey", pkey);
                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Assignment Start Date</label><span id="SB_Year" class="M_20">' + editdata.AssignmentStartDate + '</span></li>';
                                list += '<li><label>PayrollMonth</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.PayrollYear + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';

                                list += '</ul>';
                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {

                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Invoice</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                    }
                                }
                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {

                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Invoice</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                    }
                                }
                                list += '</ul>';
                            }

                            $('.popup_edit .inner_cont').html('').html(list);
                            $('#projid').numeric();

                            //PopulateAPACEditComponentDetails(editdata.CurrencyCode, editdata.SpecialCaseReason, editdata.Installments);
                            //if (msg.d[0][0].SpecialCaseReason != "") {
                            //    $('#editsplcase').find("option[pksplcase = '" + editdata.SpecialCaseReason + "']").attr("selected", "selected");
                            //    $('#aft_uploadhide').show();
                            //    $('#frameforhide').show();
                            //}
                            //else {
                            //    $('#aft_uploadhide').hide();
                            //    $('#frameforhide').hide();
                            //}

                            //$('#select-editcurcode .selectList').find("option[pkcur = '" + editdata.CurrencyCode + "']").attr("selected", "selected");
                            //$('#select-editAPInstallment .selectList').find("option[pkcur = '" + editdata.Installments + "']").attr("selected", "selected");
                            GetSessionTimeoutEdit();
                        }
                    }

                    else if (componentGroupId == 53 && (CountryId == 18 || CountryId == 19)) {//wellness benefit
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '195px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0]
                                $('#editval').attr("pkey", pkey);

                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Payroll Month</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>Payroll Year</label><span id="SB_Year" class="M_20">' + editdata.PayrollYear + '</span></li>';
                                list += '<li><label>Leave Start Date</label><span id="KitStartDate" class="M_20">' + editdata.StartDate + '</span></li>';
                                list += '<li><label>Leave End Date</label><span id="KitEndDate" class="M_20">' + editdata.EndDate + '</span></li>';
                                list += '<li><label>KIT Days<span class="red">*</span></label><input type="text" class="M_40 new_upload" style="margin-left:-20px;width:137px;height:20px;" id="kitdays" onkeypress="return allowValuesAfterDecimal(event,id,8,1)" value="' + editdata.KITDays + '" /></li>';
                                list += '</ul>';
                            }

                            $('.popup_edit .inner_cont').html('').html(list);
                            $('#projid').numeric();
                            //$('#aft_uploadWBInvoice').hide();
                            //$('#frameforhide').hide();

                            //if (editdata.Type != "-1" && editdata.Type != null && editdata.Type != "") {
                            //    $(".popup_edit .inner_cont ul li:nth-child(3) select").append("<option value='" + editdata.Type + "'>" + editdata.Type + "</option>");
                            //    $(".popup_edit .inner_cont ul li:nth-child(3) select option").eq([$(".popup_edit .inner_cont ul li:nth-child(3) select option").length - 1]).attr('selected', 'selected');
                            //}
                            //else {


                            /// $('#select-editMAType .selectList').find("option[pkcur = '" + editdata.Type + "']").attr("selected", "selected");

                            //}
                            //if (msg.d[0][0].Type != "") {
                            //    $('#editMAType').find("option[pksplcase = '" + editdata.Type + "']").attr("selected", "selected");

                            //}

                            GetSessionTimeoutEdit();

                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                $('#editval').attr("pkey", pkey);
                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>PayrollMonth</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.PayrollYear + '</span></li>';
                                list += '<li><label>Start Date</label><span id="KitStartDate" class="M_20">' + editdata.StartDate + '</span></li>';
                                list += '<li><label>Start Date</label><span id="KitEndDate" class="M_20">' + editdata.EndDate + '</span></li>';
                                list += '<li><label>Kit Days<span class="red">*</span></label><input type="text" class="M_40 new_upload" style="margin-left:-20px;width:137px;height:20px;" id="kitdays" onkeypress="return allowValuesAfterDecimal(event,id,8,1)" value="' + editdata.KITDays + '" /></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';

                            }

                            $('.popup_edit .inner_cont').html('').html(list);
                            $('#projid').numeric();

                            //PopulateAPACEditComponentDetails(editdata.CurrencyCode, editdata.SpecialCaseReason, editdata.Installments);
                            //if (msg.d[0][0].SpecialCaseReason != "") {
                            //    $('#editsplcase').find("option[pksplcase = '" + editdata.SpecialCaseReason + "']").attr("selected", "selected");
                            //    $('#aft_uploadhide').show();
                            //    $('#frameforhide').show();
                            //}
                            //else {
                            //    $('#aft_uploadhide').hide();
                            //    $('#frameforhide').hide();
                            //}

                            //$('#select-editcurcode .selectList').find("option[pkcur = '" + editdata.CurrencyCode + "']").attr("selected", "selected");
                            //$('#select-editAPInstallment .selectList').find("option[pkcur = '" + editdata.Installments + "']").attr("selected", "selected");
                            GetSessionTimeoutEdit();
                        }
                    }
                    else if (componentGroupId == 60 && (CountryId == 18 || CountryId == 19)) {//One off bonus Edit

                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '195px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0]
                                $('#editval').attr("pkey", pkey);

                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Current Grade</label><span id="One_Grade" class="M_20">' + editdata.CurrentGrade + '</span></li>';
                                list += '<li><label>Hire Type</label><span id="One_HireType" class="M_20">' + editdata.HireType + '</span></li>';
                                list += '<li><label>Country</label><span id="One_Country" class="M_20">' + editdata.Country + '</span></li>';
                                list += '<li><label>Currency</label><span id="One_Currency" class="M_20">' + editdata.Currency + '</span></li>';
                                list += '<li><label>One Off Bouns<span class="red">*</span></label><input type="text"  value="" class="M_40 new_upload" style="margin-left:-20px;width:137px;height:20px;" id="OneOffBouns""  /></li>';
                                list += '<li><label>Comments</label><input type="text"  value="" class="M_40 new_upload" style="margin-left:-20px;width:137px;height:20px;" id="OneOffComments""  /></li>';
                                list += '</ul>';
                            }

                            $('.popup_edit .inner_cont').html('').html(list);
                            GetSessionTimeoutEdit();
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                if (msg.d[0][0].ExceptionReason != null) {
                                    var expremarks = (msg.d[0][0].ExceptionReason > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;
                                }
                                $('#editval').attr("pkey", pkey);
                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Current Grade<span class="red">*</span></label><input type="text"  value="' + editdata.BU + '"  style="margin-left:-20px;width:137px;height:20px;" id="One_Grade""  /></li>';
                                list += '<li><label>Hire Type<span class="red">*</span></label><input type="text"  value="' + editdata.HireType + '" class="M_40 new_upload" style="margin-left:-20px;width:137px;height:20px;" id="One_HireType""  /></li>';
                                list += '<li><label>Country<span class="red">*</span></label><input type="text"  value="' + editdata.Country + '" class="M_40 new_upload" style="margin-left:-20px;width:137px;height:20px;" id="One_Country""  /></li>';
                                list += '<li><label>Currency<span id="One_Currency" class="M_20" style="margin-left:84px">' + editdata.Currency + '</span></li>'
                                list += '<li><label>One Off Bouns<span class="red">*</span></label><input type="text"  style="margin-left:-20px" value="' + editdata.Amount + '" class="M_40 new_upload" style="margin-left:-20px;width:137px;height:20px;" id="OneOffBouns""  /></li>';
                                list += '<li><label>Comments</label><input type="text"  value="' + editdata.Comments + '" class="M_40 new_upload" style="margin-left:-20px;width:137px;height:20px;" id="OneOffComments""  /></li>';
                                list += '<li livalue="' + editdata.ExceptionReason + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + editdata.ExceptionReason + '</span></li>';
                                list += '</ul>';
                            }

                            $('.popup_edit .inner_cont').html('').html(list);
                            GetSessionTimeoutEdit();
                        }
                    }
                    else if (componentGroupId == 61 && (CountryId == 18 || CountryId == 19)) {//wellness benefit
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '195px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0]
                                $('#editval').attr("pkey", pkey);

                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Current Grade</label><span id="One_Grade" class="M_20">' + editdata.CurrentGrade + '</span></li>';
                                list += '<li><label>Hire Type</label><span id="One_HireType" class="M_20">' + editdata.HireType + '</span></li>';
                                list += '<li><label>Country</label><span id="One_Country" class="M_20">' + editdata.Country + '</span></li>';
                                list += '<li><label>Currency</label><span id="One_Currency" class="M_20">' + editdata.Currency + '</span></li>';
                                list += '<li><label>One Off Bouns<span class="red">*</span></label><input type="text"  value="" class="M_40 new_upload" style="margin-left:-20px;width:137px;height:20px;" id="OneOffBouns""  /></li>';
                                list += '<li><label>Comments</label><input type="text"  value="" class="M_40 new_upload" style="margin-left:-20px;width:137px;height:20px;" id="OneOffComments""  /></li>';
                                list += '</ul>';
                            }

                            $('.popup_edit .inner_cont').html('').html(list);
                            GetSessionTimeoutEdit();

                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                $('#editval').attr("pkey", pkey);
                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Year of Hire<span class="red">*</span></label><input type="text"  value="" class="M_40 new_upload" style="margin-left:-20px;width:137px;height:20px;" id="PSU_year""  /></li>';
                                list += '<li><label>Designation</label><span id="PSU_Grade" class="M_20">' + editdata.Grade + '</span></li>';
                                list += '<li><label>Payout</label><span id="PSU_Payout" class="M_20">' + editdata.Payout + '</span></li>';
                                list += '<li><label>Start Date</label><span id="PSU_StartDate" class="M_20">' + editdata.StartDate + '</span></li>';
                                list += '<li><label>Country<span class="red">*</span></label><input type="text"  value="" class="M_40 new_upload" style="margin-left:-20px;width:137px;height:20px;" id="PSU_Country""  /></li>';
                                list += '<li><label>Amount in Local Currency<span class="red">*</span></label><input type="text"  value="" class="M_40 new_upload" style="margin-left:-4px;width:137px;height:20px;" id="PSU_Amount""  /></li>';
                                list += '<li><label>Payout Date</label><span id="PSU_PayoutDate" class="M_20">' + editdata.PayoutDate + '</span></li>';
                                list += '<li><label>Comments</label><input type="text"  value="" class="M_40 new_upload" style="margin-left:-4px;width:137px;height:20px;" id="PSUComments""  /></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                            }

                            $('.popup_edit .inner_cont').html('').html(list);
                            GetSessionTimeoutEdit();
                        }
                    }

                    else if (componentGroupId == 82 || componentGroupId == 91 || componentGroupId == 95
                        || componentGroupId == 92 || componentGroupId == 93 || componentGroupId == 96 || componentGroupId == 97
                        || componentGroupId == 90) {//wellness benefit
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '195px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {

                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0]
                                $('#editval').attr("pkey", pkey);

                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="npAssoname" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="npmonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Advised Year</label><span id="npyear" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label class="M_15">Principal Amount<span class="red">*</span></label><input type="text"  id="npamount" value="' + editdata.Amount + '" style="width:137px;height:20px;margin-left: -41px !important;"  class="M_40 new_upload" /></li>';
                                if (componentGroupId == 95) {
                                    list += '<li><label class="M_15" style="line-height: 17px;">Semimonthly Amortization amount</label><label id="npsemiamount">' + editdata.SemiAmount + '</label></li>';
                                    list += '<li><label class="M_15">No of Installments</label><label id="npinstall"style="margin-left:-39px;">1</label></li>';
                                }
                                else if (componentGroupId == 91) {
                                    list += '<li><label class="M_15" style="line-height: 0px;">Semimonthly Amortization amount<span class="red">*</span></label><input type="text" id="npsemiamount" value="' + editdata.SemiAmount + '" style="width:137px;height:20px;margin-left: 0px;" class="M_40 new_upload" readonly /></li > ';
                                    list += '<li><label class="M_15">No of Installments<span class="red">*</span></label><input type="text" id="npinstall" value="' + editdata.Installment + '" style="width:137px;height:20px;"  class="M_40 new_upload" readonly /></li>';
                                }
                                else {
                                    list += '<li><label class="M_15" style="line-height: 0px;">Semimonthly Amortization amount<span class="red">*</span></label><input type="text" id="npsemiamount" value="' + editdata.SemiAmount + '" style="width:137px;height:20px;margin-left: 0px;" class="M_40 new_upload" /></li > ';
                                    list += '<li><label class="M_15">No of Installments<span class="red">*</span></label><input type="text" id="npinstall" value="' + editdata.Installment + '" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
                                }
                                list += '<li><label class="M_15">PaymentDate</label><span id="PaymentDate" >' + editdata.PaymentDate + '</span></li>';
                                //list += '<li><label class="M_15">Payment Date<span class="red">*</span></label><select name="npPaymentDate" id="npPaymentDate"  style="width:137px;height:20px;" ><option value="-1" selected="selected">--Select Date--</option></select></li>';
                                list += '<li><label class="M_15">Remarks</label><input type="text"  id="npRemarks" value="' + editdata.Comments + '" style="width:137px;height:20px;" class="M_40 new_upload" /></li>'
                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list)
                                //PopulatetravelindiaComponentDetails(editdata.PaymentDate);
                                populatenetpay(editdata.AssociateID, 2, editdata.PaymentDate);

                            }

                            GetSessionTimeoutEdit();

                        }
                        else if (type == 2) {

                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                $('#editval').attr("pkey", pkey);
                                // list += '<li><label>Component Name</label><span class="M_20">' + editdata.ComponentName + '</span></li>';

                                list += '<ul  pkey=' + pkey + '><li><label style= "margin-left:-13px;">Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="npAssoname" class="M_20" style="margin-left: 2px;">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label style= "margin-left:-13px;">Advised Month</label><span id="npmonth" class="M_20">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Advised Year</label><span id="npyear" class="M_20"  style="margin-left: 2px;">' + editdata.Year + '</span></li>';
                                list += '<li><label class="M_15">Principal Amount<span class="red">*</span></label><input type="text"  id="npamount" value="' + editdata.Amount + '" style="width:137px;height:20px;margin-left: -41px !important;"  class="M_40 new_upload" /></li>';
                                if (componentGroupId == 95) {
                                    list += '<li><label class="M_15" style="line-height: 17px;;margin-left:0px;">Semimonthly Amortization amount</label><label id="npsemiamount"> ' + editdata.SemiAmount + '</label></li>';
                                    list += '<li><label class="M_15">No of Installments</label><label id="npinstall"style="margin-left:-39px;">1</label></li>';
                                }
                                else if (componentGroupId == 82 || componentGroupId == 91) {
                                    list += '<li><label class="M_15" style="line-height: 1px;margin-left:0px;">Semimonthly Amortization amount<span class="red">*</span></label><input type="text" id="npsemiamount" value="' + editdata.SemiAmount + '" style="width:137px;height:20px;margin-left: 0px;" class="M_40 new_upload" /></li > ';
                                    list += '<li><label class="M_15" style="line-height: 1px;">Project ID<span class="red">*</span></label><input type="text" id="npProId" value="' + editdata.ProjectID + '" style="width:137px;height:20px;margin-left: 0px;" class="M_40 new_upload"/></li > ';
                                    list += '<li><label class="M_15">No of Installments<span class="red">*</span></label><input type="text" id="npinstall" value="' + editdata.Installment + '" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
                                }
                                else {
                                    list += '<li><label class="M_15" style="line-height: 0px;margin-left:0px;">Semimonthly Amortization amount<span class="red">*</span></label><input type="text" id="npsemiamount" value="' + editdata.SemiAmount + '" style="width:137px;height:20px;margin-left: 0px;" class="M_40 new_upload" /></li > ';
                                    list += '<li><label class="M_15">No of Installments<span class="red">*</span></label><input type="text" id="npinstall" value="' + editdata.Installment + '" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
                                }
                                list += '<li><label class="M_15">Payment Date<span class="red">*</span></label><select name="npPaymentDate" id="npPaymentDate"  style="width:137px;height:20px;" ><option value="-1" selected="selected">--Select Date--</option></select></li>';
                                list += '<li><label class="M_15">Remarks</label><input type="text"  id="npRemarks" value="' + editdata.Comments + '" style="width:137px;height:20px;" class="M_40 new_upload" /></li>'
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:0px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                            }
                            $('.popup_edit .inner_cont').html('').html(list);
                            $('#npProId').numeric();
                            //PopulatetravelindiaComponentDetails(editdata.PaymentDate);
                            populatenetpay(editdata.AssociateID, 2, editdata.PaymentDate);
                            GetSessionTimeoutEdit();
                        }
                    }

                    else if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {//wellness benefit
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();
                        // $('.inner_cont').css("height", '170px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                $('#editval').attr("pkey", pkey);

                                list += '<ul id="editval" style="margin-top:5px;" pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="RRamount" /></li>';
                                list += '<li><label>Currency</label><span value="" class="M_20" >' + editdata.Currency + '</span></li>';
                                list += '<li><label>Comments</label><input class="M_20" type="text" value="' + editdata.Remarks + '" class="M_40 new_upload" id="EditSN_Comments" /></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#RRamount').numeric();
                                GetSessionTimeoutEdit();
                            }
                        }
                    }

                    else if (componentGroupId == 45 && CountryId == 15) {//car parking benefit
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("height", '130px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>PayrollMonth</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>Year</label><span class="M_20">' + editdata.PayrollYear + '</span></li>';
                                list += '<li><label>No Of days</label><input class="M_20" style="width:100px" type="text" maxlength="2" value="' + editdata.NumberOfDays + '" class="M_40 new_upload" id="NoDamount" onkeypress="return isNumberKey(event)" /></li>';
                                //list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li></ul>';
                                list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 100px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                PopulateEditSignOnComponentDetails(editdata.PayoutType, '');
                            }
                            GetSessionTimeoutEdit();
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>PayrollMonth</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.PayrollYear + '</span></li>';
                                list += '<li><label>No Of days</label><input class="M_20" style="width:100px" type="text" maxlength="2" value="' + editdata.NumberOfDays + '" class="M_40 new_upload" id="NoDamount" onkeypress="return isNumberKey(event)" /></li>';
                                //list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li></ul>';
                                list += '<li><label>PayoutType<span class="red">*</span> </label><span class="M_20"><select name="editpayoutType" id="editpayoutType" style="width: 100px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditBenefitsComponentDetails(editdata.PayoutType);
                            }
                            GetSessionTimeoutEdit();
                        }
                    }

                    else if (componentGroupId == 47 || (componentGroupId == 48 && CountryId != 17)) {//mobile/Transport
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("height", '195px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Assignment Start Date</label><span id="SB_Year" class="M_20">' + editdata.AssignmentStartDate + '</span></li>';
                                if (componentGroupId == 48) {//transportation reimbursement 
                                    list += ' <li><label>StartDate</label><span id="asso_name" class="M_20">' + editdata.StartDate + '</span></li>';
                                    list += '<li><label>EndDate</label><span id="asso_name" class="M_20">' + editdata.EndDate + '</span></li>';
                                }
                                else if (componentGroupId == 47) {// mobile taxation

                                    list += ' <li><label>StartDate<span class="red">*</span></label><input type="text" class="popup_date" id="MB_editstartdate" value="' + editdata.StartDate + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                    list += '<li><label>EndDate</label><input type="text" class="popup_date" id="MB_editenddate" value="' + editdata.EndDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                }
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                list += '<li><label>PayoutType</label><span class="M_20"><select name="editMTpayoutType" id="editMTpayoutType" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li></ul>';
                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Invoice</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';

                                    }

                                }
                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Invoice</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';

                                    }
                                }

                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditMobileComponentDetails(editdata.PayoutType);
                                if (componentGroupId == 47) {
                                    $("#MB_editstartdate").datepicker("destroy");
                                    $("#MB_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                    $("#MB_editenddate").datepicker("destroy");
                                    $("#MB_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                }
                            }

                            GetSessionTimeoutEdit();

                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                var mailattachments = editdata.ApprovalMail;
                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Assignment Start Date</label><span id="SB_Year" class="M_20">' + editdata.AssignmentStartDate + '</span></li>';

                                list += ' <li><label >StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="MB_editstartdate" value="' + editdata.StartDate + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                if (componentGroupId == 47) {//mobile
                                    list += '<li><label>EndDate</label><input type="text" class="popup_date" id="MB_editenddate" value="' + editdata.EndDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                }
                                else if (componentGroupId == 48) {
                                    list += '<li><label>EndDate</label><label style="margin-left:-23px;"><span id="MB_editenddate">' + editdata.EndDate + '</span></label></li>';
                                }
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                list += '<li><label>PayoutType</label><span class="M_20"><select name="editMTpayoutType" id="editMTpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Invoice</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                    }

                                }
                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Invoice</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';

                                    }
                                }
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditMobileComponentDetails(editdata.PayoutType);

                                $("#MB_editstartdate").datepicker("destroy");
                                $("#MB_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                if (componentGroupId == 47) {
                                    $("#MB_editenddate").datepicker("destroy");
                                    $("#MB_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                }
                            }

                            GetSessionTimeoutEdit();
                        }
                    }

                    else if ((componentGroupId == 48 && CountryId == 17)) {//Transport
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("height", '390px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '650px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;
                                var invoiceattachments = editdata.InVoice;
                                var decl = editdata.DeclarationForm;
                                frequenyvalue = editdata.FrequencyType;
                                trans_monthlyamount = editdata.Amount;
                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20" id="TR_assoid">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Assignment Start Date</label><span id="ass_SD_transport" class="M_20">' + editdata.AssignmentStartDate + '</span></li>';
                                if (editdata.status == 12) {
                                    list += '<li><label>Transportation Type<span class="red">*</span></label><span class="M_20"><select name="editTransportationType" id="editTransportationType"  style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                    list += '<li><label>Frequency Type</label><span class="M_20">' + editdata.FrequencyType + '</span></li>';
                                    if (editdata.FrequencyType == 'Yearly') {
                                        list += '<li><label style="width: 220px;" id="amountLabeledit">Amount Paid(Annual amount)<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" style="width:85px;margin-left: -25px;"/></li>';
                                    }
                                    else {
                                        list += '<li><label style="width: 220px;" id="amountLabeledit">Amount Paid(Monthly amount)<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" style="width:85px;margin-left: -25px;"/></li>';
                                        //list += '<li><label>Monthly Amount</label><span class="M_20">' + editdata.Amount + '</span></li>';
                                    }
                                    list += '<li><label>Month of Declaration</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                    list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.PayrollYear + '</span></li>';
                                    // list += '<li><label>Frequency Type</label><span class="M_20">' + editdata.FrequencyType + '</span></li>';
                                    list += '<li><label style="width: 195px;">Declaring Multiple Allowance</label><span class="M_20"><select name="editspecialCaseReason" id="editspecialCaseReason" style="width: 100px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                    //list += '<li><label style="width:212px;">1st time of purchase of navigo pass</label><span class="M_20" style="margin-left: 4px;">' + editdata.BuscardAvailed + '</span></li>';
                                    //list += '<li><label>Pass Amount</label><span class="M_20">' + editdata.BuscardAmount + '</span></li>';
                                    list += '<li><label>Invoice Number<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.PassNumber + '" class="M_40 new_upload" id="TR_PassNumber" /></li>';
                                    // list += '<li style="margin-left:1px;"><label>Approval Mail:<span class="red">*</span></label></li></ul>';
                                }
                                else {
                                    list += '<li><label>Transportation Type<span class="red">*</span></label><span class="M_20"><select name="editTransportationType" id="editTransportationType" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                    list += '<li><label>Frequency Type</label><span class="M_20" ><select name="editFrequencyType" id="editFrequencyType" style="height:22px;text-indent:6px;width: 78px;"><option>--select--</option></select></span></li>';
                                    if (editdata.FrequencyType == 'Yearly') {
                                        list += '<li><label style="width: 220px;" id="amountLabeledit">Amount Paid(Annual amount)<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" style="width:85px;margin-left: -25px;"/></li>';
                                    }
                                    else {
                                        list += '<li><label style="width: 220px;" id="amountLabeledit">Amount Paid(Monthly amount)<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" style="width:85px;margin-left: -25px;"/></li>';
                                        //list += '<li><label>Monthly Amount</label><span class="M_20">' + editdata.Amount + '</span></li>';
                                    }
                                    //list += '<li><label>Month of Declaration</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                    list += '<li><label>Month of Declaration</label><span id="SB_AdvisedMonth" class="M_20"><select name="edit_PayrollMonth" id="edit_PayrollMonth" style="height:22px;text-indent:6px;width: 78px;"><option>--select--</option></select></span></li>';
                                    list += '<li><label>Year</label><span id="SB_Year" class="M_20"><select name="edit_PayrollYear" id="edit_PayrollYear" style="height:22px;text-indent:6px;width: 78px;"><option>--select--</option></select></span></li>';
                                    // list += '<li><label>Frequency Type</label><span class="M_20" ><select name="editFrequencyType" id="editFrequencyType" style="height:22px;text-indent:6px;width: 78px;"><option>--select--</option></select></span></li>';
                                    list += '<li><label style="width: 195px;">Declaring Multiple Allowance</label><span class="M_20"><select name="editspecialCaseReason" id="editspecialCaseReason" style="width: 100px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                    //list += '<li><label  style="width:212px;">1st time of purchase of navigo pass</label><span class="M_20"><select name="editBuscardAvailed" id="editBuscardAvailed" style="height:22px;text-indent:6px;margin-left:30px;width: 48px;"><option>--select--</option></select></span></li>';
                                    //list += '<li><label>Pass Amount<span class="red" id="busamountedithide">*</span></label><input class="M_20" type="text" value="' + editdata.BuscardAmount + '" class="M_40 new_upload" id="busamountedithide" style ="width: 110px;" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                    list += '<li><label>Invoice Number<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.PassNumber + '" class="M_40 new_upload" id="TR_PassNumber" /></li>';
                                    //list += '<li style="margin-left:1px;"><label>Approval Mail:<span class="red">*</span></label></li></ul>';
                                }
                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0 && invoiceattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        list += '<li style="padding-top:5px;margin-left:325px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        list += '<li style="padding-top:15px;margin-left:325px"><div id="aft_uploadocmsplcasemailedit"></div></li></ul>';
                                    }
                                    else {
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail/Attestation</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                        var val1 = "";
                                        if (decl) {
                                            val1 = "<label>Declaration</label><a href='#' fileuploadid=\"" + decl + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + decl + "\" /></a>";
                                        }
                                        list += '<li style="padding-top:5px;margin-left:325px;"><div id="aft_uploadocmapprovaledit">' + val1 + '</div></li>';
                                        var val2 = "<label>Invoice</label><a href='#' fileuploadid=\"" + invoiceattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + invoiceattachments + "\" /></a>";
                                        list += '<li style="padding-top:15px;margin-left:325px;"><div id="aft_uploadocmsplcasemailedit">' + val2 + '</div></li>';
                                    }
                                }

                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0 && invoiceattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        list += '<li style="padding-top:5px;margin-left:325px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        list += '<li style="padding-top:15px;margin-left:325px"><div id="aft_uploadocmsplcasemailedit"></div></li></ul>';
                                    }
                                    else {
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail/Attestation</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                        var val1 = "";
                                        if (decl) {
                                            val1 = "<label>Declaration</label><a href='#' fileuploadid=\"" + decl + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + decl + "\" /></a>";
                                        }
                                        list += '<li style="padding-top:5px;margin-left:325px;"><div id="aft_uploadocmapprovaledit">' + val1 + '</div></li>';
                                        var val2 = "<label>Invoice</label><a href='#' fileuploadid=\"" + invoiceattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + invoiceattachments + "\" /></a>";
                                        list += '<li style="padding-top:15px;margin-left:325px;"><div id="aft_uploadocmsplcasemailedit">' + val2 + '</div></li>';
                                    }
                                }

                                list += ' </ul>';

                                $('.popup_edit .inner_cont').html('').html(list);

                                if (editdata.BuscardAvailed == 'Yes') {
                                    $('#busamountedithide').show();
                                }
                                else {
                                    $('#busamountedithide').hide();
                                }
                                ReplaceAmount(editdata.TransportationType, editdata.Amount, editdata.AssociateID, editdata.FrequencyType);
                                //PopulateEditMobileComponentDetails(editdata.PayoutType);
                                PopulateEditTransportComponentDetails(editdata.FrequencyType, editdata.BuscardAvailed, editdata.SpecialCaseReason, editdata.TransportationType, editdata.PayrollMonth, editdata.PayrollYear);
                                disableFreqtype();
                            }
                            var monthId = editdata.MonthID;
                            var payrollYear = editdata.PayrollYear;
                            var transportationType = editdata.TransportationType;
                            var PK_Id = editdata.PK_MaternityAllowanceID;
                            var associateId = editdata.AssociateID;
                            var frequencyType = editdata.FrequencyType === "Weekly" ? 1 : editdata.FrequencyType === "Monthly" ? 2 : editdata.FrequencyType === "Yearly" ? 3 : null;
                            IsAssociateExist(transportationType, monthId, payrollYear, frequencyType, PK_Id, 0);
                            GetSessionTimeoutEdit();

                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;
                                frequenyvalue = editdata.FrequencyType;
                                var mailattachments = editdata.ApprovalMail;
                                var invoiceattachments = editdata.InVoice;
                                var decl = editdata.DeclarationForm;
                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20" id="TR_assoid">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Assignment Start Date</label><span id="ass_SD_transport" class="M_20">' + editdata.AssignmentStartDate + '</span></li>';

                                //if (editdata.FrequencyType == 'Yearly') {
                                //    list += '<li><label>Transportation Type</label><span class="M_20"><select name="editTransportationType" id="editTransportationType" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                //    list += '<li><label>Monthly Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.MonthlyAmount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                //    //list += '<li><label>Monthly Amount</label><span class="M_20">' + editdata.MonthlyAmount + '</span></li>';

                                //    list += '<li><label>PayrollMonth</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                //    list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.PayrollYear + '</span></li>';
                                //    list += '<li><label>Frequency Type</label><span class="M_20">' + editdata.FrequencyType + '</span></li>';
                                //    list += '<li><label>SpecialCaseReason </label><span class="M_20"><select name="editspecialCaseReason" id="editspecialCaseReason" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                //    list += '<li><label>Bus Card Availed</label><span class="M_20">' + editdata.BusCardAvailed + '</span></li>';
                                //    list += '<li><label>Bus Card Amount</label><span class="M_20">' + editdata.BusCardAmount + '</span></li>';
                                //    list += '<li><label>Navigo Pass Number<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.PassNumber + '" class="M_40 new_upload" id="TR_PassNumber" /></li>';
                                //    //list += '<li><label>Approval Mail:</label></li></ul>';
                                //}
                                //else {
                                list += '<li><label>Transportation Type<span class="red">*</span></label><span class="M_20"><select name="editTransportationType" id="editTransportationType" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Frequency Type</label><span class="M_20"><select name="editFrequencyType" id="editFrequencyType" style="height:22px;text-indent:6px;width: 78px;"><option>--select--</option></select></span></li>';
                                if (frequenyvalue == 'Yearly') {
                                    list += '<li><label>Amount Paid(Annual amount)<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.MonthlyAmount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                }
                                else {
                                    list += '<li><label>Amount Paid(Monthly amount)<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.MonthlyAmount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                }
                                list += '<li><label>Month of Declaration</label><span class="M_20"><select name="edit_PayrollMonth" id="edit_PayrollMonth" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li style="margin-top: 20px;"><label>Year</label><span class="M_20"><select name="edit_PayrollYear" id="edit_PayrollYear" style="height:22px;text-indent:6px;width: 70px;"><option>--select--</option></select></span></li>';
                                //list += '<li><label>Frequency Type</label><span class="M_20"><select name="editFrequencyType" id="editFrequencyType" style="height:22px;text-indent:6px;width: 78px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Declaring Multiple Allowance </label><span class="M_20"><select name="editspecialCaseReason" id="editspecialCaseReason" style="width: 150px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                //list += '<li><label  style="width:232px;">1st time of purchase of navigo pass</label><span class="M_20" style="margin - left: 3px;"><select name="editBuscardAvailed" id="editBuscardAvailed" style="height:22px;text-indent:6px;width: 48px;"><option>--select--</option></select></span></li>';
                                //list += '<li><label>Pass Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.BusCardAmount + '" class="M_40 new_upload" id="busamountedithide" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                list += '<li><label>Invoice Number<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.PassNumber + '" class="M_40 new_upload" id="TR_PassNumber" /></li>';
                                //}

                                list += '<li style="margin-top: 20px;" livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li></ul>';
                                //list += '<li style="margin-left:1px;"><label>Approval Mail:<span class="red">*</span></label></li>;
                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label style="margin-left: 11px;">Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0 && invoiceattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        list += '<ul><li style="padding-top:5px;margin-left:315px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        list += '<ul><li style="padding-top:15px;margin-left:315px"><div id="aft_uploadocmsplcasemailedit"></div></li></ul>';
                                    }
                                    else {
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Invoice/Attestation</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                        var val1 = "<label>Declaration</label><a href='#' fileuploadid=\"" + invoiceattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + invoiceattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;margin-left:325px;"><div id="aft_uploadocmapprovaledit">' + val1 + '</div></li>';
                                        var val2 = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + decl + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + decl + "\" /></a>";
                                        list += '<li style="padding-top:15px;margin-left:325px"><div id="aft_uploadocmsplcasemailedit">' + val2 + '</div></li>';
                                    }
                                }
                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label style="margin-left: 11px;">Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0 && invoiceattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        list += '<ul><li style="padding-top:5px;margin-left:315px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        list += '<ul><li style="padding-top:15px;margin-left:315px"><div id="aft_uploadocmsplcasemailedit"></div></li></ul>';
                                    }
                                    else {
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Invoice/Attestation</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                        var val1 = "<label>Declaration</label><a href='#' fileuploadid=\"" + invoiceattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + invoiceattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;margin-left:325px;"><div id="aft_uploadocmapprovaledit">' + val1 + '</div></li>';
                                        var val2 = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + decl + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + decl + "\" /></a>";
                                        list += '<li style="padding-top:15px;margin-left:325px"><div id="aft_uploadocmsplcasemailedit">' + val2 + '</div></li>';
                                    }
                                }
                                list += ' </ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                ReplaceAmount(editdata.TransportationType, editdata.Amount, editdata.AssociateID);
                                PopulateEditTransportComponentDetails(editdata.FrequencyType, editdata.BusCardAvailed, editdata.SpecialCaseReason, editdata.TransportationType, editdata.PayrollMonth, editdata.PayrollYear);
                                disableFreqtype();
                            }
                            GetSessionTimeoutEdit();
                        }
                    }

                    else if (componentGroupId == 52) {  // Lunch voucher

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        const d = new Date();
                        var year = d.getFullYear();
                        var month = d.getMonth();
                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                //string[] array1 = { "aa", "bb", "cc" };
                                //array1[] = editdata.LeaveDays + ',' + editdata.TrainingDays + ',' + editdata.HolidaysWorked + ',';
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.SplCaseMailUploadId;
                                var splcasersn = editdata.SpecialCaseReason;
                                var TotalDays = editdata.EligibleDays;
                                LV_LwdDate = editdata.LWDDate;
                                $('#editval').attr("pkey", pkey);
                                list += '<label style="font-size:12px;top:214px;position:absolute;right:210px;">Eligible lunch vouchers</label><label id="LV_editTotalDays" class="new_upload" style="font-size:12px;top:215px;position:absolute;right:167px;">' + TotalDays + '</label>';
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>PayrollMonth</label><span id="LV_editPayrollMonth">' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>PayrollYear</label><span id="LV_editYear">' + editdata.Year + '</span></li>';
                                list += '<li><label>No of leaves applied<span class="red">*</span></label><input  type="text" value="' + editdata.LeaveDays + '" onkeyup="return EditLV_EligibleVoucherDetails(event)" class="new_upload" id="LV_EditLeaveDays" maxlength="2" style="width:100px"/></li>';
                                list += '<li><label>Training/ Lunch with Clients</label><input  type="text" value="' + editdata.TrainingDays + '" onkeyup="return EditLV_EligibleVoucherDetails(event)" class="new_upload" id="LV_EditTrainingDays" maxlength="2" style="width:100px;" /></li>';
                                if ((month < editdata.PayrollMonthID && year == editdata.Year) || (year < editdata.Year)) {
                                    list += '<li><label>Special Case Reason</label><select name="editLV_SplCase" disabled = "disabled" id="editLV_SplCase" style="width:147px;margin-left:-1px;"><option value="-1" selected="selected">--Select Special Case Reason--</option></select></li>';
                                }
                                else {
                                    list += '<li><label>Special Case Reason</label><select name="editLV_SplCase" id="editLV_SplCase" style="width:147px;margin-left:-1px;"><option value="-1" selected="selected">--Select Special Case Reason--</option></select></li>';
                                }
                                //list += '<li></li>';

                                list += '<li style="margin-top:15px"><label style="width: 325px;font-style:italic;font-weight:bold;margin-top:-16px;line-height:15px">(Enter number of days when lunch was provided at </br> training/Lunch with clients was reimbursed)</label></li>';
                                //list += '<ul id="EditLunch_splcase" style="display:none">'
                                //list += '<li><label id="Edit_HLWorked"><span class="red">*</span></label><input type="text" id="LV_EditHolidays" onkeyup="return EditLV_EligibleVoucherDetails(event)" value="' + editdata.HolidaysWorked + '" maxlength="2" style="Width:100px;" /></li></ul>';
                                list += '<li id="EditLunch_splcase" style="display:none"><label id="Edit_HLWorked" style="line-height: 10px;"><span class="red">*</span></label><input type="text" id="LV_EditHolidays" onkeyup="return EditLV_EligibleVoucherDetails(event)" value="' + editdata.HolidaysWorked + '" maxlength="2" style="Width:100px;" /></li>';
                                list += '<li style="top: -5px;position: relative; display:none;"><label>EAM Days Carry Forwarded</label><label id="Edit_EAMCFDays" class="new_upload">' + editdata.EAMCFLeaveDays + '</label></li>';  //<input type="text" id="LV_EAMCFDays" value="' + editdata.EAMCFLeaveDays +'" maxlength="2"  style="Width:100px;" readonly/></li>';
                                //list += '<li id="Edit_RTTWorked" style="display:none"><label>No Of RTT Days Worked<span class="red">*</span></label><input type="text" id="LV_EditHolidays" onkeyup="return EditLV_EligibleVoucherDetails(event)" value="' + editdata.HolidaysWorked + '" maxlength="2" style="Width:100px;" /></li>';
                                //list += '<li id="Edit_WEWorked" style="display:none"><label>No Of Weekend Days Worked<span class="red">*</span></label><input type="text" id="LV_EditHolidays" onkeyup="return EditLV_EligibleVoucherDetails(event)" value="' + editdata.HolidaysWorked + '" maxlength="2" style="Width:100px;" /></li>';
                                list += '</ul>';
                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Special Case Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                    }
                                }
                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Special Case Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                    }
                                }

                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#LV_EditLeaveDays').numeric();
                                $('#LV_EditTrainingDays').numeric();
                                $('#LV_EditHolidays').numeric();
                                if (splcasersn == 'Working on a holiday' || splcasersn == 'Working on a RTT day' || splcasersn == 'Working on a Weekend') {
                                    $('#EditLunch_splcase').css('display', 'block');
                                    $('#Edit_attachment').css('display', 'block');
                                    if (splcasersn == 'Working on a holiday') {
                                        $('#Edit_HLWorked').html('').html('No Of Holidays Worked<span class="red">*</span>');
                                    }
                                    else if (splcasersn == 'Working on a RTT day') {
                                        $('#Edit_HLWorked').html('').html('No Of RTT Days Worked<span class="red">*</span>');
                                    }
                                    else if (splcasersn == 'Working on a Weekend') {
                                        $('#Edit_HLWorked').html('').html('No Of Weekend Days Worked<span class="red">*</span>');
                                    }

                                } else {
                                    $('#EditLunch_splcase').css('display', 'none');
                                    $('#Edit_HLWorked').html('');
                                    if (ocm == "0") {
                                        if (LV_LwdDate == '' || LV_LwdDate == 'null') {
                                            $('#Edit_attachment').css('display', 'block');
                                        } else {
                                            $('#Edit_attachment').css('display', 'none');
                                        }
                                    }

                                }
                                PopulateEditLunchVoucher(editdata.SpecialCaseReason, type);
                                populateEditLunchVoucherDays(editdata.AssociateID, editdata.PayrollMonthID, editdata.Year);
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.SplCaseMailUploadId;
                                var splcasersn = editdata.SpecialCaseReason;
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;
                                var TotalDays = editdata.EligibleDays;
                                LV_LwdDate = editdata.LWDDate;
                                list += '<label style="font-size:12px;top:214px;position:absolute;right:210px;">Eligible lunch vouchers</label><label id="LV_editTotalDays" class="new_upload" style="font-size:12px;top:215px;position:absolute;right:167px;">' + TotalDays + '</label>';

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span >' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>PayrollMonth</label><span id="LV_PayrollMonth" >' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>PayrollYear</label><span id="LV_Year" >' + editdata.Year + '</span></li>';
                                list += '<li><label>No of leaves applied<span class="red">*</span></label><input type="text" value="' + editdata.LeaveDays + '" onkeyup="return EditLV_EligibleVoucherDetails(event)" class="new_upload" id="LV_EditLeaveDays" maxlength="2" style="width:100px"/></li>';
                                list += '<li><label>Training/Lunch with Clients</label><input  type="text" value="' + editdata.TrainingDays + '" onkeyup="return EditLV_EligibleVoucherDetails(event)" class="new_upload" id="LV_EditTrainingDays" maxlength="2" style="width:100px"/></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                //list += '<li></li>';
                                list += '<li style="margin-top:15px"><label style="width: 325px;font-style:italic;font-weight:bold;margin-top:-16px;line-height:15px">(Enter number of days when lunch was provided at </br> training/Lunch with clients was reimbursed)</label></li>';
                                if ((month < editdata.PayrollMonthID && year == editdata.Year) || (year < editdata.Year)) {
                                    list += '<li><label>Special Case Reason</label><select name="editLV_SplCase" id="editLV_SplCase" disabled = "disabled" style="width:180px;margin-left:-25px;"><option value="-1" selected="selected">--Select Special Case Reason--</option></select></li>';
                                } else {
                                    list += '<li><label>Special Case Reason</label><select name="editLV_SplCase" id="editLV_SplCase" style="width:180px;margin-left:-25px;"><option value="-1" selected="selected">--Select Special Case Reason--</option></select></li>';
                                }
                                list += '<li id="EditLunch_splcase" style="display:none"><label id="Edit_HLWorkedEXP" style="line-height: 10px;"><span class="red">*</span></label><input type="text" id="LV_EditHolidays" onkeyup="return EditLV_EligibleVoucherDetails(event)" value="' + editdata.HolidaysWorked + '" maxlength="2" style="Width:100px;" /></li>';
                                list += '<li style="top: -5px;position: relative;display:none;"><label>EAM Days Carry Forwarded</label><label id="Edit_EAMCFDays" class="new_upload">' + editdata.EAMCFLeaveDays + '</label></li>';
                                //list += '<li></li>';
                                //list += '<ul id="EditLunch_splcase" style="display:none">'
                                //list += '<li><label id="Edit_HLWorkedEXP"><span class="red">*</span></label><input type="text" id="LV_EditHolidays" value="' + editdata.HolidaysWorked + '" onkeyup="return EditLV_EligibleVoucherDetails(event)" maxlength="2"  style="Width:100px;" /></li></ul>';
                                //list += '<li id="Edit_RTTWorkedEXP" style="display:none"><label>No Of RTT Days Worked<span class="red">*</span></label><input type="text" id="LV_EditHolidays" onkeyup="return EditLV_EligibleVoucherDetails(event)" value="' + editdata.HolidaysWorked + '" maxlength="2" style="Width:100px;" /></li>';
                                //list += '<li id="Edit_WEWorkedEXP" style="display:none"><label>No Of Weekend Days Worked<span class="red">*</span></label><input type="text" id="LV_EditHolidays" onkeyup="return EditLV_EligibleVoucherDetails(event)" value="' + editdata.HolidaysWorked + '" maxlength="2" style="Width:100px;" /></li>';

                                list += '</ul>';
                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Special Case Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                    }
                                }
                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Special Case Mail</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                    }
                                }

                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#LV_EditLeaveDays').numeric();
                                $('#LV_EditTrainingDays').numeric();
                                $('#LV_EditHolidays').numeric();
                                if (splcasersn == 'Working on a holiday' || splcasersn == 'Working on a RTT day' || splcasersn == 'Working on a Weekend') {
                                    $('#EditLunch_splcase').css('display', 'block');
                                    $('#Edit_attachmentEXP').css('display', 'block');
                                    if (splcasersn == 'Working on a holiday') {
                                        $('#Edit_HLWorkedEXP').html('').html('No Of Holidays Worked<span class="red">*</span>');
                                    }
                                    else if (splcasersn == 'Working on a RTT day') {
                                        $('#Edit_HLWorkedEXP').html('').html('No Of RTT Days Worked<span class="red">*</span>');
                                    }
                                    else if (splcasersn == 'Working on a Weekend') {
                                        $('#Edit_HLWorkedEXP').html('').html('No Of Weekend Days Worked<span class="red">*</span>');
                                    }
                                }
                                else {
                                    $('#EditLunch_splcase').css('display', 'none');
                                    $('#Edit_HLWorkedEXP').html('');
                                    if (LV_LwdDate == '' || LV_LwdDate == null || LV_LwdDate == 'null') {
                                        $('#Edit_attachmentEXP').css('display', 'block');
                                    } else {
                                        $('#Edit_attachmentEXP').css('display', 'none');
                                    }
                                }

                                PopulateEditLunchVoucher(editdata.SpecialCaseReason, type);
                                populateEditLunchVoucherDays(editdata.AssociateID, editdata.PayrollMonthID, editdata.Year);
                                EditLV_EligibleVoucherDetails(event);
                                GetSessionTimeoutEdit();
                            }
                        }
                    }

                    else if (componentGroupId == 54 || componentGroupId == 55) {
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();

                        $('.inner_cont').css("height", '195px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0]
                                $('#editval').attr("pkey", pkey);

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Assignment BeginDate</label><span id="asso_name" class="M_20">' + editdata.BeginDate + '</span></li>';
                                list += '<li><label>Currency</label><span id="asso_name" class="M_20">' + editdata.Currency + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Advised Year</label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>Amount <span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="EditUKA_Amount"/></li>';
                                list += '<li><label>Comments</label><input class="M_20" type="text" value="' + editdata.Comments + '" class="M_40 new_upload" id="EditUKA_Comments" /></li>';
                                list += '</ul>';
                            }

                            $('.popup_edit .inner_cont').html('').html(list);
                            $('#projid').numeric();

                            GetSessionTimeoutEdit();

                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Assignment BeginDate</label><span id="asso_name" class="M_20">' + editdata.BeginDate + '</span></li>';
                                list += '<li><label>Currency</label><span id="asso_name" class="M_20">' + editdata.Currency + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Advised Year</label><span id="SB_Year" class="M_20">' + editdata.Year + '</span></li>';
                                list += '<li><label>Amount <span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="EditUKA_Amount"/></li>';
                                list += '<li><label>Comments</label><input class="M_20" type="text" value="' + editdata.Comments + '" class="M_40 new_upload" id="EditUKA_Comments" /></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                            }

                            $('.popup_edit .inner_cont').html('').html(list);
                            $('#projid').numeric();
                            GetSessionTimeoutEdit();
                        }
                    }

                    else if (componentGroupId == 59) {  // YearEndBonus

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                var hiretype = editdata.HireType;
                                var bonustype = editdata.BonusType;

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span style="margin-left:10px">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>CountryWhereBonusAccrued<span class="red">*</span></label><input  type="text" value="' + editdata.CountryBonus + '" style="margin-left:10px" class="new_upload" id="LV_EditCountryBonus"/></li>';
                                list += '<li><label>HireType<span class="red">*</span></label><input  type="text" value="' + editdata.HireType + '" style="margin-left:10px" class="new_upload" id="editHireType"/></li>';
                                // list += '<li><label>PayoutType</label><span id="edit_YEBPayoutType" style="margin-left:5px">' + editdata.PayoutType + '</span></li>';
                                list += '<li><label>Currency</label><span id="edit_YEBcurrency" style="margin-left:10px">' + editdata.Currency + '</span></li>';
                                list += '<li><label>BonusType<span class="red">*</span></label><span style="margin-left:-50px" id="editBonusType" >' + editdata.BonusType + '</span></li>';
                                list += '<li><label id="EPP">PerformancePay</label><input style="margin-left:10px" type="text" value="' + editdata.PerformancePay + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label id="ETB">TargetBonus</label><input style="margin-left:5px" type="text" value="' + editdata.TargetBonus + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label id="ECP">CalculatedPlan</label><input style="margin-left:10px" type="text" value="' + editdata.CalculatedPlan + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label>TotalPayment<span class="red">*</span></label><input style="margin-left:5px" type="text" value="' + editdata.TotalPayment + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label>UKBonus Sacrifice<span class="red">*</span></label><input style="margin-left:10px" type="text" value="' + editdata.UKBonusSacrifice + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label>ActiveCountry<span class="red">*</span></label><input style="margin-left:5px"  type="text" value="' + editdata.ActiveCountry + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label>PaygroupType<span class="red">*</span></label><input style="margin-left:10px" type="text" value="' + editdata.PaygroupType + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label>Comments</label><input  type="text" style="margin-left:5px" value="' + editdata.Comments + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);

                                $('#LV_EditLeaveDays').numeric();
                                $('#LV_EditTrainingDays').numeric();
                                $('#LV_EditHolidays').numeric();

                                PopulateEditYearendbonus(bonustype, type, editdata.BonusTypeID);
                                //$("#editBonusType").change();
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var hiretype = editdata.HireType;
                                var bonustype = editdata.BonusType;
                                var expremarks = (msg.d[0][0].ExceptionRemarks.length > 20) ? msg.d[0][0].ExceptionRemarks.substring(0, 20) + '...' : msg.d[0][0].ExceptionRemarks;

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span style="margin-left:10px">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>CountryWhereBonusAccrued<span class="red">*</span></label><input style="margin-left:10px" type="text" value="' + editdata.CountryBonus + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label>HireType<span class="red">*</span></label><input  type="text" value="' + editdata.HireType + '" style="margin-left:10px" class="new_upload" id="editHireType"/></li>';
                                //list += '<li><label>PayoutType<span class="red">*</span></label><span id="asso_name" >' + editdata.PayoutType + '</span></li>';
                                list += '<li><label>Currency<span class="red">*</span></label><span style="margin-left:10px" id="asso_name" >' + editdata.Currency + '</span></li>';
                                list += '<li><label>BonusType<span class="red">*</span></label><span style="margin-left:-50px" id="editBonusType" >' + editdata.BonusType + '</span></li>';
                                list += '<li><label id="EPP">PerformancePay</label><input style="margin-left:10px" type="text" value="' + editdata.PerformancePay + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label id="ETB">TargetBonus</label><input  type="text" value="' + editdata.TargetBonus + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label id="ECP">CalculatedPlan</label><input style="margin-left:10px" type="text" value="' + editdata.CalculatedPlan + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label>TotalPayment<span class="red">*</span></label><input  type="text" value="' + editdata.TotalPayment + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label>UKBonus Sacrifice<span class="red">*</span></label><input style="margin-left:10px" type="text" value="' + editdata.UKBonusSacrifice + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label>ActiveCountry<span class="red">*</span></label><input  type="text" value="' + editdata.ActiveCountry + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label>PaygroupType<span class="red">*</span></label><input style="margin-left:10px" type="text" value="' + editdata.PaygroupType + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li><label>Comments</label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="LV_EditTrainingDays"/></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionRemarks.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:10px;">' + expremarks + '</span></li>';
                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditYearendbonus(type, editdata.BonusTypeID);
                                //$("#editBonusType").change();
                                GetSessionTimeoutEdit();
                            }
                        }
                    }
                    else if (componentGroupId == 56) {  // Travel Allowance

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        $('.inner_cont').css("height", '250px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                //string[] array1 = { "aa", "bb", "cc" };
                                //array1[] = editdata.LeaveDays + ',' + editdata.TrainingDays + ',' + editdata.HolidaysWorked + ',';

                                var editdata = msg.d[0][0];
                                //var mailattachments = editdata.SplCaseMailUploadId;
                                //var splcasersn = editdata.SpecialCaseReason;
                                //var TotalDays = editdata.EligibleDays;
                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="LV_editPayrollMonth">' + editdata.PayrollMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="LV_editYear">' + editdata.Year + '</span></li>';
                                list += '<li><label>Amount</label><span id="Travel_Amount">' + editdata.Amount + '</span></li>';
                                list += '<li><label>Project ID</label><span id="Travel_ProjectID">' + editdata.ProjectID + '</span></li>';
                                list += '<li><label>Account<span class="red">*</span></label><input  type="text" value="' + editdata.AccountID + '" class="new_upload" id="Travel_Account" style="width:100px"/></li>';
                                list += '<li><label>Frequency Type</label><span id="Travel_Frequency">' + editdata.FrequencyType + '</span></li>';
                                list += '<li><label>No of Payments</label><span id="Travel_NoOfPayments">' + editdata.NoOfPayments + '</span></li>';
                                list += '<li><label>DOJ</label><span id="Travel_DOJ">' + editdata.DOJ + '</span></li>';
                                list += '<li><label>Currency</label><span id="Travel_Currency">' + editdata.Currency + '</span></li>';

                                //list += '<li><label>Training/ Lunch with Clients</label><input  type="text" value="' + editdata.TrainingDays + '" onkeyup="return EditLV_EligibleVoucherDetails(event)" class="new_upload" id="LV_EditTrainingDays" maxlength="2" style="width:100px;" /></li>';
                                //list += '<li><label>Special Case Reason</label><select name="editLV_SplCase" id="editLV_SplCase" style="width:147px;margin-left:-1px;"><option value="-1" selected="selected">--Select Special Case Reason--</option></select></li>';
                                ////list += '<li></li>';
                                //list += '<li style="margin-top:15px"><label style="width: 325px;font-style:italic;font-weight:bold;margin-top:-16px;line-height:15px">(Enter number of days when lunch was provided at </br> training/Lunch with clients was reimbursed)</label></li>';
                                //list += '<li id="Edit_HLWorked" style="display:none"><label>No Of Holidays Worked<span class="red">*</span></label><input type="text" id="LV_EditHolidays" onkeyup="return EditLV_EligibleVoucherDetails(event)" value="' + editdata.HolidaysWorked + '" maxlength="2" style="Width:100px;" /></li>';
                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);

                                $('#Travel_Account').numeric();
                                $('#Travel_NoOfPayments').numeric();
                                $('#Travel_ProjectID').numeric();
                                $('#Travel_Amount').numeric();

                                //PopulateEditLunchVoucher(editdata.SpecialCaseReason, type);
                                //populateEditLunchVoucherDays(editdata.AssociateID, editdata.PayrollMonthID, editdata.Year);
                                //GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span >' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span><select name="edit_PayrollMonth" id="edit_PayrollMonth" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Year</label><span><select name="edit_PayrollYear" id="edit_PayrollYear" style="height:22px;width:60px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input type="text" value="' + editdata.Amount + '" class="new_upload" id="Travel_Amount" style="width:100px"/></li>';
                                list += '<li><label>Project ID<span class="red">*</span></label><input  type="text" value="' + editdata.ProjectID + '" class="new_upload" id="Travel_ProjectID" style="width:100px"/></li>';
                                list += '<li><label>Account<span class="red">*</span></label><input  type="text" value="' + editdata.AccountID + '" class="new_upload" id="Travel_Account"  style="width:100px"/></li>';
                                list += '<li><label>Frequency Type<span class="red">*</span></label><span><select name="Travel_Frequency" id="Travel_Frequency" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>No Of Payments<span class="red">*</span></label><input  type="text" value="' + editdata.NoOfPayments + '" class="new_upload" id="Travel_NoOfPayments"  style="width:100px"/></li>';
                                list += '<li value="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span>' + expremarks + '</span></li>';
                                list += '<li><label>DOJ</label><span id="Travel_DOJ">' + editdata.DOJ + '</span></li>';
                                list += '<li><label>Currency</label><span id="Travel_Currency">' + editdata.Currency + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                $('#Travel_NoOfPayments').numeric();
                                $('#Travel_Account').numeric();
                                $('#Travel_ProjectID').numeric();
                                $('#Travel_Amount').numeric();

                                PopulateEditTravelComponentDetails(editdata.FrequencyType, editdata.PayrollMonth, editdata.Year);

                                GetSessionTimeoutEdit();
                            }
                        }
                    }
                    else if (componentGroupId == 69) {  // Shadow Payroll Deduction Edit

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        $('.inner_cont').css("height", '250px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="LV_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="LV_editYear">' + editdata.AdvisedYear + '</span></li>';
                                list += '<li><label>Employee SS(GBP)<span class="red">*</span></label><input  type="text" value="' + editdata.EmployeeSS_GBP + '" class="new_upload" id="EmployeeSS_GBP" style="width:100px"/></li>';
                                list += '<li><label>Employer SS(GBP)<span class="red">*</span></label><input  type="text" value="' + editdata.EmployerSS_GBP + '" class="new_upload" id="EmployerSS_GBP" style="width:100px"/></li>';
                                list += '<li><label>Employee SS(USD)<span class="red">*</span></label><input  type="text" value="' + editdata.EmployeeSS_USD + '" class="new_upload" id="EmployeeSS_USD" style="width:100px"/></li>';
                                list += '<li><label>Employer SS(USD)<span class="red">*</span></label><input  type="text" value="' + editdata.EmployerSS_USD + '" class="new_upload" id="EmployerSS_USD" style="width:100px"/></li>';
                                list += '<li><label>Comments</label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="SPDEditcomments" style="width:100px"/></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                GetSessionTimeoutEdit();
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month<span class="red">*</span></label><span class="M_20"><select name="edit_AdvisedMonth" id="edit_AdvisedMonth" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Year<span class="red">*</span></label><span class="M_20"><select name="edit_AdvisedYear" id="edit_AdvisedYear" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Employee SS(GBP)<span class="red">*</span></label><input  type="text" value="' + editdata.EmployeeSS_GBP + '" class="new_upload" id="EmployeeSS_GBP" style="width:100px"/></li>';
                                list += '<li><label>Employer SS(GBP)<span class="red">*</span></label><input  type="text" value="' + editdata.EmployerSS_GBP + '" class="new_upload" id="EmployerSS_GBP" style="width:100px"/></li>';
                                list += '<li><label>Employee SS(USD)<span class="red">*</span></label><input  type="text" value="' + editdata.EmployeeSS_USD + '" class="new_upload" id="EmployeeSS_USD" style="width:100px"/></li>';
                                list += '<li><label>Employee SS(USD)<span class="red">*</span></label><input  type="text" value="' + editdata.EmployerSS_USD + '" class="new_upload" id="EmployerSS_USD" style="width:100px"/></li>';
                                list += '<li><label>Comments<span class="red">*</span></label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="SPDEditcomments" style="width:100px"/></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditShadowPayrollComponentDetails(editdata.AdvisedMonth, editdata.AdvisedYear);
                                ////GetSessionTimeoutEdit();
                            }
                        }
                    }


                    else if (componentGroupId == 63) {  // Singapore Deductions

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        $('.inner_cont').css("height", '250px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {


                                var editdata = msg.d[0][0];

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label class="M_15">Recovery Period<span class="red">*</span></label><input type="text"  id="SDRecoveryPeriod" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
                                list += '<li><label>Advised Month</label><span id="LV_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="LV_editYear">' + editdata.AdvisedYear + '</span></li>';
                                list += '<li><label class="M_15">Business Unit</label><span id="SDBU">' + editdata.BU + '</span></li>';
                                list += '<li><label class="M_15">Line Description<span class="red">*</span></label><input type="text"  id="SDLineDesc" value="' + editdata.Remarks + '" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
                                list += '<li><label class="M_15">Amount(SGD)<span class="red">*</span></label><input type="text"  id="SDAmount" value="' + editdata.Amount + '" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
                                list += '<li><label class="M_15" style="line-height:13px">Amount to be Recovered(SGP)<span class="red">*</span></label><input type="text"  id="SDAmtRecv_SGP" value="' + editdata.RecoveryAmount + '" style="width:137px;height:20px;margin-left:5px;margin-top:8px"  class="M_40 new_upload" /></li>';
                                list += '<li><label class="M_15">Exchange Rate<span class="red">*</span></label><input type="text"  id="SDExcRate" value="' + editdata.ExchangeRate + '" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
                                list += '<li><label class="M_15" style="line-height:21px">Amount to be Recovered(GBP)<span class="red">*</span></label><input type="text"  id="SDAmtRecv_GBP" value="' + editdata.RecoveryAmount_1 + '" style="width:137px;height:20px;margin-left:5px;margin-top:16px"  class="M_40 new_upload" /></li>';
                                list += '<li><label class="M_15">Balance<span class="red">*</span></label><input type="text"  id="SDBalance" value="' + editdata.Balance + '" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
                                list += '<li><label class="M_15" style="line-height:55px">Comments</label><input type="text"  id="SDComments"value="' + editdata.Comments + '" style="width:137px;height:20px;margin-top:21px;margin-left:5px;" class="M_40 new_upload" /></li>';
                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                                GetSessionTimeoutEdit();

                            }
                        }
                        else if (type == 2) {

                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                list += '<ul  pkey=' + pkey + '><li><label class="M_15">Associate ID</label><span style="margin-left:-40px;">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label class="M_15">Associate Name</label><span id="asso_name" style="margin-left:-40px;">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label class="M_15">Recovery Period<span class="red">*</span></label><input type="text"  id="SDRecoveryPeriod" value="' + editdata.StartDate + '" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
                                list += '<li><label class="M_15">Advised Month<span class="red">*</span></label><span class="M_20"><select name="edit_AdvisedMonth" id="edit_AdvisedMonth" style="height:22px;text-indent:6px;margin-left:-20px;"><option>--select--</option></select></span></li>';
                                list += '<li><label class="M_15">Year<span class="red">*</span></label><span class="M_20"><select name="edit_AdvisedYear" id="edit_AdvisedYear" style="height:22px;text-indent:6px;margin-left:-20px;margin-top:3px;"><option>--select--</option></select></span></li>';
                                list += '<li><label class="M_15">Business Unit</label><span id="SDBU">' + editdata.BU + '</span></li>';
                                list += '<li><label class="M_15">Line Description<span class="red">*</span></label><input type="text"  id="SDLineDesc" value="' + editdata.Remarks + '" style="width:137px;height:20px;margin-top:4px;" class="M_40 new_upload" /></li>';
                                list += '<li><label class="M_15">Amount(SGD)<span class="red">*</span></label><input type="text"  id="SDAmount" value="' + editdata.Amount + '" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
                                list += '<li><label class="M_15" style="line-height:13px">Amount to be Recovered(SGP)<span class="red">*</span></label><input type="text"  id="SDAmtRecv_SGP" value="' + editdata.RecoveryAmount + '" style="width:137px;height:20px;margin-top:10px"  class="M_40 new_upload" /></li>';
                                list += '<li><label class="M_15">Exchange Rate<span class="red">*</span></label><input type="text"  id="SDExcRate" value="' + editdata.ExchangeRate + '" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
                                list += '<li><label class="M_15" style="line-height:21px">Amount to be Recovered(GBP)<span class="red">*</span></label><input type="text"  id="SDAmtRecv_GBP" value="' + editdata.RecoveryAmount_1 + '" style="width:137px;height:20px;margin-top:16px"  class="M_40 new_upload" /></li>';
                                list += '<li><label class="M_15">Balance<span class="red">*</span></label><input type="text"  id="SDBalance" value="' + editdata.Balance + '" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
                                list += '<li><label class="M_15" style="line-height:55px">Comments</label><input type="text"  id="SDComments"value="' + editdata.Comments + '" style="width:137px;height:20px;margin-top:21px;" class="M_40 new_upload" /></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label class="M_15">Exception Remarks</label><span style="margin-left:-40px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);


                                PopulateEditSingaporeDeductionComponentDetails(editdata.AdvisedMonth, editdata.AdvisedYear);
                                ////GetSessionTimeoutEdit();
                            }
                        }
                    }
                    else if (componentGroupId == 62) {  // Sales Commission Edit

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        $('.inner_cont').css("height", '160px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Business Unit</label><span id="LV_editBU">' + editdata.BU + '</span></li>';
                                list += '<li><label>Annual Bonus as per Offer<span class="red">*</span></label><input  type="text" value="' + editdata.EmployeeSS_GBP + '" class="new_upload" id="BonusasperOffer" style="width:100px"/></li>';
                                list += '<li><label>Annual Bonus Payout <span class="red">*</span></label><input  type="text" value="' + editdata.EmployerSS_GBP + '" class="new_upload" id="BonusPayout" style="width:100px"/></li>';
                                list += '<li><label>H1 Bonus Paid</label><input  type="text" value="' + editdata.EmployeeSS_USD + '" class="new_upload" id="H1Bonus" style="width:100px"/></li>';
                                list += '<li><label>H2 Bonus Paid</label><input  type="text" value="' + editdata.EmployerSS_USD + '" class="new_upload" id="H2Bonus" style="width:100px"/></li>';
                                list += '<li><label>Comments<span class="red">*</span></label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="Comments" style="width:100px"/></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Business Unit<span class="red">*</span></label><input  type="text" value="' + editdata.BU + '" class="new_upload" id="bu" style="width:100px"/></li>';
                                list += '<li><label>Annual Bonus as per Offer<span class="red">*</span></label><input  type="text" value="' + editdata.EmployeeSS_GBP + '" class="new_upload" id="BonusasperOffer" style="width:100px"/></li>';
                                list += '<li><label>Annual Bonus Payout <span class="red">*</span></label><input  type="text" value="' + editdata.EmployerSS_GBP + '" class="new_upload" id="BonusPayout" style="width:100px"/></li>';
                                list += '<li><label>H1 Bonus Paid</label><input  type="text" value="' + editdata.EmployeeSS_USD + '" class="new_upload" id="H1Bonus" style="width:100px"/></li>';
                                list += '<li><label>H2 Bonus Paid</label><input  type="text" value="' + editdata.EmployerSS_USD + '" class="new_upload" id="H2Bonus" style="width:100px"/></li>';
                                list += '<li><label>Comments<span class="red">*</span></label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="Comments" style="width:100px"/></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span>' + expremarks + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                GetSessionTimeoutEdit();
                            }
                        }
                    }
                    else if (componentGroupId == 64) {  // Special PAy Edit
                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        $('.inner_cont').css("height", '145px');
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="LV_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="LV_editYear">' + editdata.AdvisedYear + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="Amount" style="width:100px"/></li>';
                                list += '<li><label>Currency</label><span id="LV_currency">' + editdata.Currency + '</span></li>';
                                list += '<li><label>Comments</label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="Comments" style="width:100px"/></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month<span class="red">*</span></label><span class="M_20"><select name="edit_AdvisedMonth" id="edit_AdvisedMonth" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Year<span class="red">*</span></label><span class="M_20"><select name="edit_AdvisedYear" id="edit_AdvisedYear" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="Amount" style="width:100px"/></li>';
                                list += '<li><label>Currency</label><span id="LV_currency">' + editdata.Currency + '</span></li>';
                                list += '<li><label>Comments</label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="Comments" style="width:100px"/></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditShadowPayrollComponentDetails(editdata.AdvisedMonth, editdata.AdvisedYear);
                                GetSessionTimeoutEdit();
                            }
                        }
                    }

                    else if (componentGroupId == 65) {  // India Travel Advance Edit
                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        $('.inner_cont').css("height", '250px');
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="LV_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="LV_editYear">' + editdata.AdvisedYear + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="Amount" style="width:100px"/></li>';
                                list += '<li><label>Currency</label><span id="LV_currency">' + editdata.Currency + '</span></li>';
                                list += '<li><label>Comments</label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="Comments" style="width:100px"/></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month<span class="red">*</span></label><span class="M_20"><select name="edit_AdvisedMonth" id="edit_AdvisedMonth" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Advised Year<span class="red">*</span></label><span class="M_20"><select name="edit_AdvisedYear" id="edit_AdvisedYear" style="height:22px;text-indent:6px;margin-left: 19px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Travel Id<span class="red">*</span></label><input  type="text" value="' + editdata.TravelID + '" class="new_upload" id="Amount" style="width:100px;margin-left:-20px"/></li>';
                                list += '<li><label>Balance</label><input  type="text" value="' + editdata.Balance + '" class="new_upload" id="Amount" style="width:100px"/></li>';
                                list += '<li><label>Foreign Currency</label><input  type="text" value="' + editdata.ForeignCurrency + '" class="new_upload" id="Amount" style="width:100px;margin-left:-20px"/></li>';
                                list += '<li><label>Recovery Amount<span class="red">*</span></label><input  type="text" value="' + editdata.RecoveryAmount + '" class="new_upload" id="Amount" style="width:100px"/></li>';
                                list += '<li><label>Currency</label><span id="edit_currency" style="margin-left:-20px">' + editdata.Currency + '</span></li>';
                                list += '<li><label>Comments</label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="Comments" style="width:100px"/></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditShadowPayrollComponentDetails(editdata.AdvisedMonth, editdata.AdvisedYear);
                                GetSessionTimeoutEdit();
                            }
                        }
                    }

                    else if (componentGroupId == 70) {  // India Net Deduction Edit
                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        $('.inner_cont').css("height", '250px');
                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }
                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="LV_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="LV_editYear">' + editdata.AdvisedYear + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="Amount" style="width:100px"/></li>';
                                list += '<li><label>Currency</label><span id="LV_currency">' + editdata.Currency + '</span></li>';
                                list += '<li><label>Comments</label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="Comments" style="width:100px"/></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                            }
                        }
                        else if (type == 2) {

                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month<span class="red">*</span></label><span class="M_20"><select name="edit_AdvisedMonth" id="edit_AdvisedMonth" style="height:22px;text-indent:6px;margin-left:20px"><option>--select--</option></select></span></li>';
                                list += '<li><label>Advised Year<span class="red">*</span></label><span class="M_20"><select name="edit_AdvisedYear" id="edit_AdvisedYear" style="height:22px;text-indent:6px;margin-left:20px"><option>--select--</option></select></span></li>';
                                list += '<li><label>Recovery Amount<span class="red">*</span></label><input  type="text" value="' + editdata.RecoveryAmount + '" class="new_upload" id="Amount" style="width:100px"/></li>';
                                list += '<li><label>Currency</label><span id="edit_currency">' + editdata.Currency + '</span></li>';
                                list += '<li><label>Exchange Rate<span class="red">*</span></label><input  type="text" value="' + editdata.ExchangeRate + '" class="new_upload" id="Amount" style="width:100px"/></li>';
                                list += '<li><label>Recovery Amount(INR)<span class="red">*</span></label><input  type="text" value="' + editdata.RecoveryAmount_1 + '" class="new_upload" id="Amount" style="width:100px"/></li>';
                                list += '<li><label>Balance (INR)<span class="red">*</span></label><input  type="text" value="' + editdata.Balance + '" class="new_upload" id="Amount" style="width:100px"/></li>';
                                list += '<li><label>Comments</label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="Comments" style="width:100px"/></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:1px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditShadowPayrollComponentDetails(editdata.AdvisedMonth, editdata.AdvisedYear);
                                GetSessionTimeoutEdit();
                            }
                        }
                    }

                    else if (componentGroupId == 68) {  // Miscellaneous Deduction Edit

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        $('.inner_cont').css("height", '250px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label class="M_15" style="line-height:26px">Deduction Type</label><span id="MDDeductionType" style="margin-left:-15px;margin-top:4px">' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="Amount" style="width:100px"/></li>';
                                list += '<li><label>Currency</label><span id="LV_currency">' + editdata.Currency + '</span></li>';
                                list += '<li><label>Comments</label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="Comments" style="width:100px"/></li>';


                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);


                            }
                        }
                        else if (type == 2) {

                            if (msg.d.length > 0) {

                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Deduction Type</label><span>' + editdata.DeductionType + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="Amount" style="width:100px"/></li>';
                                list += '<li><label>Currency</label><span id="edit_Currency">' + editdata.Currency + '</span></li>';
                                list += '<li><label>Comments</label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="Comments" style="width:100px"/></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                PopulateEditMiscellaneousComponentDetails();
                                ////GetSessionTimeoutEdit();
                            }
                        }
                    }

                    else if (componentGroupId == 75 || (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71
                        || componentGroupId == 72 || componentGroupId == 74 || componentGroupId == 73 || ((componentGroupId == 3 || componentGroupId == 29
                            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="Fin_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="Fin_editYear">' + editdata.Year + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="Fin_editAmount" style="width:100px"/></li>';
                                list += '<li><label>Project ID<span class="red">*</span></label><input  type="text" value="' + editdata.ProjectId + '" class="new_upload" id="Fin_editProjectID" style="width:100px"/></li>';
                                list += '<li><label>PaymentDate</label><span id="">' + editdata.PaymentDate + '</span></li>';
                                if (((componentGroupId == 3 || componentGroupId == 29
                                    || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {
                                    list += '<li><label>RetentionEndDate<span class="red">*</span></label><input type="text" id="Retention_enddate" value="' + editdata.RetentionEndDate + '" class="popup_date"  style="width:137px;height:20px;margin-left:0px;"/></li>';
                                    list += '<li><label>ClawbackType</label><span id="">' + editdata.ClawBackType + '</span></li>';

                                }

                                list += '<li><label>Remarks</label><input  type="text" value="' + editdata.InputRemarks + '" class="new_upload" id="Fin_editAmount" style="width:100px"/></li>';
                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="Fin_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="Fin_editYear">' + editdata.Year + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="Fin_editAmount" style="width:100px"/></li>';
                                list += '<li><label>Project ID<span class="red">*</span></label><input  type="text" value="' + editdata.ProjectID + '" class="new_upload" id="Fin_editProjectID" style="width:100px"/></li>';
                                list += '<li><label>Payment Date<span class="red">*</span></label><span class="M_20"><select name="edit_paymentdate" id="edit_paymentdate" style="height:22px;text-indent:6px;margin-left:20px"><option>--select--</option></select></span></li>';
                                if (((componentGroupId == 3 || componentGroupId == 29
                                    || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {
                                    list += '<li><label>RetentionEndDate<span class="red">*</span></label><input type="text" id="Retention_enddate" value="' + editdata.RetentionEndDate + '" class="popup_date"  style="width:137px;height:20px;margin-left:0px;"/></li>';
                                    list += '<li><label>ClawbackType</label><span id="">' + editdata.ClawBackType + '</span></li>';

                                }
                                list += '<li><label>Remarks</label><input  type="text" value="' + editdata.InputRemarks + '" class="new_upload" id="Fin_editAmount" style="width:100px"/></li>';
                                list += '<li value="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span>' + expremarks + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                PopulateEditmidyearComponentDetails(editdata.PaymentDate);
                                GetSessionTimeoutEdit();
                            }
                        }
                    }

                    else if (componentGroupId == 76 || componentGroupId == 77 || componentGroupId == 78) {  // mid year edit

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        $('.inner_cont').css("height", '250px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {


                                var editdata = msg.d[0][0];

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>AssociateName</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="LV_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="LV_editYear">' + editdata.AdvisedYear + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="Amount" style="width:100px"/></li>';
                                list += '<li><label>PaymentDate</label><span id="PaymentDate" >' + editdata.PaymentDate + '</span></li>';
                                list += '<li><label>Remarks</label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="SPDEditcomments" style="width:100px"/></li>';

                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                GetSessionTimeoutEdit();

                            }
                        }
                        else if (type == 2) {

                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>AssociateName</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="LV_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="LV_editYear">' + editdata.AdvisedYear + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="Amount" style="width:100px"/></li>';
                                list += '<li><label>Payment Date<span class="red">*</span></label><span class="M_20"><select name="edit_paymentdate" id="edit_paymentdate" style="height:22px;text-indent:6px;margin-left:20px"><option>--select--</option></select></span></li>';
                                list += '<li><label>Remarks</label><input  type="text" value="' + editdata.Comments + '" class="new_upload" id="SPDEditcomments" style="width:100px"/></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditmidyearComponentDetails(editdata.PaymentDate);


                            }
                        }
                    }

                    else if (componentGroupId == 58) {   //HDMF and SSS Loan

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        $('.inner_cont').css("height", '250px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span>' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="Ln_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="Ln_editYear">' + editdata.Year + '</span></li>';
                                list += '<li><label>Amount</label><span id="B_Amount">' + editdata.Amount + '</span></li>';
                                list += '<li><label>Registry Number<span class="red">*</span></label><input class="new_upload thingsedit"  type="text" id="B_RegistryNumber" value="' + editdata.RegistryNumber + '"/><span class = "thingsmsg" id="promptMessage" style=" display : none; color: red; margin-left: -292px; font-size:10px; position: relative; bottom : -14px;">Please enter Numeric/Alphanumeric values only</span></li>';
                                list += '<li><label>Marital Status<span class="red">*</span></label><select name="editB_maritalstatus" id="editB_maritalstatus"><option value="-1" selected="selected">--Select maritalstatus --</option></select></li>';
                                list += '<li><label>RelationshipWithDeceased<span class="red">*</span></label><select name="B_ediRelationship" id="B_ediRelationship"><option value="-1" selected="selected">--Select relationship --</option></select></li>';
                                list += '<li><label>PaymentDate</label><span id="Ln_editPaymentdate">' + editdata.PaymentDate + '</span></li>';
                                list += '<li><label>Remarks</label><input class="new_upload" type="text" id="B_Remarks" value="' + editdata.InputRemarks + '" /></li></ul>';
                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (editdata.FileUploadID == 0 || editdata.FileUploadID == undefined) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Special Case Mail</label><a href='#' fileuploadid=\"" + editdata.FileUploadID + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + editdata.FileUploadID + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li></ul>';
                                    }
                                }
                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (editdata.FileUploadID == 0 || editdata.FileUploadID == undefined) {

                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Special Case Mail</label><a href='#' fileuploadid=\"" + editdata.FileUploadID + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + editdata.FileUploadID + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li></ul>';
                                    }
                                }
                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditBearevementComponentDetails(editdata.MaritalName, editdata.RelationshipName, editdata.MaritalStatus, editdata.Relationship);
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><label id="BAssoname" class="new_upload"></label></li>'
                                list += '<li><label>Advised Month</label><span id="Ln_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Year</label><span id="Ln_editYear">' + editdata.Year + '</span></li>';
                                list += '<li><label>Amount</label><label id="B_Amount" class="new_upload"></label></li>';
                                list += '<ul ><li><label>Registry Number<span class="red">*</span></label><input class="new_upload" type="text" id="B_editRegistryNumber"/></li>';
                                list += '<li><label>Marital Status<span class="red">*</span></label><select name="editB_marital" id="editB_marital"><option value="-1" selected="selected">--Select Year --</option></select></li>';
                                list += '<li><label>Relationship with the deceased<span class="red">*</span></label><select name="B_ediRelationship" id="B_ediRelationship"><option value="-1" selected="selected">--Select Year --</option></select></li>';
                                list += '<li><label>Relationship with the deceased<span class="red">*</span></label><select name="B_ediRelationship" id="B_ediRelationship"><option value="-1" selected="selected">--Select Year --</option></select></li>';
                                list += '<li><label>Remarks</label><input class="new_upload" type="text" id="B_Remarks" value="" /></li></ul>';
                                list += '<ul style="margin-left:5px;"><li><iframe id="frameB_Certificate" src="../APAC_FileUpload.aspx?componentId=51" width="340px" height="40px" frameborder="0"  allowtransparency="true"></iframe></li>';
                                list += '<li style="margin-left:-1px;padding-top:5px;"><div id="aft_uploadB_Certificate" style="display:none;"></div></li></ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                GetSessionTimeoutEdit();
                            }
                        }
                        $('#LoanAmount').numeric();
                        $('#interestAmount').numeric();
                        $('#BalanceAmount').numeric();
                        $('#LnTerm').numeric();
                        $('#MonthlyAmount').numeric();
                        $('#Lnprevpaydate').numeric();

                    }

                    else if (componentGroupId == 79 || componentGroupId == 80 || componentGroupId == 81) {  //// Sick leave conversion , Ad-hoc payment and One time payment Edit

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        $('.inner_cont').css("height", '250px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {


                                var editdata = msg.d[0][0];

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="asso_name" >' + editdata.Advised + '</span></li>';
                                list += '<li><label>Advised Year</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="EmployeeSS_GBP" style="width:100px"/></li>';
                                list += '<li><label>Payment Date<span class="red">*</span></label><span class="M_20"><select name="edit_PaymentDate" id="edit_PaymentDate" style="height:22px;text-indent:6px;"><option>--select PaymentDate--</option></select></span></li>';
                                list += '<li><label>Remarks<span class="red">*</span></label><input  type="text" value="' + editdata.Remarks + '" class="new_upload" id="EmployeeSS_USD" style="width:100px"/></li>';
                                if (componentGroupId == 79) {
                                    list += '<li><label>No of Days Encashed<span class="red">*</span></label><input  type="text" value="' + editdata.DaysEncashed + '" class="new_upload" id="DaysEncashed" style="width:100px"/></li>';
                                }
                                if (componentGroupId == 81) {
                                    list += '<li><label>Taxable<span class="red">*</span></label><span class="M_20"><select name="edit_Taxable" id="edit_Taxable" style="height:22px;text-indent:6px;"><option>--select Taxable--</option></select></span></li>';
                                }
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                                GetSessionTimeoutEdit();

                            }
                        }
                        else if (type == 2) {

                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;
                                var ProjectID = '';
                                if (editdata.ProjectID == 'NULL' || editdata.ProjectID == 'Undefined') {
                                    ProjectID = '';
                                }
                                else {
                                    ProjectID = editdata.ProjectID;
                                }

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="asso_name" >' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Advised Year</label><span id="asso_name" >' + editdata.AdvisedYear + '</span></li>';
                                list += '<li><label>Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="EmployeeSS_GBP" style="width:100px"/></li>';
                                list += '<li><label>Payment Date<span class="red">*</span></label><span class="M_20"><select name="edit_PaymentDate" id="edit_PaymentDate" style="height:22px;text-indent:6px;margin-left:19px"><option>--select--</option></select></span></li>';
                                list += '<li><label>Remarks<span class="red">*</span></label><input  type="text" value="' + editdata.Remarks + '"class="new_upload" id="EmployeeSS_GBP" style="width:100px"/></li>';
                                if (componentGroupId == 79) {
                                    list += '<li><label>No of Days Encashed<span class="red">*</span></label><input  type="text" value="' + editdata.DaysEncashed + '" class="new_upload" id="EmployerSS_USD" style="width:100px"/></li>';
                                }
                                if (componentGroupId == 81) {
                                    list += '<li><label>ProjectID<span class="red">*</span></label> <input  type="text" value="' + editdata.ProjectID + '"class="new_upload" id="SAO_ProjectID" style="width:100px"/></li>';
                                    list += '<li><label>Taxable<span class="red">*</span></label><span class="M_20"><select name="edit_Taxable" id="edit_Taxable" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                }
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-1px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                $('#SAO_ProjectID').numeric();
                                PopulateEditSAOComponentDetails(editdata.PaymentDate, editdata.Taxable);

                            }
                        }
                    }

                    else if (componentGroupId == 83) {  //// Lost Admin Access Edit

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        $('.inner_cont').css("height", '250px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="asso_name" >' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Advised Year</label><span id="asso_name" >' + editdata.AdvisedYear + '</span></li>';
                                list += '<li><label>Principal Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="LAA_Amount_Edit" style="width:100px"/></li>';
                                list += '<li><label>Amortization Amount<span class="red">*</span></label><input  type="text" value="' + editdata.AmortizationAmount + '" class="new_upload" id="LAA_AmortizationAmount_Edit" style="width:100px"/></li>';
                                list += '<li><label>Payment Date</label><span id="asso_name" >' + editdata.PaymentDate + '</span></li>';
                                list += '<li><label>Remarks</label><input  type="text" value="' + editdata.Remarks + '" class="new_upload" id="EmployeeSS_USD" style="width:100px"/></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="asso_name" >' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Advised Year</label><span id="asso_name" >' + editdata.AdvisedYear + '</span></li>';
                                list += '<li><label>Principal Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="LAA_Amount_Edit" style="width:100px"/></li>';
                                list += '<li><label>Amortization Amount<span class="red">*</span></label><input  type="text" value="' + editdata.AmortizationAmount + '" class="new_upload" id="LAA_AmortizationAmount_Edit" style="width:100px"/></li>';
                                list += '<li><label>Payment Date<span class="red">*</span></label><span class="M_20"><select name="edit_PaymentDate" id="edit_PaymentDate" style="height:22px;text-indent:6px;margin-left:19px"><option>--select--</option></select></span></li>';
                                list += '<li><label>Remarks<span class="red">*</span></label><input  type="text" value="' + editdata.Remarks + '" class="new_upload" id="EmployeeSS_USD" style="width:100px"/></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-1px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);

                                PopulateEditLAAComponentDetails(editdata.PaymentDate);

                            }
                        }
                    }
                    else if (componentGroupId == 94) {

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="LS_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Advised Year</label><span id="LS_editYear">' + editdata.Year + '</span></li>';
                                list += '<li><label>PrincipalAmount<span class="red">*</span></label><input  type="text" value="' + editdata.PrincipalAmount + '" class="new_upload" id="LS_editPrincipalAmount" style="width:100px"/></li>';
                                //list += '<li><label>Date Granted</label><span id="LS_Dategranted">' + editdata.DateGranted + '</span></li>';                   
                                list += '<li><label>Date Granted<span class="red">*</span></label><input type="text" id="LS_editDateGranted" value="' + editdata.DateGranted + '"  class="popup_date" style="width:137px;height:20px;" /></li>';
                                list += '<li><label style="width:170px">Semimonthly Amortization<span class="red">*</span></label><input  type="text" value="' + editdata.SemiAmortization + '" class="new_upload" id="LS_editSemimonthly" style="width:100px"/></li>';
                                list += '<li><label>LoanType<span class="red">*</span></label><input  type="text" value="' + editdata.LoanType + '" class="new_upload" id="LS_editLoanType" style="width:100px"/></li>';
                                list += '<li><label>PaymentDate</label><span id="">' + editdata.PaymentDate + '</span></li>';
                                list += '<li><label>Remarks</label><input  type="text" value="' + editdata.Remarks + '" class="new_upload" id="LS_editremarks" style="width:100px"/></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                $("#LS_editDateGranted").datepicker("destroy");
                                $("#LS_editDateGranted").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="LS_editPayrollMonth">' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Advised Year</label><span id="LS_editYear">' + editdata.Year + '</span></li>';
                                list += '<li><label>PrincipalAmount<span class="red">*</span></label><input  type="text" value="' + editdata.PrincipalAmount + '" class="new_upload" id="LS_editPrincipalAmount" style="width:100px"/></li>';
                                //list += '<li><label>Date Granted</label><span id="LS_Dategranted">' + editdata.DateGranted + '</span></li>';
                                list += '<li><label>Date Granted<span class="red">*</span></label><input type="text" id="LS_editDateGranted" value="' + editdata.DateGranted + '"  class="popup_date" style="width:137px;height:20px;" /></li>';
                                list += '<li><label style="width:170px" >Semimonthly Amortization<span class="red">*</span></label><input  type="text" value="' + editdata.SemiAmortization + '" class="new_upload" id="LS_editSemimonthly" style="width:100px"/></li>';
                                list += '<li><label>LoanType<span class="red">*</span></label><input  type="text" value="' + editdata.LoanType + '" class="new_upload" id="LS_editLoanType" style="width:100px"/></li>';
                                list += '<li><label>Payment Date<span class="red">*</span></label><span class="M_20"><select name="edit_paymentdate" id="edit_paymentdate" style="height:22px;text-indent:6px;margin-left:20px"><option>--select--</option></select></span></li>';
                                list += '<li><label>Remarks</label><input  type="text" value="' + editdata.Remarks + '" class="new_upload" id="LS_editremarks" style="width:100px"/></li>';
                                list += '<li value="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span>' + expremarks + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                $("#LS_editDateGranted").datepicker("destroy");
                                $("#LS_editDateGranted").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                PopulateEditmidyearComponentDetails(editdata.PaymentDate);
                                GetSessionTimeoutEdit();
                            }
                        }
                    }
                    else if (componentGroupId == 84) {  ////HDMF contribution edit

                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');
                        $('.inner_cont').css("height", '250px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="asso_name" >' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Advised Year</label><span id="asso_name" >' + editdata.AdvisedYear + '</span></li>';
                                list += '<li><label>Employee Share Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="EmployeeSS_GBP" style="width:100px"/></li>';
                                list += '<li><label>Start Date</label><span id="asso_name" >' + editdata.StartDate + '</span></li>';
                                list += '<li><label>End Date</label><span id="asso_name" >' + editdata.EndDate + '</span></li>';
                                list += '<li><label>Payment Date</label><span id="asso_name" >' + editdata.PaymentDate + '</span></li>';
                                list += '<li><label>Remarks</label><input  type="text" value="' + editdata.Remarks + '" class="new_upload" id="EmployeeSS_USD" style="width:100px"/></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                ////GetSessionTimeoutEdit();

                            }
                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span>' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" >' + editdata.AssociateName + '</span></li>';
                                list += '<li><label>Advised Month</label><span id="asso_name" >' + editdata.AdvisedMonth + '</span></li>';
                                list += '<li><label>Advised Year</label><span id="asso_name" >' + editdata.AdvisedYear + '</span></li>';
                                list += '<li><label>Employee Share Amount<span class="red">*</span></label><input  type="text" value="' + editdata.Amount + '" class="new_upload" id="EmployeeSS_GBP" style="width:100px"/></li>';
                                list += ' <li><label>StartDate <span class="red">*</span></label><input type="text" id="Lnstartdate" value="' + editdata.StartDate + '" class="popup_date" style="width:137px;height:20px;margin-left:2px"/></li>';
                                list += ' <li><label>EndDate <span class="red">*</span></label><input type="text" id="Lnenddate" value="' + editdata.EndDate + '" class="popup_date" style="width:137px;height:20px;margin-left:1px"/></li>';
                                list += '<li><label>Payment Date<span class="red">*</span></label><span class="M_20"><select name="edit_PaymentDate" id="edit_PaymentDate" style="height:22px;text-indent:6px;margin-left:23px"><option>--select--</option></select></span></li>';
                                list += '<li><label>Remarks<span class="red">*</span></label><input  type="text" value="' + editdata.Remarks + '" class="new_upload" id="EmployeeSS_USD" style="width:100px"/></li>';

                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:5px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditHDMFContributionComponentDetails(editdata.PaymentDate);
                            }
                        }
                    }

                    $('.popup_edit select:not(.styled)').css('border', '1px solid');
                    var obj = $('.popup_edit').find('ul:first-child');
                    obj.find('li:first-child span')
                    var windowWidth = '100%';
                    var windowHeight = '100%';
                    var popupHeight = $(".popup_edit").height();
                    var popupWidth = $(".popup_edit").width();
                    //console.log(window.parent)
                    var ele = window.parent.document.getElementById('background');
                    //console.log(ele)
                    $(ele).fadeIn("slow")
                    $(".background_bg").fadeIn("slow");
                    $('.popup_edit').fadeIn("slow");
                    $(".background_bg").css({
                        "opacity": "0.5"
                    });
                    $('.popup_edit').css({
                        'position': 'absolute',
                        'z-index': '100',
                        "top": ((($(window).height() - popupHeight) / 2) + $(window).scrollTop() - 18) + "px",
                        "left": "10%"
                    });

                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
    //--------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../WebMethods.aspx/FileUploadMethod",
        data: "{}",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (msg) {
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
});

function PopulateOT(type) {
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';
    var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + loginId + '"}';
    var option_html = '';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/IsAssociateServianContino",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            if (msg.d.length > 0) {
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                msg1 = msg.d[1];
                $.each(msg1, function (i, data) {

                    option_html += "<option value='" + msg1[i].Type + "'>" + msg1[i].Type + "</option>";
                });
            }
            $('#EditAllowanceTypeOT').html(option_html);
            //$(".popup_edit .inner_cont ul li:nth-child(9) select option:contains(" + type + ")").attr('selected', 'selected');
            $('.popup_edit .inner_cont #EditAllowanceTypeOT').val(type);

        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

$(document).on('change', '#editsplcase', function () {
    var val = $(this).val();
    if (val == '-1') {
        $('#aft_uploadhide').hide();
        $('#editframe1').hide();
    }
    else {
        $('#aft_uploadhide').show();
        $('#editframe1').show();
        $('#frameforhide').show();
        var iframe = document.getElementById('frameforhide');
        var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
        var input = innerDoc.getElementById('spanhide');
        if (CountryId == 2) {
            $(input).hide();
        }
        else {
            $(input).show();
        }
    }
    return false;
});

$(document).on('mouseover', '#editsplcase', function () {
    var val = $(this).val();
    if (val == '-1') {
        $('#aft_uploadhide').hide();
        $('#editframe1').hide();
    }
    else {
        $('#aft_uploadhide').show();
        $('#editframe1').show();
        var iframe = document.getElementById('frameforhide');
        var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
        var input = innerDoc.getElementById('spanhide');
        if (CountryId == 2) {
            $(input).hide();
        }
        else {
            $(input).show();
        }
    }
    return false;
});

$(document).on('page', '#editsplcase', function () {
    var val = $(this).val();
    if (val == '-1') {
        $('#aft_uploadhide').hide();
        $('#editframe1').hide();
    }
    else {
        $('#aft_uploadhide').show();
        $('#editframe1').show();
        var iframe = document.getElementById('frameforhide');
        var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
        var input = innerDoc.getElementById('spanhide');
        if (CountryId == 2) {
            $(input).hide();
        }
        else {
            $(input).show();
        }
    }
    return false;
});

$(document).on('mouseover', '#splcase', function () {
    var val = $("#splcase").val();

    if (val == '-1') {
        //$('#spanhide').css('display', 'none');
        $('#aft_uploadhide').hide();
        $('#frame1').hide();
    }
    else {
        $('#aft_uploadhide').show();
        $('#frame1').show();
        var iframe = document.getElementById('frameforhide');
        var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
        var input = innerDoc.getElementById('spanhide');
        if (CountryId == 2) {
            $(input).hide();
        }
        else {
            $(input).show();
        }

    }
    return false;
});

$(document).on('change', '#splcase', function () {
    var val = $("#splcase").val();

    if (val == '-1') {
        $('#aft_uploadhide').hide();
        $('#frame1').hide();
    }
    else {
        $('#aft_uploadhide').show();
        $('#frame1').show();
        var iframe = document.getElementById('frameforhide');
        var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
        var input = innerDoc.getElementById('spanhide');
        if (CountryId == 2) {
            $(input).hide();
        }
        else {
            $(input).show();
        }

    }
    return false;
});

$(document).on('page', '#splcase', function () {
    var val = $("#splcase").val();

    if (val == '-1') {
        //$('#spanhide').css('display', 'none');
        $('#aft_uploadhide').hide();
        $('#frame1').hide();
    }
    else {
        $('#aft_uploadhide').show();
        $('#frame1').show();
        var iframe = document.getElementById('frameforhide');
        var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
        var input = innerDoc.getElementById('spanhide');
        if (CountryId == 2) {
            $(input).hide();
        }
        else {
            $(input).show();
        }

    }
    return false;
});

$(document).on('mouseover', '.popup_view .inner_cont ul li span,.popup_new .inner_cont ul li span,.popup_edit .inner_cont ul li span', function () {
    $(this).attr('title', $(this).parent().attr('livalue'));
});

$(document).on('change', '#refsplcase', function () {
    var tooltip = $(this).find(":selected").text();
    $("#refsplcase").attr("title", tooltip);
});

$(document).on('click', '#btn_Update', function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    var componentGroupId = $('#bonus').val();
    var mailUploadId = 0;
    var attachmail1 = 0;
    var attachmail2 = 0;
    var InvoiceUploadIdSF = 0;
    var Decl = 0;
    var type = '';
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    else if ($('#a_otherGeo').hasClass('selected')) {
        type = 3;
    }
    var error = '';
    var amountMailID = 0;
    var transportMailUploadID = 0;
    var transportInvoiceID = 0;
    var certificateID = 0;
    //INVoice

    if (typeof certificateID === 'undefined') {
        certificateID = 0;
    }
    var InvoiceUploadIdSF;
    var Decl;
    var mailUploadId;
    var splcasemailId;
    var TMmailUploadId;

    var schoolFeesReceiptID = 0;
    var approvalMailSF = 0;

    if (ocm == "1") {
        if ($("#aft_uploadocmapprovaledit a").attr("fileuploadid")) {
            mailUploadId = $("#aft_uploadocmedit a").attr("fileuploadid");
            splcasemailId = $("#aft_uploadocmedit a").attr("fileuploadid");
            TMmailUploadId = $("#aft_uploadocmedit a").attr("fileuploadid");
            transportMailUploadID = $("#aft_uploadocmedit a").attr("fileuploadid");
            transportInvoiceID = $("#aft_uploadocmedit a").attr("fileuploadid");
            certificateID = $("#aft_uploadocmedit a").attr("fileuploadid");
            InvoiceUploadIdSF = $("#aft_uploadocmsplcasemailedit a").attr("fileuploadid");
            Decl = $("#aft_uploadocmapprovaledit a").attr("fileuploadid");
        }
        else {
            mailUploadId = "";
            splcasemailId = "";
            TMmailUploadId = "";
            transportMailUploadID = "";
            transportInvoiceID = "";
            InvoiceUploadIdSF = "";
            Decl = "";
            certificateID = "";
        }

    }
    else {
        if ($("#aft_uploadocmapprovaledit a").attr("fileuploadid")) {
            mailUploadId = $("#aft_uploadocmedit a").attr("fileuploadid");
            splcasemailId = $("#aft_uploadocmedit a").attr("fileuploadid");
            TMmailUploadId = $("#aft_uploadocmedit a").attr("fileuploadid");
            transportMailUploadID = $("#aft_uploadocmedit a").attr("fileuploadid");
            transportInvoiceID = $("#aft_uploadocmedit a").attr("fileuploadid");
            certificateID = $("#aft_uploadocmedit a").attr("fileuploadid");
            InvoiceUploadIdSF = $("#aft_uploadocmsplcasemailedit a").attr("fileuploadid");
            Decl = $("#aft_uploadocmapprovaledit a").attr("fileuploadid");
        }
        else {
            mailUploadId = "";
            splcasemailId = "";
            TMmailUploadId = "";
            transportMailUploadID = "";
            transportInvoiceID = "";
            InvoiceUploadIdSF = "";
            Decl = "";
            certificateID = "";
        }
    }


    if (typeof mailUploadId === 'undefined' || mailUploadId == "undefined") {
        mailUploadId = 0;
    }
    if (typeof splcasemailId === 'undefined' || splcasemailId == "undefined") {
        splcasemailId = 0;
    }
    if (typeof TMmailUploadId === 'undefined' || TMmailUploadId == "undefined") {
        TMmailUploadId = 0;
    }


    if (typeof schoolFeesReceiptID === 'undefined') {
        schoolFeesReceiptID = 0;
    }


    if (typeof approvalMailSF === 'undefined') {
        approvalMailSF = 0;
    }


    if (typeof InvoiceUploadIdSF === 'undefined') {
        InvoiceUploadIdSF = 0;
    }

    if (typeof Decl === 'undefined') {
        Decl = 0;
    }
    if (typeof transportMailUploadID === 'undefined') {
        transportMailUploadID = 0;
    }

    if ($("#editAmount").attr("prevval") != $("#editAmount").val()) {
        amountMailID = $("#App_aft_upload a").attr("fileuploadid");
        if (typeof amountMailID === 'undefined') {
            amountMailID = 0;
        }
    }

    //Added by 290056 
    //Purpose : To set mailuploadId to 0 in case of no mail is attached

    // else if (componentGroupId == 58) {//ReferralBonus

    //     if (type == 1) {
    //         var bulkupload = 3;
    //     }
    //     else if (type == 2) {
    //         var bulkupload = 4;
    //     }

    //     var objul1 = $(this).closest('.popup_edit').find('.inner_cont ul:first-child');
    //     var pkey = objul1.attr('pkey');
    //     var obj = $(this).closest('.popup_new').find('.inner_cont ul');
    //     var associateid = obj.find('li:nth-child(1) span').text();
    //     var advisedmonth = obj.find('li:nth-child(3) span').text();
    //     var advisedyear = obj.find('li:nth-child(4) span').text();
    //     var amount = obj.find('li:nth-child(5) span').text();
    //     var registrynumber = obj.find('li:nth-child(6) input').val();
    //     var maritalstatus = obj.find('li:nth-child(7) select').val();
    //     var relationship = obj.find('li:nth-child(8) select').val();
    //     var paymentdate = obj.find('li:nth-child(9) span').text();
    //     var remarks = obj.find('li:nth-child(10) input').val();
    //     var mailuploadid = 0;


    //     if ( amount == '' || registrynumber == "" || maritalstatus == '-1'
    //         || relationship == '-1' ) {
    //         $('.popup_new .innerErrorHolder').text('Please fill mandatory Fields');
    //         $('.popup_new .innerErrorHolder').removeClass("green");
    //         $('.popup_new .innerErrorHolder').addClass("red");
    //         $('.popup_new .innerErrorHolder').css('font-size', '14px');
    //         $("#progressBackgroundFilter").hide();
    //         $("#processMessage").hide();
    //         return false
    //     }


    //     var datastring = '{"associateid":"' + associateid + '","componentGroupId":"' + componentGroupId + '","advisedmonth":"' + advisedmonth + '","advisedyear":"' + advisedyear + '","amount":"' + amount + '","registrynumber":"' + registrynumber + '","maritalstatus":"' + maritalstatus + '","relationship":"' + relationship + '","paymentdate":"' + paymentdate + '","remarks":"' + remarks + '","mailuploadid":"' + mailuploadid + '","bulkupload":"' + bulkupload + '"}';
    //     $.ajax({
    //         type: "POST",
    //         url: "../APAC_WebMethods.aspx/SaveBereavementNewData_CE",
    //                 contentType: "application/json; charset=utf-8",
    //                 dataType: "json",
    //                 data: datastring,
    //                 cache: false,
    //                 success: function (msg) {
    //                     if (msg.d == 'success') {
    //                         $('.popup_edit .innerErrorHolder').removeClass("red");
    //                         $('.popup_edit .innerErrorHolder').addClass("green");
    //                         $('.popup_edit .innerErrorHolder').text('updated Successfully');
    //                         $("#progressBackgroundFilter").hide();
    //                         $("#processMessage").hide();
    //                         $('#a_valid').addClass('selected');
    //                         $('#a_exceptions').removeClass('selected');
    //                         $('#a_otherGeo').removeClass('selected');
    //                         if ($('#a_valid').hasClass('selected')) {
    //                             type = 1;
    //                         }

    //                         $("#dwnload_Data").show();
    //                         $("#dwnload_Datadivider").show();
    //                     }

    //                     else {
    //                         $('.popup_edit .innerErrorHolder').removeClass("green");
    //                         $('.popup_edit .innerErrorHolder').addClass("red");
    //                         msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
    //                         $('.popup_edit .innerErrorHolder').text(msg.d);
    //                         $("#progressBackgroundFilter").hide();
    //                         $("#processMessage").hide();
    //                         $("#dwnload_Data").show();
    //                         $("#dwnload_Datadivider").show();
    //                     }
    //                     if ($('#aid').val() == '' || $('#bid').val() == '') {
    //                         if (type == 1) {
    //                             BindValidGridtbl();
    //                         }


    //                     }
    //                     else {
    //                         keyPressEnter();
    //                     }
    //                 },
    //                 error: function (xhr) {
    //                     $('.popup_edit .innerErrorHolder').removeClass("green");
    //                     $('.popup_edit .innerErrorHolder').addClass("red");
    //                     $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
    //                 }
    //     });

    // else {
    //     error = error.replace(/(^\s*,)|(,\s*$)/g, '');
    //     $('.popup_edit .innerErrorHolder').removeClass("green");
    //     $('.popup_edit .innerErrorHolder').addClass("red");
    //     $('.popup_edit .innerErrorHolder').text(error);
    //     $("#progressBackgroundFilter").hide();
    //     $("#processMessage").hide();
    // }

    //}
    if (componentGroupId == 58) {//ReferralBonus
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul:first-child');
        var pkey = obj.attr('pkey');
        var associateid = obj.find('li:nth-child(1) span').text();
        var advisedmonth = obj.find('li:nth-child(3) span').text();
        var advisedyear = obj.find('li:nth-child(4) span').text();
        var amount = obj.find('li:nth-child(5) span').text();
        var registrynumber = obj.find('li:nth-child(6) input').val();
        var maritalstatus = obj.find('li:nth-child(7) select').val();
        var relationship = obj.find('li:nth-child(8) select').val();
        var paymentdate = obj.find('li:nth-child(9) select').text();
        var remarks = obj.find('li:nth-child(10) input').val();
        var certificateID = $("#splCaseMailUpload").attr("fileuploadid");

        var bulkupload = 3;
        if (amount == '' || registrynumber == "" || maritalstatus == '-1'
            || relationship == '-1') {
            if (certificateID != 0) {
                $('.popup_edit .innerErrorHolder').text('Please fill mandatory Fields');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').css('font-size', '14px');
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }
        else {
            if (isNaN(amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }

            if (error == '') {
                var datastring = '{"associateid":"' + associateid + '","componentGroupId":"' + componentGroupId + '","advisedmonth":"' + advisedmonth + '","advisedyear":"' + advisedyear + '","amount":"' + amount + '","registrynumber":"' + registrynumber + '","maritalstatus":"' + maritalstatus + '","relationship":"' + relationship + '","paymentdate":"' + paymentdate + '","remarks":"' + remarks + '","mailuploadid":"' + certificateID + '","bulkupload":"' + bulkupload + '","pkey":"' + pkey + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveBereavementNewDataCE",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $("#bid").val("")) {
                            if (type == 1) {
                                BindValidGridtbl();
                            }

                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    if (componentGroupId == 2 && (CountryId != 18 && CountryId != 19 && CountryId != 20)) {//ReferralBonus
        var objul1 = $(this).closest('.popup_edit').find('.inner_cont ul:first-child');
        var pkey = objul1.attr('pkey');
        var refereeAssoId = objul1.find('li:nth-child(1) span').text();
        var refereeBGStats = objul1.find('li:nth-child(6) select').val();

        var objul2 = $(this).closest('.popup_edit').find('.inner_cont ul:nth-child(2)');
        var referrerAssoId = objul2.find('li:nth-child(1) input').val();
        var referrerBGStats = objul2.find('li:nth-child(5) select').val();

        var objul3 = $(this).closest('.popup_edit').find('.inner_cont ul:nth-child(3)');
        var amount = objul3.find('li:nth-child(1) input').val();
        var specialCase = objul3.find('li:nth-child(3) select').val();
        var remarks = objul3.find('li:nth-child(4) textarea').text();
        var rejReason = '';
        if (type == 1) {
            rejReason = objul3.find('li:nth-child(5) textarea').text();
        }
        else if (type == 3) {
            rejReason = objul3.find('li:nth-child(5) textarea').text();
        }
        if ($.trim(amount) == '' || $.trim(referrerAssoId) == '' || referrerBGStats == -1 || refereeBGStats == -1) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if (isNaN(referrerAssoId)) {
                error += 'ReferrerId is invalid' + ',';
            }
            if ($.trim(remarks).match(/[<>%]/g)) {
                error += 'Please enter valid Remarks' + ',';
            }
            if ($.trim(referrerAssoId) == $.trim(refereeAssoId)) {
                error += 'ReferrerId and ReferreeId should not be the same' + ',';
            }
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + amount + '","remarks":"' + remarks + '","referrerAssoId":"' + referrerAssoId + '","specialCaseReason":"' + specialCase + '","referrerBGStats":"' + referrerBGStats + '","refereeBGStats":"' + refereeBGStats + '","rejectionReason":"' + rejReason + '","mailUploadId":"' + mailUploadId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateReferralUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $("#bid").val("")) {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl(); //RB
                            }
                            else if (type == 3) {
                                BindOtherGeoGridtbl();
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if (componentGroupId == 2 && (CountryId == 18 || CountryId == 19)) {//ReferralBonus

        if (type == 1) {
            var bulkupload = 3;
        }
        else if (type == 2) {
            var bulkupload = 4;
        }

        var objul1 = $(this).closest('.popup_edit').find('.inner_cont ul:first-child');
        var pkey = objul1.attr('pkey');
        var refereeAssoId = $('#Refereeid').text();
        var refereerAssoId = objul1.find('li:nth-child(1) input').val();
        var amount = objul1.find('li:nth-child(5) span').text();
        var doj = $('#UK_RBDOJ').text();
        var department = $('#UK_Department').text();
        var jobfamily = $('#UK_JobFamily').text();
        var currency = $('#RB_Currency').text();
        var hiringmanager = objul1.find('li:nth-child(10) input').val();
        var hiringreason = objul1.find('li:nth-child(7) input').val();
        var comments = objul1.find('li:nth-child(13) input').val();
        var advisedmonth = $('#SBAdvisedMonth').text();
        var advisedyear = $('#SBYear').text();

        if ($.trim(refereerAssoId) == '' || hiringmanager == '' || hiringreason == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        //added by 388582

        else {

            //if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
            //    error += 'Please enter a valid ProjectId' + ',';
            //}
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","refereeAssoId":"' + refereeAssoId + '","refereerAssoId":"' + refereerAssoId + '","amount":"' + amount + '","doj":"' + doj + '","department":"' + department + '","jobfamily":"' + jobfamily + '","currency":"' + currency + '", "hiringmanager":"' + hiringmanager + '","hiringreason":"' + hiringreason + '","comments":"' + comments + '","advisedmonth":"' + advisedmonth + '","advisedyear":"' + advisedyear + '","bulkupload":"' + bulkupload + '","pkey":"' + pkey + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveUKIReferralNewData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                            $('#a_valid').addClass('selected');
                            $('#a_exceptions').removeClass('selected');
                            $('#a_otherGeo').removeClass('selected');
                            if ($('#a_valid').hasClass('selected')) {
                                type = 1;
                            }
                            else if ($('#a_exceptions').hasClass('selected')) {
                                type = 2;
                            }

                            $("#dwnload_Data").show();
                            $("#dwnload_Datadivider").show();
                        }

                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                            $("#dwnload_Data").show();
                            $("#dwnload_Datadivider").show();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();// RB
                            }

                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }

    }

    else if (componentGroupId == 3 && CountryId != 20) {//JoiningBonus
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var Amount = obj.find('li:nth-child(3) input').val();
        var projectId = obj.find('li:nth-child(5) input').val();
        var remarks = obj.find('li:nth-child(12) textarea').text();
        var BGstatus = obj.find('li:nth-child(6) select').val();
        var recruitmentType = obj.find('li:nth-child(7) select').val();
        var specialCase = obj.find('li:nth-child(8) select').val();
        var rejReason = '';
        if (type == 1) {
            rejReason = obj.find('li:nth-child(13) textarea').text();
        }

        if ($.trim(Amount) == '' || BGstatus == -1 || recruitmentType == -1) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if ($.trim(remarks).match(/[<>%]/g)) {
                error += 'Please enter valid Remarks' + ',';
            }
            if ($.trim(projectId).length != 10 || isNaN(projectId) || $.trim(projectId).match(/[^a-zA-Z0-9 ]/g)) {
                error += 'Please enter a valid ProjectId' + ',';
            }
            else {
                var datastring = '{"projectID":"' + projectId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../WebMethods.aspx/CheckValidProjectID",
                    data: datastring,
                    contentType: "application/json; charset=utf-8",
                    async: false,
                    cache: false,
                    dataType: "json",
                    success: function (msg) {
                        projStatus = msg.d;
                        //alert(assStatus);
                        if (projStatus == 0) {
                            error += 'Please enter a valid ProjectId' + ','
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");

                    }
                });
            }
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + Amount + '","remarks":"' + remarks + '","projectId":"' + projectId + '","backgroundStatus":"' + BGstatus + '","recruitmentType":"' + recruitmentType + '","specialCase":"' + specialCase + '","rejectionReason":"' + rejReason + '","mailUploadId":"' + mailUploadId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateJoiningUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl(); //JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if (componentGroupId == 17) {//SAR
        var GuestHouse = '';
        var AccountType = 0;

        if (CountryId == 8) {
            var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
            var pkey = obj.attr('pkey');
            var associateId = obj.find('li:nth-child(1) span').text();
            GuestHouse = obj.find('li:nth-child(3) span').text();
            var OccupancyType = obj.find('li:nth-child(4)').attr('occupancytypeid');
            var ProjectId = obj.find('li:nth-child(5) input').val();
            var StartDate = obj.find('li:nth-child(6) input').val();
            var EndDate = obj.find('li:nth-child(7) input').val();
            var Totaldays = obj.find('li:nth-child(8) input').val();
            var CurrencyCode = obj.find('li:nth-child(9) select').val();

            var Specialcasereason = obj.find('li:nth-child(10) select').val();
        }
        else {
            var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
            var pkey = obj.attr('pkey');
            var associateId = obj.find('li:nth-child(1) span').text();
            var OccupancyType = obj.find('li:nth-child(3)').attr('occupancytypeid');
            var ProjectId = obj.find('li:nth-child(4) input').val();
            var StartDate = obj.find('li:nth-child(5) input').val();
            var EndDate = obj.find('li:nth-child(6) input').val();
            var Totaldays = obj.find('li:nth-child(7) input').val();
            var CurrencyCode = obj.find('li:nth-child(8) select').val();
            if (CountryId == 2) {
                AccountType = obj.find('li:nth-child(10)').attr('accounttypeid');
                //AccountType = obj.find('li:nth-child(10) select').val();
            }
            var Specialcasereason = obj.find('li:nth-child(9) select').val();
        }

        if ($.trim(associateId) == '' || ($.trim(GuestHouse) == '' && CountryId == 8) || $.trim(OccupancyType) == '' || $.trim(OccupancyType) == '-1' || $.trim(ProjectId) == '' || $.trim(StartDate) == '' || $.trim(EndDate) == '' || CurrencyCode == '-1' || Totaldays == '' || mailUploadId == 0 || (($.trim(AccountType) == '') && (CountryId == 8 || CountryId == 2))) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }
            if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
                error += 'Please enter a valid ProjectId' + ',';
            }
            if (StartDate > EndDate) {
                error += 'EndDate should be greater than StartDate' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","guesthouse":"' + GuestHouse + '","occupancyType":"' + OccupancyType + '","startDate":"' + StartDate + '","endDate":"' + EndDate + '","totalDays":"' + Totaldays + '","currencyCode":"' + CurrencyCode + '","projectId":"' + ProjectId + '","mailUploadId":"' + mailUploadId + '","accountType":"' + AccountType + '","specialcasereason":"' + Specialcasereason + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateSARUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit.innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#aid1').val() == '' || $('#aid2').val() == ''
                            || $('#bid').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if (componentGroupId == 18 && CountryId == 2) {//School fees
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var associateId = obj.find('li:nth-child(1) span').text();
        var Amount1 = obj.find('li:nth-child(3) input').val();
        var Amount2 = obj.find('li:nth-child(5) input').val();

        if ($.trim(Amount1) == '' || $.trim(associateId) == '' || mailUploadId == 0) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount1)) {
                error += 'Please enter a valid Amount for Child1' + ',';
            }
            else if (Amount1 < 0) {
                error += 'Amount for Child1 cannot be negative' + ',';
            }
            else if (Amount1 == 0) {
                error += 'Amount for Child1 cannot be zero' + ',';
            }
            if (isNaN(Amount2)) {
                error += 'Please enter a valid Amount for Child2' + ',';
            }
            else if (Amount2 < 0) {
                error += 'Amount for Child2 cannot be negative' + ',';
            }
            else if (Amount2 == 0 && Amount2 != '') {
                error += 'Amount for Child2 cannot be zero' + ',';
            }
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }


            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount1":"' + Amount1 + '","amount2":"' + Amount2 + '","mailUploadId":"' + mailUploadId + '"}';

                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateSchoolFeeUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 18 && (CountryId != 2 && CountryId != 14 && CountryId != 15 && CountryId != 16 && CountryId != 17)) {//School fees
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var associateId = obj.find('li:nth-child(1) span').text();
        var Amount1 = obj.find('li:nth-child(5) input').val();
        var Amount2 = obj.find('li:nth-child(6) input').val();
        var mailValidityEndDate = $('#editMailValidityDate').val();

        if ($.trim(Amount1) == '' || $.trim(associateId) == '' || approvalMailSF == 0 || mailValidityEndDate == '' || schoolFeesReceiptID == 0) { //
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount1)) {
                error += 'Please enter a valid Amount for Child1' + ',';
            }
            else if (Amount1 < 0) {
                error += 'Amount for Child1 cannot be negative' + ',';
            }
            else if (Amount1 == 0) {
                error += 'Amount for Child1 cannot be zero' + ',';
            }
            if (isNaN(Amount2)) {
                error += 'Please enter a valid Amount for Child2' + ',';
            }
            else if (Amount2 < 0) {
                error += 'Amount for Child2 cannot be negative' + ',';
            }
            //else if (Amount2 == 0 && Amount2 != '') {
            //    error += 'Amount for Child2 cannot be zero' + ',';
            //}
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }


            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount1":"' + Amount1 + '","amount2":"' + Amount2 + '","mailUploadId":"' + approvalMailSF + '","mailValidityEndDate":"' + mailValidityEndDate + '","schoolFeesReceiptID":"' + schoolFeesReceiptID + '"}';

                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateAPACSchoolFeeUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 18 && (CountryId == 14 || CountryId == 15 || CountryId == 16 || CountryId == 17)) {//School fees
        if (ocm == "1") {
            InvoiceUploadIdSF = FileUploadID;
        }
        else {
            InvoiceUploadIdSF = FileUploadID;
        }
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var StartDate = '';
        var EndDate = '';
        var Amount = 0;
        if (type == 1) {
            StartDate = obj.find('li:nth-child(5) span').val();
            EndDate = obj.find('li:nth-child(6) span').val();
        }
        else {
            var installment = '';
            var Amount = obj.find('li:nth-child(4) input').val();
            if (obj.find('li:nth-child(5) .SFdate').attr('data') == 0) {
                StartDate = obj.find('li:nth-child(5) span').text();
                EndDate = obj.find('li:nth-child(6) span').text();
            }
            else {
                StartDate = obj.find('li:nth-child(5) input').val();
                EndDate = obj.find('li:nth-child(6) input').val();
            }
            if (CountryId == 14 || CountryId == 15 || CountryId == 16) {
                installment = obj.find('li:nth-child(10) select').val();
            }
            else if (CountryId == 17) {
                installment = '1';
            }
        }
        var freqType = obj.find('li:nth-child(7) select').val();

        if (freqType == 3) {
            var freqSelect = obj.find('li:nth-child(8) select option:selected').text()
        } else {
            var freqSelect = obj.find('li:nth-child(8) select').val();
        }


        if (type == 2) {
            if ($.trim(Amount) == '' || freqType == -1 || freqSelect == -1 || InvoiceUploadIdSF == 0 || installment == -1) { //
                $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
            else {

                //var startDatesplit = startDate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                //var date1 = new Date(startDatesplit[2], startDatesplit[0] - 1, startDatesplit[1]); //Y D M
                var date1 = new Date(StartDate);
                var start_date = date1.getTime();

                //var endDatesplit = endDate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                //var date2 = new Date(endDatesplit[2], endDatesplit[0] - 1, endDatesplit[1]); //Y D M
                var date2 = new Date(EndDate);
                var end_date = date2.getTime();

                var diff = datediff(date1, date2, 'days');


                if (isNaN(Amount)) {
                    error += 'Please enter a valid Amount for Child1' + ',';
                }
                else if (Amount < 0) {
                    error += 'Amount for Child1 cannot be negative' + ',';
                }
                else if (Amount == 0) {
                    error += 'Amount for Child1 cannot be zero' + ',';
                }

                if (start_date > end_date) {
                    error += 'EndDate should be greater than StartDate' + ',';
                }

                if (error == '') {
                    var datastring = '';
                    //if (type == 1) {
                    //    datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + Amount + '","startDate":"","endDate":"" "frequencyType":"' + freqType + '","frequencySelect":"' + freqSelect + '","invoiceUploadId":"' + InvoiceUploadIdSF + '","installment":"' + installment + '"}';
                    //}
                    //else {
                    datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + Amount + '","startDate":"' + StartDate + '","endDate":"' + EndDate + '", "frequencyType":"' + freqType + '","frequencySelect":"' + freqSelect + '","invoiceUploadId":"' + InvoiceUploadIdSF + '","installment":"' + installment + '"}';
                    // }
                    $.ajax({
                        type: "POST",
                        url: "../APAC_WebMethods.aspx/ValidateCESchoolFeeUpdateData",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        data: datastring,
                        cache: false,
                        success: function (msg) {
                            if (msg.d == 'success') {
                                $('.popup_edit .innerErrorHolder').removeClass("red");
                                $('.popup_edit .innerErrorHolder').addClass("green");
                                $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                                $("#progressBackgroundFilter").hide();
                                $("#processMessage").hide();
                            }
                            else {
                                $('.popup_edit .innerErrorHolder').removeClass("green");
                                $('.popup_edit .innerErrorHolder').addClass("red");
                                msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                                $('.popup_edit .innerErrorHolder').text(msg.d);
                                $("#progressBackgroundFilter").hide();
                                $("#processMessage").hide();
                            }
                            if ($('#aid1').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                                if (type == 1) {
                                    BindValidGridtbl();
                                }
                                else if (type == 2) {
                                    BindExceptionsGridtbl();
                                }
                            }
                            else {
                                keyPressEnter();
                            }
                        },
                        error: function (xhr) {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                        }
                    });
                }
                else {
                    error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text(error);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
            }
        }
        else {
            if (InvoiceUploadIdSF == 0) { //
                $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
            else {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","invoiceUploadId":"' + InvoiceUploadIdSF + '"}';

                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateValidCESchoolFeeUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid1').val() == '' || $('#bid1').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
        }
    }

    else if ((componentGroupId == 23 || componentGroupId == 24) && CountryId == 6) {//parking allowance
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var associateId = obj.find('li:nth-child(1) span').text();
        var amount = 0;
        if (componentGroupId == 23 || componentGroupId == 24) {
            amount = $('#editAmount').val();
        }

        // var Amount= obj.find('li:nth-child(5) input').val();       // amt shld be taken from policy
        var mailEndDate = $('#editMailValidityDate').val();

        if ($.trim(associateId) == '' || mailUploadId == 0 || mailEndDate == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","mailUploadId":"' + mailUploadId + '","mailValidityEndDate":"' + mailEndDate + '","amount":"' + amount + '","amountMailID":"' + amountMailID + '"}';

                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateParkingUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 19 && CountryId == 2) {//Additional Payout
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var Amount = obj.find('li:nth-child(6) input').val();
        var projectId = obj.find('li:nth-child(5) input').val();
        var Currencycode = obj.find('li:nth-child(2) select').val();
        var PayoutType = obj.find('li:nth-child(1) span').text();
        var specialCase = obj.find('li:nth-child(9) select').val();
        var rejReason = '';
        mailUploadId = $("#aft_upload2 a").attr("fileuploadid");
        if ($.trim(Amount) == '' || Currencycode == -1 || PayoutType == -1 || mailUploadId == 0) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if ($.trim(projectId).length != 10 || isNaN(projectId) || $.trim(projectId).match(/[^a-zA-Z0-9 ]/g)) {
                error += 'Please enter a valid ProjectId' + ',';
            }
            else {
                var datastring = '{"projectID":"' + projectId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../WebMethods.aspx/CheckValidProjectID",
                    data: datastring,
                    contentType: "application/json; charset=utf-8",
                    async: false,
                    cache: false,
                    dataType: "json",
                    success: function (msg) {
                        projStatus = msg.d;
                        //alert(assStatus);
                        if (projStatus == 0) {
                            error += 'Please enter a valid ProjectId' + ','
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");

                    }
                });
            }
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + Amount + '","projectId":"' + projectId + '","currencyCode":"' + Currencycode + '","specialCase":"' + specialCase + '","payoutType":"' + PayoutType + '","mailUploadId":"' + mailUploadId + '","splcasemailId":"' + splcasemailId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateAdditionalPayoutUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl(); //JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if (componentGroupId == 19 && CountryId != 2) {//Additional Payout
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var Amount = obj.find('li:nth-child(8) input').val();
        var projectId = obj.find('li:nth-child(5) input').val();
        var Currencycode = obj.find('li:nth-child(2) select').val();
        var specialCase = obj.find('li:nth-child(9) select').val();
        var installments = obj.find('li:nth-child(10) select').val();
        var rejReason = '';
        mailUploadId = $("#aft_upload2 a").attr("fileuploadid");
        if ($.trim(Amount) == '' || Currencycode == -1 || mailUploadId == 0 || installments == -1) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if (specialCase != -1 && splcasemailId == 0) {
                error += 'Please Attach a Special Case Mail';
            }
            if ($.trim(projectId) != "") {
                if ($.trim(projectId).length != 10 || isNaN(projectId) || $.trim(projectId).match(/[^a-zA-Z0-9 ]/g)) {
                    error += 'Please enter a valid ProjectId' + ',';
                }
                else {
                    var datastring = '{"projectID":"' + projectId + '"}';
                    $.ajax({
                        type: "POST",
                        url: "../WebMethods.aspx/CheckValidProjectID",
                        data: datastring,
                        contentType: "application/json; charset=utf-8",
                        async: false,
                        cache: false,
                        dataType: "json",
                        success: function (msg) {
                            projStatus = msg.d;
                            //alert(assStatus);
                            if (projStatus == 0) {
                                error += 'Please enter a valid ProjectId' + ','
                            }
                        },
                        error: function (xhr) {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");

                        }
                    });
                }
            }
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + Amount + '","projectId":"' + projectId + '","currencyCode":"' + Currencycode + '","specialCase":"' + specialCase + '","mailUploadId":"' + mailUploadId + '","splcasemailId":"' + splcasemailId + '","installments":"' + installments + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateAPACAdditionalPayoutUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl(); //JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if (componentGroupId == 20 && CountryId == 2) {//Additional Deduction
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var associateId = obj.find('li:nth-child(1) span').text();
        var DeductionType = obj.find('li:nth-child(2) select').val();
        var Amount = obj.find('li:nth-child(3) input').val();
        var ProjectId = obj.find('li:nth-child(4) input').val();
        var Installments = obj.find('li:nth-child(5) select').val();
        var CurrencyCode = obj.find('li:nth-child(6) select').val();
        var mailUploadId = $("#aft_upload2 a").attr("fileuploadid")
        if ($.trim(Amount) == '' || $.trim(associateId) == '' || DeductionType == -1 || Installments == -1 || CurrencyCode == -1 || mailUploadId == 0) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }
            if (DeductionType != "Salary Advance") {
                if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
                    error += 'Please enter a valid ProjectId' + ',';
                }
                else {
                    var datastring = '{"projectID":"' + ProjectId + '"}';
                    $.ajax({
                        type: "POST",
                        url: "../WebMethods.aspx/CheckValidProjectID",
                        data: datastring,
                        contentType: "application/json; charset=utf-8",
                        async: false,
                        cache: false,
                        dataType: "json",
                        success: function (msg) {
                            projStatus = msg.d;
                            //alert(assStatus);save
                            if (projStatus == 0) {
                                error += 'Please enter a valid ProjectId' + ','
                            }
                        },
                        error: function (xhr) {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                        }
                    });
                }
            }
            if (DeductionType = "Salary Advance") {

                if (ProjectId == '' || ProjectId == 0 || ProjectId == 'undefined') {
                    ProjectId = 0;
                }
                else {
                    if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
                        error += 'Please enter a valid ProjectId' + ',';
                    }

                    else {
                        var datastring = '{"projectID":"' + ProjectId + '"}';
                        $.ajax({
                            type: "POST",
                            url: "../WebMethods.aspx/CheckValidProjectID",
                            data: datastring,
                            contentType: "application/json; charset=utf-8",
                            async: false,
                            cache: false,
                            dataType: "json",
                            success: function (msg) {
                                projStatus = msg.d;
                                //alert(assStatus);
                                if (projStatus == 0) {
                                    error += 'Please enter a valid ProjectId' + ','
                                }
                            },
                            error: function (xhr) {
                                $('.popup_edit .innerErrorHolder').removeClass("green");
                                $('.popup_edit .innerErrorHolder').addClass("red");
                                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                            }
                        });
                    }
                }
            }
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + Amount + '","deductionType":"' + DeductionType + '","installments":"' + Installments + '","currencyCode":"' + CurrencyCode + '","projectId":"' + ProjectId + '","mailUploadId":"' + mailUploadId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateAdditionDeductionNewData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 20 && CountryId != 2) {//Additional Deduction
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var DeductionType = obj.find('li:nth-child(1) span').text();
        var CurrencyCode = obj.find('li:nth-child(2) select').val();
        var associateId = obj.find('li:nth-child(3) span').text();
        var ProjectId = obj.find('li:nth-child(5) input').val();
        var Amount = obj.find('li:nth-child(6) input').val();
        var payrollMonth = obj.find('li:nth-child(7) span').attr('monthid');

        var payrollYear = obj.find('li:nth-child(8) span').text();
        var specialcasereason = $('#editsplcaseAD').val();
        var mailUploadId = $('#aft_upload2 a').attr('fileuploadid');

        var splcasemailId = $('#aft_uploadhide a').attr('fileuploadid');
        if (specialcasereason == 0 || specialcasereason == "undefined" || specialcasereason == undefined)
            var specialcasereason = 0;
        if (mailUploadId == 0 || mailUploadId == "undefined" || mailUploadId == undefined)
            var mailUploadId = 0;
        if (splcasemailId == 0 || splcasemailId == "undefined" || splcasemailId == undefined || splcasemailId == "null")
            var splcasemailId = 0;
        if ($.trim(Amount) == '' || $.trim(associateId) == '' || DeductionType == -1 || CurrencyCode == -1 || mailUploadId == 0) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }

            //if (DeductionType = "Salary Advance") {

            if (ProjectId == '' || ProjectId == 0 || ProjectId == 'undefined') {
                ProjectId = '';
            }
            else {
                if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
                    error += 'Please enter a valid ProjectId' + ',';
                }

                else {
                    var datastring = '{"projectID":"' + ProjectId + '"}';
                    $.ajax({
                        type: "POST",
                        url: "../WebMethods.aspx/CheckValidProjectID",
                        data: datastring,
                        contentType: "application/json; charset=utf-8",
                        async: false,
                        cache: false,
                        dataType: "json",
                        success: function (msg) {
                            projStatus = msg.d;
                            //alert(assStatus);
                            if (projStatus == 0) {
                                error += 'Please enter a valid ProjectId' + ','
                            }
                        },
                        error: function (xhr) {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                        }
                    });
                }
            }
            //}
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + Amount + '","deductionType":"' + DeductionType + '","currencyCode":"' + CurrencyCode + '","projectId":"' + ProjectId + '","payrollMonth":"' + payrollMonth + '","payrollYear":"' + payrollYear + '","specialCaseReason":"' + specialcasereason + '","mailUploadId":"' + mailUploadId + '","splcasemailId":"' + splcasemailId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateAdditionDeductionNewDataAPAC",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 25) {//Additional Deduction
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var criteriatype = 0;
        var totalMaternityleave = 0;
        var associateId = obj.find('li:nth-child(1) span').text();
        if (CountryId == 6)
            criteriatype = obj.find('li:nth-child(3) select').val();
        if (CountryId == 7)
            totalMaternityleave = obj.find('li:nth-child(3) input').val();
        var payrollMonth = $('#SB_AdvisedMonth').attr('monthid');
        //// var payrollMonth = obj.find('li:nth-child(4) span').text();
        var payrollYear = obj.find('li:nth-child(5) span').text();



        if ($.trim(associateId) == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }

        //}
        if (error == '') {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","totalMaternityleave":"' + totalMaternityleave + '","criteriatype":"' + criteriatype + '","payrollMonth":"' + payrollMonth + '","payrollYear":"' + payrollYear + '","mailUploadId":"' + mailUploadId + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/ValidateMaternityAllowanceNewDataAPAC",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit .innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid1').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                }
            });
        }
        else {
            error = error.replace(/(^\s*,)|(,\s*$)/g, '');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').text(error);
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }

    else if (componentGroupId == 28) {//in city allowance
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var startDate = obj.find('li:nth-child(2) input').val();
        var endDate = obj.find('li:nth-child(3) input').val();
        var clientAddress = obj.find('li:nth-child(4) input').val();
        var officeLocation = obj.find('li:nth-child(5) select').val();
        var projectId = obj.find('li:nth-child(1) input').val();
        //var payoutType = obj.find('li:nth-child(6) select').val();

        if ($.trim(startDate) == '' || $.trim(endDate) == '' || $.trim(officeLocation) == -1) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            //if (error == '') {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","startDate":"' + startDate + '","endDate":"' + endDate + '","clientAddress":"' + clientAddress + '","officeLocation":"' + officeLocation + '","projectId":"' + projectId + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/ValidateInCityUpdateData",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit .innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl(); //JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if ((componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 57) && CountryId != 20) {//Sign on Bonus
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var comments = '';
        var RetentionEndDate = '';
        var projectid = '';
        var bulkupload = 0;
        if (type == 1) {
            bulkupload = 3;
        }
        else if (type == 2) {
            bulkupload = 4;
        }
        var pkey = obj.attr('pkey');
        var Amount = obj.find('li:nth-child(7) input').val();
        var payoutType = obj.find('li:nth-child(6) select').val();
        var RetentionEndDate = obj.find('li:nth-child(8) select').val();
        if ((componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 57) && (CountryId == 18 || CountryId == 19)) {
            if (componentGroupId == 49 || componentGroupId == 57) {
                RetentionEndDate = obj.find('li:nth-child(8) input').val();
                projectid = obj.find('li:nth-child(9) input').val();
                comments = obj.find('li:nth-child(11) input').val();
            }
            else {
                comments = obj.find('li:nth-child(9) input').val();
            }
        }

        if (RetentionEndDate == 'undefined') {
            RetentionEndDate = '';
        }

        if ($.trim(Amount) == '' || payoutType == -1 || ((componentGroupId == 49 || componentGroupId == 57) && RetentionEndDate == '')) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            else if ((componentGroupId == 49 || componentGroupId == 57) && RetentionEndDate == '') {
                error += 'Retention date is mandatory' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + Amount + '","payoutType":"' + payoutType + '","comments":"' + comments + '","retentionEndDate":"' + RetentionEndDate + '","projectid":"' + projectid + '","bulkupload":"' + bulkupload + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateSignOnBonusUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl(); //JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if (componentGroupId == 38) {// Car DAmage and TRaffic fine
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var Amount = obj.find('li:nth-child(7) input').val();
        var payoutType = obj.find('li:nth-child(6) select').val();

        if ($.trim(Amount) == '' || payoutType == -1) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + Amount + '","payoutType":"' + payoutType + '","mailUploadId":"' + mailUploadId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateCarDamageAndTrafficFineUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl(); //JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if (componentGroupId == 33 || componentGroupId == 50) {//Rewards and Regonition    
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var Remarks = '';
        var Frequency = '';
        var bulkupload = 0;
        if (type == 1) {
            bulkupload = 3;
        }
        else if (type == 2) {
            bulkupload = 4;
        }

        var pkey = obj.attr('pkey');
        if (componentGroupId != 50) {
            var Amount = obj.find('li:nth-child(5) input').val();
            //var SubComponent = obj.find('li:nth-child(6) select').val();
            var Currency = obj.find('li:nth-child(7) select').val();
            Remarks = obj.find('li:nth-child(8) input').val();
            Frequency = obj.find('li:nth-child(9) select').val();
            var PayoutType = obj.find('li:nth-child(10) select').val();
        }
        else {
            if (componentGroupId == 50 && (CountryId != 18 && CountryId != 19)) {
                var Amount = obj.find('li:nth-child(6) input').val();
                var Currency = obj.find('li:nth-child(7) select').val();
                Remarks = obj.find('li:nth-child(8) input').val();
                var PayoutType = obj.find('li:nth-child(9) select').val();
            }
            else {
                var Amount = obj.find('li:nth-child(6) input').val();
                var Currency = obj.find('li:nth-child(8) label:nth-child(2)').val();
                Remarks = obj.find('li:nth-child(9) input').val();
                Frequency = obj.find('li:nth-child(10) input').val();
                var PayoutType = obj.find('li:nth-child(11) select').val();
            }
        }
        if ($.trim(Amount) == '' || PayoutType == -1 || Currency == -1 || (Frequency == -1 && componentGroupId != 50)) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if ($.trim(Remarks).match(/[<>%]/g)) {
                error += 'Please enter valid Remarks' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + Amount + '","currencyCode":"' + Currency + '","frequency":"' + Frequency + '","remarks":"' + Remarks + '","payoutType":"' + PayoutType + '","mailUploadId":"' + mailUploadId + '","bulkupload":"' + bulkupload + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateRewardsUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl(); //JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if (componentGroupId == 46) {// Benefits
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var Amount = obj.find('li:nth-child(6) input').val();
        var PayoutType = obj.find('li:nth-child(7) select').val();

        if ($.trim(Amount) == '' || PayoutType == -1) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if ($.trim(Remarks).match(/[<>%]/g)) {
                error += 'Please enter valid Remarks' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + Amount + '","payoutType":"' + PayoutType + '","mailUploadId":"' + mailUploadId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateBenefitsUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl(); //JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if (componentGroupId == 30 && (CountryId != 18 && CountryId != 19 && CountryId != 20)) {//Relocation
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var payoutType = obj.find('li:nth-child(6) select').val();
        var specialCaseReason = obj.find('li:nth-child(3) select').val();

        var amount = 0;
        amount = $('#editRelocAmount').val();


        //var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","mailUploadId":"' + mailUploadId + '","mailValidityEndDate":"' + mailEndDate + '","amount":"' + amount + '","amountMailID":"' + amountMailID + '"}';
        if (payoutType == -1) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            //if (error == '') {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","specialCaseReason":"' + specialCaseReason + '","payoutType":"' + payoutType + '","mailUploadId":"' + mailUploadId + '","amount":"' + amount + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/ValidateRelocationUpdateData",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit .innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl(); //JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if ((componentGroupId == 30 && (CountryId == 18 || CountryId == 19)) || componentGroupId == 54 || componentGroupId == 55) {//Relocation
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var amount = 0;
        if (componentGroupId == 30) {
            var comments = $('#edit_RecComments').val();
            amount = $('#edit_RecAmount').val();
        }
        else if (componentGroupId == 54 || componentGroupId == 55) {
            var comments = $('#EditUKA_Comments').val();
            amount = $('#EditUKA_Amount').val();
        }

        //if (error == '') {
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + amount + '","comments":"' + comments + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/ValidateRelocationUpdateDataUKI",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid').val() == '' || $('#bid').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl(); //JB
                    }
                }
                else {
                    keyPressEnter();
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });

        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if (componentGroupId == 34) {//Transition
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var payoutType = obj.find('li:nth-child(5) select').val();

        if (payoutType == -1) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            //if (error == '') {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","payoutType":"' + payoutType + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/ValidateTransitionUpdateData",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit .innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl(); //JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if (componentGroupId == 35) {//Honorarium
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var payoutType = obj.find('li:nth-child(5) select').val();
        var projectID = obj.find('li:nth-child(6) input').val();
        var amount = obj.find('li:nth-child(7) input').val();

        if (payoutType == -1 || projectID == -1 || amount == -1) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            //if (error == '') {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","payoutType":"' + payoutType + '","projectID":"' + projectID + '","amount":"' + amount + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/ValidateHonorariumUpdateData",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit .innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl(); //JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if (componentGroupId == 36 || componentGroupId == 37) {//Insurance
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var startdate = obj.find('li:nth-child(3) span').html();
        var effectivedate = obj.find('li:nth-child(5) input').val();
        var amount = '';
        var amount1 = obj.find('li:nth-child(4) input').val();
        var amount2 = obj.find('li:nth-child(4) span').html();
        var beneficiaryamount = '';
        var beneficiaryamount1 = obj.find('li:nth-child(6) input').val();
        var beneficiaryamount2 = obj.find('li:nth-child(6) span').html();
        var specialCase = obj.find('li:nth-child(7) select').val();

        if ((amount1 != undefined))
            amount = amount1;
        else if ((amount2 != undefined))
            amount = amount2;

        if ((beneficiaryamount1 != undefined))
            beneficiaryamount = beneficiaryamount1;
        else if ((beneficiaryamount2 != undefined))
            beneficiaryamount = beneficiaryamount2;
        //if (startdate == effectivedate) {
        //    beneficiaryamount = '';
        //}

        if ($.trim(amount) == '' || $.trim(effectivedate) == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if ($.trim(remarks).match(/[<>%]/g)) {
                error += 'Please enter valid Remarks' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + amount + '","beneficiaryamount":"' + beneficiaryamount + '","startdate":"' + startdate + '","effectivedate":"' + effectivedate + '","specialCase":"' + specialCase + '","mailUploadId":"' + splcasemailId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateInsuranceUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl(); //JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if (componentGroupId == 22 && CountryId != 3) {//OT MYS, Aus, NZ 
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');

        if (CountryId != 7 && CountryId != 11 && CountryId != 12 && CountryId != 13) {
            if (ocm != "1") {
                mailUploadId = FileUploadID;
            }
            else {
                mailUploadId = FileUploadID;
            }

        }
        if (CountryId == 7) {
            if (ocm != "1") {
                TMmailUploadId = FileUploadID;
                if (componentGroupId == "22")
                    mailUploadId = MailUploadID;
            }
            else {
                TMmailUploadId = FileUploadID;
                if (componentGroupId == "22")
                    mailUploadId = MailUploadID;
            }

        }
        var daytype = "";
        if (CountryId == 7 || CountryId == 10) {
            daytype = $('#DayTypeID').attr('daytype');
        }

        if (typeof mailUploadId === 'undefined' || mailUploadId == 'undefined') {
            mailUploadId = 0;
        }

        var AssociateID = obj.find('li:nth-child(1) span').text();
        var startdate = obj.find('li:nth-child(3) input').val();
        var enddate = obj.find('li:nth-child(4) input').val();
        var starttime = obj.find('li:nth-child(5) input').val();
        var endtime = obj.find('li:nth-child(6) input').val();
        var ApproverId = obj.find('li:nth-child(8) input').val();
        var projectid = obj.find('li:nth-child(7) span').text();
        var AllowanceType = '';
        var Remarks = '';
        if (CountryId == 8 || CountryId == 9) {
            Remarks = obj.find('li:nth-child(11) textarea').val();
            Remarks = Remarks.replace(/"/g, '').toString();
            Remarks = escape(Remarks.replace(/\s+/g, ' ').toString());
            var projectid = obj.find('li:nth-child(7) option:selected').val();
            var ApproverId = obj.find('li:nth-child(9) input').val();
            AllowanceType = obj.find('li:nth-child(10) option:selected').val();
        }
        if (CountryId == 11 || CountryId == 12 || CountryId == 13) {
            ApproverId = '';
        }
        if ($.trim(startdate) == '' || $.trim(enddate) == '' || $.trim(starttime) == '' || $.trim(endtime) == '' || ($.trim(mailUploadId) == 0 && (CountryId != 7 && CountryId != 8 && CountryId != 9 && CountryId != 11 && CountryId != 12 && CountryId != 13)) || (ApproverId == '' && (CountryId != 7 && CountryId != 8 && CountryId != 9 && CountryId != 11 && CountryId != 12 && CountryId != 13))) {

            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }

        else if (($.trim(startdate) == '' || $.trim(enddate) == '' || $.trim(starttime) == '' || $.trim(endtime) == '') && (CountryId == 11 || CountryId == 12 || CountryId == 13)) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else if (($.trim(startdate) == '' || $.trim(enddate) == '' || $.trim(starttime) == '' || $.trim(endtime) == '' || $.trim(AllowanceType) == '' || $.trim(AllowanceType) == "--Select--" || $.trim(AllowanceType) == "-1" || $.trim(projectid) == '' || $.trim(projectid) == "--Select--" || $.trim(projectid) == "-1") && (CountryId == 8)) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else if (($.trim(startdate) == '' || $.trim(enddate) == '' || $.trim(starttime) == '' || $.trim(endtime) == '' || $.trim(AllowanceType) == '' || $.trim(AllowanceType) == "--Select--" || $.trim(AllowanceType) == "-1" || ApproverId == '' || $.trim(projectid) == '' || $.trim(projectid) == "--Select--" || $.trim(projectid) == "-1") && (CountryId == 9)) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else if (CountryId == 7 && $.trim(TMmailUploadId) == 0) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }

        else {

            if (isNaN(AssociateID)) {
                error += 'AssociateId is invalid' + ',';
            }
            if (CountryId == 9 || (CountryId == 8 && ApproverId != '')) {
                if (($.trim(ApproverId).length != 6 && $.trim(ApproverId).length != 7) || isNaN(ApproverId) || $.trim(ApproverId).match(/[^a-zA-Z0-9 ]/g) && (CountryId == 8 || CountryId == 9)) {
                    error += 'ApproverId is invalid' + ',';
                }
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","startDate":"' + startdate + '","endDate":"' + enddate + '","mailUploadId":"' + mailUploadId + '","starttime":"' + starttime + '","endtime":"' + endtime + '","daytype":"' + daytype + '","approvedId":"' + ApproverId + '","tmmailUploadId":"' + TMmailUploadId + '","AllowanceType":"' + AllowanceType + '","Remarks":"' + Remarks + '","ProjectId":"' + projectid + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateAPACOTUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if ((componentGroupId == 39 || componentGroupId == 22) && CountryId == 3) {//Oncall/overtime allowance- NLD
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var AssociateID = obj.find('li:nth-child(1) span').text();
        var DayType = $('#DayTypeID').attr('daytype');
        var StartDate = obj.find('li:nth-child(4) input').val();
        var EndDate = obj.find('li:nth-child(5) input').val();
        var TotalHours = obj.find('li:nth-child(6) input').val();

        var ProjectID = obj.find('li:nth-child(7) span').text();

        var accountid = $('#OC_customername').text();
        var AccountID = accountid.substring(accountid.indexOf("-") + 1);

        if ($.trim(AssociateID) == '' || $.trim(AccountID) == -1 || StartDate == '' || EndDate == '' || DayType == '' || TotalHours == '' || ProjectID == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","associateID":"' + AssociateID + '","accountID":"' + AccountID + '","startDate":"' + StartDate + '","endDate":"' + EndDate + '","dayType":"' + DayType + '","totalHours":"' + TotalHours + '","projectID":"' + ProjectID + '","mailUploadId":"' + mailUploadId + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/ValidateOTUpdateData",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit.innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Saved Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#aid1').val() == '' || $('#aid2').val() == ''
                        || $('#bid').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                }
            });
        }

        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }
    else if ((componentGroupId == 21 || componentGroupId == 39 || componentGroupId == 101) && (CountryId == 7 || CountryId == 8 || CountryId == 9)) {//StatutoryPayout (china)
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        // mailUploadId = $("#aft_uploadhide #splCaseMailUpload").attr("fileuploadid");
        var ApproverId = '';
        var Remarks = '';
        var ProjectId = '';
        if (CountryId == 7) {
            var AssociateID = obj.find('li:nth-child(1) span').text();
            var ProjectId = obj.find('li:nth-child(9) input').val();
            if (type == 2) {
                var DayType = obj.find('li:nth-child(3) input').val();
                var Criteria = obj.find('li:nth-child(4) input').val();
            }
            if (type == 1) {
                var DayType = obj.find('li:nth-child(3) select').val();
                var Criteria = obj.find('li:nth-child(4) select').val();
            }
            var StartDate = obj.find('li:nth-child(5) input').val();
            var EndDate = obj.find('li:nth-child(6) input').val();
            var StartTime = obj.find('li:nth-child(7) input').val();
            var EndTime = obj.find('li:nth-child(8) input').val();
            // if (ocm != "1")
            //    mailUploadId = $("#aft_uploadhide #splCaseMailUpload1").attr("fileuploadid");
            //var ProjectID = obj.find('li:nth-child(9) span').text();

            ApproverId = obj.find('li:nth-child(10) input').val();
            if (ApproverId == undefined)
                ApproverId = '';
            if (typeof ApproverId === 'undefined') {
                ApproverId = '';
            }

        }
        else if (CountryId == 8 && componentGroupId == 101) {
            var AssociateID = obj.find('li:nth-child(1) span').text();
            var StartDate = obj.find('li:nth-child(3) input').val();
            ApproverId = obj.find('li:nth-child(7) input').val();
            ProjectId = obj.find('li:nth-child(5) option:selected').val();
            if (type == "1")
                Remarks = obj.find('li:nth-child(8) textarea').val();
            else
                Remarks = obj.find('li:nth-child(9) textarea').val();
            if (ApproverId == undefined)
                ApproverId = '';
            if (typeof ApproverId === 'undefined') {
                ApproverId = '';
            }
            // if (ocm != "1")
            //    mailUploadId = $("#aft_upload7 #splCaseMailUpload").attr("fileuploadid");

            if (mailUploadId == undefined)
                mailUploadId = '';
            if (typeof mailUploadId === 'undefined') {
                mailUploadId = '';
            }
        }
        else {
            var AssociateID = obj.find('li:nth-child(1) span').text();
            var StartDate = obj.find('li:nth-child(3) input').val();
            var EndDate = obj.find('li:nth-child(4) input').val();
            var StartTime = obj.find('li:nth-child(5) input').val();
            var EndTime = obj.find('li:nth-child(6) input').val();
            var ProjectId = obj.find('li:nth-child(7) option:selected').val();
            //var ApproverId = obj.find('li:nth-child(8) input').val();
            ApproverId = obj.find('li:nth-child(9) input').val();
            if (type == "1")
                Remarks = obj.find('li:nth-child(10) textarea').val();
            else
                Remarks = obj.find('li:nth-child(11) textarea').val();
            if (ApproverId == undefined)
                ApproverId = '';
            if (typeof ApproverId === 'undefined') {
                ApproverId = '';
            }
            // if(ocm !="1")
            //    mailUploadId = $("#aft_upload7 #splCaseMailUpload").attr("fileuploadid");

            if (mailUploadId == undefined)
                mailUploadId = '';
            if (typeof mailUploadId === 'undefined') {
                mailUploadId = '';
            }
        }

        if (componentGroupId == 101 && ($.trim(AssociateID) == '' || $.trim(ApproverId) == '' || $.trim(ProjectId) == '-1')) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else if (($.trim(AssociateID) == '' || (($.trim(DayType) == -1 || $.trim(Criteria) == -1) && CountryId == 7) || $.trim(StartDate) == '' || $.trim(EndDate) == '' || $.trim(StartTime) == '' || $.trim(EndTime) == '' || $.trim(ProjectId) == '-1' || (($.trim(mailUploadId) == 0 || $.trim(ApproverId) == '') && (CountryId != 7 && CountryId != 8 && CountryId != 9))) && componentGroupId != 101) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            if (isNaN(AssociateID)) {
                error += 'AssociateId is invalid' + ',';
            }
            if (ApproverId != '') {
                if (($.trim(ApproverId).length != 6 && $.trim(ApproverId).length != 7) || isNaN(ApproverId) || $.trim(ApproverId).match(/[^a-zA-Z0-9 ]/g) && (CountryId != 7)) {
                    error += 'ApproverId is invalid' + ',';
                }
            }

            if (error == '') {
                Remarks = Remarks.replace(/"/g, '').toString();
                Remarks = escape(Remarks.replace(/\s+/g, ' ').toString());
                if (CountryId == 7) {
                    var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","associateID":"' + AssociateID + '","criteria":"' + Criteria + '","startDate":"' + StartDate + '","endDate":"' + EndDate + '","startTime":"' + StartTime + '","endTime":"' + EndTime + '","dayType":"' + DayType + '","mailUploadId":"' + mailUploadId + '","approverId":"' + ApproverId + '","Remarks":"' + Remarks + '","ProjectId":"' + ProjectId + '"}';
                }
                else if (CountryId == 8 && componentGroupId == 101) {
                    var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","associateID":"' + AssociateID + '","criteria":"","startDate":"' + StartDate + '","endDate":"","startTime":"","endTime":"","dayType":"","mailUploadId":"' + mailUploadId + '","approverId":"' + ApproverId + '","Remarks":"' + Remarks + '","ProjectId":"' + ProjectId + '"}';
                }
                else {
                    var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","associateID":"' + AssociateID + '","criteria":"","startDate":"' + StartDate + '","endDate":"' + EndDate + '","startTime":"' + StartTime + '","endTime":"' + EndTime + '","dayType":"","mailUploadId":"' + mailUploadId + '","approverId":"' + ApproverId + '","Remarks":"' + Remarks + '","ProjectId":"' + ProjectId + '"}';
                }
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateStatutoryUpdateData",
                    // url: "../APAC_WebMethods.aspx/ValidateAPAC_OCAUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit.innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#aid1').val() == '' || $('#aid2').val() == ''
                            || $('#bid').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }

        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }
    else if (componentGroupId == 21 && CountryId == 4) {//StatutoryPayout (china)
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var AssociateID = obj.find('li:nth-child(1) span').text();
        var ProjectId = obj.find('li:nth-child(3) select').val();
        var payrollMonth = obj.find('li:nth-child(4) span').text();
        var payrollYear = obj.find('li:nth-child(5) span').text();
        var OT_hours = obj.find('li:nth-child(6) input').val();
        var Type = obj.find('li:nth-child(7) select').val();

        if ($.trim(AssociateID) == '' || $.trim(ProjectId) == -1 || OT_hours == '' || $.trim(Type) == -1) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","associateID":"' + AssociateID + '","accountID":"' + AccountID + '","startDate":"' + StartDate + '","endDate":"' + EndDate + '","startTime":"' + StartTime + '","endTime":"' + EndTime + '","projectID":"' + ProjectID + '","mailUploadId":"' + mailUploadId + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/ValidateOTUpdateData",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit.innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Saved Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#aid1').val() == '' || $('#aid2').val() == ''
                        || $('#bid').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                }
            });
        }

        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }
    else if (componentGroupId == 31) {//Net Travel
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var startdate = '';
        var pkey = obj.attr('pkey');
        if (type == 2) {
            startdate = obj.find('li:nth-child(3) span').html();
        }
        var effectivedate = obj.find('li:nth-child(5) input').val();
        var amount1 = obj.find('li:nth-child(4) input').val();
        var amount2 = obj.find('li:nth-child(4) span').html();

        if ((amount1 != undefined))
            amount = amount1;
        else if ((amount2 != undefined))
            amount = amount2;
        //var amount1 = obj.find('li:nth-child(4) input').val();
        //var amount2 = obj.find('li:nth-child(4) span').html();
        var payoutType = obj.find('li:nth-child(6) select').val();

        if ($.trim(amount) == '' || $.trim(effectivedate) == '' || $.trim(payoutType) == '-1') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if ($.trim(remarks).match(/[<>%]/g)) {
                error += 'Please enter valid Remarks' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + amount + '","startdate":"' + startdate + '","effectivedate":"' + effectivedate + '","payoutType":"' + payoutType + '","mailUploadId":"' + splcasemailId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateNetTravelUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl(); //JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }

    else if (componentGroupId == 32) {//commuting allowance
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var startdate = '';
        var pkey = obj.attr('pkey');
        if (type == 2) {
            startdate = obj.find('li:nth-child(3) span').html();
        }
        var effectivedate = obj.find('li:nth-child(5) input').val();
        var distance = '';
        var distance = obj.find('li:nth-child(4) input').val();
        var payoutType = obj.find('li:nth-child(6) select').val();
        var splcaseReason = obj.find('li:nth-child(7) select').val();

        if ($.trim(distance) == '' || $.trim(effectivedate) == '' || $.trim(payoutType) == '-1') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(distance)) {
                error += 'Please enter a valid Distance' + ',';
            }
            else if (distance < 0) {
                error += 'Distance cannot be negative' + ',';
            }
            else if (distance == 0) {
                error += 'Distance cannot be zero' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","distance":"' + distance + '","startdate":"' + startdate + '","effectivedate":"' + effectivedate + '","payoutType":"' + payoutType + '","mailUploadId":"' + splcasemailId + '","specialcaseReason":"' + splcaseReason + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateCommutingAllowanceUpdateData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl(); //JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        $("#splCaseMailUpload").parent().attr("fileuploadid", "");
    }
    else if (componentGroupId == 51 && CountryId == 15) {//Wellness
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var associateId = obj.find('li:nth-child(1) span').text();
        var assignmentstartdate = obj.find('li:nth-child(3) span').text();
        var payrollMonth = obj.find('li:nth-child(4) span').attr('monthid');
        var payrollYear = obj.find('li:nth-child(5) span').text();
        var amount = obj.find('li:nth-child(6) input').val();
        //if (ocm == "0") {
        //    mailUploadId = $("#aft_uploadWBInvoice #splCaseMailUpload").attr("fileuploadid");
        //}
        if (typeof mailUploadId === 'undefined') {
            mailUploadId = 0;
        }

        var Numberofdays = 0;
        var payoutType = 0;
        if ($.trim(amount) == '' || mailUploadId == 0) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        //}
        if (error == '') {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","assignmentstartdate":"' + assignmentstartdate + '","payrollMonth":"' + payrollMonth + '","payrollYear":"' + payrollYear + '","amount":"' + amount + '","mailUploadId":"' + mailUploadId + '","numberofDays":"' + Numberofdays + '","payoutType":"' + payoutType + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/ValidateWellnessBenefitNewDataAPAC",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit .innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }

                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();//JB
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                }
            });
        }
        else {
            error = error.replace(/(^\s*,)|(,\s*$)/g, '');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').text(error);
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }

    else if (componentGroupId == 53 && (CountryId == 18 || CountryId == 19)) {//Wellness
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var kitdays = obj.find('li:nth-child(7) input').val()
        var Type = 0;
        if ($.trim(kitdays) == '' || kitdays == 0) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        if (type == 1) {
            Type = 2
        }
        else if (type == 2) {
            Type = 3
        }
        //}
        if (error == '') {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":"' + Type + '","key":"' + pkey + '","associateId":"","payrollmonth":"","year":"","amount":"' + kitdays + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveKitAllowance",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit .innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }

                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();//JB
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                }
            });
        }
        else {
            error = error.replace(/(^\s*,)|(,\s*$)/g, '');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').text(error);
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }


    else if (componentGroupId == 82 || componentGroupId == 91 || componentGroupId == 95
        || componentGroupId == 92 || componentGroupId == 93 || componentGroupId == 96 || componentGroupId == 97
        || componentGroupId == 90) {
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var Type = 0;
        var associateId = obj.find('li:nth-child(1) span').text();
        var Payrollmon = 0;
        var Payrollyear = obj.find('li:nth-child(4) span').text();
        var amount = obj.find('li:nth-child(5) input').val();
        var projectid = '';
        if (componentGroupId == 95) {
            var semiamount = obj.find('li:nth-child(5) input').val();
            var install = 1;
        }
        else {
            var semiamount = obj.find('li:nth-child(6) input').val();
            var install = obj.find('li:nth-child(7) input').val();
        }
        var PayDate = obj.find('li:nth-child(8) select').val();
        var comments = obj.find('li:nth-child(9) input').val();
        if (componentGroupId == 82 || componentGroupId == 91) {
            projectid = $('#npProId').val();
            var semiamount = obj.find('li:nth-child(6) input').val();
            var install = obj.find('li:nth-child(8) input').val();
            var PayDate = obj.find('li:nth-child(9) select').val();
            var comments = obj.find('li:nth-child(10) input').val();
        }

        if ($.trim(associateId) == '' || $.trim(amount) == ''
            || $.trim(semiamount) == '' || $.trim(install) == '' || $.trim(PayDate) == -1) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        if (componentGroupId == 82 || componentGroupId == 91) {
            if ($.trim(associateId) == '' || $.trim(amount) == '' || $.trim(semiamount) == '' || $.trim(install) == '' || $.trim(PayDate) == -1) {
                $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
            else if ($.trim(projectid).length != 10 || isNaN(projectid) || $.trim(projectid).match(/[^a-zA-Z0-9 ]/g)) {
                $('.popup_edit .innerErrorHolder').text('Please enter the valid ProjectID');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }
        if (type == 1) {
            Type = 2
        }
        else if (type == 2) {
            Type = 3
        }
        //}
        if (error == '') {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":"' + Type + '","key":"' + pkey + '","associateId":"' + associateId + '","month":"' + Payrollmon + '","year":"' + Payrollyear + '","amount":"' + amount + '","semiamount":"' + semiamount + '","projectid":"' + projectid + '","install":"' + install + '","date":"' + PayDate + '","remarks":"' + comments + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveNetPay",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                async: false,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit .innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }

                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();//JB
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                }
            });
        }
        else {
            error = error.replace(/(^\s*,)|(,\s*$)/g, '');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').text(error);
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }

    else if ((componentGroupId == 60) && (CountryId == 18 || CountryId == 19)) {//one off bonus update

        var error = '';
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var associateId = obj.find('li:nth-child(1) span').text();
        var CurrentGrade = obj.find('li:nth-child(3) input').val();
        var HireType = obj.find('li:nth-child(4) input').val();
        var Country = obj.find('li:nth-child(5) input').val();
        var OneOffBonus = obj.find('li:nth-child(7) input').val();
        var comments = obj.find('li:nth-child(8) input').val();

        if ($.trim(CurrentGrade) == '' || $.trim(associateId) == '' || $.trim(HireType) == -1 || $.trim(OneOffBonus) == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();

        }
        else {
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":"' + 4 + '","key":"' + pkey + '","associateId":"' + associateId + '","grade":"' + CurrentGrade + '","hiretype":"' + HireType + '","country":"' + Country + '","bonus":"' + OneOffBonus + '","comments":"' + comments + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveOneOffBonus",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }

                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if ((componentGroupId == 61) && (CountryId == 18 || CountryId == 19)) {//JoiningBonus
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var associateId = obj.find('li:nth-child(1) span').text();
        var year = obj.find('li:nth-child(3) input').val();
        var payout = obj.find('li:nth-child(5)  span').text();
        var startDate = obj.find('li:nth-child(6)  span').text();
        var country = obj.find('li:nth-child(7) input').val();
        var amount = obj.find('li:nth-child(8) input').val();
        var payoutdate = obj.find('li:nth-child(9)  span').text();
        var comments = obj.find('li:nth-child(10) input').val();

        if ($.trim(associateId) == '' || $.trim(year) == '' || $.trim(amount) == '' || $.trim(country) == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        else {

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":"' + 4 + '","key":"' + pkey + '","associateId":"' + associateId + '","year":"' + year + '","payout":"' + payout + '","startDate":"' + startDate + '","country":"' + country + '","amount":"' + amount + '","payoutdate":"' + payoutdate + '","comments":"' + comments + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SavePSUCashBridge",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }

                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {//Wellness
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var Amount = obj.find('li:nth-child(3) input').val();
        var Remarks = obj.find('li:nth-child(5) input').val();
        var Type = 0;
        if ($.trim(Amount) == '' || Amount == 0) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        if (type == 1) {
            Type = 2
        }
        if (isNaN(Amount)) {
            error += 'Please enter a valid Amount' + ',';
        }
        else if (Amount < 0) {
            error += 'Amount cannot be negative' + ',';
        }
        else if (Amount == 0) {
            error += 'Amount cannot be zero' + ',';
        }
        else if (componentGroupId == 67 && CountryId == 18 && Amount > 4000) {
            error += 'Amount cannot be more than 4000' + ',';
        }
        else if (componentGroupId == 67 && CountryId == 19 && Amount > 5000) {
            error += 'Amount cannot be more than 5000' + ',';
        }
        if (Remarks == 'undefined') {
            Remarks = ''
        }
        //}
        if (error == '') {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":"' + Type + '","key":"' + pkey + '","associateId":"","amount":"' + Amount + '","remarks":"' + Remarks + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveSalaryAllowance",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit .innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }

                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();//JB
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                }
            });
        }
        else {
            error = error.replace(/(^\s*,)|(,\s*$)/g, '');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').text(error);
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }


    else if (componentGroupId == 45 && CountryId == 15) {//Wellness / car parking benefits
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var associateId = obj.find('li:nth-child(1) span').text();
        var payrollMonth = obj.find('li:nth-child(3) span').attr('monthid');
        var payrollYear = obj.find('li:nth-child(4) span').text();
        var Numberofdays = obj.find('li:nth-child(5) input').val();
        var payoutType = obj.find('li:nth-child(6) select').val();

        if ($.trim(Numberofdays) == '' || payoutType == '-1') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }

        if (error == '') {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","assignmentstartdate":"","payrollMonth":"' + payrollMonth + '","payrollYear":"' + payrollYear + '","amount":"","mailUploadId":0,"numberofDays":"' + Numberofdays + '","payoutType":"' + payoutType + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/ValidateWellnessBenefitNewDataAPAC",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit .innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }

                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                }
            });
        }
        else {
            error = error.replace(/(^\s*,)|(,\s*$)/g, '');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').text(error);
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }
    else if (componentGroupId == 47 || (componentGroupId == 48 && CountryId != 17)) { //Mobile/Transport
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var startdate = '';
        var enddate = '';
        var associateId = obj.find('li:nth-child(1) span').text();
        var assignmentstartdate = obj.find('li:nth-child(3) span').text();
        if (componentGroupId == 47) {
            startdate = obj.find('li:nth-child(4) input').val();
            enddate = obj.find('li:nth-child(5) input').val();
        }
        else if (componentGroupId == 48 && type == 2) {
            startdate = obj.find('li:nth-child(4) input').val();
            enddate = obj.find('li:nth-child(5) span').text();
        }
        else if (componentGroupId == 48 && type == 1) {
            startdate = obj.find('li:nth-child(4) span').text();
            enddate = obj.find('li:nth-child(5) span').text();
        }
        var Amount = obj.find('li:nth-child(6) input').val();
        var payoutType = obj.find('li:nth-child(7) select').val();

        if (componentGroupId == 47) {
            if ($.trim(Amount) == '' || payoutType == '-1' || $.trim(startdate) == '') {
                $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        else if (componentGroupId == 48) {
            if ($.trim(Amount) == '' || payoutType == '-1' || $.trim(startdate) == '' || $.trim(enddate) == '') {
                $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        if (error == '') {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","assignmentstartdate":"' + assignmentstartdate + '","startdate":"' + startdate + '","enddate":"' + enddate + '","amount":"' + Amount + '","mailUploadId":"' + mailUploadId + '","payoutType":"' + payoutType + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/ValidateMobileTransportNewDataAPAC",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit .innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid1').val() == '' || $('#aid2').val() == ''
                        || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();
                        }
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                }
            });
        }
        else {
            error = error.replace(/(^\s*,)|(,\s*$)/g, '');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').text(error);
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }

    else if (componentGroupId == 48 && CountryId == 17) { //Transport
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var monthlyAmount1 = '';
        var payrollmonth = '';
        var year = '';
        var frequencyType = '';
        var splcase = '';
        //var buscardavailed = '';
        //var buscardAmount = '';
        var transportationType = '';
        var associateId = obj.find('li:nth-child(1) span').text();
        var assignmentstartdate = obj.find('li:nth-child(3) #ass_SD_transport').text();
        var passNumber = obj.find('li:nth-child(10) input').val();
        //// var frequency_val1 = frequenyvalue;
        var frequencyType = '';
        frequencyType = obj.find('li:nth-child(5) select').val();
        if (frequencyType == 'undefined' || frequencyType == undefined) {
            frequencyType = obj.find('li:nth-child(5) span').text();
            if (frequencyType == 'Yearly')
                frequencyType = 3;
        }
        if (frequencyType == '3' && frequenyvalue == 'Yearly' && type == 1) {
            ////monthlyAmount = $('#WBamountv').text();
            transportationType = obj.find('li:nth-child(4) select').val();
            payrollmonth = obj.find('li:nth-child(7) select').val();
            year = obj.find('li:nth-child(8) select').val();
            //   frequencyType = obj.find('li:nth-child(8) span').text();
            splcase = obj.find('li:nth-child(9) select').val();
            //buscardavailed = obj.find('li:nth-child(10) span').text();
            //buscardAmount = obj.find('li:nth-child(11) span').text();
        }
        else {
            ////monthlyAmount = $('#WBamountv').text();
            transportationType = obj.find('li:nth-child(4) select').val();
            if (type == 1) {
                payrollmonth = obj.find('li:nth-child(7) select').val();
                year = obj.find('li:nth-child(8) select').val();
            }
            else {
                payrollmonth = obj.find('li:nth-child(7) select').val();
                year = obj.find('li:nth-child(8) select').val();
            }
            //  frequencyType = obj.find('li:nth-child(8) select').val();
            splcase = obj.find('li:nth-child(9) select').val();
            //buscardavailed = obj.find('li:nth-child(10) select').val();
            //buscardAmount = obj.find('li:nth-child(11) input').val();
        }
        ////ReplaceAmount2(transportationType,  associateId);
        monthlyAmount1 = $('#WBamountv').text();
        if (monthlyAmount1 == undefined || monthlyAmount1 == 'undefined' || monthlyAmount1 == '' || monthlyAmount1 == "") {
            monthlyAmount1 = $('#WBamount').val();
        }
        ////console.log("point2")
        if (InvoiceUploadIdSF == undefined) {
            //// console.log("point3")
            InvoiceUploadIdSF = '';
        }
        if (Decl == undefined) {
            //// console.log("point3")
            Decl = '';
        }
        //if (buscardAmount == undefined || buscardAmount == 'undefined') {
        //    buscardAmount = "";
        //}

        if (ocm == "1") {
            if ($("#aft_uploadocmapprovaledit").attr("fileuploadid")) {
                InvoiceUploadIdSF = FileUploadID;
                Decl = MailUploadID;
                transportMailUploadID = SplCaseMail;
            }
        } else {
            if ($("#aft_uploadocmedit").attr("fileuploadid")) {
                InvoiceUploadIdSF = FileUploadID;
                Decl = MailUploadID;
                transportMailUploadID = SplCaseMail;
            }
        }

        if (splcase == '-1') {
            transportMailUploadID = '';
        }
        if ($.trim(associateId) == '' || $.trim(assignmentstartdate) == '' || monthlyAmount1 == '' || passNumber == '') {

            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        //if ($.trim(buscardavailed) == 1 && $.trim(buscardAmount) == '') {
        //    $('.popup_edit .innerErrorHolder').text('Please Enter Pass amount');
        //    $('.popup_edit .innerErrorHolder').removeClass("green");
        //    $('.popup_edit .innerErrorHolder').addClass("red");
        //    $("#progressBackgroundFilter").hide();
        //    $("#processMessage").hide();
        //    return false;
        //}

        if ((FlagStatus === '' && DeclarationFlag === '') &&
            ($("#aft_uploadocmsplcasemailedit a").attr("fileuploadid") == '')) {
            $('.popup_new .innerErrorHolder').text('Please add all required attachments');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        } else {
            var errorMessage = [];
            if (InvoiceUploadIdSF == '' && ($("#aft_uploadocmsplcasemailedit a").attr("fileuploadid") == ''
                || $("#aft_uploadocmsplcasemailedit a").attr("fileuploadid") == undefined)) {
                errorMessage.push('Invoice');
            }
            if (DeclarationFlag == '1' && Decl == '') {
                errorMessage.push('Declaration Form');
            }
            if (FlagStatus == '1' && transportMailUploadID == '') {
                errorMessage.push('Approval mail');
            }

            if (errorMessage.length > 0) {
                $('.popup_edit .innerErrorHolder').text('Please attach ' + errorMessage.join(', '));
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }

        if (DeclarationFlag == '1' && (Decl == undefined || Decl == '' || Decl == 0)) {
            $('.popup_edit .innerErrorHolder').text('Please attach the Declaration Form');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        if (FlagStatus === '1' || FlagStatus === undefined) {
            if (transportMailUploadID == '') {
                $('.popup_edit .innerErrorHolder').text('Please attach the approval mail');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }


        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","assignmentstartdate":"' + assignmentstartdate + '","monthlyAmount":"' + monthlyAmount1 + '","transportationType":"' + transportationType + '","payrollmonth":"' + payrollmonth + '","year":"' + year + '","frequencyType":"' + frequencyType + '","splcase":"' + splcase + '","mailUploadId":"' + transportMailUploadID + '","splcasemailId":"' + InvoiceUploadIdSF + '","passNumber":"' + passNumber + '","declaration":"' + Decl + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/ValidateTransportNewDataFrance",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                    DeclarationFlag = '';
                    FlagStatus = '';
                    checkmultipletrnsport = 0;
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == ''
                    || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }
    else if (componentGroupId == 52) {//Lunch voucher
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var LeaveDays = obj.find('li:nth-child(5) input').val();
        var TrainingDays = obj.find('li:nth-child(6) input').val();
        var eamCFLeaveDays = $('#Edit_EAMCFDays').text();
        if (type == 1) {
            var splcasereason = obj.find('li:nth-child(7) select').val();
            var HolidaysWorked = $('#LV_EditHolidays').val();
        }
        else if (type == 2) {
            var splcasereason = obj.find('li:nth-child(9) select').val();
            var HolidaysWorked = $('#LV_EditHolidays').val();
        }

        if (splcasereason == -1) {
            splcasereason = '';
        }

        if ($.trim(LeaveDays) == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        //mailUploadId=111;
        if ((splcasereason == 1 || splcasereason == 2 || splcasereason == 3) && (HolidaysWorked == '' || mailUploadId == 0)) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();

            return false;
        }

        if (splcasereason == 4 && mailUploadId == 0 && (LV_LwdDate == '' || LV_LwdDate == null)) {
            $('.popup_edit .innerErrorHolder').text('Please attach approval mail and select Special case Reason as Last Working Day');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        if ($('#LV_editTotalDays').text() <= 0) {
            $('.popup_new .innerErrorHolder').text('Eligible Lunch Vouchers should be greater than 0');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","leaveDays":"' + LeaveDays + '","trainingDays":"' + TrainingDays + '","holidaysWorked":"' + HolidaysWorked + '","specialCaseReason":"' + splcasereason + '","mailUploadId":"' + mailUploadId + '","eamCFLeaveDays":"' + eamCFLeaveDays + '","lwdDate":"' + LV_LwdDate + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/ValidateLunchVoucherDataCE",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').css('font-size', '14px');
                    $('.popup_edit .innerErrorHolder').text('Data updated, this will be considered for payroll');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').css('font-size', '14px');
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();//JB
                    }
                }
                else {
                    keyPressEnter();
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').css('font-size', '14px');
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

        $("#splCaseMailUpload").parent().attr("fileuploadid", "");

    } else if (componentGroupId == 56) { //Travel
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var amount = '';
        var payrollmonth = '';
        var year = '';
        var frequencyType = '';
        var NoOfPayments = '';
        var ProjectID = '';
        var AccountID = '';
        var currency = '';
        var bulkupload = 0;
        var associateId = obj.find('li:nth-child(1) span').text();
        //var assignmentstartdate = obj.find('li:nth-child(3) #ass_SD_transport').text();
        //var passNumber = obj.find('li:nth-child(12) input').val();
        //var frequencyType = '';
        //frequencyType = obj.find('li:nth-child(8) select').val();
        //if (frequencyType == 'undefined' || frequencyType == undefined) {
        //    frequencyType = obj.find('li:nth-child(8) span').text();
        //    if (frequencyType == 'Yearly')
        //        frequencyType = 3;
        //}
        if (type == 1) {
            payrollmonth = obj.find('li:nth-child(3) span').text();
            year = obj.find('li:nth-child(4) span').text();
            amount = obj.find('li:nth-child(5) span').text();
            ProjectID = obj.find('li:nth-child(6) span').text();
            AccountID = obj.find('li:nth-child(7) input').val();
            frequencyType = obj.find('li:nth-child(8) span').text();
            NoOfPayments = obj.find('li:nth-child(9) span').text();
            bulkupload = 3;
        }
        else {
            payrollmonth = obj.find('li:nth-child(3) select').val();
            year = obj.find('li:nth-child(4) select').val();
            amount = obj.find('li:nth-child(5) input').val();
            ProjectID = obj.find('li:nth-child(6) input').val();
            AccountID = obj.find('li:nth-child(7) input').val();
            frequencyType = obj.find('li:nth-child(8) select').val();
            NoOfPayments = obj.find('li:nth-child(9) input').val();
            bulkupload = 4;
        }

        if ($.trim(associateId) == '' || payrollmonth == -1 || year == -1 || ProjectID == '' || AccountID == '' || frequencyType == '' || ProjectID == '' || NoOfPayments == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        else if (frequencyType == 1 && (NoOfPayments > 1 || NoOfPayments == 0) && bulkupload == 4) {

            $('.popup_edit .innerErrorHolder').text('No of payments should not be greater than 1');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        else if (frequencyType == 2 && NoOfPayments <= 1 && bulkupload == 4) {

            $('.popup_edit .innerErrorHolder').text('No of payments should be greater than 1');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + pkey + ',"associateId":"' + associateId + '","payrollmonth":"' + payrollmonth + '","year":"' + year + '","amount":"' + amount + '","ProjectID":"' + ProjectID + '","AccountID":"' + AccountID + '","FrequencyType":"' + frequencyType + '","NoofPayments":"' + NoOfPayments + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveTravelAllowance",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == ''
                    || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }
    else if (componentGroupId == 69) { //Shadow Payroll Deduction Update

        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var key = obj.attr('pkey');
        var advisedMonth = '';
        var advisedYear = '';
        var employeeSSGBR = '';
        var employerSSGBR = '';
        var employeeSSUSD = '';
        var employerSSUSD = '';
        var comments = '';
        var bulkupload = 0;
        var associateId = obj.find('li:nth-child(1) span').text();

        if (type == 1) {
            advisedMonth = obj.find('li:nth-child(3) span').text();
            advisedYear = obj.find('li:nth-child(4) span').text();
            employeeSSGBR = obj.find('li:nth-child(5) input').val();
            employerSSGBR = obj.find('li:nth-child(6) input').val();
            employeeSSUSD = obj.find('li:nth-child(7) input').val();
            employerSSUSD = obj.find('li:nth-child(8) input').val();
            SPDComments = obj.find('li:nth-child(9) input').val();
            bulkupload = 3;
        }
        else {
            advisedMonth = obj.find('li:nth-child(3) select').val();
            advisedYear = obj.find('li:nth-child(4) select').val();
            employeeSSGBR = obj.find('li:nth-child(5) input').val();
            employerSSGBR = obj.find('li:nth-child(6) input').val();
            employeeSSUSD = obj.find('li:nth-child(7) input').val();
            employerSSUSD = obj.find('li:nth-child(8) input').val();
            SPDComments = obj.find('li:nth-child(9) input').val();
            bulkupload = 4;
        }

        if ($.trim(associateId) == '' || advisedMonth == -1 || advisedYear == -1 || employeeSSGBR == '' || employerSSGBR == '' || employeeSSUSD == '' || employerSSUSD == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateId + '","advisedMonth":"' + advisedMonth + '","advisedYear":"' + advisedYear + '","employeeSS_GBR":"' + employeeSSGBR + '","employerSS_GBR":"' + employerSSGBR + '","employeeSS_USD":"' + employeeSSUSD + '","employerSS_USD":"' + employerSSUSD + '","comments":"' + SPDComments + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveShadowPayrollDeductionUKI",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == ''
                    || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }

    else if (componentGroupId == 76 || componentGroupId == 77 || componentGroupId == 78) { //mid

        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var key = obj.attr('pkey');
        var advisedMonth = '';
        var advisedYear = '';
        var Amount = '';
        var paymentDate = '';
        var comments = '';
        var bulkupload = 0;
        var advisedmonth = "1";
        var advisedyear = "1";
        var associateId = "1";

        Amount = obj.find('li:nth-child(5) input').val();
        SPDComments = obj.find('li:nth-child(7) input').val();
        paymentDate = obj.find('li:nth-child(6) select').val();
        if (type == 1) {
            //Amount = obj.find('li:nth-child(1) input').val();
            //SPDComments = obj.find('li:nth-child(2) input').val();
            bulkupload = 3;
        }
        else {
            //Amount = obj.find('li:nth-child(1) input').val();
            //SPDComments = obj.find('li:nth-child(2) input').val();
            bulkupload = 4;
        }

        if ($.trim(Amount) == '' || paymentDate == '-1') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"amount":"' + Amount + '","paymentDate":"' + paymentDate + '","comments":"' + SPDComments + '","advisedmonth":"' + advisedmonth + '","advisedyear":"' + advisedyear + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveMidPHL",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == ''
                    || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }

    else if (componentGroupId == 62) { //Sales commission Update

        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var key = obj.attr('pkey');
        var annualBonusOffer = '';
        var annualBonusPayout = '';
        var h1Bonus = '';
        var h2Bonus = '';
        var SCComments = '';
        var bulkupload = 0;
        var associateBU = '';
        var associateId = obj.find('li:nth-child(1) span').text();

        if (type == 1) {
            associateBU = obj.find('li:nth-child(3) span').text();
            annualBonusOffer = obj.find('li:nth-child(4) input').val();
            annualBonusPayout = obj.find('li:nth-child(5) input').val();
            h1Bonus = obj.find('li:nth-child(6) input').val();
            h2Bonus = obj.find('li:nth-child(7) input').val();
            SCComments = obj.find('li:nth-child(8) input').val();
            bulkupload = 3;
        }
        else {
            associateBU = obj.find('li:nth-child(3) input').val();
            annualBonusOffer = obj.find('li:nth-child(4) input').val();
            annualBonusPayout = obj.find('li:nth-child(5) input').val();
            h1Bonus = obj.find('li:nth-child(6) input').val();
            h2Bonus = obj.find('li:nth-child(7) input').val();
            SCComments = obj.find('li:nth-child(8) input').val();
            bulkupload = 4;
        }

        if ($.trim(associateId) == '' || annualBonusOffer == '' || annualBonusPayout == '' || associateBU == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateId + '","associateBU":"' + associateBU + '","annualBonusOffer":"' + annualBonusOffer + '","annualBonusPayout":"' + annualBonusPayout + '","h1Bonus":"' + h1Bonus + '","h2Bonus":"' + h2Bonus + '","comments":"' + SCComments + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveSalesCommissionUKI",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }

    else if (componentGroupId == 64) { //Special Pay Update

        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var key = obj.attr('pkey');
        var advisedMonth = '';
        var advisedYear = '';
        var amount = '';
        var currency = '';
        var SPcomments = '';
        var bulkupload = 0;
        var associateId = obj.find('li:nth-child(1) span').text();

        if (type == 1) {
            advisedMonth = obj.find('li:nth-child(3) span').text();
            advisedYear = obj.find('li:nth-child(4) span').text();
            currency = obj.find('li:nth-child(6) span').text();
            amount = obj.find('li:nth-child(5) input').val();
            SPcomments = obj.find('li:nth-child(7) input').val();
            bulkupload = 3;
        }
        else {
            advisedMonth = obj.find('li:nth-child(3) select').val();
            advisedYear = obj.find('li:nth-child(4) select').val();
            amount = obj.find('li:nth-child(5) input').val();
            currency = obj.find('li:nth-child(6) span').text();
            SPcomments = obj.find('li:nth-child(7) input').val();
            bulkupload = 4;
        }

        if ($.trim(associateId) == '' || advisedMonth == -1 || advisedYear == -1 || amount == '' || currency == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateId + '","advisedMonth":"' + advisedMonth + '","advisedYear":"' + advisedYear + '","amount":"' + amount + '","currency":"' + currency + '","comments":"' + SPcomments + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveSpecialPayUKI",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }

    else if (componentGroupId == 65) { //India Travel Advance Update

        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var key = obj.attr('pkey');
        var advisedMonth = '';
        var advisedYear = '';
        var travelId = '';
        var balance = '';
        var foreignCurrency = '';
        var recAmt = '';
        var currency = '';
        var ITAComments = '';
        var bulkupload = 0;
        var associateId = obj.find('li:nth-child(1) span').text();

        if (type == 1) {
            advisedMonth = obj.find('li:nth-child(3) span').text();
            advisedYear = obj.find('li:nth-child(4) span').text();
            currency = obj.find('li:nth-child(6) span').text();
            amount = obj.find('li:nth-child(5) input').val();
            SPcomments = obj.find('li:nth-child(7) input').val();
            bulkupload = 3;
        }
        else {
            advisedMonth = obj.find('li:nth-child(3) select').val();
            advisedYear = obj.find('li:nth-child(4) select').val();
            travelId = obj.find('li:nth-child(5) input').val();
            balance = obj.find('li:nth-child(6) input').val();
            foreignCurrency = obj.find('li:nth-child(7) input').val();
            recAmt = obj.find('li:nth-child(8) input').val();
            currency = obj.find('li:nth-child(9) span').text();
            ITAcomments = obj.find('li:nth-child(10) input').val();
            bulkupload = 4;
        }

        if ($.trim(associateId) == '' || advisedMonth == -1 || advisedYear == -1 || travelId == '' || recAmt == '' || currency == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateId + '", "advisedMonth":"' + advisedMonth + '","advisedYear":"' + advisedYear + '","travelId":"' + travelId + '","balance":"' + balance + '", "foreignCurrency":"' + foreignCurrency + '","recAmount":"' + recAmt + '", "currency":"' + currency + '","comments":"' + ITAComments + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveIndiaTravelAdvanceUKI",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }

    else if (componentGroupId == 70) { //India Net Deduction Update

        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var key = obj.attr('pkey');

        var advisedMonth = '';
        var advisedYear = '';
        var recAmt = '';
        var currency = '';
        var exchangeRate = '';
        var recAmt_INR = '';
        var balance_INR = '';
        var INDComments = '';
        var bulkupload = 0;
        var associateId = obj.find('li:nth-child(1) span').text();

        if (type == 1) {
            advisedMonth = obj.find('li:nth-child(3) span').text();
            advisedYear = obj.find('li:nth-child(4) span').text();
            currency = obj.find('li:nth-child(6) span').text();
            amount = obj.find('li:nth-child(5) input').val();
            SPcomments = obj.find('li:nth-child(7) input').val();
            bulkupload = 3;
        }
        else {
            advisedMonth = obj.find('li:nth-child(3) select').val();
            advisedYear = obj.find('li:nth-child(4) select').val();
            recAmt = obj.find('li:nth-child(5) input').val();
            currency = obj.find('li:nth-child(6) span').text();
            exchangeRate = obj.find('li:nth-child(7) input').val();
            recAmt_INR = obj.find('li:nth-child(8) input').val();
            balance_INR = obj.find('li:nth-child(9) input').val();
            INDComments = obj.find('li:nth-child(10) input').val();
            bulkupload = 4;
        }

        if ($.trim(associateId) == '' || advisedMonth == -1 || advisedYear == -1 || recAmt == '' || exchangeRate == '' || recAmt_INR == '' || balance_INR == '' || currency == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateId + '", "advisedMonth":"' + advisedMonth + '","advisedYear":"' + advisedYear + '","recAmount":"' + recAmt + '","currency":"' + currency + '", "exchangeRate":"' + exchangeRate + '","recAmount_INR":"' + recAmt_INR + '", "balance_INR":"' + balance_INR + '","comments":"' + INDComments + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveIndiaNetDeductionUKI",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == ''
                    || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }

    else if (componentGroupId == 68) { //Miscellaneous Deduction Update


        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var key = obj.attr('pkey');

        var deductionType = '';
        var amount = '';
        var currency = '';
        var MDComments = '';
        ////var key = 0;
        var bulkupload = 0;
        var associateId = obj.find('li:nth-child(1) span').text();

        if (type == 1) {
            advisedMonth = obj.find('li:nth-child(3) span').text();
            advisedYear = obj.find('li:nth-child(4) span').text();
            currency = obj.find('li:nth-child(6) span').text();
            amount = obj.find('li:nth-child(5) input').val();
            SPcomments = obj.find('li:nth-child(7) input').val();
            bulkupload = 3;
        }
        else {
            deductionType = obj.find('li:nth-child(3) span').text();
            amount = obj.find('li:nth-child(4) input').val();
            currency = obj.find('li:nth-child(5) span').text();
            MDComments = obj.find('li:nth-child(6) input').val();
            bulkupload = 4;
        }

        if ($.trim(associateId) == '' || deductionType == '' || amount == '' || currency == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateId + '", "deductionType":"' + deductionType + '","amount":"' + amount + '","currency":"' + currency + '","comments":"' + MDComments + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveMiscellaneousDeductionUKI",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == ''
                    || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }

    else if (componentGroupId == 59) {//Lunch voucher
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var countrybonus = obj.find('li:nth-child(3) input').val();
        var hiretype = obj.find('li:nth-child(4) input').val();
        //var bonustype = obj.find('li:nth-child(6) ').text();
        var perforpay = obj.find('li:nth-child(7) input').val();
        var targetbonus = obj.find('li:nth-child(8) input').val();
        var calculatedplan = obj.find('li:nth-child(9) input').val();
        var totalpay = obj.find('li:nth-child(10) input').val();
        var ukBonus = obj.find('li:nth-child(11) input').val();
        var activeCountry = obj.find('li:nth-child(12) input').val();
        var paygroup = obj.find('li:nth-child(13) input').val();
        var comments = obj.find('li:nth-child(14) input').val();

        if ($.trim(countrybonus) == '' || $.trim(hiretype) == '-1' ||
            $.trim(totalpay) == '' || $.trim(ukBonus) == '' || $.trim(activeCountry) == '' || $.trim(paygroup) == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","countryBonus":"' + countrybonus + '","hireType":"' + hiretype + '", "performancePay":"' + perforpay + '", "targetBonus":"' + targetbonus + '", "calculatedPlan":"' + calculatedplan + '","totalPay":"' + totalpay + '", "ukBonus":"' + ukBonus + '", "activeCountry":"' + activeCountry + '", "paygroup":"' + paygroup + '", "comments":"' + comments + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/ValidateYearendBonusDataCE",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').css('font-size', '14px');
                    $('.popup_edit .innerErrorHolder').text('Data updated, this will be considered for payroll');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').css('font-size', '14px');
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();//JB
                    }
                }
                else {
                    keyPressEnter();
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').css('font-size', '14px');
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }

    else if (componentGroupId == 63) { //Singapore Deduction

        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');

        var bulkupload = 0;

        if (type == 1) {
            var associateId = obj.find('li:nth-child(1) span').text();
            var RecoveryPeriod = obj.find('li:nth-child(3) input').val();
            var payrollMonth = obj.find('li:nth-child(4) span').text();
            var payrollYear = obj.find('li:nth-child(5) span').text();
            var LineDescription = obj.find('li:nth-child(7) input').val();
            var AmountSGP = obj.find('li:nth-child(8) input').val();
            var AmountRecoverSGP = obj.find('li:nth-child(9) input').val();
            var ExchangeRate = obj.find('li:nth-child(10) input').val();
            var AmountRecoverGBP = obj.find('li:nth-child(11) input').val();
            var Balance = obj.find('li:nth-child(12) input').val();
            var Comments = obj.find('li:nth-child(13) input').val();

            bulkupload = 3;
        }
        else {
            var associateId = obj.find('li:nth-child(1) span').text();
            var RecoveryPeriod = obj.find('li:nth-child(3) input').val();
            var payrollMonth = obj.find('li:nth-child(4) select').val();
            var payrollYear = obj.find('li:nth-child(5) select').val();
            var LineDescription = obj.find('li:nth-child(7) input').val();
            var AmountSGP = obj.find('li:nth-child(8) input').val();
            var AmountRecoverSGP = obj.find('li:nth-child(9) input').val();
            var ExchangeRate = obj.find('li:nth-child(10) input').val();
            var AmountRecoverGBP = obj.find('li:nth-child(11) input').val();
            var Balance = obj.find('li:nth-child(12) input').val();
            var Comments = obj.find('li:nth-child(13) input').val();
            bulkupload = 4;
        }

        if ($.trim(associateId) == '' || payrollMonth == '-1' || payrollYear == '-1' || LineDescription == '' || AmountSGP == '' || AmountRecoverSGP == '' || ExchangeRate == '' || AmountRecoverGBP == '' || Balance == '' || RecoveryPeriod == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + pkey + ',"associateId":"' + associateId + '","payrollmonth":"' + payrollMonth + '","year":"' + payrollYear + '","LineDescription":"' + LineDescription + '","AmountSGP":"' + AmountSGP + '","AmountRecoverSGP":"' + AmountRecoverSGP + '","ExchangeRate":"' + ExchangeRate + '","AmountRecoverGBP":"' + AmountRecoverGBP + '","Balance":"' + Balance + '","RecoveryPeriod":"' + RecoveryPeriod + '","Comments":"' + Comments + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveCESingaporeDeduction",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {

                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {

                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == ''
                    || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }

    else if (componentGroupId == 79 || componentGroupId == 80 || componentGroupId == 81) { //Sick Leave conversion,Ad-hoc Payment and OneTime payment  Update

        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var key = obj.attr('pkey');
        var projectid = '';
        var advisedMonth = '';
        var advisedYear = '';
        var paymentDate = '';
        var amount = '';
        var daysEncashed = '';
        var taxable = '';
        var remarks = '';
        ////var key = 0;
        var bulkupload = 0;
        var associateId = obj.find('li:nth-child(1) span').text();
        var errormessage = $('.popup_new .innerErrorHolder').text();

        if (type == 1) {
            advisedMonth = obj.find('li:nth-child(3) span').text();
            advisedYear = obj.find('li:nth-child(4) span').text();
            currency = obj.find('li:nth-child(6) span').text();
            amount = obj.find('li:nth-child(5) input').val();
            SPcomments = obj.find('li:nth-child(7) input').val();
            bulkupload = 3;
        }
        else {
            advisedMonth = obj.find('li:nth-child(3) span').text();
            advisedYear = obj.find('li:nth-child(4) span').text();
            amount = obj.find('li:nth-child(5) input').val();
            paymentDate = obj.find('li:nth-child(6) select').val();
            remarks = obj.find('li:nth-child(7) input').val();
            if (componentGroupId == 79) {
                daysEncashed = obj.find('li:nth-child(8) input').val();
            }
            if (componentGroupId == 81) {
                projectid = $('#SAO_ProjectID').val();
                taxable = obj.find('li:nth-last-child(2) select ').val();
            }
            bulkupload = 4;
        }

        if (componentGroupId == 79) {
            if ($.trim(associateId) == '' || advisedMonth == '' || advisedYear == '' || amount == '' || paymentDate == -1 || daysEncashed == '') {

                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }
        if (componentGroupId == 81) {
            if ($.trim(associateId) == '' || advisedMonth == '' || advisedYear == 0 || amount == 0 || paymentDate == -1 || taxable == -1) {
                $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
            else if ($.trim(projectid).length != 10 || isNaN(projectid) || $.trim(projectid).match(/[^a-zA-Z0-9 ]/g)) {
                $('.popup_edit .innerErrorHolder').text('Please enter the valid ProjectID');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }
        if (componentGroupId == 80) {

            if ($.trim(associateId) == '' || advisedMonth == '' || advisedYear == '' || amount == '' || paymentDate == -1) {
                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateId + '", "advisedMonth":"' + advisedMonth + '","advisedYear":"' + advisedYear + '","amount":"' + amount + '","paymentDate":"' + paymentDate + '","projectid":"' + projectid + '", "remarks":"' + remarks + '", "daysEncashed":"' + daysEncashed + '","taxable":"' + taxable + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveSickLeaveAdhocOneTimePHL",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == ''
                    || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }

    else if (componentGroupId == 83) { //Lost Admin Access Update

        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');

        var bulkupload = 0;

        if (type == 1) {
            var associateId = obj.find('li:nth-child(1) span').text();
            var advisedMonth = obj.find('li:nth-child(3) span').text();
            var advisedYear = obj.find('li:nth-child(4) span').text();
            var principalamount = obj.find('li:nth-child(5) input').val();
            var amortizationamount = obj.find('li:nth-child(6) input').val();
            var paymentDate = obj.find('li:nth-child(7) span').text();
            var remarks = obj.find('li:nth-child(8) input').val();


            bulkupload = 3;
        }
        else {
            var associateId = obj.find('li:nth-child(1) span').text();
            var advisedMonth = obj.find('li:nth-child(3) span').text();
            var advisedYear = obj.find('li:nth-child(4) span').text();
            var principalamount = obj.find('li:nth-child(5) input').val();
            var amortizationamount = obj.find('li:nth-child(6) input').val();
            var paymentDate = obj.find('li:nth-child(7) select').val();
            var remarks = obj.find('li:nth-child(8) input').val();

            bulkupload = 4;
        }


        if ($.trim(associateId) == '' || advisedMonth == '' || advisedYear == '' || principalamount == '' || amortizationamount == '' || paymentDate == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + pkey + ',"associateId":"' + associateId + '", "advisedMonth":"' + advisedMonth + '","advisedYear":"' + advisedYear + '","principalAmount":"' + principalamount + '","amortizationAmount":"' + amortizationamount + '","paymentDate":"' + paymentDate + '", "remarks":"' + remarks + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveLostAdminAccessPHL",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == ''
                    || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }
    else if (componentGroupId == 84) { //HDMF Contribution Update
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');

        var bulkupload = 0;

        if (type == 1) {
            var associateId = obj.find('li:nth-child(1) span').text();
            var advisedMonth = obj.find('li:nth-child(3) span').text();
            var advisedYear = obj.find('li:nth-child(4) span').text();
            var amount = obj.find('li:nth-child(5) input').val();
            var startDate = obj.find('li:nth-child(6) span').text();
            var endDate = obj.find('li:nth-child(7) span').text();
            var paymentDate = obj.find('li:nth-child(8) span').text();
            var remarks = obj.find('li:nth-child(9) input').val();


            bulkupload = 3;
        }
        else {
            var associateId = obj.find('li:nth-child(1) span').text();
            var advisedMonth = obj.find('li:nth-child(3) span').text();
            var advisedYear = obj.find('li:nth-child(4) span').text();
            var amount = obj.find('li:nth-child(5) input').val();
            var startDate = obj.find('li:nth-child(6) input').val();
            var endDate = obj.find('li:nth-child(7) input').val();
            var paymentDate = obj.find('li:nth-child(8) select').val();
            var remarks = obj.find('li:nth-child(9) input').val();

            bulkupload = 4;
        }

        if ($.trim(associateId) == '' || advisedMonth == '' || advisedYear == '' || amount == '' || startDate == '' || endDate == '' || paymentDate == '') {

            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + pkey + ',"associateId":"' + associateId + '", "advisedMonth":"' + advisedMonth + '","advisedYear":"' + advisedYear + '","amount":"' + amount + '","startDate":"' + startDate + '","endDate":"' + endDate + '","paymentDate":"' + paymentDate + '", "remarks":"' + remarks + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveHDMFContribution",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == ''
                    || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }

    else if (componentGroupId == 75 || (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71
        || componentGroupId == 72 || componentGroupId == 74 || componentGroupId == 73 || ((componentGroupId == 3 || componentGroupId == 29
            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {

        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var remarks = '';
        var retentionenddate = '';
        var Amount = obj.find('li:nth-child(5) input').val();
        var ProjectId = obj.find('li:nth-child(6) input').val();
        var paymentdate = obj.find('li:nth-child(7) select').val();
        if (((componentGroupId == 3 || componentGroupId == 29
            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {
            retentionenddate = obj.find('li:nth-child(8) input').val();
            remarks = obj.find('li:nth-child(10) input').val();
        }
        else {
            retentionenddate = '';
            remarks = obj.find('li:nth-child(8) input').val();
        }

        if ($.trim(Amount) == '' || $.trim(ProjectId) == '' || (($.trim(retentionenddate) == '') && ((componentGroupId == 3 || componentGroupId == 29
            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20))) {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
            $('.popup_edit .innerErrorHolder').text('Please enter the valid ProjectID');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if ((Amount) < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if ((Amount) == 0) {
                error += 'Amount cannot be zero' + ',';

            }
            if (error == '') {

                var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","amount":"' + Amount + '","projectId":"' + ProjectId + '","inputRemarks":"' + remarks + '","retentionenddate":"' + retentionenddate + '","paymentdate":"' + paymentdate + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/ValidateUKIFinraAndBonusComponents",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit.innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#aid1').val() == '' || $('#aid2').val() == ''
                            || $('#bid').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();

            }
        }
    }


    else if (componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87 || componentGroupId == 88 || componentGroupId == 89) { //HDMF
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var bulkupload = 0;

        if (type == 1) {
            var associateid = obj.find('li:nth-child(1) span').text();
            var advisedmonth = obj.find('li:nth-child(3) span').text();
            var advisedyear = obj.find('li:nth-child(4) span').text();
            var loanamount = obj.find('li:nth-child(5) input').val();
            var interestamount = obj.find('li:nth-child(6) input').val();
            var startdate = obj.find('li:nth-child(7) input').val();
            var enddate = obj.find('li:nth-child(8) input').val();
            var prevpayment = obj.find('li:nth-child(9) input').val();
            var balanceamount = obj.find('li:nth-child(10) input').val();
            var term = obj.find('li:nth-child(11) input').val();
            var monthlyamount = obj.find('li:nth-child(12) input').val();
            var paymentdate = obj.find('li:nth-child(13) span').text();
            var remarks = obj.find('li:nth-child(14) input').val();

            bulkupload = 3;
        }
        else {
            var associateid = obj.find('li:nth-child(1) span').text();
            var advisedmonth = obj.find('li:nth-child(3) span').text();
            var advisedyear = obj.find('li:nth-child(4) span').text();
            var loanamount = obj.find('li:nth-child(5) input').val();
            var interestamount = obj.find('li:nth-child(6) input').val();
            var startdate = obj.find('li:nth-child(7) input').val();
            var enddate = obj.find('li:nth-child(8) input').val();
            var prevpayment = obj.find('li:nth-child(9) input').val();
            var balanceamount = obj.find('li:nth-child(10) input').val();
            var term = obj.find('li:nth-child(11) input').val();
            var monthlyamount = obj.find('li:nth-child(12) input').val();
            var paymentdate = obj.find('li:nth-child(13) select').val();
            var remarks = obj.find('li:nth-child(14) input').val();
            bulkupload = 4;
        }

        if ($.trim(associateid) == '' || loanamount == '' || interestamount == '' || startdate == ''
            || enddate == '' || prevpayment == '' || balanceamount == '' || term == '' || monthlyamount == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        else {
            if (isNaN(loanamount) || isNaN(interestamount) || isNaN(balanceamount) || isNaN(monthlyamount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if ((loanamount) < 0) {
                error += 'Loan Amount cannot be negative' + ',';
            }
            else if ((interestamount) < 0) {
                error += 'Interest Amount cannot be negative' + ',';
            }
            else if ((balanceamount) < 0) {
                error += 'Balance Amount cannot be negative' + ',';
            }
            else if ((monthlyamount) < 0) {
                error += 'Monthly Amount cannot be negative' + ',';
            }
            else if ((loanamount) == 0) {
                error += 'Loan Amount cannot be zero' + ',';
            }
            else if ((interestamount) == 0) {
                error += 'Interest Amount cannot be zero' + ',';

            }
            else if ((balanceamount) == 0) {
                error += 'Balance Amount cannot be zero' + ',';

            }
            else if ((monthlyamount) == 0) {
                error += 'Monthly Amount cannot be zero' + ',';

            }
            if (error == '') {

                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + pkey + ',"associateId":"' + associateid + '","advisedmonth":"' + advisedmonth + '","advisedyear":"' + advisedyear + '","loanamount":"' + loanamount + '","interestamount":"' + interestamount + '","startdate":"' + startdate + '","enddate":"' + enddate + '", "prevpayment":"' + prevpayment + '", "balanceamount":"' + balanceamount + '","term":"' + term + '","monthlyamount":"' + monthlyamount + '", "paymentdate":"' + paymentdate + '", "remarks":"' + remarks + '"}';

                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SavePHLHDMFANDLOAN",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_edit .innerErrorHolder').removeClass("red");
                            $('.popup_edit .innerErrorHolder').addClass("green");
                            $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_edit .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid1').val() == '' || $('#aid2').val() == ''
                            || $('#bid1').val() == '' || $('#bid2').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();
                            }
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }

        }
    }
    else if (componentGroupId == 94) {

        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var paymentDate = '';
        var pkey = obj.attr('pkey');

        var principalamount = obj.find('li:nth-child(5) input').val();
        var dategranted = obj.find('li:nth-child(6) input').val();
        var semimonthly = obj.find('li:nth-child(7) input').val();
        var loantype = obj.find('li:nth-child(8) input').val();
        var remarks = obj.find('li:nth-child(10) input').val();
        if (type == 1) {
            paymentDate = obj.find('li:nth-child(9) span').text();
        }
        else {
            paymentDate = obj.find('li:nth-child(9) select').val();
        }


        if ($.trim(principalamount) == '' || $.trim(semimonthly) == '' || $.trim(loantype) == '') {
            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","principalamount":"' + principalamount + '","semimonthly":"' + semimonthly + '","inputRemarks":"' + remarks + '","loantype":"' + loantype + '","dategranted":"' + dategranted + '","paymentDate":"' + paymentDate + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/ValidatePHLloanStoppage",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit.innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Saved Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#aid1').val() == '' || $('#aid2').val() == ''
                        || $('#bid').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                }
            });
        }
    }
});

$(document).on('keypress', '#FinalAmt', function (e) {
    $('#FinalAmt').numeric();
    $("#FinalAmt").attr('maxlength', '10');
    if (e.which == 13) {
        $.trim($(this).val());
    }
    if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
        return false;
    }
});


$(document).on('click', '.new_btn', function () {
    FileUploadID = '';
    MailUploadID = '';
    SplCaseMail = '';
    LV_LwdDate = '';
    DeclarationFlag = ''
    checkmultipletrnsport = 0;
    FlagStatus = '';
    var componentGroupId = $('#bonus').val();
    otproject = '';
    ocaproject = '';
    $('#bonus').css('display', 'none');
    $('.inner_cont').css("height", '');
    $('#innerErrorHolder').text('');
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    $('.popup_new .scrollbar').hide();
    //if (componentGroupId == 18 && (CountryId != 2 && CountryId != 14 && CountryId != 15 && CountryId != 16)) )
    $('.popup_new .viewport').css("height", "405px");
    $('.popup_new .viewport').css("width", "820px");
    $('.popup_new .scrollbar').css("display", "none");
    $('.popup_new .inner_cont').css('width', '678px');
    $('#btn_save').css('margin-left', '280px');
    $('.popup_new .middle').removeAttr("style");
    $('.popup_new .middle').css("background", "url(../Images/popup_middle.png) repeat-y");

    //$('.popup_new').css("top", "10px");
    if (componentGroupId == 3) {
        $('.inner_cont').css("height", '250px');
        $('.popup_new .innerErrorHolder').text('');
    }
    else if (componentGroupId == 2 && (CountryId != 18 && CountryId != 19 && CountryId != 20)) {
        $('.inner_cont').css("height", '300px');
    }
    else if (componentGroupId == 15 || componentGroupId == 16 || componentGroupId == 41
        || (componentGroupId == 2 && (CountryId == 18 && CountryId == 19))) {
        $('.inner_cont').css("height", '250px');
    }
    else if (componentGroupId == 17) {
        $('.inner_cont').css("height", '200px');
        //$('.middle').css("height", '355px');
    }
    else if (componentGroupId == 18 && CountryId == 2 ||
        ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19))
        || componentGroupId == 19) {
        $('.inner_cont').css("height", '150px');
    }
    else if ((componentGroupId == 18 || componentGroupId == 23 || componentGroupId == 24)
        && (CountryId != 2 && CountryId != 14 && CountryId != 15 && CountryId != 16)) {
        $('.popup_new .viewport').css("height", "420px");
        $('.inner_cont').css("height", '170px');
    }
    else if (componentGroupId == 18 && (CountryId == 14 && CountryId == 15 && CountryId == 16)) { //nordics
        $('.inner_cont').css("height", '250px');
    }
    else if (componentGroupId == 20 && CountryId == 2) {
        $('.inner_cont').css("height", '200px');
    }
    else if ((componentGroupId == 20 && CountryId != 2) || (componentGroupId == 48 && CountryId == 17)) {
        $('.inner_cont').css("height", '260px');
    }
    else if (componentGroupId == 33 || componentGroupId == 50) {
        $('.inner_cont').css("height", '240px');
    }
    else if (componentGroupId == 25 || componentGroupId == 42 || componentGroupId == 60) {
        $('.inner_cont').css("height", '160px');
    }
    else if (componentGroupId == 33) {
        $('.inner_cont').css("height", '90px');
    }
    else if ((componentGroupId == 49 && (CountryId != 18 && CountryId != 19)) ||
        componentGroupId == 46) {
        $('.inner_cont').css("height", '170px');
    }
    else if (componentGroupId == 52 || componentGroupId == 62 || componentGroupId == 63 || componentGroupId == 56
        || (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71 || componentGroupId == 72
        || componentGroupId == 74 || componentGroupId == 73 || componentGroupId == 75
        || componentGroupId == 79 || componentGroupId == 80
        || componentGroupId == 81 || componentGroupId == 83 || componentGroupId == 84 ||
        ((componentGroupId == 3 || componentGroupId == 29
            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {
        $('.inner_cont').css("height", '250px');
    }
    else if (componentGroupId == 61 || componentGroupId == 65 || componentGroupId == 69 || componentGroupId == 70) {
        $('.inner_cont').css("height", '180px');
    }
    else if (componentGroupId == 68) {
        $('.inner_cont').css("height", '120px');
    }
    else if (componentGroupId == 82 || componentGroupId == 91 || componentGroupId == 95
        || componentGroupId == 92 || componentGroupId == 93 || componentGroupId == 96
        || componentGroupId == 97 || componentGroupId == 90) {
        $('.popup_new').css("top", "120px");
        $('.inner_cont').css("height", "200px");
    }
    else if (componentGroupId == 64 || componentGroupId == 71 || componentGroupId == 72
        || componentGroupId == 74 || componentGroupId == 73 || componentGroupId == 75 ||
        ((componentGroupId == 3 || componentGroupId == 29
            || componentGroupId == 30 || componentGroupId == 49 || componentGroupId == 2) && CountryId == 20)) {
        $('.inner_cont').css("height", '180px');
    }
    else if ((componentGroupId == 49 || componentGroupId == 57) && (CountryId == 18 || CountryId == 19)) {
        $('.inner_cont').css("height", '186px');
    }

    else if ((componentGroupId == 76 || componentGroupId == 77 || componentGroupId == 78) && (CountryId == 20)) {
        $('.inner_cont').css("height", '186px');
    }
    else if (componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87 || componentGroupId == 88 || componentGroupId == 89) {
        $('.inner_cont').css("height", '250px');
    }

    var type = '';
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    else if ($('#a_otherGeo').hasClass('selected')) {
        type = 3;
    }
    var BGoptions = '';
    var RecOptions = '';
    var options = '';
    var list = '';
    var RefereeBGoptions = '';
    var projectId = '';
    var DeductionTypeoptions = '';
    var Installmenttype = '';
    var CurrencyCode = '';
    $('.popup_new .innerErrorHolder').text('');

    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    if (componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87
        || componentGroupId == 88 || componentGroupId == 89) {   //HDMF and SSS Loan

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();


        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text"  id="LnAssoId" value="" style="width:137px;height:20px;" maxlength="11" class="M_40 new_upload" onKeyPress="return onlyNumbers(this);" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="LnAssoname"style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">Advised Month<span class="red">*</span></label><select name="LnAdvisedMonth" id="LnAdvisedMonth" class="M_40 styled" style=" width: 137px;--bgX: 60.5%;"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">Advised Year<span class="red">*</span></label><select name="LnYear" id="LnYear" class="M_40 styled" style="width: 137px;--bgX: 60.5%;"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_15">Loan Amount<span class="red">*</span></label><input type="text"  id="LoanAmount" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Interest Amount<span class="red">*</span></label><input type="text"  id="interestAmount" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">StartDate <span class="red">*</span></label><input type="text" id="Lnstartdate" value="" class="popup_date" style="width:137px;height:20px; margin-left: -5px"/></li>';
        list += '<li><label class="M_15">EndDate <span class="red">*</span></label><input type="text" id="Lnenddate" value="" class="popup_date" style="width:137px;height:20px; margin-left: -5px"/></li>';
        list += '<li><label class="M_15">Previous Payment<span class="red">*</span></label><input type="text"  id="Lnprevpaydate" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Balance Amount<span class="red">*</span></label><input type="text"  id="BalanceAmount" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Term<span class="red">*</span></label><input type="text"  id="LnTerm" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Monthly Amortization<span class="red">*</span></label><input type="text"  id="MonthlyAmount" value="" style="width:137px;height:20px;margin-left:-8px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Payment Date<span class="red">*</span></label><select name="LnPaymentdate" id="LnPaymentdate" class="M_40 styled" style="--bgX: 60%;width: 173px"><option value="-1" selected="selected">--Select Payment Date--</option></select></li>';
        list += '<li><label class="M_15">Remarks</label><input type="text"  id="LnComments" value="" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
        list += '</ul>';


        $('.popup_new .inner_cont').html('').html(list);
        $('#LoanAmount').numeric();
        $('#interestAmount').numeric();
        $('#BalanceAmount').numeric();
        $('#LnTerm').numeric();
        $('#MonthlyAmount').numeric();
        $('#Lnprevpaydate').numeric();

        var componentGroupId = $('#bonus').val();
        var datastring = '{"componentGroupId":"' + componentGroupId + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#LnYear').html(year);
                    $('#LnYear').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectLnYear').text($("#LnYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#LnAdvisedMonth').html(month);
                    $('#LnAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectLnAdvisedMonth').text($("#LnAdvisedMonth option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var paymentdate = '';
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            paymentdate += '<option value="' + data.paymentdateID + '">' + data.Paymentdate + '</option>';
                        });
                    }
                    $('#LnPaymentdate').append(paymentdate);
                    $('#LnPaymentdate').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectLnPaymentdate').text($("#LnPaymentdate option:selected").text());

                    $('.popup_new .innerErrorHolder').text('');


                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });


        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }



    if ((componentGroupId == 69) && (CountryId == 18 || CountryId == 19)) {   //Individual Upload Shadow Payroll Deduction

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text"  id="SPDAssoId" value="" style="width:137px;height:20px;" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="SPDAssoname"style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">Advised Month<span class="red">*</span></label><select name="SPDAdvisedMonth" id="SPDAdvisedMonth" class="styled M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">Advised Year<span class="red">*</span></label><select name="SPDYear" id="SPDYear" class="styled M_40"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_15">Employee SS (GBP)<span class="red">*</span></label><input type="text"  id="SPDEmpSSGBR" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Employer SS (GBP)<span class="red">*</span></label><input type="text"  id="SPDEmrSSGBP" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Employee SS (USD)<span class="red">*</span></label><input type="text"  id="SPDEmpSSUSD" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Employer SS (USD)<span class="red">*</span></label><input type="text"  id="SPDEmrSSUSD" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Comments</label><input type="text"  id="SPDAssoComments" value="" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
        list += '</ul>';


        $('.popup_new .inner_cont').html('').html(list);
        $('#spanhide').hide();
        var maritalstatus = 0;
        var componentGroupId = $('#bonus').val();
        var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#SPDYear').html(year);
                    $('#SPDYear').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSPDYear').text($("#SPDYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#SPDAdvisedMonth').html(month);
                    $('#SPDAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSPDAdvisedMonth').text($("#SPDAdvisedMonth option:selected").text());
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');


                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });


        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }


    else if ((componentGroupId == 76 || componentGroupId == 77 || componentGroupId == 78) && (CountryId == 20)) {   //Individual Upload Shadow Payroll Deduction

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '<br/>';
        list += '<ul ><li><label class="M_15">AssociateID<span class="red">*</span></label><input type="text"  id="SPDAssoId" value="" style="width:137px;height:20px;" maxlength="11" class="M_40 new_upload" onKeyPress="return onlyNumbers(this);" /></li>';
        list += '<li><label class="M_15">AssociateName</label><label id="SPDAssoname"style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">AdvisedMonth<span class="red">*</span></label><select name="SPDAdvisedMonth" id="SPDAdvisedMonth" class="styled M_40" style="width: 135px;--bgX:60.6%;"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">AdvisedYear<span class="red">*</span></label><select name="SPDYear" id="SPDYear" class="styled M_40" style="width: 135px;--bgX:60.6%;"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_15">Amount<span class="red">*</span></label><input type="text"  id="Amount" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Payment Date<span class="red">*</span></label><select name="SPDPaymentDate" id="SPDPaymentDate" class="styled M_40" style="width: 135px;--bgX: 60.6%;"><option value="-1" selected="selected">--Select paymentDate--</option></select></li>';
        list += '<li><label class="M_15">Remarks</label><input type="text"  id="Comments" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        //list += '<li><label class="M_15">Comments</label><input type="text"  id="SPDAssoComments" value="" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
        list += '</ul>';


        $('.popup_new .inner_cont').html('').html(list);
        $("#Amount").numeric();
        $('#spanhide').hide();

        var maritalstatus = 0;
        var componentGroupId = $('#bonus').val();
        var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#SPDYear').html(year);
                    $('#SPDYear').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSPDYear').text($("#SPDYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#SPDAdvisedMonth').html(month);
                    $('#SPDAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSPDAdvisedMonth').text($("#SPDAdvisedMonth option:selected").text());
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');

                    var paymentdate = '';
                    paymentdate += "<option value='-1'>--Select Payment Date--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            paymentdate += '<option value="' + data.paymentdateID + '">' + data.Paymentdate + '</option>';
                        });
                    }
                    $('#SPDPaymentDate').html(paymentdate);
                    $('#SPDPaymentDate').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSPDPaymentDate').text($("#SPDPaymentDate option:selected").text());
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');


                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });


        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if ((componentGroupId == 63) && (CountryId == 18 || CountryId == 19)) {   //Individual Upload Singapore Deduction

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text"  id="SDAssoId" value="" style="width:137px;height:20px;" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="SDAssoname"style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">Recovery Period<span class="red">*</span></label><input type="text"  id="SDRecoveryPeriod" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Advised Month<span class="red">*</span></label><select name="SDAdvisedMonth" id="SDAdvisedMonth" class="styled M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">Advised Year<span class="red">*</span></label><select name="SDYear" id="SDYear" class="M_40 styled"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_15">Business Unit</label><label id="SDBU"style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">Line Description<span class="red">*</span></label><input type="text"  id="SDLineDesc" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Amount(SGD)<span class="red">*</span></label><input type="text"  id="SDAmount" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15" style="line-height:13px">Amount to be Recovered(SGP)<span class="red">*</span></label><input type="text"  id="SDAmtRecv_SGP" value="" style="width:137px;height:20px;margin-top:8px"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Exchange Rate<span class="red">*</span></label><input type="text"  id="SDExcRate" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15" style="line-height:21px">Amount to be Recovered(GBP)<span class="red">*</span></label><input type="text"  id="SDAmtRecv_GBP" value="" style="width:137px;height:20px;margin-top:16px"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Balance<span class="red">*</span></label><input type="text"  id="SDBalance" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15" style="line-height:55px">Comments</label><input type="text"  id="SDComments" value="" style="width:137px;height:20px;margin-top:21px;" class="M_40 new_upload" /></li>';
        list += '</ul>';


        $('.popup_new .inner_cont').html('').html(list);
        $('#spanhide').hide();
        //$('#aft_uploadhide').hide();
        //$('#frameforhide').hide();
        //$('#LV_LeaveDays').numeric();
        //$('#LV_Training').numeric();
        //$('#LV_Holidays').numeric();

        var maritalstatus = 0;
        var componentGroupId = $('#bonus').val();
        var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#SDYear').html(year);
                    $('#SDYear').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSDYear').text($("#SDYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#SDAdvisedMonth').html(month);
                    $('#SDAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSDAdvisedMonth').text($("#SDAdvisedMonth option:selected").text());
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');


                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });


        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if (componentGroupId == 82 || componentGroupId == 91 || componentGroupId == 95
        || componentGroupId == 92 || componentGroupId == 93 || componentGroupId == 96 || componentGroupId == 97
        || componentGroupId == 90) { // Single upload One off Bonus

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text"  id="npAssoId" value="" style="width:137px;height:20px;" maxlength="11" class="M_40 new_upload" onKeyPress="return onlyNumbers(this);" /></li>';
        list += '<li><label class="M_15">Associate Name</label><span id="npAssoname"style="margin-left:0px;"></span></li>';
        list += '<li><label class="M_15">Advised Month<span class="red">*</span></label><select name="npmonth" id="npmonth" class="M_40 styled"  style="width:137px;height:20px;" ><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">Advised Year<span class="red">*</span></label><select name="npyear" id="npyear"  class="styled" style="width:137px;height:20px;" ><option value="- 1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_15">Principal Amount<span class="red">*</span></label><input type="text"  id="npamount" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        if (componentGroupId == 95) {
            list += '<li><label class="M_15" style="line-height: 17px;">Semimonthly Amortization amount</label><label id="npsemiamount"></label></li>';
            list += '<li><label class="M_15">No of Installments</label><label id="npinstall"style="margin-left:-39px;">1</label></li>';
        }
        else if (componentGroupId == 82 || componentGroupId == 91) {
            list += '<li><label class="M_15" style="line-height: 0px;">Semimonthly Amortization amount<span class="red">*</span></label><input type="text" id="npsemiamount" value="" style="width:137px;height:20px;margin-left: 0px;" class="M_40 new_upload" /></li > ';
            list += '<li><label class="M_15">Project ID<span class="red">*</span></label><input class="new_upload" type="text" id="npProId" onKeyPress="return onlyNumbers(this);"/></li>'
            list += '<li><label class="M_15">No of Installments<span class="red">*</span></label><input type="text" id="npinstall" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        }
        else {
            list += '<li><label class="M_15" style="line-height: 0px;">Semimonthly Amortization amount<span class="red">*</span></label><input type="text" id="npsemiamount" value="" style="width:137px;height:20px;margin-left: 0px;" class="M_40 new_upload" /></li > ';
            list += '<li><label class="M_15">No of Installments<span class="red">*</span></label><input type="text" id="npinstall" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        }
        list += '<li><label class="M_15">Payment Date<span class="red">*</span></label><select name="npPaymentDate" id="npPaymentDate"  class="styled" style="width:137px;height:20px;" ><option value="-1" selected="selected">--Select Date--</option></select></li>';
        list += '<li><label class="M_15">Remarks</label><input type="text"  id="npRemarks" value="" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
        list += '</ul>';


        $('.popup_new .inner_cont').html('').html(list);
        $('#spanhide').hide();
        $('#npamount').numeric();
        $('#npinstall').numeric();
        $('#npsemiamount').numeric();
        $('#npProId').numeric();

        var componentGroupId = $('#bonus').val();
        var datastring = '{"componentGroupId":"' + componentGroupId + '"}';
    }

    else if (componentGroupId == 70) { // Single upload for India Net Deduction  

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text"  id="INDAssoId" value="" style="width:137px;height:20px;" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="INDAssoname"style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">Advised Month<span class="red">*</span></label><select name="INDAdvisedMonth" id="INDAdvisedMonth" class="styled M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">Advised Year<span class="red">*</span></label><select name="INDYear" id="INDYear" class="styled M_40"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_15">Recovery Amount<span class="red">*</span></label><input type="text"  id="INDRecAmt" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Currency</label><span id="INDCurrency" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Exchange Rate <span class="red">*</span></label><input type="text"  id="INDExRate" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15" style="line-height:10px">Recovery Amount </br>(INR) <span class="red">*</span></label><input type="text"  id="INDAmt" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Balance (INR)<span class="red">*</span></label><input type="text" id="INDBalance" style="width:137px;height:20px;"  class="M_40 new_upload"></label></li>';
        list += '<li><label class="M_15">Comments</label><input type="text"  id="INDComments" value="" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
        list += '</ul>';


        $('.popup_new .inner_cont').html('').html(list);
        $('#spanhide').hide();

        var maritalstatus = 0;
        var componentGroupId = $('#bonus').val();
        var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {

                if (msg.d.length > 0) {

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#INDYear').html(year);
                    $('#INDYear').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectINDYear').text($("#INDYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }


                    $('#INDAdvisedMonth').html(month);
                    $('#INDAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectINDAdvisedMonth').text($("#INDdvisedMonth option:selected").text());


                    var currency = msg.d[3][0].Currency;

                    $('#INDCurrency').html(currency);
                    $('.popup_new .innerErrorHolder').text('');


                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });


        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if (componentGroupId == 68) { // Single upload for Miscellaneous  Deduction 

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text"  id="MDAssoId" value="" style="width:137px;height:20px;margin-left:-14px" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="MDAssoname"style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15" style="line-height:26px">Deduction Type</label><span id="MDDeductionType" style="margin-left:-15px;margin-top:4px">Amex Card Recovery</span></li>';
        list += '<li><label class="M_15">Amount<span class="red">*</span></label><input type="text" id="MDAmt" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15" style="line-height:17px">Currency</label><span  id="MDCurrency" style="margin-left:-15px;margin-top:4px"></span></li>';
        list += '<li><label class="M_15" style="margin-top:4px" >Comments</label><input type="text"  id="MDComments" value="" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
        list += '</ul>';


        $('.popup_new .inner_cont').html('').html(list);
        $('#spanhide').hide();

        var maritalstatus = 0;
        var componentGroupId = $('#bonus').val();
        var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {

                if (msg.d.length > 0) {

                    //var deductionType = '';
                    //deductionType += "<option value='-1'>--Select Deduction Type--</option>";
                    //if (msg.d[1].length != 0) {
                    //    $.each(msg.d[1], function (i, data) {
                    //        deductionType += '<option value="' + data.PayoutTypeId + '">' + data.PayoutTypeName + '</option>';
                    //    });
                    //}

                    //$('#MDDeductionType').html(deductionType);
                    //$('#MDDeductionType').find('option:nth-child(1)').attr('selected', 'selected');
                    //$('#selectMDDeductionType').text($("#MDDeductionType option:selected").text());

                    var currency = msg.d[3][0].Currency;
                    $('#MDCurrency').html(currency);

                    $('.popup_new .innerErrorHolder').text('');


                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });


        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if (componentGroupId == 64) { // Single upload for Special Pay 

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text"  id="SPAssoId" value="" style="width:137px;height:20px;" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="SPAssoname"style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">Advised Month<span class="red">*</span></label><select name="SPAdvisedMonth" id="SPAdvisedMonth" class="styled M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">Advised Year<span class="red">*</span></label><select name="SPYear" id="SPYear" class="styled M_40"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_15">Amount<span class="red">*</span></label><input type="text"  id="SPAmt" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Currency</label><span id="SPCurrency" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Comments</label><input type="text"  id="SPComments" value="" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
        list += '</ul>';


        $('.popup_new .inner_cont').html('').html(list);
        $('#spanhide').hide();

        var maritalstatus = 0;
        var componentGroupId = $('#bonus').val();
        var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {

                if (msg.d.length > 0) {

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#SPYear').html(year);
                    $('#SPYear').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSPYear').text($("#SPYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }

                    var currency = msg.d[3][0].Currency;

                    $('#SPAdvisedMonth').html(month);
                    $('#SPAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSPAdvisedMonth').text($("#SPAdvisedMonth option:selected").text());

                    $('#SPCurrency').html(currency);
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');


                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });


        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if (componentGroupId == 62) { // Single upload for Sales Commission 
        $('.inner_cont').css("height", '145px');
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text"  id="SCAssoId" value="" style="width:137px;height:20px;" maxlength="11" class="M_20 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="SCAssoname"style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">Business Unit<span class="red">*</span></label><input type="text" id="SCBu" style="width:137px;height:20px;" class="M_20 new_upload" /></li>';
        list += '<li><label class="M_15" style="line-height:2px">Annual Bonus </br>as per offer<span class="red">*</span></label><input type="text" id="SCAnnualBonusOffer" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15" style="line-height:2px">Annual Bonus Payout<span class="red">*</span></label><input type="text"  id="SCAnnualBonusPayout" value="" style="width:137px;height:20px;"  class="M_20 new_upload" /></li>';
        list += '<li><label class="M_15">H1 Bonus paid<span class="red">*</span></label><input type="text" id="SCH1Bonus" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">H2 Bonus paid<span class="red">*</span></label><input type="text" id="SCH2Bonus" value="" style="width:137px;height:20px;"  class="M_20 new_upload" /></li>';
        list += '<li><label class="M_15">Comments</label><input type="text"  id="SCComments" value="" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
        list += '</ul>'

        $('.popup_new .inner_cont').html('').html(list);
        $('#spanhide').hide();

        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if ((componentGroupId == 65) && (CountryId == 18 || CountryId == 19)) { // Individual upload for India Travel Advance  

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text"  id="ITAAssoId" value="" style="width:137px;height:20px;margin-left:-34px" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="ITAAssoname"style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">Advised Month<span class="red">*</span></label><select name="ITAAdvisedMonth" id="ITAAdvisedMonth" class="styled M_40" style="margin-left:-34px"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">Advised Year<span class="red">*</span></label><select name="ITAYear" id="ITAYear" class="styled M_40" ><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_15">Travel ID<span class="red">*</span></label><input type="text"  id="ITATravelId" value="" style="width:137px;height:20px;margin-left:-32px"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Balance<span class="red">*</span></label><input type="text"  id="ITABalance" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Foreign Currency<span class="red">*</span></label><input type="text"  id="ITAFrgnCur" value="" style="width:137px;height:20px;margin-left:-32px"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Recovery Amount<span class="red">*</span></label><input type="text"  id="ITARecAmt" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Currency</label><span id="ITACurrency" style="margin-left:-32px;"></span></li>';
        list += '<li><label class="M_15">Comments</label><input type="text"  id="ITAComments" value="" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
        list += '</ul>';


        $('.popup_new .inner_cont').html('').html(list);
        $('#spanhide').hide();
        //$('#aft_uploadhide').hide();
        //$('#frameforhide').hide();
        //$('#LV_LeaveDays').numeric();
        //$('#LV_Training').numeric();
        //$('#LV_Holidays').numeric();

        var maritalstatus = 0;
        var componentGroupId = $('#bonus').val();
        var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {

                if (msg.d.length > 0) {

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#ITAYear').html(year);
                    $('#ITAYear').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectITAYear').text($("#ITAYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#ITAAdvisedMonth').html(month);
                    $('#ITAAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectITAAdvisedMonth').text($("#ITAdvisedMonth option:selected").text());


                    var currency = msg.d[3][0].Currency;
                    $('#ITACurrency').html(currency);
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');


                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });


        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if (componentGroupId == 60) { // Single upload One off Bonus

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text"  id="OOBAssoId" value="" style="width:137px;height:20px;" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="OOBAssoname"style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">Current Grade<span class="red">*</span></label><input type="text" id="OOBGrade" value="" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Hire Type<span class="red">*</span></label><select name="OOBHireType" id="SCAnnualBonusOffer" class="M_40"><option value="-1" selected="selected">--Select  HireType --</option></select></li>';
        list += '<li><label class="M_15">Country<span class="red">*</span></label><input type="text"  id="OOBCountry" value="" style="width:137px;height:20px;margin-left: -41px !important;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Currency</label><Label id="OOBCurrency" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">One Off Bonus<span class="red">*</span></label><input type="text" id="OOBOneOffBonus" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">PayOut Type<span class="red">*</span></label><select name="OOBPayoutType" id="OOBPayoutType" class="M_40"><option value="-1" selected="selected">--Select Payout Type--</option></select></li>';
        list += '<li><label class="M_15">Comments<span class="red">*</span></label><input type="text"  id="OOBComments" value="" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
        list += '</ul>';


        $('.popup_new .inner_cont').html('').html(list);
        $('#spanhide').hide();

        var maritalstatus = 0;
        var componentGroupId = $('#bonus').val();
        var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {

                if (msg.d.length > 0) {

                    var HireType = '';

                    var currency = msg.d[3][0].Currency;

                    $('#OOBHireType').html(HireType);
                    $('#OOBHireType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectOOBHireType').text($("#OOBHireType option:selected").text());

                    $('#Onecurrency').html(currency);
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');


                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }


    //else if (componentGroupId == 61) { // Single upload One off Bonus

    //    var obj = $('.popup_new').find('ul:first-child');
    //    obj.find('li:first-child span');
    //    $('.popup_new').show();

    //    var list = '';
    //    list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text"  id="OOBAssoId" value="" style="width:137px;height:20px;" maxlength="11" class="M_40 new_upload" /></li>';
    //    list += '<li><label class="M_15">Associate Name</label><label id="OOBAssoname"style="margin-left:-39px;"></label></li>';
    //    list += '<li><label class="M_15">Current Grade<span class="red">*</span></label><input type="text" id="OOBGrade" value="" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
    //    list += '<li><label class="M_15">Hire Type<span class="red">*</span></label><select name="OOBHireType" id="SCAnnualBonusOffer" class="M_40"><option value="-1" selected="selected">--Select  HireType --</option></select></li>';
    //    list += '<li><label class="M_15">Country<span class="red">*</span></label><input type="text"  id="OOBCountry" value="" style="width:137px;height:20px;margin-left: -41px !important;"  class="M_40 new_upload" /></li>';
    //    list += '<li><label class="M_15">Currency</label><Label id="OOBCurrency" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
    //    list += '<li><label class="M_15">One Off Bonus<span class="red">*</span></label><input type="text" id="OOBOneOffBonus" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
    //    list += '<li><label class="M_15">PayOut Type<span class="red">*</span></label><select name="OOBPayoutType" id="OOBPayoutType" class="M_40"><option value="-1" selected="selected">--Select Payout Type--</option></select></li>';
    //    list += '<li><label class="M_15">Comments<span class="red">*</span></label><input type="text"  id="OOBComments" value="" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
    //    list += '</ul>';


    //    $('.popup_new .inner_cont').html('').html(list);
    //    $('#spanhide').hide();

    //    var maritalstatus = 0;
    //    var componentGroupId = $('#bonus').val();
    //    var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
    //    $.ajax({
    //        type: "POST",
    //        url: "../APAC_WebMethods.aspx/GetDropdownSPDData_UK",
    //        contentType: "application/json; charset=utf-8",
    //        dataType: "json",
    //        data: datastring,
    //        cache: false,
    //        success: function (msg) {

    //            if (msg.d.length > 0) {

    //                var HireType = '';

    //                var currency = msg.d[2][0].Currency;

    //                $('#OOBHireType').html(HireType);
    //                $('#OOBHireType').find('option:nth-child(1)').attr('selected', 'selected');
    //                $('#selectOOBHireType').text($("#OOBHireType option:selected").text());

    //                $('#OOBCurrency').html(currency);
    //                //$('#selectLV_PayrollMonth').append(month);
    //                $('.popup_new .innerErrorHolder').text('');


    //            }
    //        },
    //        error: function (xhr) {
    //            errorpopup(parent.document.getElementById("hdnSession").value);
    //        }
    //    });
    //    var popupHeight = $('.popup_new').find(".middle").height();
    //    $('.popup_new').css({
    //        'position': 'absolute',
    //        'z-index': '100',
    //        "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
    //        "left": "10%"
    //    });
    //}

    else if (componentGroupId == 36 || componentGroupId == 37) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text" id="InsuranceAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="Insuranceassoname" style="margin-left:-39px;"></label></li>';
        list += ' <li><label class="M_15">StartDate <span class="red">*</span></label><input type="text" id="Insurancestartdate" value="" class="popup_date" style="width:137px;height:20px;"/></li>';
        list += '<li><label class="M_15">Amount<span class="red">*</span></label><input type="text" maxlength="11" value="" class="M_40 new_upload" id="taxamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
        list += '<li><label class="M_15">EffectiveDate</label><label id="Insuranceeffectivedate" style="width:137px;height:20px;margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">Beneficary Amount</label><input type="text" maxlength="11" value="" class="M_40 new_upload" id="beneficaryamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
        list += '<li style="width:100%"><label class="M_15">Special Case Reason</label><select name="Insurancesplcase" id="Insurancesplcase" class="styled M_40" style="width:150px"><option value="-1" selected="selected">--Select Special Case Reason--</option></select></li>';
        list += '</ul>';
        if (ocm == "1") {

            list += '<ul class="M_15" style="margin-left:9px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul class="M_15" style="margin-left:9px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }

        $('.popup_new .inner_cont').html('').html(list);
        $("#InsuranceAssoId").numeric();

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetNLDSSpecialCaseReason",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var TaxSplcase = '';
                    TaxSplcase += "<option value='-1'>--Select Special Case Reason--</option>";
                    $.each(msg.d[0], function (i, data) {
                        TaxSplcase += '<option value="' + data.CCodeId + '">' + data.CDescription + '</option>';
                    });
                    $('#Insurancesplcase').html(TaxSplcase);
                    $('#Insurancesplcase').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectInsurancesplcase').text($("#Insurancesplcase option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');
                }
            }
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if (componentGroupId == 33 || componentGroupId == 50) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text" id="InsuranceAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="Insuranceassoname" style="margin-left:-39px;"></label></li>';
        if (componentGroupId == 50 && (CountryId == 14 || CountryId == 15 || CountryId == 16 || CountryId == 18 || CountryId == 19)) {
            list += ' <li><label class="M_15">DOJ</label><label id="Insuranceassodoj"></label></li>';
        }
        list += '<li><label class="M_15">AdvisedMonth<span class="red">*</span></label><select name="SBAdvisedMonth" id="SBAdvisedMonth" class="styled M_40" style="--bgX: 61%;"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">Year<span class="red">*</span></label><select name="SBYear" id="SBYear" class="styled M_40" style="--bgX: 61%;"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_15">Amount<span class="red">*</span></label><input type="text" maxlength="11" value="" class="M_40 new_upload" id="SBAmount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
        if ((componentGroupId == 33 && CountryId == 3)) {
            list += '<li><label class="M_15">SubComponent<span class="red">*</span></label><select name="RRSubComponent" id="RRSubComponent" class="styled M_40" style="width:150px"><option value="-1" selected="selected">--Select SubComponent --</option></select></li>';
        }
        if ((componentGroupId == 50 && (CountryId == 18 || CountryId == 19))) {
            list += '<li><label class="M_15">SubComponent<span class="red">*</span></label><select name="MISCSubComponent" id="MISCSubComponent" class="styled M_40" style="width:150px;"><option value="-1" selected="selected">--Select SubComponent --</option></select></li>';
        }
        if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
            list += '<li><label class="M_15">Currency</label><Label id="UKICurrency" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        }
        else {
            list += '<li><label class="M_15">Currency<span class="red">*</span></label><select name="RRCurrency" id="RRCurrency" class="styled M_40"><option value="-1" selected="selected">--Select Currency --</option></select></li>';
        }
        if (componentGroupId == 50 && (CountryId != 18 && CountryId != 19)) {
            list += '<li><label class="M_15">Remarks<span class="red">*</span></label><input type="text" value="" maxlength="100" class="M_40 new_upload" id="RRremark"/></li>';
        }
        if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
            list += '<li><label class="M_15">Remarks</label><input type="text" value="" maxlength="100" class="M_40 new_upload" id="RRremark"/></li>';
            list += '<li><label class="M_15">Units</label><input type="text" maxlength="11" value="" class="M_40 new_upload" id="SBUnit" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
        }
        if (componentGroupId == 33 && CountryId == 3) {
            list += '<li><label class="M_15">Remarks</label><input type="text" value="" maxlength="100" class="M_40 new_upload" id="RRremark"/></li>';
            list += '<li><label class="M_15">Frequency<span class="red">*</span></label><select name="RRFrequency" id="RRFrequency" class="styled M_40"><option value="-1" selected="selected">--Select Frequency --</option></select></li>';
        }
        list += '<li><label class="M_15">PayoutType<span class="red">*</span></label><select name="SBPayoutType" id="SBPayoutType" class="styled M_40" style="--bgX: 61%;width: 100px;"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
        list += '</ul>';
        if (componentGroupId == 33 && CountryId == 3) {
            if (ocm == "1") {
                list += '<ul class="M_15" style="margin-left:9px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
            }
            else {
                list += '<ul class="M_15" style="margin-left:9px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
            }

        }
        $('.popup_new .inner_cont').html('').html(list);
        $("#InsuranceAssoId").numeric();
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    if (componentGroupId == 33 && CountryId == 3) {
                        var payouttype = '';
                        payouttype += "<option value='-1'>--Select PayoutType--</option>";
                        $.each(msg.d[0], function (i, data) {
                            payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                        });
                        $('#SBPayoutType').html(payouttype);
                        $('#SBPayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectSBPayoutType').text($("#SBPayoutType option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');


                        var year = '';
                        year += "<option value='-1'>--Select Year--</option>";
                        if (msg.d[1].length != 0) {
                            $.each(msg.d[1], function (i, data) {
                                year += '<option value="' + data.YearID + '">' + data.Year + '</option>';
                            });
                        }
                        $('#SBYear').html(year);
                        $('#SBYear').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectSBYear').text($("#SBYear option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');
                        var month = '';
                        if (msg.d[2].length != 0) {
                            $.each(msg.d[2], function (i, data) {
                                month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                            });
                        }
                        $('#SBAdvisedMonth').append(month);
                        $('#SBAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectSBAdvisedMonth').text($("#SBAdvisedMonth option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');
                        var frequencytype = '';
                        frequencytype += "<option value='-1'>--Select Frequency Type--</option>";
                        if (msg.d[3].length != 0) {
                            $.each(msg.d[3], function (i, data) {
                                frequencytype += '<option value="' + data.FrequencyID + '">' + data.Frequency + '</option>';
                            });
                        }
                        $('#RRFrequency').html(frequencytype);
                        $('#RRFrequency').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectRRFrequency').text($("#RRFrequency option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');

                        var componentType = '';
                        componentType += "<option value='-1'>--Select Component Type--</option>";
                        if (msg.d[4].length != 0) {
                            $.each(msg.d[4], function (i, data) {
                                componentType += '<option value="' + data.PK_ComponentId + '">' + data.SubComponent + '</option>';
                            });
                        }
                        $('#RRSubComponent').html(componentType);
                        $('#RRSubComponent').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectRRSubComponent').text($("#RRSubComponent option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');
                        var Currencytype = '';
                        Currencytype += "<option value='-1'>--Select Currency Type--</option>";
                        if (msg.d[5].length != 0) {
                            $.each(msg.d[5], function (i, data) {
                                Currencytype += '<option value="' + data.Pk_CurrencyID + '">' + data.CurrencyCode + '</option>';
                            });
                        }

                        $('#RRCurrency').html(Currencytype);
                        $(function () {
                            $("#RRCurrency").not(".interactive").each(function () {
                                var sb = new SelectBox({
                                    selectbox: $(this),
                                    height: 90,
                                    width: 160,
                                });
                            });
                            $(".selectValueWrap").css("position", "relative");
                            $(".selectValueWrap").css("width", "160px");
                            $(".selectValueWrap").css("left", "-40px");
                            $(".selectList").css("margin-left", "-40px");
                            $("#RRCurrency").css("display", "none");
                        });
                        $('#RRCurrency').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectRRCurrency').text($("#RRCurrency option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');
                    }
                    else if (componentGroupId == 50) {
                        var payouttype = '';
                        //payouttype += "<option value='-1'>--Select PayoutType--</option>";
                        $.each(msg.d[0], function (i, data) {
                            payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                        });
                        $('#SBPayoutType').html(payouttype);
                        $('#SBPayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectSBPayoutType').text($("#SBPayoutType option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');

                        if (CountryId != 18 && CountryId != 19) {
                            var year = '';
                            year += "<option value='-1'>--Select Year--</option>";
                            if (msg.d[1].length != 0) {
                                $.each(msg.d[1], function (i, data) {
                                    year += '<option value="' + data.YearID + '">' + data.Year + '</option>';
                                });
                            }
                            $('#SBYear').html(year);
                            $('#SBYear').find('option:nth-child(1)').attr('selected', 'selected');
                            $('#selectSBYear').text($("#SBYear option:selected").text());
                            $('.popup_new .innerErrorHolder').text('');
                        }
                        if (CountryId == 18 || CountryId == 19) {
                            var year = '';
                            year += "<option value='-1'>--Select Year--</option>";
                            if (msg.d[1].length != 0) {
                                $.each(msg.d[1], function (i, data) {
                                    year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                                });
                            }
                            $('#SBYear').html(year);
                            $('#SBYear').find('option:nth-child(1)').attr('selected', 'selected');
                            $('#selectSBYear').text($("#SBYear option:selected").text());
                            $('.popup_new .innerErrorHolder').text('');
                        }

                        var month = '';
                        // month += "<option value='-1'>--Select Month--</option>";
                        if (msg.d[2].length != 0) {
                            $.each(msg.d[2], function (i, data) {
                                month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                            });
                        }
                        $('#SBAdvisedMonth').append(month);
                        $('#SBAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectSBAdvisedMonth').text($("#SBAdvisedMonth option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');

                        if (CountryId != 18 && CountryId != 19) {
                            var Currencytype = '';
                            Currencytype += "<option value='-1'>--Select Currency Type--</option>";
                            if (msg.d[3].length != 0) {
                                $.each(msg.d[3], function (i, data) {
                                    Currencytype += '<option value="' + data.Pk_CurrencyID + '">' + data.CurrencyCode + '</option>';
                                });
                            }

                            $('#RRCurrency').html(Currencytype);
                            $(function () {
                                $("#RRCurrency").not(".interactive").each(function () {
                                    var sb = new SelectBox({
                                        selectbox: $(this),
                                        height: 90,
                                        width: 160,
                                    });
                                });
                                $(".selectValueWrap").css("position", "relative");
                                $(".selectValueWrap").css("width", "160px");
                                $(".selectValueWrap").css("left", "-10px");
                                $(".selectList").css("margin-left", "-40px");
                                $("#RRCurrency").css("display", "none");
                            });
                            $('#RRCurrency').find('option:nth-child(1)').attr('selected', 'selected');
                            $('#selectRRCurrency').text($("#RRCurrency option:selected").text());
                            $('.popup_new .innerErrorHolder').text('');
                        }
                        if (CountryId == 18 || CountryId == 19) {
                            var currency = msg.d[3][0].Currency;
                            $('#UKICurrency').html(currency);
                            $('.popup_new .innerErrorHolder').text('');

                            var componentType = '';
                            componentType += "<option value='-1'>--Select Component Type--</option>";
                            if (msg.d[4].length != 0) {
                                $.each(msg.d[4], function (i, data) {
                                    componentType += '<option value="' + data.PK_ComponentId + '">' + data.SubComponent + '</option>';
                                });
                            }
                            $('#MISCSubComponent').html(componentType);
                            $('#MISCSubComponent').find('option:nth-child(1)').attr('selected', 'selected');
                            $('#selectMISCSubComponent').text($("#MISCSubComponent option:selected").text());
                            $('.popup_new .innerErrorHolder').text('');
                        }
                    }
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text" id="InsuranceAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="Insuranceassoname" style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">AdvisedMonth<span class="red">*</span></label><select name="SBAdvisedMonth" id="SBAdvisedMonth" class="styled M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">Year<span class="red">*</span></label><select name="SBYear" id="SBYear" class="styled M_40"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_15">Amount<span class="red">*</span></label><input type="text"  value="" class="M_40 new_upload" id="SBAmount" /></li>';
        list += '<li><label class="M_15">Currency<span class="red">*</span></label><select name="RRCurrency" id="RRCurrency" class="M_40"><option value="-1" selected="selected">--Select Currency --</option></select></li>';
        list += '<li><label class="M_15">PayoutType<span class="red">*</span></label><select name="SBPayoutType" id="SBPayoutType" class="styled M_40" style="--bgX: 61%;width: 100px;"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
        list += '</ul>';
        //list += '<ul class="M_15" style="margin-left:9px;"><li><iframe id="frame7" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
        //list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload7" style="display:none;margin-left:19px;"></div></li></ul>';

        $('.popup_new .inner_cont').html('').html(list);
        $("#InsuranceAssoId").numeric();
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (componentGroupId == 33 && CountryId == 3) {
                        var payouttype = '';
                        payouttype += "<option value='-1'>--Select PayoutType--</option>";
                        $.each(msg.d[0], function (i, data) {
                            payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                        });
                        $('#SBPayoutType').html(payouttype);
                        $('#SBPayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectSBPayoutType').text($("#SBPayoutType option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');


                        var year = '';
                        year += "<option value='-1'>--Select Year--</option>";
                        if (msg.d[1].length != 0) {
                            $.each(msg.d[1], function (i, data) {
                                year += '<option value="' + data.YearID + '">' + data.Year + '</option>';
                            });
                        }
                        $('#SBYear').html(year);
                        $('#SBYear').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectSBYear').text($("#SBYear option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');


                        var month = '';
                        // month += "<option value='-1'>--Select Month--</option>";
                        if (msg.d[2].length != 0) {
                            $.each(msg.d[2], function (i, data) {
                                month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                            });
                        }
                        $('#SBAdvisedMonth').append(month);
                        $('#SBAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectSBAdvisedMonth').text($("#SBAdvisedMonth option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');


                        var frequencytype = '';
                        frequencytype += "<option value='-1'>--Select Frequency Type--</option>";
                        if (msg.d[3].length != 0) {
                            $.each(msg.d[3], function (i, data) {
                                frequencytype += '<option value="' + data.FrequencyID + '">' + data.Frequency + '</option>';
                            });
                        }
                        $('#RRFrequency').html(frequencytype);
                        $('#RRFrequency').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectRRFrequency').text($("#RRFrequency option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');

                        var componentType = '';
                        componentType += "<option value='-1'>--Select Component Type--</option>";
                        if (msg.d[4].length != 0) {
                            $.each(msg.d[4], function (i, data) {
                                componentType += '<option value="' + data.PK_ComponentId + '">' + data.SubComponent + '</option>';
                            });
                        }
                        $('#RRSubComponent').html(componentType);
                        $('#RRSubComponent').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectRRSubComponent').text($("#RRSubComponent option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');


                        var Currencytype = '';
                        Currencytype += "<option value='-1'>--Select Currency Type--</option>";
                        if (msg.d[5].length != 0) {
                            $.each(msg.d[5], function (i, data) {
                                Currencytype += '<option value="' + data.Pk_CurrencyID + '">' + data.CurrencyCode + '</option>';
                            });
                        }

                        $('#RRCurrency').html(Currencytype);
                        $(function () {
                            $("#RRCurrency").not(".interactive").each(function () {
                                var sb = new SelectBox({
                                    selectbox: $(this),
                                    height: 90,
                                    width: 160,
                                });
                            });
                            $(".selectValueWrap").css("position", "relative");
                            $(".selectValueWrap").css("width", "160px");
                            $(".selectValueWrap").css("left", "-40px");
                            $(".selectList").css("margin-left", "-40px");
                            $("#RRCurrency").css("display", "none");
                        });
                        $('#RRCurrency').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectRRCurrency').text($("#RRCurrency option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');
                    }
                    else if (componentGroupId == 50) {
                        var payouttype = '';
                        //payouttype += "<option value='-1'>--Select PayoutType--</option>";
                        $.each(msg.d[0], function (i, data) {
                            payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                        });
                        $('#SBPayoutType').html(payouttype);
                        $('#SBPayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectSBPayoutType').text($("#SBPayoutType option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');


                        var year = '';
                        year += "<option value='-1'>--Select Year--</option>";
                        if (msg.d[1].length != 0) {
                            $.each(msg.d[1], function (i, data) {
                                year += '<option value="' + data.YearID + '">' + data.Year + '</option>';
                            });
                        }
                        $('#SBYear').html(year);
                        $('#SBYear').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectSBYear').text($("#SBYear option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');


                        var month = '';
                        // month += "<option value='-1'>--Select Month--</option>";
                        if (msg.d[2].length != 0) {
                            $.each(msg.d[2], function (i, data) {
                                month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                            });
                        }
                        $('#SBAdvisedMonth').append(month);
                        $('#SBAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectSBAdvisedMonth').text($("#SBAdvisedMonth option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');


                        var Currencytype = '';
                        Currencytype += "<option value='-1'>--Select Currency Type--</option>";
                        if (msg.d[3].length != 0) {
                            $.each(msg.d[3], function (i, data) {
                                Currencytype += '<option value="' + data.Pk_CurrencyID + '">' + data.CurrencyCode + '</option>';
                            });
                        }

                        $('#RRCurrency').html(Currencytype);
                        $(function () {
                            $("#RRCurrency").not(".interactive").each(function () {
                                var sb = new SelectBox({
                                    selectbox: $(this),
                                    height: 90,
                                    width: 160,
                                });
                            });
                            $(".selectValueWrap").css("position", "relative");
                            $(".selectValueWrap").css("width", "160px");
                            $(".selectValueWrap").css("left", "-40px");
                            $(".selectList").css("margin-left", "-40px");
                            $("#RRCurrency").css("display", "none");
                        });
                        $('#RRCurrency').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectRRCurrency').text($("#RRCurrency option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');

                        if (CountryId == 18 || CountryId == 19) {
                            var componentType = '';
                            componentType += "<option value='-1'>--Select Component Type--</option>";
                            if (msg.d[4].length != 0) {
                                $.each(msg.d[4], function (i, data) {
                                    componentType += '<option value="' + data.PK_ComponentId + '">' + data.SubComponent + '</option>';
                                });
                            }
                            $('#RRSubComponent').html(componentType);
                            $('#RRSubComponent').find('option:nth-child(1)').attr('selected', 'selected');
                            $('#selectRRSubComponent').text($("#RRSubComponent option:selected").text());
                            $('.popup_new .innerErrorHolder').text('');
                        }

                    }
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if (componentGroupId == 46) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text" id="BenefitsAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="Benefitsassoname" style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">SubComponent<span class="red">*</span></label><select name="BenSubComponent" id="BenSubComponent" class="styled M_40" style="width:150px"><option value="-1" selected="selected">--Select SubComponent --</option></select></li>';
        list += '<li><label class="M_15">AdvisedMonth<span class="red">*</span></label><select name="SBAdvisedMonth" id="SBAdvisedMonth" class="styled M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">Year<span class="red">*</span></label><select name="SBYear" id="SBYear" class="styled M_40"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_15">Amount<span class="red">*</span></label><input type="text" maxlength="11" value="" class="M_40 new_upload" id="Benamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
        list += '<li><label class="M_15">PayoutType<span class="red">*</span></label><select name="SBPayoutType" id="SBPayoutType" class="styled M_40"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
        list += '</ul>';
        if (ocm == "1") {

            list += '<ul class="M_15" style="margin-left:9px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul class="M_15" style="margin-left:9px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }


        $('.popup_new .inner_cont').html('').html(list);
        $("#BenefitsAssoId").numeric();
        $("#Benamount").numeric();
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var payouttype = '';
                    payouttype += "<option value='-1'>--Select PayoutType--</option>";
                    $.each(msg.d[0], function (i, data) {
                        payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                    });
                    $('#SBPayoutType').html(payouttype);
                    $('#SBPayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSBPayoutType').text($("#SBPayoutType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            year += '<option value="' + data.YearID + '">' + data.Year + '</option>';
                        });
                    }
                    $('#SBYear').html(year);
                    $('#SBYear').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSBYear').text($("#SBYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var month = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#SBAdvisedMonth').append(month);
                    $('#SBAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSBAdvisedMonth').text($("#SBAdvisedMonth option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var componentType = '';
                    componentType += "<option value='-1'>--Select Component Type--</option>";
                    if (msg.d[3].length != 0) {
                        $.each(msg.d[3], function (i, data) {
                            componentType += '<option value="' + data.PK_ComponentId + '">' + data.SubComponent + '</option>';
                        });
                    }
                    $('#BenSubComponent').html(componentType);
                    $('#BenSubComponent').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectBenSubComponent').text($("#BenSubComponent option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if (componentGroupId == 28) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label>Project ID<span class="red">*</span></label><input type="text" id="InProjectID" value="" maxlength="10" class="M_40 new_upload" /></li>';
        list += ' <li><label class="M_15">StartDate <span class="red">*</span></label><input type="text" id="IC_startdate" value=""  class="popup_date" style="width:137px;height:20px;" /></li>';
        list += '<li><label>EndDate<span class="red">*</span></label><input type="text" id="IC_enddate" value="" class="popup_date"   style="width:137px;height:20px;"/></li>';
        list += '<li><label class="M_15">Client Address<span class="red">*</span></label><input type="text" maxlength="500" value="" class="M_40 new_upload client" id="ClientAddress"/><span style="color: red; margin-left: -242px; font-size:10px; position: relative; bottom : -24px;">Please ensure the client address provided is valid</span> </li>';
        list += '<li><label>OfficeLocation<span class="red">*</span></label><select name="OfcLocation" id="OfcLocation" class="M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '</ul>';

        $('.popup_new .inner_cont').html('').html(list);
        $("#InProjectID").numeric();
        $("#pid").attr("maxlength", 10);
        $('#spanhide').hide();
        $('#aft_uploadhide').hide();
        $('#frameforhide').hide();
        //$('#IC_startdate').datepicker();
        //$('#IC_enddate').datepicker();

        $("#IC_startdate").datepicker("destroy");
        $("#IC_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
        $("#IC_enddate").datepicker("destroy");
        $("#IC_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var officeType = '';
                    officeType += "<option value='-1'>--Select--</option>";
                    $.each(msg.d[0], function (i, data) {
                        officeType += '<option value="' + data.OfficeLocationID + '">' + data.OfficeLocation + '</option>';
                    });
                    $('#OfcLocation').html(officeType);
                    $('#OfcLocation').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectOfcLocation').text($("#SBPayoutType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');
                }
                var popupHeight = $('.popup_new').find(".middle").height();
                $('.popup_new').css({
                    'position': 'absolute',
                    'z-index': '100',
                    "top": '115px',
                    "left": "10%"
                });
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        $('.popup_new .innerErrorHolder').text('');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $('.popup_new').find(".middle").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        //$('.popup_new').css({
        //    'position': 'absolute',
        //    'z-index': '100',
        //    "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
        //    "left": "10%"
        //});
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if ((componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 57) && CountryId != 20) {

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();
        $('.popup_new .viewport').css("width", "820px");

        var list = '';
        list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input type="text" id="sbAssoId" value="" maxlength="11" class="M_40 new_upload assoidCls" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="SignAssoname" style="margin-left:-39px;"></label></li>';
        list += ' <li><label>DOJ</label><label id="SBDOJ" style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">AdvisedMonth<span class="red">*</span></label><select name="SBAdvisedMonth" id="SBAdvisedMonth" class="styled M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label>Year<span class="red">*</span></label><select name="SBYear" id="SBYear" class="styled M_40"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label  class="M_15">PayoutType<span class="red">*</span></label><select name="SBPayoutType" id="SBPayoutType" class="styled M_40"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
        list += '<li><label>Amount<span class="red">*</span></label><input type="text" maxlength="11" value="" class="M_40 new_upload" id="SBAmount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
        if (CountryId == 18 || CountryId == 19) {
            if (componentGroupId == 49 || componentGroupId == 57) {
                list += '<li style="margin-left:-15px;"><label>RetentionEndDate<span class="red">*</span></label><input type="text" id="Retention_enddate" value="" class="M_40 new_upload" style="width:137px;height:20px;"/></li>';
                list += '<li><label>Project ID<span class="red">*</span></label><input type="text" id="Retention_Projectid" value="" class="M_40 new_upload" maxlength="10"/></li>';
            }
            list += '<li><label class="M_15">Currency</label><label id="sb_Currency" ></label></li>';
            list += '<li><label>Comments</label><input type="text" id="sb_Comments" value=""  class="M_40 new_upload" /></li>';
        }

        list += '</ul>';
        //list += '<ul ><li><iframe id="frameforhide" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:none;" allowtransparency="true"></iframe></li>';
        //list += '<li style="margin-left:-8px;padding-top:8px;"><div id="aft_uploadhide" style="display:none;"></div></li></ul>';

        $('.popup_new .inner_cont').html('').html(list);

        $("#pid").numeric();
        $("#pid").attr("maxlength", 10);
        $('#spanhide').hide();
        $('#aft_uploadhide').hide();
        $('#frameforhide').hide();

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var payouttype = '';
                    $.each(msg.d[0], function (i, data) {
                        payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                    });
                    $('#SBPayoutType').html(payouttype);
                    $('#SBPayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSBPayoutType').text($("#SBPayoutType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#SBYear').html(year);
                    //$('#SBYear').find('option:nth-child(3)').attr('selected', 'selected');
                    $('#selectSBYear').text($("#SBYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');
                    //  $(".popup_edit .inner_cont ul li:nth-child(6) select option:contains(" + PayoutType + ")").attr('selected', 'selected');

                    var month = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#SBAdvisedMonth').append(month);
                    $('#SBAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSBAdvisedMonth').text($("#SBAdvisedMonth option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var currency = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (CountryId == 18 || CountryId == 19) {
                        $('#sb_Currency').text(msg.d[3][0].Currency);
                    }
                }
                var windowWidth = '100%';
                var windowHeight = '100%';
                var popupHeight = $('.popup_new').find(".middle").height();
                var popupWidth = $(".popup_new").width();
                $('.popup_new').css({
                    'position': 'absolute',
                    'z-index': '100',
                    "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
                    "left": "10%"
                });
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        $('.popup_new .innerErrorHolder').text('');

        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });

        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if (componentGroupId == 30 && CountryId != 20) {

        var obj = $('.popup_new').find('ul:first-child');
        $('.popup_new .viewport').css("width", "906px");
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        if (CountryId == 18 || CountryId == 19) {
            list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input type="text" id="RecAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
            list += '<li><label class="M_15">Associate Name</label><label id="RecAssoname" style="margin-left:-39px;"></label></li>';
            list += '<li><label>AdvisedMonth<span class="red">*</span></label><select name="SBAdvisedMonth" id="SBAdvisedMonth" class="styled M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
            list += '<li><label class="M_15">Year<span class="red">*</span></label><select name="SBYear" id="SBYear" class="styled M_40"><option value="-1" selected="selected">--Select Year --</option></select></li>';
            list += '<li><label>Amount<span class="red">*</span></label><input type="text" maxlength="11" value="" class="M_40 new_upload" id="RecAmount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
            list += '<li><label class="M_15">Currency<span class="red">*</span></label><label id="RecCurrency" class="M_40 new_upload" /></li>';
            list += '<li><label>Comments</label><input type="text" value="" maxlength="100" class="M_40 new_upload" id="RecComments"/></li>';
            list += '<li><label class="M_15">PayoutType<span class="red">*</span></label><select name="SBPayoutType" id="SBPayoutType" class="styled M_40"><option value="-1" selected="selected"></option></select></li>';
            list += '</ul>';
        }

        else {
            $('.popup_new .inner_cont').css('width', '');

            //$('.popup_new .middle').attr('style', 'width:805px;margin-left:10px;');
            $('#btn_save').css('margin-left', '336px');
            //$('.popup_new .middle').attr('style', 'background:url(../Images/popup_middle_big.png) repeat-y;width:805px;');
            $('.popup_new .middle').css({ 'background': 'url(../Images/popup_middle_big.png) repeat-y', 'width': '', 'padding-bottom': '10px' });

            list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input type="text" id="sbAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
            list += '<li><label class="M_15">Associate Name</label><label id="SBassoname" style="margin-left:-39px;"></label></li>';
            list += ' <li><label>SpecialCaseReason</label><select name="RelSpecialCase" id="RelSpecialCase" class="styled M_40" style="width: 168px;"><option value="-1" selected="selected">--Select SpecialCase Reason--</option></select></li>';
            list += '<li><label class="M_15">AdvisedMonth<span class="red">*</span></label><select name="SBAdvisedMonth" id="SBAdvisedMonth" class="styled M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
            list += '<li><label>Year<span class="red">*</span></label><select name="SBYear" id="SBYear" class=" styled M_40"><option value="-1" selected="selected">--Select Year --</option></select></li>';
            list += '<li><label  class="M_15">PayoutType<span class="red">*</span></label><select name="SBPayoutType" id="SBPayoutType" class="styled M_40"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
            list += '</ul>';
            if (ocm == "1") {

                list += '<ul id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

            }
            else {
                list += '<ul id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
            }

        }
        $('.popup_new .inner_cont').html('').html(list);
        $("#sbAssoId").numeric();
        $("#RecAssoId").numeric();
        $('#spanhide').hide();
        $('#aft_uploadhide').hide();
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetRelocationDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var payouttype = '';

                    payouttype += "<option value='-1'>--Select PayoutType--</option>";
                    $.each(msg.d[0], function (i, data) {
                        payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                    });
                    $('#SBPayoutType').html(payouttype);
                    if (CountryId == 18 || CountryId == 19) {
                        $('#SBPayoutType').find('option:nth-child(2)').attr('selected', 'selected');
                    }
                    else {
                        $('#SBPayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                    }
                    $('#selectSBPayoutType').text($("#SBPayoutType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#SBYear').html(year);
                    $('#SBYear').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSBYear').text($("#SBYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var month = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#SBAdvisedMonth').append(month);
                    $('#SBAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSBAdvisedMonth').text($("#SBAdvisedMonth option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var SpecialCase = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[3].length != 0) {
                        $.each(msg.d[3], function (i, data) {
                            SpecialCase += '<option value="' + data.SpecialCaseID + '">' + data.SpecialCaseReason + '</option>';
                        });
                    }
                    $('#RelSpecialCase').append(SpecialCase);
                    $('#RelSpecialCase').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectRelSpecialCase').text($("#SBAdvisedMonth option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    if (msg.d[4].length != 0) {
                        $("#RecCurrency").text(msg.d[4][0].Currency);

                    }
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        $('.popup_new .innerErrorHolder').text('');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if (componentGroupId == 34) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input type="text" id="sbAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="">Associate Name</label><label id="SBassoname" style="margin-left:-39px;"></label></li>';
        list += '<li><label class="">AdvisedMonth<span class="red">*</span></label><select name="SBAdvisedMonth" id="SBAdvisedMonth" class="styled M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label>Year<span class="red">*</span></label><select name="SBYear" id="SBYear" class="styled M_40"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label  class="">PayoutType<span class="red">*</span></label><select name="SBPayoutType" id="SBPayoutType" class="styled M_40"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
        list += '</ul>';
        //list += '<ul ><li><iframe id="frameforhide" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:none;" allowtransparency="true"></iframe></li>';
        //list += '<li style="margin-left:-8px;padding-top:8px;"><div id="aft_uploadhide" style="display:none;"></div></li></ul>';
        if (ocm == "1") {

            list += '<ul id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }


        $('.popup_new .inner_cont').html('').html(list);
        $("#sbAssoId").numeric();
        $('#spanhide').hide();
        $('#aft_uploadhide').hide();
        //$('#frameforhide').hide();
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetRelocationDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var payouttype = '';
                    payouttype += "<option value='-1'>--Select PayoutType--</option>";
                    $.each(msg.d[0], function (i, data) {
                        payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                    });
                    $('#SBPayoutType').html(payouttype);
                    $('#SBPayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSBPayoutType').text($("#SBPayoutType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            year += '<option value="' + data.YearID + '">' + data.Year + '</option>';
                        });
                    }
                    $('#SBYear').html(year);
                    $('#SBYear').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSBYear').text($("#SBYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var month = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#SBAdvisedMonth').append(month);
                    $('#SBAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSBAdvisedMonth').text($("#SBAdvisedMonth option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    //var SpecialCase = '';
                    //// month += "<option value='-1'>--Select Month--</option>";
                    //if (msg.d[3].length != 0) {
                    //    $.each(msg.d[3], function (i, data) {
                    //        SpecialCase += '<option value="' + data.SpecialCaseID + '">' + data.SpecialCaseReason + '</option>';
                    //    });
                    //}
                    //$('#RelSpecialCase').append(SpecialCase);
                    //$('#RelSpecialCase').find('option:nth-child(1)').attr('selected', 'selected');
                    //$('#selectRelSpecialCase').text($("#SBAdvisedMonth option:selected").text());
                    //$('.popup_new .innerErrorHolder').text('');
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        $('.popup_new .innerErrorHolder').text('');
        var windowWidth = '100%';
        var windowHeight = '100%';
        /// var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if (componentGroupId == 35) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input type="text" id="sbAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="">Associate Name</label><label id="SBassoname" style="margin-left:-39px;"></label></li>';
        list += '<li><label class="">AdvisedMonth<span class="red">*</span></label><select name="SBAdvisedMonth" id="SBAdvisedMonth" class="styled M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label>Year<span class="red">*</span></label><select name="SBYear" id="SBYear" class="styled M_40"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label  class="">PayoutType<span class="red">*</span></label><select name="SBPayoutType" id="SBPayoutType" class="styled M_40"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
        list += '<li><label>ProjectID<span class="red">*</span></label><input type="text" maxlength="10" value="" class="M_40 new_upload" id="HonProjectID"/></li>';
        list += '<li><label>Amount<span class="red">*</span></label><input type="text" maxlength="11" oncopy="return false" onpaste="return false" value="" class="M_40" id="HonAmount" oncopy="return false" onpaste="return false" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
        list += '</ul>';
        if (ocm == "1") {

            list += '<ul id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }

        //list += '<ul ><li><iframe id="frameforhide" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:none;" allowtransparency="true"></iframe></li>';
        //list += '<li style="margin-left:-8px;padding-top:8px;"><div id="aft_uploadhide" style="display:none;"></div></li></ul>';

        $('.popup_new .inner_cont').html('').html(list);
        $("#sbAssoId").numeric();
        $("#HonProjectID").numeric();
        $('#spanhide').hide();
        $('#aft_uploadhide').hide();
        $('#frameforhide').hide();
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetRelocationDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var payouttype = '';
                    payouttype += "<option value='-1'>--Select PayoutType--</option>";
                    $.each(msg.d[0], function (i, data) {
                        payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                    });
                    $('#SBPayoutType').html(payouttype);
                    $('#SBPayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSBPayoutType').text($("#SBPayoutType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            year += '<option value="' + data.YearID + '">' + data.Year + '</option>';
                        });
                    }
                    $('#SBYear').html(year);
                    $('#SBYear').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSBYear').text($("#SBYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var month = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#SBAdvisedMonth').append(month);
                    $('#SBAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSBAdvisedMonth').text($("#SBAdvisedMonth option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        $('.popup_new .innerErrorHolder').text('');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if (componentGroupId == 38) { // CAr damage and Traffic fine
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input type="text" id="CTAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="CTassoname" style="margin-left:-39px;"></label></li>';
        list += '<li><label>AdvisedMonth<span class="red">*</span></label><select name="CTAdvisedMonth" id="CTAdvisedMonth" class="M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label  class="M_15">Year<span class="red">*</span></label><select name="CTYear" id="CTYear" class="M_40"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label>Component <span class="red">*</span></label><select name="CT_Component" id="CT_Component" class="M_40"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
        list += '<li><label  class="M_15">Amount<span class="red">*</span></label><input type="text" maxlength="11" value="" class="M_40 new_upload" id="SBAmount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
        list += '<li><label>PayoutType<span class="red">*</span></label><select name="CTPayoutType" id="CTPayoutType" class="M_40"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
        list += '</ul>';
        if (ocm == "1") {

            list += '<ul id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }


        $('.popup_new .inner_cont').html('').html(list);
        $("#CTAssoId").numeric();
        //$('#spanhide').hide();
        //$('#aft_uploadhide').hide();
        // $('#frameforhide').hide();
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var payouttype = '';
                    $.each(msg.d[0], function (i, data) {
                        payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                    });
                    $('#CTPayoutType').html(payouttype);
                    $('#CTPayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectCTPayoutType').text($("#CTPayoutType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var year = '';
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            year += '<option value="' + data.YearID + '">' + data.Year + '</option>';
                        });
                    }
                    $('#CTYear').html(year);
                    $('#CTYear').find('option:nth-child(3)').attr('selected', 'selected');
                    $('#selectCTYear').text($("#CTYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var month = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#CTAdvisedMonth').append(month);
                    $('#CTAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectCTAdvisedMonth').text($("#CTAdvisedMonth option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var component = '';
                    if (msg.d[3].length != 0) {
                        $.each(msg.d[3], function (i, data) {
                            component += '<option value="' + data.ComponentId + '">' + data.Component + '</option>';
                        });
                    }
                    $('#CT_Component').append(component);
                    $('#CT_Component').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectCT_Component').text($("#CT_Component option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        $('.popup_new .innerErrorHolder').text('');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if ((componentGroupId == 18 || componentGroupId == 23 || componentGroupId == 24) &&
        (CountryId != 2 && CountryId != 14 && CountryId != 15 && CountryId != 16 && CountryId != 17)) {//APAC School Fees

        list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input type="text" id="APACSchoolfeesAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_20">Name</label><span class="M_40"></span></li>';
        list += '<li><label>Payroll Month<span class="red">*</span></label><select name="APACSchoolFeesMonth" id="APACSchoolFeesMonth" class="styled M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_20">Year<span class="red">*</span></label><select name="APACSchoolFeesYear" id="APACSchoolFeesYear" class="styled M_40"><option value="-1" selected="selected">--Select Year--</option></select></li>';
        if (componentGroupId == 18) {
            list += '<li><label>Amount for Child 1<span class="red">*</span></label><input type="text" value="" class="M_40 new_upload" maxlength="11" id="ASFamount1" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
            list += '<li><label class="M_20">Amount for Child 2</label><input type="text" value="" class="M_40 new_upload" maxlength="11" id="ASFamount2" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
            list += '<li><label>School Fees Receipt :</label></li>';
            if (ocm == "1") {
                list += '<ul lass="M_15" style="margin-left:0px;display: block"> <li id="ocmfile"><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li>';
            }
            else {
                list += '<ul lass="M_15" style="margin-left:0px;display: block"> <li id="ocmfile"><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li>';
            }

        }
        list += '<li><label id="SFApprovalMailLabel" style="display:none;width:325px;">Approval Mail :</label></li></ul>';
        list += '<ul class="M_15" id="Mandatory" style="margin-left:20px;">';
        list += '<li id="MailAttachSF" style="display:none"></li>';
        list += '<li id="SF_Afterupload" style="display:none"></li>';
        list += '<li id="SF_ValidityEndDate" style="display:none"></li>';
        list += ' </ul>';

        //list += '<ul class="M_15" id="NotMandatory" style="margin-left:9px;display: none"><li><iframe id="frame1" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
        //list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload1" style="display:none;margin-left:19px;"></div></li>';
        //list += ' <li><label>MailValidityEndDate <span class="red">*</span></label><input type="text" id="ValidityEndDate" value="" class="popup_date" style="width:137px;height:20px;"/></li>';
        //list += ' </ul>';

        $('.popup_new .inner_cont').css("height", "255px");
        $('.popup_new .viewport').css("height", "420px");
        $('.popup_new .inner_cont').html('');
        $('.popup_new .inner_cont').html('').html(list);

        var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    var year = '';
                    //year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.YearID + '">' + data.Year + '</option>';
                        });
                    }
                    $('#APACSchoolFeesYear').html(year);
                    $('#APACSchoolFeesYear').find('option:nth-child(2)').attr('selected', 'selected');
                    $('#selectAPACSchoolFeesYear').text($("#APACSchoolFeesYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');
                    //  $(".popup_edit .inner_cont ul li:nth-child(6) select option:contains(" + PayoutType + ")").attr('selected', 'selected');

                    var month = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#APACSchoolFeesMonth').append(month);
                    $('#APACSchoolFeesMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectAPACSchoolFeesMonth').text($("#APACSchoolFeesMonth option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .viewport').css("height", "420px");
        $("#APACSchoolfeeAssoId").numeric();
        // $("#amount1").numeric();
        //$("#amount2").numeric();
    }

    else if (componentGroupId == 3 && CountryId != 20) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input type="text" id="joiningAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_20">Name</label><span class="M_40"></span></li>';
        list += '<li><label>Amount<span class="red">*</span></label><input maxlength="11" type="text" value="" class="M_40 new_upload" id="jamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
        list += '<li><label class="M_20">DOJ</label><span class="M_40"></span></li>';
        list += '<li><label>ProjectId<span class="red">*</span></label><input type="text" id="pid" maxlength="10" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_20">BGstatus<span class="red">*</span></label><select name="JoiningBGStats" id="JoiningBGStats" class="styled M_40" style="--bgX: 60.2%;width: 146px;"><option value="-1" selected="selected">--Select BG Status--</option></select></li>';
        list += '<li><label>RecruitmentType<span class="red">*</span></label><select name="JoiningRecruittype" id="JoiningRecruittype" style="width: 144px;--bgX: 60.2%;" class="styled M_40"><option value="-1" selected="selected">--Select Recruitment Type--</option></select></li>';
        list += '<li><label class="M_20">Grade</label><span class="M_40"></span></li>';
        list += '<li><label>Company ID</label><span class="M_40"></span></li>';
        list += '<li><label class="M_20">SetID</label><span class="M_40"></span></li>';
        list += '<li><label>Special Case Reason</label><select name="Joiningsplcase" id="Joiningsplcase"  class="styled M_40" style="width: 152px;--bgX: 60.2%;"><option value="-1" selected="selected">--Select Special Case Reason--</option></select></li>';
        list += '<li><label class="M_20">Remarks</label><textarea class="M_40 txtarea1 styled" style="text-indent:6px; margin-left:-53px;"></textarea></li>';
        list += '</ul>';
        if (ocm == "1") {

            list += '<ul id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }


        $('.popup_new .inner_cont').html('').html(list);
        $("#joiningAssoId").numeric();
        $("#pid").numeric();
        $("#pid").attr("maxlength", 10);
        $('#spanhide').hide();
        if (ocm == "1") {
            $('#ocmfile').hide();
        }
        else {
            $('#ocmfile').hide();
        }

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetBonusDropdownDetails",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var BGoptions = '';
                    BGoptions += "<option value='-1'>--Select BGStatus--</option>";
                    $.each(msg.d[0], function (i, data) {
                        BGoptions += '<option value="' + data.CCodeId + '">' + data.CDescription + '</option>';
                    });
                    $('#JoiningBGStats').html(BGoptions);
                    $('#JoiningBGStats').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectJoiningBGStats').text($("#JoiningBGStats option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var RecOptions = '';
                    RecOptions += "<option value='-1'>--Select RecruitmentType--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            RecOptions += '<option value="' + data.CCodeId + '">' + data.CDescription + '</option>';
                        });
                    }
                    $('#JoiningRecruittype').html(RecOptions);
                    $('#JoiningRecruittype').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectJoiningRecruittype').text($("#JoiningRecruittype option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var sploptions = '';
                    // sploptions += "<option value='-1'>--Select SplCase Reason--</option>";

                    if (msg.d[3].length != 0) {
                        $.each(msg.d[3], function (i, data) {
                            sploptions += '<option value="' + data.CCodeId + '">' + data.CDescription + '</option>';
                        });
                    }
                    $('#Joiningsplcase').append(sploptions);
                    $('#Joiningsplcase').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectJoiningsplcase').text($("#JoiningRecruittype option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        $('.popup_new .innerErrorHolder').text('');
        var windowWidth = '100%';
        var windowHeight = '100%';
        ///var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .viewport').css("height", "505px !important");
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if (componentGroupId == 2 && (CountryId != 18 && CountryId != 19 && CountryId != 20)) {//ReferralBonus        
        $('.popup_new').show();
        $('.popup_new .viewport').css("height", "505px");
        var list = '';
        list += ' <ul ><li><label class="M_15">Referee ID<span class="red">*</span></label><input id="refeid" type="text" value="" class="M_40 new_upload" maxlength="11" /></li>';
        list += '<li><label class="M_40">Referee Name</label><span class="M_30"></span></li>';
        list += '<li><label class="M_15">Referee Grade</label><span class="M_40"></span></li>';
        list += '<li><label class="M_40">Referee Department</label><span class="M_30"></span></li>';
        list += '<li><label class="M_15">Referee DOJ</label><span class="M_40"></span></li>';
        list += '<li><label class="M_40">Referee BG Status<span class="red">*</span></label><select name="RefereeBGStats" id="RefereeBGStats" class="styled M_30" style="width:157px;--bgX: 60%;"><option value="-1" selected="selected">--Select BG Status--</option></select></li></ul>';
        list += '<ul ><li><label class="M_15">Referrer ID<span class="red">*</span></label><input id="refrid" type="text" value="" class="M_40 new_upload" maxlength="11" /></li>';
        list += '<li><label class="M_40">Referrer Name</label><span class="M_30"></span></li><li><label class="M_15">Referrer Grade</label><span class="M_40"></span></li>';
        list += '<li><label class="M_40">Referrer Department</label><span class="M_30"></span></li>';
        list += '<li><label class="M_15">Referrer BG Status<span class="red">*</span></label><select class="styled M_40" name="ReferrerBGStats" id="ReferrerBGStats" style="--bgX: 60%;width: 168px"><option value="-1" selected="selected">--Select BG Status--</option></select></li>';
        list += '<li><label class="M_40">SetId</label><span id="refSetId" class="M_30"></span></li></ul>';
        list += '<ul ><li><label class="M_15">Amount<span class="red">*</span></label><input type="text" maxlength="11" value="" class="M_40 new_upload" id="refamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
        list += '<li><label class="M_40">ProjectId</label><input type="text" value="" class="M_30 new_upload" maxlength="10" id="refPjtId" /><li><label class="M_15">Special Case Reason</label><select name="refsplcase" id="refsplcase" class="styled M_40" style="width:177px;margin-left: -17px;--bgX: 60%"><option value="-1" selected="selected">--Select Special Case Reason--</option></select></li>';
        list += '<li><label class="M_40">Remarks</label><textarea class="M_30 txtarea1 styled" style="text-indent:6px;height:44px;margin-left:-51px;"></textarea></li>';

        list += '</ul>';
        if (ocm == "1") {

            list += '<ul  id="ocmfile" style="margin-left:5px";> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul  id="ocmfile" style="margin-left:5px";> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }

        $('.popup_new .inner_cont').html('').html(list);

        //$('#ReferrerBGStats').append(BGoptions);
        //$('#RefereeBGStats').append(RefereeBGoptions);
        $("#refrid").numeric();
        $("#refrid").attr("maxlength", "11");
        $("#refeid").numeric();
        $("#refPjtId").numeric();
        $("#refPjtId").attr("maxlength", "10");
        $('.popup_edit .inner_cont').jScrollPane();
        if (ocm == "1") {
            $('#ocmfile').hide();
        }
        else {
            $('#ocmfile').hide();
        }


        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetBonusDropdownDetails",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var BGoptions = '';
                    BGoptions += "<option value='-1'>--Select BGStatus--</option>";
                    $.each(msg.d[0], function (i, data) {
                        BGoptions += '<option value="' + data.CCodeId + '">' + data.CDescription + '</option>';
                    });
                    $('#ReferrerBGStats').html(BGoptions);
                    $('#ReferrerBGStats').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectReferrerBGStats').text($("#ReferrerBGStats option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var RefereeBGoptions = '';
                    RefereeBGoptions += "<option value='-1'>--Select BGStatus--</option>";

                    $.each(msg.d[1], function (i, data) {
                        RefereeBGoptions += '<option value="' + data.CCodeId + '">' + data.CDescription + '</option>';
                    });
                    $('#RefereeBGStats').html(BGoptions);
                    $('#RefereeBGStats').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectRefereeBGStats').text($("#RefereeBGStats option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                    var options = '';
                    options += "<option value='-1'>--Select SplCase Reason--</option>";
                    if (msg.d[3].length != 0) {
                        $.each(msg.d[3], function (i, data) {
                            options += '<option value="' + data.CCodeId + '">' + data.CDescription + '</option>';
                        });
                    }
                    $('#refsplcase').html(options);
                    $('#refsplcase').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectrefsplcase').text($("#refsplcase option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');


                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });

        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }
    else if (componentGroupId == 2 && (CountryId == 18 || CountryId == 19)) {//ReferralBonus        
        $('.popup_new').show();
        $('.popup_new .viewport').css("height", "505px");
        var list = '';
        list += ' <ul ><li><label class="M_15">Referrer ID<span class="red">*</span></label><input id="RB_refeid" type="text" value="" class="M_40 new_upload"  /></li>';
        list += '<li><label class="M_40">Referrer Name</label><span class="M_30" id="UK_Referrername"></span></li>';
        list += ' <li><label class="M_15">Referee ID<span class="red">*</span></label><input id="refereeid" type="text" value="" class="M_40 new_upload"  /></li>';
        list += '<li><label class="M_40">Referee Name</label><span class="M_30" id="UK_refereename"></span></li>';
        list += '<li><label class="M_15">DOJ</label><span class="M_40" id="UK_RBDOJ"></span></li>';
        list += '<li><label class="M_40">Amount</label><span class="M_40" id="RB_Amount"></span></li>';

        list += '<li><label class="M_15">Currency</label><span class="M_40" id="RB_Currency"></span></li>';
        list += '<li><label class="M_40">Hire Reason<span class="red">*</span></label><input id="RB_HireReason" type="text" value="" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Job Family</label><span class="M_30" id="UK_JobFamily"></span></li>';
        list += '<li><label class="M_40">Department</label><span class="M_30" id="UK_Department"></span></li>';
        list += '<li><label class="M_15">Hiring Manager<span class="red">*</span></label><input id="RB_HiringManager" type="text" value="" class="M_40 new_upload"  /></li>';
        list += '<li><label class="M_40">Advised Month<span class="red">*</span></label><select name="SBAdvisedMonth" id="SBAdvisedMonth" class="M_40 styled"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">Advised Year<span class="red">*</span></label><select name="SBYear" id="SBYear" class="M_40 styled"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_40">Comments</label><input type="text" value="" class="M_40 new_upload"  id="RB_Comments" /></li>';

        $('.popup_new .inner_cont').html('').html(list);
        PopulateUKI_RBComponentDetails();
        //$('#ReferrerBGStats').append(BGoptions);
        //$('#RefereeBGStats').append(RefereeBGoptions);

        $("#refPjtId").numeric();
        $("#refPjtId").attr("maxlength", "10");
        $('.popup_edit .inner_cont').jScrollPane();


        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });

        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if (componentGroupId == 17) {//SAR
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
        $('.popup_new').show();
        $('#SAR_associatename').text('');
        //  
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAllowanceType",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                var OccupancyType = msg.d[0];
                var occupancyType = '';
                if (msg.d.length > 0) {
                    if (msg.d.length != 0) {
                        $.each(msg.d, function (i, data) {
                            occupancyType += '<option value="' + data.OccupancyTypeId + '" >' + data.OccupancyType + '</option>';
                        });
                    }
                }

                list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text" id="SAR_associateid" value="" maxlength="11" class="M_40 new_upload" /></li>';
                list += '<li><label class="M_15">Associate Name</label><label id="SAR_associatename" style="margin-left:-39px;"></label></li>';
                if (CountryId == 8) {
                    list += '<li><label class="M_15">GuestHouse<span class="red">*</span></label><select name="GuestHouse" id="guesthouse" class="M_40 styled" style="width: 163px;--bgX: 60.2%;"><option value="-1" selected="selected">--Select Guest House--</option></select></li>';
                }
                list += '<li><label class="M_15">OccupancyType<span class="red">*</span></label><select name="OccupancyType" id="OccupancyType" class="styled M_40" style="width:163px;--bgX: 60.2%;"><option value="-1" selected="selected">--Select OccupancyType--</option></select></li>';
                list += '<li><label class="M_15">ProjectId<span class="red">*</span></label><input type="text" id="projectid" value="" maxlength="10" class="M_40 new_upload" /></li>';
                list += ' <li><label class="M_15">StartDate <span class="red">*</span></label><input type="text" id="sar_startdate" value=""  class="popup_date" style="width:137px;height:20px;" /></li>';
                list += '<li><label class="M_15">EndDate<span class="red">*</span></label><input type="text" id="sar_enddate" value="" class="popup_date"   style="width:137px;height:20px;"/></li>';
                list += '<li><label class="M_15">TotalDays<span class="red">*</span></label><input type="text" id="TotalDays" value="" maxlength="10" class="M_40 new_upload" onkeypress="return isNumberKey(event)"  /></li>'
                list += '<li><label class="M_15">Currency Code<span class="red">*</span></label><span class="M_20"><select id="curcode" style="width: 160px; height:22px;display:none;"><option>--select--</option></select></span></li>';

                list += '<li><label class="M_15">Special Case Reason</label><select name="seraptsplcase" id="seraptsplcase"  class="styled M_40" style="width: 163px;--bgX: 60.2%;"><option value="-1" selected="selected">--Select Special Case Reason--</option></select></li>';
                if (CountryId == 2) {
                    list += '<li><label class="M_15">AccountType<span class="red">*</span></label><select name="AccountType" id="accountType" class="styled  M_40" style="--bgX: 60.2%;"><option value="-1" selected="selected">--Select AccountType--</option></select></li>';
                }
                list += '</ul>';
                if (ocm == "1") {

                    list += '<ul class="M_15" style="margin-left:9px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                    list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

                }
                else {
                    list += '<ul class="M_15" style="margin-left:9px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                    list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
                }


                $('.popup_new .inner_cont').html('').html(list);
                $('#OccupancyType').append(occupancyType);
                $('#TotalDays').attr('maxlength', '5');
                $('#TotalDays').numeric();
                $("#sar_startdate").datepicker("destroy");
                $("#sar_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
                //$('#sar_enddate').datepicker();
                $("#sar_enddate").datepicker("destroy");
                $("#sar_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
                $('#SAR_associateid').numeric();
                //$('#installementval').append(Installmenttype);
                //$('#currencyCode').append(CurrencyCode);
                PopulateComponentDetails();
                Populateaccount();
                $(".inner_cont").css("height", "190px");

                $(".selectValueWrap").css("left", "-41px");
                $(".selectList").css("margin-left", "-41px");
                $("#joiningAssoId").numeric();
                $("#jamt").numeric();
                $("#pjid").numeric();
                $("#pjid").attr("maxlength", 10);


            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    // 6th Day
    else if (componentGroupId == 15) {
        $('.popup_new').css('display', 'none');

        var windowWidth = '100%';
        var windowHeight = '100%';
        ///var popupHeight = $(".popup_new").height();

        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");

        $(".background_bg").css({
            "opacity": "0.5"
        });
        //var popupHeight = $('.popup_new').find(".middle").height();
        //$('.popup_new').css({
        //    'position': 'absolute',
        //    'z-index': '100',
        //    "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
        //    "left": "10%"
        //});
        $("#6thEndate").datepicker("destroy");
        $(this).find(".popup_date").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        $(this).find(".popup_date").val();
        var UsrAgnt = navigator.userAgent;
        if (UsrAgnt.indexOf("Chrome") > -1) {
            $('#6thDayPayoutType').css({ 'width': '80px' });
            $("#select6thDayPayoutType").css({ 'width': '50px' });

        }
        else {
            $('#6thDayPayoutType').css({ 'width': '80px' });
            $("#select6thDayPayoutType").css({ 'margin-left': '20px', 'width': '50px' });

        }
        $('#6thdayAllowance_tab2').show();
        $('#6thdayAllowance_tab2').css('display', 'block');
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAllowanceType",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var ShiftType = msg.d;
                    var shiftType = '';
                    $.each(msg.d, function (i, data) {
                        shiftType += '<option value="' + data.ShiftTypeID + '" SDADayPayoutType="' + data.ShiftTypeID + '">' + data.ShiftType + '</option>';
                    });
                    $('#6thDayPayoutType').html(shiftType);
                    $('#6thDayPayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#select6thDayPayoutType').text($("#6thDayPayoutType option:selected").text());
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

        $('#6thdayAllowance_tab2').show();
        $('#6thdayAllowance_tab2').css('display', 'block');
        var projectId = '';
        //$('.popup_new .innerErrorHolder').text('');
        $(".defaultEntry").css("line-height", "18px");
        $('.defaultEntry').timeEntry('setTime', "09:00");
        $('.popdivcontedit').text('');
        var windowWidth = '100%';
        var windowHeight = '100%';
        var popupHeight = $(".popup_uploadwrap").height();
        var popupWidth = $(".popup_uploadwrap").width();
        var ele = window.parent.document.getElementById('background');
        $(ele).fadeIn("slow")
        $(".background_bg").fadeIn("slow");
        $('#6thdayAllowance_popup').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5",
            "z-index": "99"
        });
        $('#6thdayAllowance_popup').css({
            'position': 'absolute',
            'z-index': '100',
            //"top": (($(window).height() -popupHeight) / 2) +$(window).scrollTop() + "px",
            "top": "-2%",
            "left": "2%"
        });

        $('#6thdayAllowance_tab2').dataTable({
            "fnInitComplete": function () {
                // custom scroll bars
                $('#6thdayAllowance_tab2_wrapper')
                    .find('.dataTables_scrollBody')
                    .jScrollPane({ verticalDragMinHeight: 3, verticalDragMaxHeight: 3, horizontalDragMinWidth: 82, horizontalDragMaxWidth: 82, autoReinitialise: true });
            },
            //"sPaginationType": "full_numbers",
            "bPaginate": false,
            "sScrollY": "100px",
            "bFilter": false,
            "bRetrieve": true,
            "bDestroy": true,
            "bInfo": false,
            "aLengthMenu": [[5, 25, 50, 100, -1], [5, 25, 50, 100, "All"]],
            "iDisplayLength": 5,
            "aoColumns": [
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false }
            ],
            "fnDrawCallback": function () {
                $('#tableId_info').prepend($('#tableId_length'));
                $('.6thdayAllowance tr th:not(:last-child)').css('border-right', '1px solid #ffffff');
                $('.6thdayAllowance tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                $('#6thdayAllowance_tab2 tr:odd td').css('background-color', '#ffffff');
                $('#6thdayAllowance_tab2 tr:even td').css('background-color', '#ebebeb');
            }
        });
        var projId = $('#proid').find('option:selected').text();
        $("#6thProjid").text(projId);
        $('#6thDayTable2').jScrollPane();
        $('.scrollpopup .jspPane').css('left', '0px');
        $('.scrollpopup .jspDrag').css('left', '0px');
        if ($('#6thdayAllowance_tab2 tbody tr').text() != 'No data available') {
            htmldata = '<tr class="even" id="NoData"><td colspan="12" class="text-center">No data available</td></tr>';
            $('#6thdayAllowance_tab2 tbody').append(htmldata);
        }
    }
    // NSA
    else if (componentGroupId == 16) {
        $('.popup_new').css('display', 'none');
        $("#Nsa_endDate").datepicker("destroy");
        $(this).find(".popup_date").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        $(this).find(".popup_date").val();
        var UsrAgnt = navigator.userAgent;
        if (UsrAgnt.indexOf("Chrome") > -1) {

        }
        else {
            $('#NSAPayoutType').css({ 'margin-left': '-9px', 'width': '100px' });
            $('#selectNSAPayoutType').css({ 'width': '70px' });
        }
        $('#Nsa_tbl2').css('display', 'block');
        var projectId = '';
        $('.popup_new .innerErrorHolder').text('');

        $(".defaultEntry").css("line-height", "18px");
        $('.defaultEntry').timeEntry('setTime', "09:00");
        $('.popdivcontedit').text('');

        var windowWidth = '100%';
        var windowHeight = '100%';
        var popupHeight = $(".popup_uploadwrap").height();
        var popupWidth = $(".popup_uploadwrap").width();
        var ele = window.parent.document.getElementById('background');
        $(ele).fadeIn("slow")
        $(".background_bg").fadeIn("slow");
        $('#NSA_newpopup').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5",
            "z-index": "99"
        });
        $('#NSA_newpopup').css({
            'position': 'absolute',
            'z-index': '100',
            //"top": (($(window).height() -popupHeight) / 2) +$(window).scrollTop() + "px",
            "top": "-2%",
            "left": "2%"
        });

        $('#Nsa_tbl2').dataTable({
            "fnInitComplete": function () {
                // custom scroll bars
                $('#Nsa_tbl2_wrapper')
                    .find('.dataTables_scrollBody')
                    .jScrollPane({ verticalDragMinHeight: 8, verticalDragMaxHeight: 8, horizontalDragMinWidth: 82, horizontalDragMaxWidth: 82, autoReinitialise: true });
            },
            //"sPaginationType": "full_numbers",
            "bPaginate": false,
            "sScrollY": "100px",
            "bFilter": false,
            "bRetrieve": true,
            "bDestroy": true,
            "bInfo": false,
            "aLengthMenu": [[5, 25, 50, 100, -1], [5, 25, 50, 100, "All"]],
            "iDisplayLength": 5,
            "aoColumns": [
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false }
            ],
            "fnDrawCallback": function () {
                $('#tableId_info').prepend($('#tableId_length'));

                $('.Nsa_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #ffffff');
                $('.Nsa_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                $('#Nsa_tbl2 tr:odd td').css('background-color', '#ffffff');
                $('#Nsa_tbl2 tr:even td').css('background-color', '#ebebeb');
            }
        });
        //$('#Nsa_tbl2').jScrollPane();
        var projId = $("#proid option:selected").text();
        $("#NSAProjId").text(projId);
        $('.scrollpopup .jspPane').css('left', '0px');
        $('.scrollpopup .jspDrag').css('left', '0px');
        if ($('#Nsa_tbl2 tbody tr').text() != 'No data available') {
            htmldata = '<tr class="even" id="NoData"><td colspan="12" class="text-center" style="width:100%;">No data available</td></tr>';
            $('#Nsa_tbl2 tbody').append(htmldata);
        }
    }

    else if (componentGroupId == 59) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        var list = '';
        list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input type="text" id="YEB_AssoId" value="" maxlength="11" class="M_30 new_upload" /></li>';
        list += '<li><label class="M_10">Associate Name</label><label id="YEB_Assoname" style="margin-left:-39px;"></label></li>';
        list += '<li><label>CountryWhereBonus<span class="red">*</span></label><input type="text" id="YEB_CountryBonusAccrued" value="" class="M_30 new_upload" /></li>'; //YEB_HireType
        list += '<li><label class="M_10">HireType<span class="red">*</span></label><input type="text" id="YEB_HireType" value="" class="M_40 new_upload" /></li>';
        // list += '<li><label>PayoutType<span class="red">*</span></label><select name="YEB_PayoutType" id="YEB_PayoutType" class="M_40"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
        list += '<li><label class="M_10">Currency</label><label id="YEB_Currency" class="M_30 new_upload"></label></li>';
        list += '<li><label>BonusType<span class="red">*</span></label><select name="YEB_BonusType" id="YEB_BonusType" style="width:150px;" class="styled M_40"><option value="-1" selected="selected">--Select BonusType --</option></select></li>';
        list += '<li><label class="M_10" id="PP">PerformancePay</label><input type="text" id="YEB_PerformancePay" value="" class="M_30 new_upload" /></li>';
        list += '<li><label id="TB">TargetBonus</label><input type="text" id="YEB_TargetBonus" value="" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_10" id="CP">CalculatedPlan</label><input type="text" id="YEB_CalculatedPlan" value="" class="M_30 new_upload" /></li>';
        list += '<li><label>TotalPayment<span class="red">*</span></label><input type="text" id="YEB_TotalPayment" value="" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_10">UKBonus Sacrifice<span class="red">*</span></label><input type="text" id="YEB_UKBS" value="" class="M_30 new_upload" /></li>';
        list += '<li><label>ActiveCountry<span class="red">*</span></label><input type="text" id="YEB_ActiveCountry" value="" class="M_40 new_upload" /></li>';
        list += '<li><label>Paygroup Type<span class="red">*</span></label><input type="text" id="YEB_PaygroupType" value="" class="M_30 new_upload" /></li>';
        list += '<li><label>Comments</label><input type="text" id="YEB_Comments" value="" class="M_40 new_upload" /></li>';
        list += '</ul>';

        $('.popup_new .inner_cont').html('').html(list);

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    var bonusType = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            bonusType += '<option value="' + data.BonusTypeID + '">' + data.BonusType + '</option>';
                        });
                    }
                    $('#YEB_BonusType').append(bonusType);
                    $('#YEB_BonusType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectYEB_BonusType').text($("#YEB_BonusType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    $('#YEB_Currency').text(msg.d[2][0].Currency);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

        $('.popup_new .innerErrorHolder').text('');
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if (componentGroupId == 41) {

        $('.popup_new').css('display', 'none');
        $('#Span2').text('');
        $('#Span2').text('Shift Allowance');
        $("#Nsa_endDate").datepicker("destroy");
        $(this).find(".popup_date").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        $(this).find(".popup_date").val();
        var UsrAgnt = navigator.userAgent;
        if (UsrAgnt.indexOf("Chrome") > -1) {

        }
        else {
            $('#NSAPayoutType').css({ 'margin-left': '-9px', 'width': '100px' });
            $('#selectNSAPayoutType').css({ 'width': '70px' });
        }
        $('#Nsa_tbl2').css('display', 'block');
        var projectId = '';
        $('.popup_new .innerErrorHolder').text('');

        $(".defaultEntry").css("line-height", "18px");
        $('.defaultEntry').timeEntry('setTime', "09:00");
        $('.popdivcontedit').text('');

        var windowWidth = '100%';
        var windowHeight = '100%';
        var popupHeight = $(".popup_uploadwrap").height();
        var popupWidth = $(".popup_uploadwrap").width();
        var ele = window.parent.document.getElementById('background');
        $(ele).fadeIn("slow")
        $(".background_bg").fadeIn("slow");
        $('#NSA_newpopup').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5",
            "z-index": "99"
        });
        $('#NSA_newpopup').css({
            'position': 'absolute',
            'z-index': '100',
            //"top": (($(window).height() -popupHeight) / 2) +$(window).scrollTop() + "px",
            "top": "-2%",
            "left": "2%"
        });

        $('#Nsa_tbl2').dataTable({
            "fnInitComplete": function () {
                // custom scroll bars
                $('#Nsa_tbl2_wrapper')
                    .find('.dataTables_scrollBody')
                    .jScrollPane({ verticalDragMinHeight: 8, verticalDragMaxHeight: 8, horizontalDragMinWidth: 82, horizontalDragMaxWidth: 82, autoReinitialise: true });
            },
            //"sPaginationType": "full_numbers",
            "bPaginate": false,
            "sScrollY": "100px",
            "bFilter": false,
            "bRetrieve": true,
            "bDestroy": true,
            "bInfo": false,
            "aLengthMenu": [[5, 25, 50, 100, -1], [5, 25, 50, 100, "All"]],
            "iDisplayLength": 5,
            "aoColumns": [
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false },
                { "bSortable": false }
            ],
            "fnDrawCallback": function () {
                $('#tableId_info').prepend($('#tableId_length'));

                $('.Nsa_tbladd_upload tr th:not(:last-child)').css('border-right', '1px solid #ffffff');
                $('.Nsa_tbladd_upload tr td:not(:last-child)').css('border-right', '1px solid #c8c8c8');
                $('#Nsa_tbl2 tr:odd td').css('background-color', '#ffffff');
                $('#Nsa_tbl2 tr:even td').css('background-color', '#ebebeb');
            }
        });
        //$('#Nsa_tbl2').jScrollPane();
        var projId = $('#proid option:selected').text();
        $("#NSAProjId").text(projId);
        $('.scrollpopup .jspPane').css('left', '0px');
        $('.scrollpopup .jspDrag').css('left', '0px');
        if ($('#Nsa_tbl2 tbody tr').text() != 'No data available') {
            htmldata = '<tr class="even" id="NoData"><td colspan="12" class="text-center" style="width:100%;">No data available</td></tr>';
            $('#Nsa_tbl2 tbody').append(htmldata);
        }
    }

    else if (componentGroupId == 18 && CountryId == 2) {//School Fees
        var monthOprions = '';

        list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input type="text" id="SchoolfeeAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_20">Name</label><span class="M_40"></span></li>';
        list += '<li><label>Amount for Child 1<span class="red">*</span></label><input type="text" value="" class="M_40 new_upload" maxlength="11" id="amount1" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
        list += '<li><label class="M_20">DOJ</label><span class="M_40"></span></li>';
        list += '<li><label>Amount for Child 2</label><input type="text" value="" class="M_40 new_upload" maxlength="11" id="amount2" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
        list += '<li><label class="M_20">Payroll Month<span class="red">*</span></label><select name="SchoolFeesMonth" id="SchoolFeesMonth" class="styled M_40" style="--bgX: 60.2%;width: 144px;"><option value="-1" selected="selected">--Select Month--</option></select></li></ul>';
        if (ocm == "1") {

            list += '<ul class="M_15" style="margin-left:9px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul class="M_15" style="margin-left:9px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }


        $('.popup_new .inner_cont').html('');
        $('.popup_new .inner_cont').html('').html(list);

        var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAllowanceType",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            async: false,
            cache: false,
            success: function (msg) {
                var monthOptions = '';
                monthOptions += "<option value='-1'>--Select Month--</option>";
                $.each(msg.d, function (i, data) {
                    monthOptions += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                });
                $('#SchoolFeesMonth').html(monthOptions);
                $('#SchoolFeesMonth').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectSchoolFeesMonth').text($("#SchoolFeesMonth option:selected").text());

            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }

        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });

        $("#SchoolfeeAssoId").numeric();
        // $("#amount1").numeric();
        //$("#amount2").numeric();
    }
    else if (componentGroupId == 19 && CountryId == 2) {
        $('#PayoutType').find('option:nth-child(1)').attr('selected', 'selected');
        $('#selectpaytype').text($("#ComponentTypetrt option:selected").text());
        $('#selecteddata').find('option:nth-child(1)').attr('selected', 'selected');
        $('#selectpaytype').text($("#selecteddata option:selected").text());

        $('.inner_cont').css("height", '');
        var componentGroupId = $("#bonus").val();
        $('.inner_cont').css("height", '210px');
        $('.inner_cont').css("margin-left", '25px');
        $('.inner_cont').css("width", '660px');

        var type = '';
        if ($('#a_valid').hasClass('selected')) {
            type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {
            type = 2;
        }
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        $('.popup_new').show();
        var list = '';
        list += '<ul id="dropdowndetails" style="margin-top:5px;">';
        list += '<li><label>Component<span class="red">*</span></label><select name="PayoutType" id="PayoutType" class="styled M_20" style="width:165px !important;overflow:hidden;--bgX: 60.2%;"><option value="-1" selected="selected">--Select Component --</option></select></li>';
        list += '<li><label>Currency Code<span class="red">*</span></label><span class="M_20"><select id="curcode" style="width: 160px; height:22px;display:none;"><option>--select--</option></select></span></li>';
        list += '<li><label>Associate ID<span class="red">*</span></label><input class="M_20" type="text" id="associateid"  maxlength="11" /></li>';
        list += '<li><label>Associate Name</label><span id="asso_name" class="M_20"></span></li>';
        list += '<li><label>Project ID<span class="red">*</span></label><input class="M_20" type="text" id="projid"  maxlength="10" /></li>';
        list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" id="amount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text"/></li>';
        list += '<li id="frameforapproval"><iframe id="frame2" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
        list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload2" style="display:none;margin-left:19px;"></div></li>';
        list += '<li><label>Special Case Reason</label><select class="styled M_20" name="special" id="splcase" style="--bgX: 60.2%;width:170px;height:22px;<option value="-1" selected="selected" style="width:160px;">--Select Special Case Reason--</option></select></li>';
        list += '</ul>';
        if (ocm == "1") {

            list += '<ul id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }



        $('.popup_new .inner_cont').html('').html(list);

        $("#associateid").numeric();
        //$("#amount").numeric();
        $('#projid').numeric();
        $('#frameforapproval').show();
        $('#aft_uploadhide').hide();
        $('#frame1').hide();
        PopulateComponentDetails();
        GetSessionTimeout();
    }

    else if (componentGroupId == 19 && CountryId != 2) {
        $('#PayoutType').find('option:nth-child(1)').attr('selected', 'selected');
        $('#selectpaytype').text($("#ComponentTypetrt option:selected").text());
        $('#selecteddata').find('option:nth-child(1)').attr('selected', 'selected');
        $('#selectpaytype').text($("#selecteddata option:selected").text());

        $('.inner_cont').css("height", '');
        var componentGroupId = $("#bonus").val();
        $('.inner_cont').css("height", '250px');
        $('.inner_cont').css("margin-left", '25px');
        $('.inner_cont').css("width", '660px');

        var type = '';
        if ($('#a_valid').hasClass('selected')) {
            type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {
            type = 2;
        }
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        $('.popup_new').show();
        var list = '';
        list += '<ul>';
        list += '<li><label>Component<span class="red">*</span></label><select name="PayoutType" id="PayoutType" class="styled M_20" style="width:165px !important;overflow:hidden"><option value="-1" selected="selected">--Select Component --</option></select></li>';
        list += '<li><label>Currency Code<span class="red">*</span></label><span class="M_20"><select id="curcode" style="width: 160px; height:22px;display:none;"><option>--select--</option></select></span></li>';
        list += '<li><label>Associate ID<span class="red">*</span></label><input class="M_20" type="text" id="associateid"  maxlength="11" /></li>';
        list += '<li><label>Associate Name</label><span id="asso_name" class="M_20"></span></li>';
        list += '<li><label>Project ID<span class="red"></span></label><input class="M_20" type="text" id="projid"  maxlength="10" /></li>';
        list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" id="amount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text" oncopy="return false" onpaste="return false"/></li>';
        list += '<li><label>AdvisedMonth<span class="red">*</span></label><select name="SBAdvisedMonth" id="SBAdvisedMonth" class="styled M_20"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label>Year<span class="red">*</span></label><select name="SBYear" id="SBYear" class="styled M_20"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label>Special Case Reason</label><select class="styled M_20" name="special" id="splcase" style="width:170px;height:22px;"><option value="-1" selected="selected" style="width:160px;">--Select Special Case Reason--</option></select></li>';
        list += '<li><label>Installments<span class="red">*</span></label><select name="APInstallments" id="APInstallments" class="styled M_20"><option value="-1" selected="selected">--Select Installments --</option></select></li>';
        list += '<li id="frameforapproval"><iframe id="frame2" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
        list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload2" style="display:none;margin-left:19px;"></div></li>';
        list += '</ul>';
        if (ocm == "1") {

            list += '<ul id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }

        $('.popup_new .inner_cont').html('').html(list);


        $("#associateid").numeric();
        $("#amount").numeric();
        $('#projid').numeric();
        //$('#frameforapproval').show();
        $('#aft_uploadhide').hide();
        $('#frame1').hide();
        PopulateAPACComponentDetails();
        GetSessionTimeout();
    }
    else if (componentGroupId == 20 && CountryId == 2) {//Additional Deduction

        $('#PayoutType').find('option:nth-child(1)').attr('selected', 'selected');
        $('#selectpaytype').text($("#ComponentTypetrt option:selected").text());

        //$('#ComponentTypetrt').find('option:nth-child(1)').attr('selected', 'selected');
        //$('#selectcomptype').text($("#ComponentTypetrt option:selected").text());

        $('#selecteddata').find('option:nth-child(1)').attr('selected', 'selected');
        $('#selectpaytype').text($("#selecteddata option:selected").text());

        $('.inner_cont').css("height", '');
        var componentGroupId = $("#bonus").val();
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        $('.popup_new').show();
        var list = '';

        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text" id="adAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Deduction Type<span class="red">*</span></label><select name="Deductiontype" id="Deductiontype" class="styled M_40" style="width:150px;--bgX: 61.2%;margin-top: 2px" ><option value="-1" selected="selected">--Select Deduction Type--</option></select></li>';
        list += '<li><label class="M_15">Amount<span class="red">*</span></label><input type="text" value="" class="M_40 new_upload" id="editjamt" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
        list += '<li><label class="M_15">ProjectId<span id="projecthide" class="red">*</span></label><input type="text" value="" id="pjid" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Installments<span class="red">*</span></label><select name="Installments" id="Installments" class="styled M_40" style="--bgX: 61.2%;"><option value="-1" selected="selected">--Select Installment Type--</option></select></li>';
        list += '<li><label class="M_15">CurrencyCode<span class="red">*</span></label><select name="CurrencyCode" id="CurrencyCode" class="M_40"><option value="-1" selected="selected">--Select Currency Code--</option></select></li>';
        list += '</ul>';
        if (ocm == "1") {

            list += '<ul class="M_15" style="margin-left:9px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul class="M_15" style="margin-left:9px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }


        $('.popup_new .inner_cont').html('').html(list);
        $("#adAssoId").numeric();
        $("#pjid").numeric();
        $("#pjid").attr("maxlength", 10);

        PopulateDeductionComponentDetails();
    }
    else if (componentGroupId == 20 && CountryId != 2) {
        $('#PayoutType').find('option:nth-child(1)').attr('selected', 'selected');
        $('#selectpaytype').text($("#ComponentTypetrt option:selected").text());
        $('#selecteddata').find('option:nth-child(1)').attr('selected', 'selected');
        $('#selectpaytype').text($("#selecteddata option:selected").text());

        $('.inner_cont').css("height", '');
        var componentGroupId = $("#bonus").val();
        $('.inner_cont').css("height", '260px');
        $('.inner_cont').css("margin-left", '25px');
        $('.inner_cont').css("width", '660px');

        var type = '';
        if ($('#a_valid').hasClass('selected')) {
            type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {
            type = 2;
        }
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        $('.popup_new').show();
        var list = '';
        list += '<ul>';
        list += '<li><label>Deduction Type<span class="red">*</span></label><select name="DeductionType" id="DeductionType" style="width:150px" class="styled M_20"><option value="-1" selected="selected">--Select Component --</option></select></li>';
        list += '<li><label>Currency Code<span class="red">*</span></label><span class="M_20"><select id="curcodeAD" style="width: 160px; height:22px;display:none;"><option>--select--</option></select></span></li>';
        list += '<li><label>Associate ID<span class="red">*</span></label><input class="M_20" type="text" id="AD_associateid"  maxlength="11" /></li>';
        list += '<li><label>Associate Name</label><span id="AD_asso_name" class="M_20"></span></li>';
        list += '<li><label>Project ID</label><input class="M_20" type="text" id="AD_projid"  maxlength="10" /></li>';
        list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" id="AD_amount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text"/></li>';
        list += '<li><label>AdvisedMonth<span class="red">*</span></label><select name="SBAdvisedMonth" id="ADAdvisedMonth" class="styled M_20"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label>Year<span class="red">*</span></label><select name="SBYear" id="ADYear" class="styled M_20"><option value="-1" selected="selected">--Select Year --</option></select></li>';

        list += '<ul  iframe style="margin-left:-3px;"><li id="frameforapproval"><iframe id="frame2" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
        list += '<li style="margin-left:-21px;padding-top:5px;"><div id="aft_upload2" style="display:none;margin-left:19px;"></div></li>';
        list += '</ul>';
        list += '<li style="margin-left:-3px;"><label>Special Case Reason</label><select class="styled M_20" name="special" id="splcaseAD" style="width:170px;height:22px;<option value="-1" selected="selected" style="width:160px;">--Select Special Case Reason--</option></select></li>';
        if (ocm == "1") {

            list += '<ul style="margin-left:-3px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul style="margin-left:-3px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }


        $('.popup_new .inner_cont').html('').html(list);

        $('#frame1').hide();
        $('#aft_uploadhide').hide();
        //$("#associateid").numeric();
        ////$("#amount").numeric();
        //$('#projid').numeric();
        //$('#frameforapproval').show();
        //$('#aft_uploadhide').hide();
        //$('#frame1').hide();
        PopulateAPACComponentDetails();
        GetSessionTimeout();
    }
    else if ((componentGroupId == 39 || componentGroupId == 22) && CountryId == 3) {//on call and overtime allowance  
        $('.popup_new').show();
        var datastring = '{"associateId":"' + loginId + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("");
                        $('#OC_associatename').text($.trim(msg.d[0].AssociateName));

                    }

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID</label><label id="OC_associateid" style="margin-left:-39px;">' + loginId + '</label></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="OC_associatename" style="margin-left:-39px;" > </label></li>';
        list += '<li><label  class="M_15">DayType<span class="red">*</span></label><select name="OTDayType" id="OTDayType" class="M_40" style="margin-left:-40px;width:137px;height:20px"><option value="-1" selected="selected">--Select DayType --</option></select></li>';
        list += '<li><label class="M_15">StartDate <span class="red">*</span></label><input type="text" id="OC_startdate" value=""  class="popup_date" oncopy="return false" onpaste="return false" style="width:137px;height:20px;" /></li>';
        list += '<li><label class="M_15">EndDate<span class="red">*</span></label><input type="text" id="OC_enddate" value="" class="popup_date"   oncopy="return false" onpaste="return false" style="width:137px;height:20px;"/></li>';

        list += ' <li style="margin-left:-15px;"><label id="crit_label">TotalHours</label><span class="dayst"><input type="number" class="number_box" id="TotalHours" onkeyup="return allownums1(event)" min="0" max="24" style="margin-left:-47px;width:137px;height:20px;" /></span></li>';
        //list += ' <li style="margin-left:-15px;"><label id="crit_label">Total Hours &nbsp;<input type="number" class="number_box txt_place" value="4" id="fromhrs1" onkeyup="return allownums(event)" min="0" max="24" />&nbsp;Hrs&nbsp;<input type="number" class="number_box txt_place" value="21" id="tohrs1" onkeyup="return allownums5(event)" min="0" max="24" />&nbsp;minutes</label></li>';
        list += '<li><label class="M_15">ProjectId<span class="red">*</span></label><input type="text" id="projectid" value="" maxlength="10" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-41px;" /></li>';
        list += '<li><label class="M_15">Account Name<span class="red">*</span></label><label id="OC_accountname" customerid="" style="margin-left:-39px;"></label></li>';
        list += '</ul>';
        if (ocm == "1") {

            list += '<ul style="margin-left:5px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul style="margin-left:5px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }

        $('.popup_new .inner_cont').html('').html(list);
        $('#OC_starttime').timeEntry({ show24Hours: true, timeSteps: [1, 5, 1], defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
        $('#OC_endtime').timeEntry({ show24Hours: true, timeSteps: [1, 5, 1], defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });



        $("#OC_associateid").numeric();
        $("#OC_associateid").attr("maxlength", "11");
        $("#OC_associateid").numeric();
        $("#projectid").numeric();
        $("#projectid").attr("maxlength", "10");
        $('.popup_edit .inner_cont').jScrollPane();
        if (ocm == "1") {
            $('#ocmfile1').hide();
        }
        else {
            $('#aft_upload3').hide();

        }


        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var payouttype = '';
                    payouttype += "<option value='-1'>--Select AccountID--</option>";
                    $.each(msg.d[0], function (i, data) {
                        payouttype += '<option CustomerID="' + data.CUSTOMERID + '">' + data.CUSTOMERID + '</option>';
                    });
                    $('#AccountID').html(payouttype);
                    $('#AccountID').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectAccountID').text($("#AccountID option:selected").text());


                    $('.popup_new .innerErrorHolder').text('');

                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAllowanceType",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var DayType = msg.d;
                    var DayType = '';
                    $.each(msg.d, function (i, data) {
                        DayType += '<option value="' + data.DAYTYPEID + '" DayTypeID="' + data.DAYTYPEID + '">' + data.DAYNAME + '</option>';
                    });
                    $('#OTDayType').html(DayType);
                    $('#OTDayType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectOTDayType').text($("#OTDayType option:selected").text());
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if (componentGroupId == 22 && CountryId != 3) {//overtime allowance  China/qatar/KSA/ MYS/ Aus/ NZ/ UAE   
        $('.popup_new').show();
        $('.popup_new .viewport').css("height", "500px");
        var list = '';
        var associateID = '';
        OTnew = 1;
        OTedit = 0;
        var option_htmlOT = '';
        //$.ajax({
        //    type: "POST",
        //    url: "../WebMethods.aspx/FetchUserFromSession",
        //    contentType: "application/json; charset=utf-8",
        //    dataType: "json",
        //    async: false,
        //    cache: false,
        //    success: function (msg) {           
        //        associateID = msg.d;
        //    },
        //    error: function (xhr) {
        //        errorpopup(parent.document.getElementById("hdnSession").value);
        //    }
        //});

        var datastring = '{"associateId":"' + loginId + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("");
                        $('#OC_associatename').text($.trim(msg.d[0].Name));
                        $('#OT_ApproverID').text($.trim(msg.d[0].HM));
                    }
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

        list += '<ul ><li><label class="M_15">Associate ID</label><label style="margin-left: -42px;">' + loginId + '</label></li>';

        //list += '<li><label class="M_15">Associate Name</label><label id="OT_associatename" style="margin-left:-39px;"></label></li>';
        if (CountryId == 7 || CountryId == 10) {
            list += '<li><label  class="M_15">DayType<span class="red">*</span></label><select name="OTDayType" id="OTDayType" class="M_40"><option value="-1" selected="selected">--Select DayType --</option></select></li>';
        }
        else if (CountryId == 11 || CountryId == 12 || CountryId == 13) {
            list += '<li><label class="M_15">Associate Name</label><label id="OC_associatename" style="margin-left:-39px;" > </label></li>';
        }
        else {
            list += '<li></li>';
        }
        list += '<li><label class="M_15">StartDate <span class="red">*</span></label><input type="text" id="OT_startdate" value=""  class="popup_date" style="width:137px;height:20px;" /></li>';
        list += '<li><label class="M_15">EndDate<span class="red">*</span></label><input type="text" id="OT_enddate" value="" class="popup_date"   style="width:137px;height:20px;"/></li>';
        list += '<li><label class="M_15" style="width: 87px;">StartTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="OT_starttime" class="defaultEntry poptime" oncopy="return false" onpaste="return false" value="09:00" size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px; margin-left:38px;" ><span class="timeEntry_control" style="background: url(&quot;../Images/spinnerDefault.png&quot;) 0px 0px no-repeat; width: 17px; height: 20px;" title="Increment"></span></p>';
        list += '<li><label class="M_15" style="width: 87px;">EndTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="OT_endtime" class="defaultEntry poptime" value="09:00" size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;margin-left:38px;"><span class="timeEntry_control" id="timeimage"  title="Decrement"></span></p></label></li>';
        if (CountryId == 8 || CountryId == 9) {
            list += '<li><label class="M_15">ProjectID<span class="red">*</span></label><select name="ProjectID" id="OT_Projectid" class="styled" style="--bgX: 61%;margin-left:-41px;width: 150px;"><option name="" value="-1">--Select--</option></select></li>';
            list += '<li><label class="M_15">Project Description</label><label  id="OT_ProjectDesc" class="M_40 new_upload" style="width:207px;height:20px;margin-left:-41px;font-size: 10px;"></label></li>';
        }
        else {
            list += '<li><label class="M_15">ProjectID<span class="red">*</span></label><input type="text" id="OT_Projectid" value="" maxlength="10" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-41px;" /></li>';
        }
        if (CountryId == 7) {
            list += '<li><label class="M_15">ApproverID</label><input type="text" id="OT_ApproverID" value="" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-41px;" /></li>';
        }
        else if (CountryId == 8 || CountryId == 9) {
            list += '<li class="OT1"><label class="M_15">ApproverID</label><label id="OT_ApproverID"  class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-41px;"></label></li>';
        }
        else {
            if (CountryId != 11 && CountryId != 12 && CountryId != 13) {
                list += '<li><label class="M_15">ApproverID<span class="red">*</span></label><input type="text" value="" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-41px;" /></li>';
            }
        }
        if (CountryId == 8 || CountryId == 9) {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + loginId + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/IsAssociateServianContino",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                async: false,
                cache: false,
                success: function (msg) {
                    if (msg.d.length > 0) {

                        option_htmlOT = "<option value='-1'>--Select--</option>";
                        msg1 = msg.d[1];
                        $.each(msg1, function (i, data) {

                            option_htmlOT += "<option value='" + msg1[i].Type + "'>" + msg1[i].Type + "</option>";
                        });
                    }

                },
                error: function (xhr) {
                    errorpopup(parent.document.getElementById("hdnSession").value);
                }
            });
            list += '<li style="margin-top:9px"><label class="M_15">OverTime<span class="red">*</span></label><select name="comptype" id="AllowanceTypeOT" class="styled" style="--bgX: 61%;margin-left:-41px;width: 150px;"><option value="-1">--Select--</option></select></li>';
            list += '<li style="margin-top:10px"><label class="M_15">Associate Remarks</label><textarea style="margin-left: -41px; width: 172px; height: 42px;background-color: #f2f2f2;border: transparent;" name="Remarks" maxlength="500" id="OT_Remarks"></textarea></li>';
            list += '<li></li>';
        }
        list += '</ul>';
        if (CountryId == 7) {
            if (ocm == "1") {

                list += '<ul  id="ocmfile"> <li style="margin-top:9px"><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocmapproval"></div></li></ul>';

            }
            else {
                list += '<ul  id="ocmfile"> <li style="margin-top:9px"><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocmapproval"></div></li></ul>';
            }

        }
        else if (CountryId == 8 || CountryId == 9) {
            if (ocm == "1") {

                list += '<ul style="margin-left:5px;margin-top: 20px;" id="ocmfile"> <li ><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

            }
            else {
                list += '<ul style="margin-left:5px;margin-top: 20px;" id="ocmfile"> <li ><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
            }

        }
        else {
            if (CountryId != 11 && CountryId != 12 && CountryId != 13) {
                if (ocm == "1") {

                    list += '<ul style="margin-left:5px;" id="ocmfile"> <li ><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                    list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
                }
                else {
                    list += '<ul style="margin-left:5px;" id="ocmfile"> <li ><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                    list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
                }

            }
        }
        //if (CountryId == 7) {
        //    if(ocm !="1") 
        //    {
        //        //list += '<ul ><li style="margin-top:9px"><label class="M_15" >TM Approval Mail :</label></li></ul>';
        //        //list += '<ul style="margin-left:10px; "><li><iframe id="frameOT" src="../APAC_FileUpload.aspx" style="height: 32px; width: 320px;position: relative;left: -5px;" frameborder="0"  allowtransparency="true"></iframe></li>';
        //        //list += '<li style="padding-top:5px;"><div id="OT_aft_upload"></div></li></ul>';
        //    }
        //}
        $('.popup_new .inner_cont').html('').html(list);
        $('.popup_new .inner_cont').css('height', '210px');
        if (CountryId == 8 || CountryId == 9) {
            $('#AllowanceTypeOT').html(option_htmlOT);
            $('#AllowanceTypeOT').find('option:nth-child(1)').attr('selected', 'selected');
        }
        if (CountryId == 7) {
            $('.popup_new .inner_cont').css('height', '308px');
            $('.popup_new').css("top", '29.5px');
        }
        else if (CountryId == 11 || CountryId == 12 || CountryId == 13) {
            $('.popup_new .inner_cont').css('height', '150px');
        }
        else if (CountryId == 8 || CountryId == 9) {
            $('.popup_new .inner_cont').css('height', '280px');
            $('.OT1').css('margin-top', '9px');
        }
        else {
            $('.popup_new .inner_cont').css('height', '210px');
        }
        var timearr = ServianAssociatedtls[0] == 1 ? [1, 5, 1] : [1, 1, 1];

        $('#OT_starttime').timeEntry({ show24Hours: true, timeSteps: timearr, defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
        $('#OT_endtime').timeEntry({ show24Hours: true, timeSteps: timearr, defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
        //$('#ReferrerBGStats').append(BGoptions);
        //$('#RefereeBGStats').append(RefereeBGoptions);     
        $('.popup_edit .inner_cont').jScrollPane();
        $('#aft_upload3').hide();

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAllowanceType",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var ShiftType = msg.d;
                    var shiftType = '';
                    $.each(msg.d, function (i, data) {
                        shiftType += '<option value="' + data.ShiftTypeID + '" SDADayPayoutType="' + data.ShiftTypeID + '">' + data.ShiftType + '</option>';
                    });
                    $('#OTDayType').html(shiftType);
                    $('#OTDayType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectOTDayType').text($("#OTDayType option:selected").text());
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

        //$('#OT_endtime.defaultEntry').timeEntry({ show24Hours: true, timeSteps: [1, 5, 1], defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
        $('#OT_starttime').timeEntry({ show24Hours: true, timeSteps: timearr, defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
        $('#OT_endtime').timeEntry({ show24Hours: true, timeSteps: timearr, defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        // var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");


    }
    else if (((componentGroupId == 21) && (CountryId == 7))
        || (componentGroupId == 39 || componentGroupId == 101)
        && (CountryId == 7 || CountryId == 8 || CountryId == 9)) {//on call Allowance China/ Aus/ NZ
        $('.popup_new').show();
        var associateID = '';
        var list = '';
        OCAnew = 1;
        OCAedit = 0;
        $.ajax({
            type: "POST",
            url: "../WebMethods.aspx/FetchUserFromSession",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: false,
            cache: false,
            success: function (msg) {
                associateID = msg.d;
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        var datastring = '{"associateId":"' + loginId + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        $('#OCA_ApproverID').text($.trim(msg.d[0].HM));
                    }
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

        if (CountryId == 7) {
            list += '<ul ><li><label class="M_15">Associate ID</label><span style="margin-left: -42px;">' + associateID + '</span></li>';
            list += '<li></li>';
            list += '<li><label  class="M_15">DayType<span class="red">*</span></label><select name="SPDayType" id="SPDayType" class="M_40"><option value="-1" selected="selected">--Select DayType --</option></select></li>';
            list += '<li><label  class="M_15">Criteria<span class="red">*</span></label><select name="SPCriteria" id="SPCriteria" class="M_40"><option value="-1" selected="selected">--Select Criteria --</option></select></li>';
            list += '<li><label class="M_15">StartDate<span class="red">*</span></label><input type="text" id="OC_startdate" value=""  class="popup_date" oncopy="return false" onpaste="return false" style="width:137px;height:20px;" /></li>';
            list += '<li><label class="M_15">EndDate<span class="red">*</span></label><input type="text" id="OC_enddate" value="" class="popup_date" oncopy="return false" onpaste="return false" style="width:137px;height:20px;"/></li>';
            list += '<li><label class="M_15" style="width: 87px;">StartTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="sp_starttime" class="defaultEntry poptime" oncopy="return false" onpaste="return false" value="09:00" size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;"><span class="timeEntry_control" style="background: url(&quot;../Images/spinnerDefault.png&quot;) 0px 0px no-repeat; width: 17px; height: 20px;" title="Increment"></span></p>';
            list += '<li><label class="M_15" style="width: 87px;">EndTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="sp_endtime" class="defaultEntry poptime" value="09:00" size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;"><span class="timeEntry_control" id="timeimage"  title="Decrement"></span></p></label></li>';
            //list += ' <li><label class="M_15">StartTime <span class="red">*</span></label><input type="text" id="sp_starttime" value=""    style="width:137px;height:20px;margin-left:-41px;" /></li>';
            //list += ' <li><label class="M_15">EndTime <span class="red">*</span></label><input type="text" id="sp_endtime" value=""  style="width:137px;height:20px;margin-left:-41px;" /></li>';
            list += '<li><label class="M_15">ProjectId<span class="red">*</span></label><input type="text" id="OCA_ProjectID" value="" maxlength="10" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-41px;" /></li>';
            list += '<li><label class="M_15">ApproverID</label><input type="text" id="OCA_ApproverID" value="" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-41px;" /></li>';
            list += '</ul>';
            if (ocm == "1") {

                list += '<ul  id="ocmfile"> <li><label>Attach Mail<span class="red"></span></label><a id="fileattach" style="margin-left:-55px;" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                list += '<li style="margin-left:-8px;padding-top:8px;"><div id="aft_uploadocm"></div></li></ul>';

            }
            else {
                list += '<ul  id="ocmfile"> <li><label>Attach Mail<span class="red"></span></label><a id="fileattach" style="margin-left:-55px;" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                list += '<li style="margin-left:-8px;padding-top:8px;"><div id="aft_uploadocm"></div></li></ul>';
            }


        }
        else if (CountryId == 8 && componentGroupId == 101) {
            list += '<ul ><li><label class="M_15">Associate ID</label><span style="margin-left: -42px;">' + associateID + '</span></li>';
            list += '<li></li>';
            list += '<li><label class="M_15">Date<span class="red">*</span></label><input type="text" id="OC_startdate" value=""  class="popup_date" style="width:137px;height:20px;" /></li>';
            list += '<li><label class="M_15">Hours Stand-By<span class="red">*</span></label><input type="text" id="" value="" maxlength="10" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-41px;" /></li>';
            list += '<li><label class="M_15">ProjectID<span class="red">*</span></label><select name="ProjectID" id="OCA_ProjectID" class="styled" style="--bgX: 61%;margin-left:-41px;width: 150px;"><option name="" value="-1">--Select--</option></select></li>';
            list += '<li><label class="M_15">Project Description</label><label  id="OCA_ProjectDesc" class="M_40 new_upload" style="width:207px;height:20px;margin-left:-41px;font-size: 10px;"></label></li>';
            list += '<li class="OT1"><label class="M_15">ApproverID</label><label id="OCA_ApproverID"  class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-41px;"></label></li>';
            list += '<li><label class="M_15">Associate Remarks</label><textarea style="margin-left: -41px; width: 172px; height: 42px;background-color: #f2f2f2;border: transparent;" name="Remarks" maxlength="500" id="Standby_Remarks"></textarea></li>';
            if (ocm == "1") {

                list += '<ul style="margin-left:-15px;margin-top:25px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
            }
            else {
                list += '<ul style="margin-left:-15px;margin-top:25px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
            }

        }
        else {
            list += '<ul ><li><label class="M_15">Associate ID</label><span style="margin-left: -42px;">' + associateID + '</span></li>';
            list += '<li></li>';
            list += '<li><label class="M_15">StartDate<span class="red">*</span></label><input type="text" id="OC_startdate" value=""  class="popup_date" style="width:137px;height:20px;" /></li>';
            list += '<li><label class="M_15">EndDate<span class="red">*</span></label><input type="text" id="OC_enddate" value="" class="popup_date"   style="width:137px;height:20px;"/></li>';
            list += '<li><label class="M_15" style="width: 87px;">StartTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="sp_starttime" class="defaultEntry poptime" oncopy="return false" onpaste="return false" value="09:00" size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;"><span class="timeEntry_control" style="background: url(&quot;../Images/spinnerDefault.png&quot;) 0px 0px no-repeat; width: 17px; height: 20px;" title="Increment"></span></p>';
            list += '<li><label class="M_15" style="width: 87px;">EndTime<span class="red">*</span></label><p class="popTimeHolder"><input type="text" id="sp_endtime" class="defaultEntry poptime" value="09:00" size="10" style="color: rgb(30, 30, 30); text-indent: 6px; margin-top: 3px; line-height: 18px;height:20px;"><span class="timeEntry_control" id="timeimage"  title="Decrement"></span></p></label></li>';

            if (CountryId == 8 || CountryId == 9) {
                list += '<li><label class="M_15">ProjectID<span class="red">*</span></label><select name="ProjectID" id="OCA_ProjectID" class="styled" style="--bgX: 61%;margin-left:-41px;width: 150px;"><option name="" value="-1">--Select--</option></select></li>';
                list += '<li><label class="M_15">Project Description</label><label  id="OCA_ProjectDesc" class="M_40 new_upload" style="width:207px;height:20px;margin-left:-41px;font-size: 10px;"></label></li>';
                list += '<li class="OT1"><label class="M_15">ApproverID</label><label id="OCA_ApproverID"  class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-41px;"></label></li>';
                list += '<li><label class="M_15">Associate Remarks</label><textarea style="margin-left: -41px; width: 172px; height: 42px;background-color: #f2f2f2;border: transparent;" name="Remarks" maxlength="500" id="OCA_Remarks"></textarea></li>';
            } else {
                list += '<li><label class="M_15">ProjectId<span class="red">*</span></label><input type="text" id="OCA_ProjectID" value="" maxlength="10" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-41px;" /></li>';
                list += '<li><label class="M_15">ApproverID<span class="red">*</span></label><input type="text" id="OCA_ApproverID" value="" maxlength="11" class="M_40 new_upload"  style="width:137px;height:20px;margin-left:-41px;" /></li>';
            }
            list += '</ul>';

            if (CountryId == 8) {
                if (ocm == "1") {

                    list += '<ul style="margin-left:5px;margin-top: 10px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                    list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

                }
                else {
                    list += '<ul style="margin-left:5px;margin-top: 10px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                    list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
                }

            }
            else {
                if (ocm == "1") {

                    list += '<ul style="margin-left:5px;margin-top: 10px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                    list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

                }
                else {
                    list += '<ul style="margin-left:5px;margin-top: 10px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                    list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
                }

            }

        }
        //list += '<ul ><li><iframe id="frame2" src="../FileUpload.aspx" width="340px" height="40px" frameborder="0" style="display:block;" allowtransparency="true"></iframe></li>';
        //list += '<li style="margin-left:-8px;padding-top:8px;"><div id="aft_upload2" style="display:block;"></div></li></ul>';

        $('.popup_new .inner_cont').html('').html(list);

        var timearr = ServianAssociatedtls[0] == 1 ? [1, 5, 1] : [1, 1, 1];

        $('#sp_starttime').timeEntry({ show24Hours: true, timeSteps: timearr, defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
        $('#sp_endtime').timeEntry({ show24Hours: true, timeSteps: timearr, defaultTime: "09:00", spinnerImage: '../Images/spinnerDefault.png', useMouseWheel: true, spinnerIncDecOnly: true, spinnerSize: [20, 20, 0] });
        //$('#OC_startdate').datepicker();
        $("#SP_associateid").numeric();
        $("#SP_associateid").attr("maxlength", "11");
        $("#SP_associateid").numeric();

        $("#OC_startdate").datepicker("destroy");
        $("#OC_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
        $("#OC_enddate").datepicker("destroy");
        $("#OC_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });

        $('.popup_edit .inner_cont').jScrollPane();
        $('#aft_upload2').hide();
        $('#aft_upload8').hide();
        if (CountryId == 7) {
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/GetDropdownDetailsAPAC",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d.length > 0) {
                        var daytype = '';
                        daytype += "<option value='-1'>--Select DayType--</option>";
                        $.each(msg.d[0], function (i, data) {
                            daytype += '<option value="' + data.DayTypeID + '">' + data.DayType + '</option>';
                        });
                        $('#SPDayType').html(daytype);
                        $('#SPDayType').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectSPDayType').text($("#SPDayType option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');

                        var criteria = '';
                        criteria += "<option value='-1'>--Select Criteria--</option>";
                        $.each(msg.d[1], function (i, data) {
                            criteria += '<option value="' + data.CriteriaID + '">' + data.CriteriaType + '</option>';
                        });
                        $('#SPCriteria').html(criteria);
                        $('#SPCriteria').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectSPCriteria').text($("#SPCriteria option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');

                    }
                },
                error: function (xhr) {
                    errorpopup(parent.document.getElementById("hdnSession").value);
                }
            });
        }

        $('#sp_starttime,#sp_endtime').css('margin-left', '40px');

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        // var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if (componentGroupId == 21 && (CountryId == 4)) {//SP-Japan
        $('.popup_new').show();
        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text" id="SP_associateid" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="SP_associatename" style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">Project<span class="red">*</span></label><select name="SPProject" id="SPProject" class="M_40"><option value="-1" selected="selected">--Select Project --</option></select></li>';
        list += '<li><label>AdvisedMonth<span class="red">*</span></label><select name="SBAdvisedMonth" id="ADAdvisedMonth" class="M_20"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label>Year<span class="red">*</span></label><select name="SBYear" id="ADYear" class="M_20"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += ' <li><label class="M_15">OT_Hours <span class="red">*</span></label><input type="text" id="OT_hours" value=""    style="width:137px;height:20px;margin-left:-41px;" /></li>';
        list += '<li><label>Type<span class="red">*</span></label><select name="SPType" id="SPType" class="M_20"><option value="-1" selected="selected">--Select Type --</option></select></li>';
        list += '</ul>';
        if (ocm == "1") {

            list += '<ul style="margin-left:5px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul style="margin-left:5px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }

        $('.popup_new .inner_cont').html('').html(list);

        $("#SP_associateid").attr("maxlength", "11");
        $("#SP_associateid").numeric();

        $('.popup_edit .inner_cont').jScrollPane();
        $('#aft_upload3').hide();

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var daytype = '';
                    daytype += "<option value='-1'>--Select DayType--</option>";
                    $.each(msg.d[0], function (i, data) {
                        daytype += '<option CustomerID="' + data.DayTypeID + '">' + data.DayType + '</option>';
                    });
                    $('#OTDayType').html(daytype);
                    $('#OTDayType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectOTDayType').text($("#OTDayType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });


        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }
    if (componentGroupId == 31)////net travel allowance 
    {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text" id="netAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="netassoname" style="margin-left:-39px;"></label></li>';
        list += ' <li><label class="M_15">StartDate <span class="red">*</span></label><input type="text" id="netstartdate" value="" class="popup_date" style="width:137px;height:20px;"/></li>';
        list += '<li><label class="M_15">Amount<span class="red">*</span></label><input type="text" maxlength="11" value="" class="M_40 new_upload" id="netamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
        list += '<li><label class="M_15">EffectiveDate</label><label id="neteffectivedate" style="width:137px;height:20px;margin-left:-39px;"></label></li>';
        list += '<li><label  class="M_15">PayoutType<span class="red">*</span></label><select name="NTPayoutType" id="NTPayoutType" class="M_40"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
        list += '</ul>';
        if (ocm == "1") {

            list += '<ul style="margin-left:5px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul style="margin-left:5px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }
        $('.popup_new .inner_cont').html('').html(list);
        $("#netAssoId").numeric();
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            async: false,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var payouttype = '';
                    //payouttype += "<option value='-1'>--Select PayoutType--</option>";
                    $.each(msg.d[0], function (i, data) {
                        payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                    });
                    $('#NTPayoutType').html(payouttype);
                    $('#NTPayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectNTPayoutType').text($("#NTPayoutType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });

    }

    if (componentGroupId == 32)////Commuting allowance 
    {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text" id="commuteAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="commuteassoname" style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">StartDate <span class="red">*</span></label><input type="text" id="commutestartdate" value="" class="popup_date" style="width:137px;height:20px;"/></li>';
        list += '<li><label class="M_15">Distance<span class="red">*</span></label><input type="text" maxlength="15" value="" class="M_40 new_upload" id="commuteDistance" /></li>';
        list += '<li><label class="M_15">EffectiveDate</label><label id="commute_effectivedate" style="width:137px;height:20px;margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">PayoutType<span class="red">*</span></label><select name="commutePayoutType" id="commutePayoutType" class="styled M_40"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
        list += '<li><label class="M_15">Special Case Reason</label><select class="styled M_40" name="Commutesplcase" id="Commutesplcase" style="width:170px;height:22px;<option value="-1" selected="selected" style="width:160px;">--Select Special Case Reason--</option></select></li>';

        list += '</ul>';
        if (ocm == "1") {

            list += '<ul style="margin-left:5px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul style="margin-left:5px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }

        $('.popup_new .inner_cont').html('').html(list);
        $("#commuteAssoId").numeric();
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            async: false,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var payouttype = '';
                    //payouttype += "<option value='-1'>--Select PayoutType--</option>";
                    $.each(msg.d[0], function (i, data) {
                        payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                    });
                    $('#commutePayoutType').html(payouttype);
                    $('#commutePayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectcommutePayoutType').text($("#commutePayoutType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var SplCaseReason = '';
                    SplCaseReason += "<option value='-1'>--Select SpecialCaseReason--</option>";
                    $.each(msg.d[3], function (i, data) {
                        SplCaseReason += '<option value="' + data.SpecialCaseID + '">' + data.SpecialCaseReason + '</option>';
                    });
                    $('#Commutesplcase').html(SplCaseReason);
                    $('#Commutesplcase').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectCommutesplcase').text($("#Commutesplcase option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });

    }

    else if (componentGroupId == 25) {
        $('#PayoutType').find('option:nth-child(1)').attr('selected', 'selected');
        $('#selectpaytype').text($("#ComponentTypetrt option:selected").text());
        $('#selecteddata').find('option:nth-child(1)').attr('selected', 'selected');
        $('#selectpaytype').text($("#selecteddata option:selected").text());

        $('.inner_cont').css("height", '');
        var componentGroupId = $("#bonus").val();
        $('.inner_cont').css("height", '160px');
        $('.inner_cont').css("margin-left", '25px');
        $('.inner_cont').css("width", '660px');

        var type = '';
        if ($('#a_valid').hasClass('selected')) {
            type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {
            type = 2;
        }
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        // var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        $('.popup_new').show();
        var list = '';
        list += '<ul>';

        list += '<li><label>Associate ID<span class="red">*</span></label><input class="M_20" type="text" id="associateid"  maxlength="11" /></li>';
        list += '<li><label>Associate Name</label><span id="asso_name" class="M_20"></span></li>';
        if (CountryId == 7)
            list += '<li><label>TotalMaternityLeave<span class="red">*</span></label><input class="M_20" type="text" id="MALeave"  maxlength="3" /></li>';
        else if (CountryId == 6)
            list += '<li><label>Type<span class="red">*</span></label><select name="MAType" id="MAType" class="M_20"><option value="-1" selected="selected">--Select Type--</option></select></li>';
        list += '<li><label>PayrollMonth<span class="red">*</span></label><select name="MAAdvisedMonth" id="MAAdvisedMonth" class="M_20"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label>Year<span class="red">*</span></label><select name="MAYear" id="MAYear" class="M_20"><option value="-1" selected="selected">--Select Year --</option></select></li></ul>';
        if (CountryId == 6) {
            if (ocm == "1") {

                list += '<ul style="margin-left:5px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

            }
            else {
                list += '<ul style="margin-left:5px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
                list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
            }

        }

        $('.popup_new .inner_cont').html('').html(list);


        //$("#associateid").numeric();
        ////$("#amount").numeric();
        //$('#projid').numeric();
        //$('#frameforapproval').show();
        //$('#aft_uploadhide').hide();
        //$('#frame1').hide();
        PopulateAPACComponentDetails();
        GetSessionTimeout();
    }
    else if (componentGroupId == 42 || componentGroupId == 26 || componentGroupId == 27) {

        $('.inner_cont').css("height", '');
        var componentGroupId = $("#bonus").val();
        $('.inner_cont').css("height", '90px');
        $('.inner_cont').css("margin-left", '25px');
        $('.inner_cont').css("width", '660px');

        var type = '';
        if ($('#a_valid').hasClass('selected')) {
            type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {
            type = 2;
        }
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        $('.popup_new').show();
        var list = '';
        list += '<ul>';

        list += '<li><label>Associate ID<span class="red">*</span></label><input class="M_20" type="text" id="HT_associateid"  maxlength="11" /></li>';
        list += '<li><label>Associate Name</label><span id="HT_asso_name" class="M_20"></span></li>';
        list += '<li><label>PayrollMonth<span class="red">*</span></label><select name="HTAdvisedMonth" id="HTAdvisedMonth" class="M_20"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label>Year<span class="red">*</span></label><select name="HTYear" id="HTYear" class="M_20"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '</ul>'
        $('.popup_new .inner_cont').html('').html(list);
        PopulateAPACComponentDetails();
        GetSessionTimeout();
    }

    else if (componentGroupId == 51 && CountryId == 15)// Wellness benefit- Sweden
    {
        $('.inner_cont').css("height", '');
        var componentGroupId = $("#bonus").val();
        $('.inner_cont').css("height", '160px');
        $('.inner_cont').css("margin-left", '25px');
        $('.inner_cont').css("width", '660px');

        var type = '';
        if ($('#a_valid').hasClass('selected')) {
            type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {
            type = 2;
        }
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        $('.popup_new').show();
        $('.popup_new').show();

        var datastring = '{"associateId":"' + loginId + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0 && RoleId != 1) {
                        $('.popup_new .innerErrorHolder').html("");
                        $('#WBAssoname').text($.trim(msg.d[0].AssociateName));
                        $('#WBDOJ').text($.trim(msg.d[0].DateOfJoining));
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
        var list = '';
        //list += '<ul>';
        if (RoleId != 1) {
            list += '<ul ><li><label class="M_15">Associate ID</label><label id="WB_associateid" style="margin-left:-23px;">' + loginId + '</label></li>';
        }
        else {
            list = '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input class="M_20 assoidCls" type="text" id="HT_associateid"  maxlength="11" /></li>';
        }
        list += '<li><label class="M_15">Associate Name</label><label id="WBAssoname" style="margin-left:-23px;"></label></li>';
        list += '<li><label class="M_15">AssignmentStartDate</label><label id="WBDOJ" style="margin-left:-23px;"></label></li>';
        list += '<li><label class="M_15">PayrollMonth<span class="red">*</span></label><select name="WBAdvisedMonth" id="WBAdvisedMonth" class="styled M_40" style="margin-left:-23px;"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label style="margin-left:-16px;">Year<span class="red">*</span></label><select name="WBYear" id="WBYear" class="styled M_40" style="margin-left:-23px; width: 61px;"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label style="margin-left:-16px;">Amount<span class="red">*</span></label><input type="text" maxlength="11" value="" class="M_40 new_upload" id="WBAmount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" style="margin-left:-23px;"/></li>';
        list += '</ul>';
        if (ocm == "1") {

            list += '<ul style="margin-left:5px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul style="margin-left:5px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }


        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var year = '';
                    //year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#WBYear').html(year);
                    $('#WBYear').find('option:nth-child(3)').attr('selected', 'selected');
                    $('#selectWBYear').text($("#WBYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');
                    //  $(".popup_edit .inner_cont ul li:nth-child(6) select option:contains(" + PayoutType + ")").attr('selected', 'selected');

                    var month = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#WBAdvisedMonth').append(month);
                    $('#WBAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectWBAdvisedMonth').text($("#WBAdvisedMonth option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        $('.popup_new .inner_cont').html('').html(list);

        //$("#associateid").numeric();
        ////$("#amount").numeric();
        //$('#projid').numeric();
        //$('#frameforapproval').show();
        //$('#aft_uploadhide').hide();
        //$('#frame1').hide();
        PopulateAPACComponentDetails();
        GetSessionTimeout();
    }

    else if (componentGroupId == 45 && CountryId == 15)// car parking- Sweden
    {

        $('.popup_new .inner_cont').text('');
        $('.inner_cont').css("height", '');
        var componentGroupId = $("#bonus").val();
        $('.inner_cont').css("height", '130px');
        $('.inner_cont').css("margin-left", '25px');
        $('.inner_cont').css("width", '660px');

        var type = '';
        if ($('#a_valid').hasClass('selected')) {
            type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {
            type = 2;
        }
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        // var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        $('.popup_new').show();

        var list = '';
        //list += '<ul>';

        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text" style="width:100px" id="carAssoId" value="" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="carAssoname" style="margin-left:-39px;"></label></li>';
        list += '<li><label class="M_15">PayrollMonth<span class="red">*</span></label><select name="carAdvisedMonth" id="carAdvisedMonth" class="styled M_40"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">Year<span class="red">*</span></label><select name="carYear" id="carYear" class="styled M_40"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_15">No Of Days<span class="red">*</span></label><input type="text" maxlength="2" value="" class="M_40 new_upload" id="carNoD" /></li>';
        list += '<li><label class="M_15">PayoutType<span class="red">*</span></label><select name="carPayoutType" id="carPayoutType" class="styled M_40"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
        list += '</ul>';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var payouttype = '';
                    //year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                        });
                    }
                    $('#carPayoutType').html(payouttype);
                    $('#carPayoutType').find('option:nth-child(6)').attr('selected', 'selected');
                    $('#selectcarPayoutType').text($("#carPayoutType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var year = '';
                    //year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            year += '<option value="' + data.YearID + '">' + data.Year + '</option>';
                        });
                    }
                    $('#carYear').html(year);
                    $('#carYear').find('option:nth-child(3)').attr('selected', 'selected');
                    $('#selectcarYear').text($("#carYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');
                    //  $(".popup_edit .inner_cont ul li:nth-child(6) select option:contains(" + PayoutType + ")").attr('selected', 'selected');

                    var month = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#carAdvisedMonth').append(month);
                    $('#carAdvisedMonth').find('option:nth-child(2)').attr('selected', 'selected');
                    $('#selectcarAdvisedMonth').text($("#carAdvisedMonth option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        $('.popup_new .inner_cont').html('').html(list);

        $('#carAssoId').numeric();
        GetSessionTimeout();
    }
    else if (componentGroupId == 47 || (componentGroupId == 48 && CountryId != 17))// transport/mobile taxation
    {
        $('.inner_cont').css("height", '');
        var componentGroupId = $("#bonus").val();
        $('.inner_cont').css("height", '160px');
        $('.inner_cont').css("margin-left", '25px');
        $('.inner_cont').css("width", '660px');
        $('.popup_new .inner_cont').text('');
        var type = '';
        if ($('#a_valid').hasClass('selected')) {
            type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {
            type = 2;
        }
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        $('.popup_new').show();


        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input class="M_20 assoidCls" type="text" id="MT_associateid"  maxlength="11" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="MTAssoname" style="margin-left:-18px;"></label></li>';
        list += '<li><label class="M_15">AssignmentStartDate</label><label id="MTDOJ" style="margin-left:-23px;"></label></li>';
        list += '<li><label class="M_15">StartDate<span class="red">*</span></label><input type="text" id="MB_startdate" value=""  class="popup_date" style="width:137px;height:20px;margin-left:-18px;" /></li>';
        if (componentGroupId == 47) {
            list += '<li><label class="M_15">EndDate</label><input type="text" id="MB_enddate" value="" class="popup_date"   style="width:137px;height:20px;margin-left:-18px;"/></li>';
        }
        else if (componentGroupId == 48) {
            list += '<li><label class="M_15">EndDate</label><label style="margin-left:-23px;"><span id="MB_enddate"></span></label></li>';
        }
        list += '<li><label class="M_15">Amount<span class="red">*</span></label><input class="M_20" id="AD_amount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text"/></li>';
        list += '<li><label class="M_15">PayoutType</label><select name="MTPayoutType" id="MTPayoutType" class="styled" style="margin-left:-18px;"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
        list += '</ul>';
        if (ocm == "1") {

            list += '<ul style="margin-left:5px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul style="margin-left:5px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }



        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var payouttype = '';
                    //year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                        });
                    }
                    $('#MTPayoutType').html(payouttype);
                    $('#MTPayoutType').find('option:nth-child(6)').attr('selected', 'selected');
                    $('#selectcMTPayoutType').text($("#MTPayoutType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    $('.popup_new .innerErrorHolder').text('');
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        $('.popup_new .inner_cont').html('').html(list);

        $("#MB_startdate").datepicker("destroy");
        $("#MB_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
        if (componentGroupId == 47) {
            $("#MB_enddate").datepicker("destroy");
            $("#MB_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
        }

        var datastring = '{"associateId":"' + loginId + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("");
                        $('#carAssoname').text($.trim(msg.d[0].Name));
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
        GetSessionTimeout();
    }
    else if (componentGroupId == 48 && CountryId == 17)// transport
    {
        $('.inner_cont').css("height", '');
        var componentGroupId = $("#bonus").val();
        $('.inner_cont').css("height", '351px');
        $('.inner_cont').css("margin-left", '25px');
        $('.inner_cont').css("width", '660px');
        $('.popup_new .viewport').css("height", '505px');
        $('.popup_new .viewport').css("width", "806px");
        $('.popup_new .inner_cont').text('');
        $('.popup_new .viewport').css("display", 'block');
        $('.popup_new .scrollbar').css("display", 'none');
        var type = '';
        FileUploadID = '';
        if ($('#a_valid').hasClass('selected')) {
            type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {
            type = 2;
        }
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": '10px',
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        $('.popup_new').css("top", "10px");
        $('.popup_new .scrollbar').show();
        $('.popup_new .scrollbar').css("left", "100px");
        $('.popup_new').show();


        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><label id="MT_associateid" class="M_20">' + loginId + '</label></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="MTAssoname" style="margin-left:-18px;"></label></li>';
        list += '<li><label class="M_15">AssignmentStartDate</label><label id="MTDOJ" style="margin-left:-23px;"></label></li>';
        list += '<li><label class="M_15">Transportation Type<span class="red">*</span></label><select name="MTTransportationType" id="MTTransportationType" style="margin-left:-18px;"><option value="-1" selected="selected">--Select TransportationType --</option></select></li>';
        list += '<li><label class="M_15">Invoice Number<span class="red">*</span></label><input class="M_20" id="PassNumber_1" type="text"/></li>';
        list += '<li><label class="M_15">Frequency Type</label><select name="MTFrequencyType" id="MTFrequencyType" style="margin-left:-18px; width:80px"><option value="-1" selected="selected">--Select Frequency Type --</option></select></li>';
        list += '<li><label class="M_15"id="amountLabel">Amount Paid(Monthly amount)<span class="red">*</span></label><input class="M_20" id="ADmonthlyamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text"/></li>';
        list += '<li><label class="M_15">Month of Declaration</label><select name="MTPayrollMonth" id="MTPayrollMonth" style="margin-left:-18px;"><option value="-1" selected="selected">--Select Month of Declaration --</option></select></li>';
        list += '<li></li>'
        list += '<li><label class="M_15">Payroll Year</label><select name="MTPayrollYear" id="MTPayrollYear" style="margin-left:-18px;"><option value="-1" selected="selected">--Select Payroll Year--</option></select></li>';
        //list += '<li><label class="M_15">Frequency Type</label><select name="MTFrequencyType" id="MTFrequencyType" style="margin-left:-18px; width:80px"><option value="-1" selected="selected">--Select Frequency Type --</option></select></li>';
        ////list += '<ul><li style="margin-left:-31px;"><label style="width: 325px;font-weight:italic">1st time of purchase of navigo pass<span class="red"></span></label></li></ul>';
        //list += '<ul ><li><label class="M_48" style="width: 232px;">1st time of purchase of navigo pass</label><select name="MTBusCardAvailed" id="MTBusCardAvailed" style="margin-left:-10px;"><option value="-1" selected="selected">--Select --</option></select></li>';
        //list += '<li><label class="M_48">Pass Amount<span class="red" id="busamounthide">*</span></label><input class="M_20" id="AD_buscardamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text"/></li>';
        list += '<li><label class="M_48" style="width: 202px;margin-left: -15px;">Declaring Multiple Allowance</label><select name="MTSpecialCaseReason" id="MTSpecialCaseReason" style="margin-left:-18px;"><option value="-1" selected="selected">--Select  Multiple Allowance --</option></select></li>';
        list += '<li></li>'
        list += '<li style="margin-left:-31px;"><label style="width: 325px;font-style:italic;font-weight:bold;margin-left: 14px;">(applicable if using more than one mode of transport)</label></li></ul>';
        list += '<ul ><li id="TransportType" style="display:none;margin-left: 19px;"><label class="M_48">Transportation Type<span class="red">*</span></label><select name="MTTransportationType_1" id="MTTransportationType_1" style="margin-left:-18px;"><option value="-1" selected="selected">--Select TransportationType --</option></select></li>';
        list += '<li id="MonthlyAmount" style="display:none;"><label class="M_48" id="amountLabelFreq" style="margin-left: -12px;">Monthly Amount(Monthly amount)<span class="red">*</span></label><input class="M_20" id="AD_monthlyamount_1" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text"/></li>';
        list += '<li id="PassNumber" style="display:none;"><label class="M_48" style="margin-left: -14px;">Invoice Number<span class="red">*</span></label><input class="M_20" id="PassNumber_2" type="text"/></li>';
        list += '<li id="FrequencyType2" style="margin-left: 19px;margin-top: 30px;"><label class="M_48">Frequency Type</label><select name="FrequencyType_2" id="FrequencyType_2" style="margin-left:-18px;"><option value="-1" selected="selected">--Select Frequency Type --</option></select></li>';
        //list += '<ul  id="textmsg" style="display:block;"><li style="margin-left:-31px;"><label style="width: 325px;">Invoice and Approval mail :<span class="red">*</span></label></li></ul>';
        if (ocm == "1") {
            list += '<ul /*style="margin-left:-31px;"*/  style ="margin-top: 20px;" id="ocmfile"> <li /*style="margin-left: 17px;"*/ style="margin-right: -118px;"><label id="mailattchedfield">Attach Mail(s)<span class="red"></span>*</label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm" style="margin-left: 124px;"></div></li>';
            list += '<li style="padding-top:5px;margin-left:338px;"><div id="aft_uploadocmapproval"></div></li>';
            list += '<li style="padding-top:5px;margin-left:338px;"><div id="aft_uploadocmsplcasemail"></div></li></ul>';
        }
        else {

            list += '<ul /*style="margin-left:-31px;"*/  style ="margin-top: 20px;" id="ocmfile"> <li /*style="margin-left: 17px;"*/ style="margin-right: -118px;"><label id="mailattchedfield">Attach Mail(s)<span class="red"></span>*</label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm" style="margin-left: 124px;"></div></li>';
            list += '<li style="padding-top:5px;margin-left:338px;"><div id="aft_uploadocmapproval"></div></li>';
            list += '<li style="padding-top:5px;margin-left:338px;"><div id="aft_uploadocmsplcasemail"></div></li></ul>';
        }


        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var payouttype = '';
                    var transporttype = '';
                    var transporttype_1 = '';
                    //year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                        });
                    }
                    $('#MTPayoutType').html(payouttype);
                    $('#MTPayoutType').find('option:nth-child(6)').attr('selected', 'selected');
                    $('#selectcMTPayoutType').text($("#MTPayoutType option:selected").text());


                    payouttype = '';
                    //For FrequencyType
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            payouttype += '<option value="' + data.FrequencyTypeID + '">' + data.FrequencyType + '</option>';
                        });
                    }
                    $('#MTFrequencyType').html(payouttype);
                    $('#MTFrequencyType').find('option:nth-child(8)').attr('selected', 'selected');
                    $('#selectcMTFrequencyType').text($("#MTFrequencyType option:selected").text());

                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            payouttype += '<option value="' + data.FrequencyTypeID + '">' + data.FrequencyType + '</option>';
                        });
                    }
                    $('#MTFrequencyType_1').html(payouttype);
                    $('#MTFrequencyType_1').find('option:nth-child(8)').attr('selected', 'selected');
                    $('#selectcMTFrequencyType_1').text($("#MTFrequencyType_1 option:selected").text());

                    payouttype = '';
                    payouttype += '<option value="-1"> Select  Multiple Allowance</option>';
                    //For SpecialCaseReason
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            payouttype += '<option value="' + data.SpecialCaseID + '">' + data.SpecialCaseReason + '</option>';
                        });
                    }
                    $('#MTSpecialCaseReason').html(payouttype);
                    //$('#MTSpecialCaseReason').find('option:nth-child(9)').attr('selected', 'selected');
                    //$('#selectcMTSpecialCaseReason').text($("#MTSpecialCaseReason option:selected").text());

                    transporttype = '';
                    transporttype += '<option value="-1">--Select Transport type--</option>';
                    //For Trasnport Type
                    if (msg.d[2].length != 0 && msg.d[2][0].TransportType != 0) {
                        $.each(msg.d[2], function (i, data) {

                            transporttype += '<option value="' + data.TransportType + '">' + data.TransportType + '</option>';
                        });
                    }
                    $('#MTTransportationType').html(transporttype);
                    $('#MTTransportationType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectcMTTransportationType').text($("#MTTransportationType option:selected").text());

                    transporttype_1 = '';
                    transporttype_1 += '<option value="-1">--Select Transport type--</option>';
                    if (msg.d[2].length != 0 && msg.d[2][0].TransportType != 0) {
                        $.each(msg.d[2], function (i, data) {
                            transporttype_1 += '<option value="' + data.TransportType + '">' + data.TransportType + '</option>';
                        });
                    }
                    $('#MTTransportationType_1').html(transporttype_1);
                    $('#MTTransportationType_1').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectcMTTransportationType_1').text($("#MTTransportationType_1 option:selected").text());
                    frequencyType_2 = '';
                    //frequencyType_2 += '<option value="-1">--Select Frequency Type--</option>';
                    if (msg.d[0].length != 0 && msg.d[0][0].FrequencyType != 0) {
                        $.each(msg.d[0], function (i, data) {
                            frequencyType_2 += '<option value="' + data.FrequencyTypeID + '">' + data.FrequencyType + '</option>';
                        });
                    }
                    $('#FrequencyType_2').html(frequencyType_2);
                    $('#FrequencyType_2').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectcFrequencyType_2').text($("#FrequencyType_2 option:selected").text());

                    payouttype = '';
                    //For BusCardAvailed
                    if (msg.d[3].length != 0) {
                        $.each(msg.d[3], function (i, data) {
                            payouttype += '<option value="' + data.BusCardAvailedID + '">' + data.BusCardAvailed + '</option>';
                        });
                    }
                    $('#MTBusCardAvailed').html(payouttype);
                    $('#MTBusCardAvailed').find('option:nth-child(10)').attr('selected', 'selected');
                    $('#selectcMTBusCardAvailed').text($("#MTBusCardAvailed option:selected").text());

                    payouttype = '';
                    //For Year
                    if (msg.d[4].length != 0) {
                        $.each(msg.d[4], function (i, data) {
                            payouttype += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#MTPayrollYear').html(payouttype);
                    $('#MTPayrollYear').find('option:nth-child(7)').attr('selected', 'selected');
                    $('#selectcMTPayrollYear').text($("#MTPayrollYear option:selected").text());

                    payouttype = '';
                    //For PayrollMonth
                    if (msg.d[5].length != 0) {
                        $.each(msg.d[5], function (i, data) {
                            payouttype += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#MTPayrollMonth').html(payouttype);
                    $('#MTPayrollMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectcMTPayrollMonth').text($("#MTPayrollMonth option:selected").text());

                    $('.popup_new .innerErrorHolder').text('');

                    $('#MTSpecialCaseReason').trigger("change");
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });


        $(document).on('change', '#MTBusCardAvailed', function () {
            var b = $("#MTBusCardAvailed option:selected").text();
            if (b == 'Yes') {
                $('#busamounthide').show();
            }
            else {
                $('#busamounthide').hide();
            }

        });

        $('.popup_new .inner_cont').html('').html(list);
        $('.sdk').css("width", '70%');
        $('.apprmailFra').hide();
        GetSessionTimeout();
        PopulateAssignmentStartDate();
    }
    else if (componentGroupId == 18 && (CountryId == 14 || CountryId == 15 || CountryId == 16 || CountryId == 17)) {//Nordics & France School Fees
        $('.popup_new .inner_cont').text('');
        $('.popup_new .viewport').css("height", "420px");
        list += '<ul  id="CESchoolFees_NewPopUp"><li><label>Associate ID<span class="red">*</span></label><input type="text" id="CESchoolfeesAssoId" value="" maxlength="11" class="M_40 new_upload" style="Width:100px;" /></li>';
        list += '<li><label class="M_20">Name</label><span class="M_40"></span></li>';
        list += '<li><label>Child<span class="red">*</span></label><select name="CEChild" id="CEChild" class="styled M_40" style="--bgX:61%;width:90px"><option value="1" selected="selected">Child1</option><option value="2">Child2</option></select></li>';
        list += '<li><label class="M_20">Amount <span class="red">*</span></label><input style="Width:100px;" type="text" value="" class="M_40 new_upload" maxlength="11" id="CE_SFamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)"/></li>';
        list += '<li><label>StartDate<label class="red" style="margin-top: -25px; margin-left: 50px;">*</label></label><input type="text" id="CE_startdate" value=""  class="M_40 new_upload" style="width:100px;height:20px;" /></li>';
        list += '<li><label class="M_20">EndDate<label class="red" style="margin-top: -25px; margin-left: 50px;">*</label></label><input type="text" id="CE_enddate" value="" class="M_40 new_upload"   style="width:100px;height:20px;"/></li>';
        list += '<li><label>Frequency Type<span class="red">*</span></label><select name="CEFrequencyType" id="CEFrequencyType" class="styled M_40" style="--bgX: 61%;"><option value="-1" selected="selected">--Select FrequencyType--</option></select></li>';
        list += '<li><label class="M_20">FrequencySelection<span class="red">*</span></label><select name="CEFrequencySelect" id="CEFrequencySelect" class="styled M_40" style="--bgX: 60.5%;"><option value="-1" selected="selected">--Select Frequency--</option></select></li>';
        list += '<li><label>Year<span class="red">*</span></label><select name="CESchoolFeesYear" id="CESchoolFeesYear" class="styled M_40" style="--bgX: 61.5%;width:70px"><option value="-1" selected="selected">--Select Year--</option></select></li>';
        if (CountryId == 17) {
            //list += '<li><label class="M_30">No Of Installment</label><span class="M_40">' + data.Installment + '</span></li>';
            list += '<li><label class="M_15">No Of Installment</label><label id="France_SFInstallment" style="margin-left:-18px;" ></label></li>';
        }
        else {
            list += '<li><label class="M_20">No Of Installment<span class="red">*</span></label><select name="CESchoolFeesInstallment" id="CESchoolFeesInstallment" class="styled M_40" style="--bgX:60.5%"><option value="-1" selected="selected">--Select --</option></select></li>';
        }

        list += '</ul>';
        if (ocm == "1") {

            list += '<ul class="M_20  id="ocmfile"> <li><label style="">Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul class="M_20  id="ocmfile"> <li><label style="">Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }


        $('.popup_new .inner_cont').css("height", "255px");
        $('.popup_new .inner_cont').html('');
        $('.popup_new .inner_cont').html('').html(list);

        $("#CE_startdate").datepicker("destroy");
        $("#CE_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
        $("#CE_enddate").datepicker("destroy");
        $("#CE_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });


        var datastring = '{"componentGroupId":"' + componentGroupId + '","frequencyType":0}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetDropdownDetailsCE",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var FrequencyType = ''
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            FrequencyType += '<option value="' + data.FrequencyTypeID + '">' + data.FrequencyType + '</option>';
                        });
                    }
                    $('#CEFrequencyType').html(FrequencyType);
                    $('#CEFrequencyType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectCEFrequencyType').text($("#CEFrequencyType option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var year = '';
                    //year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            year += '<option value="' + data.YearID + '">' + data.Year + '</option>';
                        });
                    }
                    $('#CESchoolFeesYear').html(year);
                    $('#CESchoolFeesYear').find('option:nth-child(2)').attr('selected', 'selected');
                    $('#selectCESchoolFeesYear').text($("#CESchoolFeesYear option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');
                    //  $(".popup_edit .inner_cont ul li:nth-child(6) select option:contains(" + PayoutType + ")").attr('selected', 'selected');

                    var month = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            month += '<option value="' + data.MonthID + '" freqselect="' + data.MonthName + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#CEFrequencySelect').append(month);
                    $('#CEFrequencySelect').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectCEFrequencySelect').text($("#CEFrequencySelect option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var Installment = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (CountryId == 14 || CountryId == 15 || CountryId == 16) {
                        if (msg.d[3].length != 0) {
                            $.each(msg.d[3], function (i, data) {
                                Installment += '<option value="' + data.InstallmentID + '">' + data.Installments + '</option>';
                            });
                        }

                        $('#CESchoolFeesInstallment').append(Installment);
                        $('#CESchoolFeesInstallment').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectCESchoolFeesInstallment').text($("#CESchoolFeesInstallment option:selected").text());
                    }
                    else if (CountryId == 17) {
                        $('#France_SFInstallment').text(msg.d[3][0].Installments);
                        $('#France_SFInstallment').val(msg.d[3][0].InstallmentID);
                        //append(msg.d[3][0].InstallmentID);
                    }
                    $('.popup_new .innerErrorHolder').text('');
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $("#CESchoolfeesAssoId").numeric();
    }

    else if (componentGroupId == 52) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<label style="font-size:12px;top:214px;position:absolute;right:220px;">Eligible lunch vouchers</label><label id="LV_TotalDays" class="new_upload" style="font-size:12px;top:215px;position:absolute;right:167px;"></label>';
        list += '<a style="font-size:12px;top:214px;position:absolute;right:100px;"><img id ="dwnload_YearData_Report" class="spriteImage" style="--x:-2330px;--y:-929px;width:16px;height:20px"></a>';
        list += '<ul ><li><label>Associate ID</label><label id="LVAssoId" class="new_upload">' + loginId + '</label></li>';
        list += '<li><label>Associate Name</label><label id="LVAssoName" class="new_upload"></label></li>'
        list += '<li><label>PayrollMonth<span class="red">*</span></label><select name="LV_PayrollMonth" id="LV_PayrollMonth" ><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label>Year<span class="red">*</span></label><select name="LV_Year" id="LV_Year" ><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label>No of leaves applied<span class="red">*</span></label><input type="text" onkeyup="return LV_EligibleVoucherDetails(event)"  id="LV_LeaveDays" value="" maxlength="2" style="Width:100px;" /></li>'
        list += '<li><label>Training/Lunch with Clients</label><input type="text" id="LV_Training" onkeyup="return LV_EligibleVoucherDetails(event)" value="" maxlength="2"  style="Width:100px;" /></li>'
        list += '<li><label>SpecialCaseReason</label><select name="LV_SpecialCase" id="LV_SpecialCase" ><option value="-1" selected="selected">--Select SpecialCase Reason--</option></select></li>';
        //list += '<li></li>';
        list += '<li style="margin-top:-17px"><label style="width: 325px;font-style:italic;font-weight:bold;margin-top:15px;line-height:15px">(Enter number of days when lunch was provided at </br> training/Lunch with clients was reimbursed)</label></li>';
        list += '<li style="top: 25px;position: relative;display:none;"><label>EAM Days Carry Forwarded</label><label id="LV_EAMCFDays" class="new_upload"></label></li>';  //<input type="text" id="LV_EAMCFDays" value="" maxlength="2"  style="Width:100px;" readonly/></li>';
        list += '</ul>';
        list += '<ul  id="AttachUL1" style="display:none">';
        list += '<li><label id="HLworked" style="line-height: 10px;"><span class="red">*</span></label><input type="text" id="LV_Holidays" onkeyup="return LV_EligibleVoucherDetails(event)" value="" maxlength="2"  style="Width:100px;" /></li>';
        list += '<li></li>';
        if (ocm == "1") {

            list += '<li style="margin-top:20px"><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<li style="margin-top:20px"><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }
        list += '</ul>';

        //$('.popup_new .inner_cont').addClass("test");
        $('.popup_new .inner_cont').html('').html(list);
        $('#spanhide').hide();
        //$('#aft_uploadhide').hide();
        //$('#frameforhide').hide();
        $('#LV_LeaveDays').numeric();
        $('#LV_Training').numeric();
        $('#LV_Holidays').numeric();

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var SplCaseReason = '';
                    SplCaseReason += "<option value='-1'>--Select SpecialCaseReason--</option>";
                    $.each(msg.d[0], function (i, data) {
                        SplCaseReason += '<option value="' + data.LunchVoucherID + '">' + data.SpecialCaseReason + '</option>';
                    });
                    $('#LV_SpecialCase').html(SplCaseReason);
                    $('#LV_SpecialCase').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectLV_SpecialCase').text($("#LV_SpecialCase option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#LV_Year').html(year);
                    $('#LV_Year').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectLV_Year').text($("#LV_Year option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#LV_PayrollMonth').html(month);
                    $('#LV_PayrollMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectLV_PayrollMonth').text($("#LV_PayrollMonth option:selected").text());
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');


                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

        var datastring = '{"associateId":"' + loginId + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                $('.popup_new .innerErrorHolder').html("");
                $('#LVAssoName').text($.trim(msg.d[0].Name));
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if (componentGroupId == 53 && (CountryId == 18 || CountryId == 19)) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        if (RoleId == 19) {
            list += '<ul ><li><label class="M_15">Associate ID</label><span  id="KitAssoId">' + loginId + '</span></li>';

        }
        else {
            list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text"  id="KitAssoId" value="" style="width:137px;height:20px;" maxlength="11" class="M_40 new_upload" /></li>';

        }
        list += '<li><label class="M_15">Associate Name</label><span id="Kitassoname"style="margin-left:-39px;"></span></li>';
        list += '<li><label class="M_15">PayrollMonth<span class="red">*</span></label><select name="Kitmonth" id="Kitmonth" class="M_40 styled" style="width:137px;height:20px;" ><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">Payroll Year<span class="red">*</span></label><select name="kityear" id="kityear" class="M_40 styled" style="width:137px;height:20px; ><option value="- 1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_15">Start Date</label><span id="KitStartDate" style="width:137px;height:20px;margin-left:-39px;"></span></li>';
        list += '<li><label class="M_15">End Date</label><span id="KitEndDate" style="width:137px;height:20px;margin-left:-39px;"></span></li>';
        list += '<li><label class="M_15">Kit Days<span class="red">*</span></label><input type="text"  value="" class="M_40 new_upload" style="width:137px;height:20px;" id="kitdays"  onkeypress="return allowValuesAfterDecimal(event,id,8,1)"  /></li>';
        list += '</ul>';

        $('.popup_new .inner_cont').html('').html(list);
        if (RoleId == 19) {
            $('.popup_new .innerErrorHolder').html('');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            var obj = $(this);
            var componentGroupId = $('#bonus').val();
            // childtype is hardcoded for 1 as default
            var datastring = '{"associateId":"' + loginId + '","componentGroupId":"' + componentGroupId + '"}';

            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/getAssociateDetailsforUK",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d.length > 0) {
                        if (msg.d[0][0].Exception == '') {
                            var currentTime = new Date(parseInt(msg.d[0][0].StartDate.substr(6)));
                            var date = currentTime.getDate() + "/" + (currentTime.getMonth() + 1) + "/" + currentTime.getFullYear();
                            var currentTime1 = new Date(parseInt(msg.d[0][0].EndDate.substr(6)));
                            var date1 = currentTime1.getDate() + "/" + (currentTime1.getMonth() + 1) + "/" + currentTime1.getFullYear();
                            $('.popup_new .innerErrorHolder').html("");
                            $('#Kitassoname').text($.trim(msg.d[0][0].AssociateName));
                            $('#KitStartDate').text(date);
                            $('#KitEndDate').text(date1);

                            var year = "<option value='-1'>--Select Year--</option>";
                            year += "";

                            $.each(msg.d[1], function (i, data) {
                                year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                            });

                            $('#kityear').html(year);
                            $('#kityear').find('option:nth-child(1)').attr('selected', 'selected');
                            $('#selectkityear').text($("#kityear option:selected").text());
                            $('.popup_new .innerErrorHolder').text('');

                            var month = '';
                            month += "<option value='-1'>--Select Month--</option>";

                            $.each(msg.d[2], function (i, data) {
                                month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                            });

                            $('#Kitmonth').html(month);
                            $('#Kitmonth').find('option:nth-child(1)').attr('selected', 'selected');
                            $('#selectKitmonth').text($("#Kitmonth option:selected").text());

                        }
                        else {
                            var error = msg.d[0][0].Exception;
                            $('.popup_new .innerErrorHolder').text(error);
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                        }
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });

        }
        $("#KitAssoId").numeric();
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });

    }

    else if (componentGroupId == 60 && (CountryId == 18 || CountryId == 19)) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';


        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text"  id="OneAssoId" value="" style="width:137px;height:20px;" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><span id="Oneassoname"style="margin-left:-39px;"></span></li>';
        list += '<li><label class="M_15">Current grade<span class="red">*</span></label><input type="text"  value="" class="M_40 new_upload" style="width:137px;height:20px;" id="One_Grade" "  /></li>';
        list += '<li><label class="M_15">Hire Type<span class="red">*</span></label><input type="text"  value="" class="M_40 new_upload" style="width:137px;height:20px;" id="OneHireType" "  /></li>';
        list += '<li><label class="M_15">Country</label><input type="text"  value="" class="M_40 new_upload" style="width:137px;height:20px;" id="OneCountry" "  /></li>';
        list += '<li><label class="M_15">Currency</label><span id="Onecurrency"style=""></span></li>';
        list += '<li><label class="M_15">One Off Bonus<span class="red">*</span></label><input type="text"  value="" class="M_40 new_upload" style="width:137px;height:20px;" id="OneOffBonus" "  /></li>';
        list += '<li><label class="M_15">Comments</label><input type="text"  value="" class="M_40 new_upload" style="width:137px;height:20px;" id="OneOffComments" "  /></li>';
        list += '</ul>';

        $('.popup_new .inner_cont').html('').html(list);

        $('.popup_new .innerErrorHolder').html('');
        $("#progressBackgroundFilter").hide();
        $("#processMessage").hide();

    }

    else if (componentGroupId == 61 && (CountryId == 18 || CountryId == 19)) {   //Individual Upload PSU Cash Bridge

        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text"  id="PSUAssoId" value="" style="width:137px;height:20px;" maxlength="11" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Associate Name</label><span id="PSUAssoname"style="margin-left:-39px;"></span></li>';
        list += '<li><label class="M_15">Year of Hire<span class="red">*</span></label><input type="text"  id="PSUYearofHire" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Designation</label><span id="PSUDesign"style="margin-left:-39px;"></span></li>';
        list += '<li><label class="M_15">Payout Type<span class="red">*</span></label><select name="PSUPayoutType"  id="PSUPayoutType" class="M_40 styled" style="width:137px;height:20px;"><option value="-1" selected="selected">--Select Payout--</option></select></li>';
        list += '<li><label class="M_15">Start Date<span class="red">*</span></label><input type="text"  id="PSUSatrtDate" value="" class="popup_date" style="width:137px;height:20px;margin-left:5px;" /></li>';
        list += '<li><label class="M_15">Country<span class="red">*</span></label><input type="text"  id="PSUCountry" value="" style="width:137px;height:20px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Amount in Local Currency<span class="red">*</span></label><input type="text"  id="PSUAmount" value="" style="width:137px;height:20px;margin-left:5px;"  class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Payout Date<span class="red">*</span></label><input type="text"  id="PSUPayout_Date" value="" style="width:137px;height:20px;" class="M_40 new_upload" /></li>';
        list += '<li><label class="M_15">Comments</label><input type="text"  id="PSUAssoComments" value="" style="width:137px;height:20px;margin-left:5px;" class="M_40 new_upload" /></li>';
        list += '</ul>';


        $('.popup_new .inner_cont').html('').html(list);
        $('#spanhide').hide();
        var componentGroupId = $('#bonus').val();

        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID</label><span  id="SNAssoId">' + loginId + '</span></li>';
        list += '<li><label class="M_15">Associate Name</label><span id="SNassoname"style="margin-left:-39px;"></span></li>';
        list += '<li><label class="M_15">Amount<span class="red">*</span></label><input type="text"  value="" class="M_40 new_upload"  style="margin-left:-39px;width:137px;height:20px;" id="SNAmount"   /></li>';
        list += '<li><label class="M_15">Currency</label><span id="SNCurrency" style="margin-left:-39px;"></span></li>';
        list += '<li><label class="M_15">Remarks</label><input type="text" value=""  style="width:137px;height:20px;" maxlength="100" class="M_40 new_upload" id="SNremark"/></li>';
        list += '</ul>';

        $('.popup_new .inner_cont').html('').html(list);
        $('.popup_new .innerErrorHolder').html('');
        $("#progressBackgroundFilter").hide();
        $("#processMessage").hide();
        var obj = $(this);
        var componentGroupId = $('#bonus').val();
        // childtype is hardcoded for 1 as default
        var datastring = '{"associateId":"' + loginId + '","componentGroupId":"' + componentGroupId + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateDetailsforJB",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].Exception == '') {
                        $('.popup_new .innerErrorHolder').html("");
                        $("#SNassoname").text($.trim(msg.d[0].AssociateName));
                        $("#SNCurrency").text($.trim(msg.d[0].Currency));
                    }
                    else {
                        var error = msg.d[0].Exception;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }

    else if (componentGroupId == 56)// Travel allowance
    {
        $('.inner_cont').css("height", '');
        var componentGroupId = $("#bonus").val();
        $('.inner_cont').css("height", '220px');
        $('.inner_cont').css("margin-left", '25px');
        $('.inner_cont').css("width", '660px');
        $('.popup_new .inner_cont').text('');
        var type = '';
        if ($('#a_valid').hasClass('selected')) {
            type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {
            type = 2;
        }
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        var windowWidth = '100%';
        var windowHeight = '100%';
        //var popupHeight = $(".popup_new").height();
        var popupWidth = $(".popup_new").width();
        //console.log(window.parent)
        var ele = window.parent.document.getElementById('background');
        //console.log(ele)
        $(ele).fadeIn("slow");
        $(".background_bg").fadeIn("slow");
        $('.popup_new').fadeIn("slow");
        $(".background_bg").css({
            "opacity": "0.5"
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        $('.popup_new').show();


        var list = '';
        list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input type="text" id="MT_associateid" style="Width:100px;" maxlength="11" /></li>';
        list += '<li><label class="M_15">Associate Name</label><label id="MTAssoname"></label></li>';
        list += '<li><label class="M_15">PayrollMonth<span class="red">*</span></label><select name="Travel_PayrollMonth" id="Travel_PayrollMonth" class="styled" ><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_15">Year<span class="red">*</span></label><select name="Travel_Year" id="Travel_Year" class="styled" ><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label class="M_15">DOJ</label><label id="MTDOJ"></label></li>';
        list += '<li><label class="M_15">Amount<span class="red">*</span></label><input id="AD_amount" style="Width:100px;" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text"/></li>';
        list += '<li><label class="M_15">ProjectID<span class="red">*</span></label><input type="text" id="Travel_ProjectID" value="" maxlength="10" style="Width:100px;" /></li>'
        list += '<li><label class="M_15">Account<span class="red">*</span></label><input type="text" id="Travel_AccountID" value="" maxlength="20" style="Width:100px;" /></li>'
        list += '<li><label class="M_15">Frequency Type<span class="red">*</span></label><select name="FrequencyType" id="Travel_FrequencyType" class="styled" ><option value="-1" selected="selected">--Select Frequency Type--</option></select></li>';
        list += '<li><label class="M_15">No Of Payments<span class="red">*</span></label><input type="text" id="NoOfPayments" value="" maxlength="20" style="Width:100px;" /></li>'
        list += '<li><label class="M_15">Currency</label><label id="Travel_Currency"></label></li>';
        list += '</ul>';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var frequencyType = '';
                    //year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            frequencyType += '<option value="' + data.FrequencyTypeID + '">' + data.FrequencyType + '</option>';
                        });
                    }
                    $('#Travel_FrequencyType').html(frequencyType);
                    $('#Travel_FrequencyType').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectTravel_FrequencyType').text($("#Travel_FrequencyType option:selected").text());

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#Travel_Year').html(year);
                    $('#Travel_Year').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectTravel_Year').text($("#Travel_Year option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#Travel_PayrollMonth').html(month);
                    $('#Travel_PayrollMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectTravel_PayrollMonth').text($("#Travel_PayrollMonth option:selected").text());
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
        $('.popup_new .inner_cont').html('').html(list);

        var datastring = '{"associateId":"' + loginId + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("");
                        $('#carAssoname').text($.trim(msg.d[0].Name));
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
        GetSessionTimeout();
    }

    else if (componentGroupId == 54 || componentGroupId == 55) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input class="new_upload" type="text" id="UKA_AssoId"/></li>';
        list += '<li><label>Associate Name</label><label id="MTAssoname" class="new_upload"></label></li>'
        list += '<li><label>Assignment BeginDate</label><label id="MTDOJ" class="new_upload"></label></li>';
        list += '<li><label>Currency</label><label id="UKA_Currency" class="new_upload"></label></li>';
        list += '<li><label>AdvisedMonth<span class="red">*</span></label><select name="UKA_AdvisedMonth" id="UKA_AdvisedMonth" class="styled" ><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label>Year<span class="red">*</span></label><select name="UKA_Year" id="UKA_Year" class="styled" ><option value="-1"  selected="selected">--Select Year --</option></select></li>';
        list += '<li><label>Amount<span class="red">*</span></label><input class="new_upload" type="text" id="UKA_Amount" value="" /></li>';
        list += '<li><label>Comments</label><input class="new_upload" type="text" id="UKA_Comments" value="" /></li>';
        list += '</ul>';

        $('.popup_new .inner_cont').html('').html(list);
        $('#spanhide').hide();

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#UKA_Year').html(year);
                    $('#UKA_Year').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectUKA_Year').text($("#UKA_Year option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#UKA_AdvisedMonth').html(month);
                    $('#UKA_AdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectUKA_AdvisedMonth').text($("#UKA_AdvisedMonth option:selected").text());
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');

                    $('#UKA_Currency').text(msg.d[2][0].Currency);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

        var datastring = '{"associateId":"' + loginId + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                $('.popup_new .innerErrorHolder').html("");
                $('#LVAssoName').text($.trim(msg.d[0].Name));
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if (componentGroupId == 75 || (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71
        || componentGroupId == 72 || componentGroupId == 74 || componentGroupId == 73 ||
        ((componentGroupId == 3 || componentGroupId == 29
            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input type="text" id="FIN_AssoId" value="" class="M_30 new_upload" onKeyPress="return onlyNumbers(this);" /></li>';
        list += '<li><label class="M_10">Associate Name</label><label id="FIN_Assoname" style="margin-left:-39px;"></label></li>';
        list += '<li><label >Advised Month<span class="red">*</span></label><select name="FIN_AdvisedMonth" class="M_30 styled" id="FIN_AdvisedMonth" ><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_10">Year<span class="red">*</span></label><select name="LV_Year" class="M_40 styled" id="FIN_Year" ><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label>Amount<span class="red">*</span></label><input type="text" id="FIN_Amount" value="" class="M_30 new_upload" /></li>';
        list += '<li><label class="M_10">ProjectID<span class="red">*</span></label><input type="text" id="FIN_ProjID" value="" class="M_40 new_upload" /></li>';
        list += '<li><label>Payment Date<span class="red">*</span></label><select name="FIN_Date" class="M_30 styled" id="FIN_Date" ><option value="-1" selected="selected">--Select PaymentDate --</option></select></li>';
        if (((componentGroupId == 3 || componentGroupId == 29
            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {
            list += '<li><label>RetentionEndDate<span class="red Renddatemandatory">*</span></label><input type="text" id="Retention_enddate" value="" class="M_40 new_upload" style="width:137px;height:20px;"/></li>';
            list += '<li><label>Clawback Type<span class="red">*</span></label><select name="Clawback_type" class="M_30 styled" id="Clawback_type" ><option value="-1" selected="selected">--Select Clawback Type --</option></select></li>';

        }
        list += '<li><label>Remarks</label><input type="text" id="FIN_Remarks" value="" class="M_40 new_upload" /></li>';
        list += '</ul>';

        $('.popup_new .inner_cont').html('').html(list);
        $('#FIN_Amount').numeric();
        $('#FIN_ProjID').numeric();
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#FIN_Year').html(year);
                    $('#FIN_Year').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectFIN_Year').text($("#FIN_Year option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#FIN_AdvisedMonth').html(month);
                    $('#FIN_AdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectFIN_AdvisedMonth').text($("#FIN_AdvisedMonth option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var paymentdate = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            paymentdate += '<option value="' + data.paymentdateID + '">' + data.Paymentdate + '</option>';
                        });
                    }
                    $('#FIN_Date').append(paymentdate);
                    $('#FIN_Date').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectFIN_Date').text($("#FIN_Date option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    if (((componentGroupId == 3 || componentGroupId == 29
                        || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {

                        var ClawbackType = '';
                        if (msg.d[3].length != 0) {
                            $.each(msg.d[3], function (i, data) {
                                ClawbackType += '<option value="' + data.ClawbackTypeId + '">' + data.ClawbackType + '</option>';
                            });
                        }
                        $('#Clawback_type').append(ClawbackType);
                        $('#Clawback_type').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectClawback_type').text($("#Clawback_type option:selected").text());

                        $('.popup_new .innerErrorHolder').text('');

                    }

                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

        $('.popup_new .innerErrorHolder').text('');
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if (componentGroupId == 58) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input class="new_upload" type="text" id="B_AssoId" style="margin-left: -54px" onKeyPress="return onlyNumbers(this);"/></li>';
        list += '<li><label style=" margin-left: -30px;">Associate Name</label><label id="BAssoname" class="new_upload"></label></li>'
        list += '<li><label>AdvisedMonth<span class="red">*</span></label><select name="B_AdvisedMonth" id="B_AdvisedMonth"  class="styled" style="margin-left: -54px;width: 137px;--bgX: 60.5%;"><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label style=" margin-left: -30px;">Year<span class="red">*</span></label><select name="B_Year" id="B_Year" class="styled" style="width: 137px;--bgX: 60.5%; margin-left: 8px;"><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label>Amount</label><label id="B_Amount" class="new_upload" style="margin-left:-54px"></label></li>';
        list += '<li><label style=" margin-left: -30px;">Registry Number<span class="red">*</span></label><input class="new_upload things" type="text" id="B_RegistryNumber" style="margin-left: 8px;"/><span class = "thingsmsg" id="promptMessage" style= "display : none; color: red; margin-left: -292px; font-size:10px; position: relative; bottom : -14px;">Please enter Numeric/Alphanumeric values only</span> </li>';
        list += '<li><label>Marital Status<span class="red">*</span></label><select name="Br_MaritalStatus" id="Br_MaritalStatus" class="styled"style=" margin-left: -54px; width: 168px;--bgX: 60%;"><option value="-1" selected="selected">--Select marital status --</option></select></li>';
        list += '<li><label style=" margin-left: -30px;">RelationshipWithDeceased<span class="red">*</span></label><select name="B_ Relationship" class="styled" id="B_Relationship"style=" width: 165px;margin-left: 8px;--bgX: 60%;"><option value="-1" selected="selected">--Select relationship --</option></select></li>';
        list += '<li><label>PaymentDate<span class="red">*</span></label><select name="B_PaymentDate" id="B_PaymentDate" class="styled" style=" margin-left: -54px; width: 168px;--bgX: 60%;" ><option value="-1" selected="selected">--Select payment date--</option></select></li>';
        list += '<li><label style=" margin-left: -30px;">Remarks</label><input class="new_upload" type="text" id="B_Remarks" value="" style="margin-left: 8px;" /></li></ul>';
        if (ocm == "1") {

            list += '<ul style="margin-left:5px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

        }
        else {
            list += '<ul style="margin-left:5px;" id="ocmfile"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
            list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
        }

        $('.popup_new .inner_cont').html('').html(list);
        $(".things").on('input', function () {
            this.value = this.value.replace(/[^a-zA-Z0-9]/g, '');
        });
        $(".things").on("focus", function () {
            $("#promptMessage").show()
        });
        $(".things").on("blur", function () {
            $("#promptMessage").hide()
        });
        $('#spanhide').hide();
        var maritalstatus = 0;

        var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {


                    $('#B_Amount').text(msg.d[1][0].Amount);

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[3].length != 0) {
                        $.each(msg.d[3], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#B_AdvisedMonth').html(month);
                    $('#B_AdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#SelectB_AdvisedMonth').text($("#B_AdvisedMonth option:selected").text());

                    $('.popup_new .innerErrorHolder').text('');

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#B_Year').html(year);
                    $('#B_Year').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectB_Year').text($("#B_Year option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var maritalstatus = '';
                    maritalstatus += "<option value='-1'>--Select marital status--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            maritalstatus += '<option value="' + data.MaritalID + '">' + data.MaritalName + '</option>';
                        });
                    }
                    $('#Br_MaritalStatus').html(maritalstatus);
                    $('#Br_MaritalStatus').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#SelectBr_MaritalStatus').text($("#Br_MaritalStatus option:selected").text());

                    $('.popup_new .innerErrorHolder').text('');

                    var paymentdate = '';
                    paymentdate += "<option value='-1'>--Select PaymentDate--</option>";
                    if (msg.d[4].length != 0) {
                        $.each(msg.d[4], function (i, data) {
                            paymentdate += '<option value="' + data.PaymentDateID + '">' + data.PaymentDate + '</option>';
                        });
                    }
                    $('#B_PaymentDate').html(paymentdate);

                    $('#selectB_PaymentDate').text($("#B_PaymentDate option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
    }

    else if (componentGroupId == 94) {
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        var list = '';
        list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input type="text" id="Loan_AssoId" value="" class="new_upload" onKeyPress="return onlyNumbers(this);" /></li>';
        list += '<li><label class="M_10">Associate Name</label><label id="Loan_Assoname" style="margin-left:-39px;"></label></li>';
        list += '<li><label>Advised Month<span class="red">*</span></label><select name="Loan_AdvisedMonth" id="Loan_AdvisedMonth" Class="styled" style="width: 130px;--bgX: 60.5%;" ><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label class="M_10">Year<span class="red">*</span></label><select class="M_40 styled" style="width: 137px; --bgX: 60.5%;" name="Loan_Year" id="Loan_Year" ><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label>PrincipalAmount<span class="red">*</span></label><input type="text" id="Loan_PrincAmount" value="" class="new_upload" /></li>';
        //list += ' <li><label class="M_10">Date Granted<span class="red">*</span></label><input type="text" id="DateGranted" value="" class="popup_date" style="width:137px;height:20px;"/></li>';
        list += '<li><label class="M_10">Date Granted<span class="red">*</span></label><input type="text" id="DateGranted" value=""  class="popup_date" style="width:137px;height:20px; margin-left:-8px" /></li>';
        list += '<li><label>SemimonthlyAmortization<span class="red">*</span></label><input type="text" id="Loan_SemiAmount" value="" class=" new_upload" /></li>';
        list += '<li><label class="M_10">LoanType<span class="red">*</span></label><input type="text" id="Loan_LoanType" value="" class="M_40 new_upload" /></li>';
        list += '<li><label>Payment Date<span class="red">*</span></label><select name="Loan_PaymentDate" id="Loan_PaymentDate" class="styled"style=" width: 171px;--bgX: 60%;"><option value="-1" selected="selected">--Select PaymentDate --</option></select></li>';
        list += '<li><label class="M_10">Remarks</label><input type="text" id="Loan_Remarks" value="" class="M_40 new_upload" /></li>';
        list += '</ul>';

        $('.popup_new .inner_cont').html('').html(list);
        $('#Loan_PrincAmount').numeric();
        $('#Loan_SemiAmount').numeric();
        $("#DateGranted").datepicker("destroy");
        $("#DateGranted").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });


        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#Loan_Year').html(year);
                    $('#Loan_Year').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectLoan_Year').text($("#Loan_Year option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#Loan_AdvisedMonth').html(month);
                    $('#Loan_AdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectLoan_AdvisedMonth').text($("#Loan_AdvisedMonth option:selected").text());

                    var paymentdate = '';
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            paymentdate += '<option value="' + data.paymentdateID + '">' + data.Paymentdate + '</option>';
                        });
                    }
                    $('#Loan_PaymentDate').append(paymentdate);
                    $('#Loan_PaymentDate').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectLoan_PaymentDate').text($("#Loan_PaymentDate option:selected").text());

                    $('.popup_new .innerErrorHolder').text('');

                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

        $('.popup_new .innerErrorHolder').text('');
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if (componentGroupId == 79 || componentGroupId == 80 || componentGroupId == 81) {  //// Single insert for Sick leave conversion ,Ad-hoc payment and 
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input class="new_upload" type="text" id="SAO_AssoId" onKeyPress="return onlyNumbers(this);"/></li>';
        list += '<li><label>Associate Name</label><label id="SAO_Assoname" class="new_upload"></label></li>';
        list += '<li><label>AdvisedMonth<span class="red">*</span></label><select name="SAO_AdvisedMonth" id="SAO_AdvisedMonth"  class="styled" ><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label>Advised Year<span class="red">*</span></label><select name="SAO_Year" id="SAO_Year" class="styled" ><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label>Amount<span class="red">*</span></label><input class="new_upload" type="text" id="SAO_Amount" value="" /></li>';
        list += '<li><label>Payment Date<span class="red">*</span></label><select name="SAO_PaymentDate" id="SAO_PaymentDate" class="styled" ><option value="-1" selected="selected">--Select Date--</option></select></li>';
        list += '<li><label>Remarks</label><input class="new_upload" type="text" id="SAO_Remarks" value="" /></li>';
        if (componentGroupId == 79) {
            list += '<li><label>No. of days to be encashed<span class="red">*</span></label><input class="new_upload" type="text" id="SAO_DaysEncashed" value="" /></li>';
        }
        if (componentGroupId == 81) {
            list += '<li><label>Project ID<span class="red">*</span></label><input class="new_upload" type="text" id="SAO_ProjectID" onKeyPress="return onlyNumbers(this);"/></li>';
            list += '<li><label>Taxable<span class="red">*</span></label><select name="SAO_Taxable" id="SAO_Taxable"  class="styled"><option value="-1" selected="selected">--Select--</option></select></li>';
        }
        list += '</ul>';

        $('.popup_new .inner_cont').html('').html(list);
        $('#SAO_Amount').numeric();
        $('#SAO_DaysEncashed').numeric();
        $('#spanhide').hide();
        $('#SAO_ProjectID').numeric();

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetDropdownDetailsPHL",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#SAO_Year').html(year);
                    $('#SAO_Year').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSAO_Year').text($("#SAO_Year option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#SAO_AdvisedMonth').html(month);
                    $('#SAO_AdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSAO_AdvisedMonth').text($("#SAO_AdvisedMonth option:selected").text());
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');


                    var paymentDate = '';
                    paymentDate += "<option value='-1'>--Select Date--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            paymentDate += '<option value="' + data.paymentdateID + '">' + data.Paymentdate + '</option>';
                        });
                    }
                    $('#SAO_PaymentDate').html(paymentDate);
                    $('#SAO_PaymentDate').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectSAO_PaymentDate').text($("#SAO_PaymentDate option:selected").text());
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');


                    if (componentGroupId == 81) {
                        var taxable = '';
                        taxable += "<option value='-1'>--Select--</option>";
                        if (msg.d[3].length != 0) {
                            $.each(msg.d[3], function (i, data) {
                                taxable += '<option value="' + data.taxableId + '">' + data.Taxable + '</option>';
                            });
                        }
                        $('#SAO_Taxable').html(taxable);
                        $('#SAO_Taxable').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectSAO_Taxable').text($("#SAO_Taxable option:selected").text());
                        //$('#selectLV_PayrollMonth').append(month);
                        $('.popup_new .innerErrorHolder').text('');
                    }
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });


        $('.popup_new .innerErrorHolder').text('');
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if (componentGroupId == 83) {  //// Single insert for Lost Admin Access
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul ><li><label>Associate ID<span class="red">*</span></label><input class="new_upload" type="text" id="LAA_AssoId" onKeyPress="return onlyNumbers(this);"/></li>';
        list += '<li><label>Associate Name</label><label id="LAA_Assoname" class="new_upload"></label></li>'
        list += '<li><label>AdvisedMonth<span class="red">*</span></label><select name="LAA_AdvisedMonth" id="LAA_AdvisedMonth" class="styled" ><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label>Advised Year<span class="red">*</span></label><select name="LAA_Year" id="LAA_Year" class="styled" ><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label>Principal Amount<span class="red">*</span></label><input class="new_upload" type="text" id="LAA_Amount" value="" /></li>';
        list += '<li><label>Amortization Amount</label><span id="LAA_AmortizationAmount" class="new_upload"></span></li>'
        list += '<li><label>Payment Date<span class="red">*</span></label><select name="LAA_PaymentDate" id="LAA_PaymentDate" class="styled" ><option value="-1" selected="selected">--Select Date--</option></select></li>';
        list += '<li><label>Remarks</label><input class="new_upload" type="text" id="LAA_Remarks" value="" /></li>';

        list += '</ul>';

        $('.popup_new .inner_cont').html('').html(list);
        $('#LAA_Amount').numeric();
        $('#spanhide').hide();

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetDropdownDetailsPHL",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#LAA_Year').html(year);
                    $('#LAA_Year').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectLAA_Year').text($("#LAA_Year option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#LAA_AdvisedMonth').html(month);
                    $('#LAA_AdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectLAA_AdvisedMonth').text($("#LAA_AdvisedMonth option:selected").text());
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');

                    var paymentDate = '';
                    paymentDate += "<option value='-1'>--Select Date--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            paymentDate += '<option value="' + data.paymentdateID + '">' + data.Paymentdate + '</option>';
                        });
                    }
                    $('#LAA_PaymentDate').html(paymentDate);
                    $('#LAA_PaymentDate').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectLAA_PaymentDate').text($("#LAA_PaymentDate option:selected").text());
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');

                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });


        $('.popup_new .innerErrorHolder').text('');
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
        ////$('.popup_new .inner_cont ul').css("margin-top", "5px");
    }

    else if (componentGroupId == 84) {  //// Single insert for HDMF Contribution
        var obj = $('.popup_new').find('ul:first-child');
        obj.find('li:first-child span');
        $('.popup_new').show();

        var list = '';
        list += '<ul class="10"><li><label>Associate ID<span class="red">*</span></label><input class="new_upload" type="text" id="HDMF_AssoId" onKeyPress="return onlyNumbers(this);"/></li>';
        list += '<li><label>Associate Name</label><label id="HDMF_Assoname" class="new_upload"></label></li>'
        list += '<li><label>AdvisedMonth<span class="red">*</span></label><select name="HDMF_AdvisedMonth" id="HDMF_AdvisedMonth" class="styled" ><option value="-1" selected="selected">--Select Month--</option></select></li>';
        list += '<li><label>Advised Year<span class="red">*</span></label><select name="HDMF_Year" id="HDMF_Year" class="styled" ><option value="-1" selected="selected">--Select Year --</option></select></li>';
        list += '<li><label>Employee Share Amount<span class="red">*</span></label><input class="new_upload" type="text" id="HDMF_Amount" value="" /></li>';
        list += '<li><label class="M_15" style="margin-left:1px">StartDate <span class="red">*</span></label><input type="text" id="IC_startdate" value=""  class="popup_date" style="width:137px;height:20px;margin-left:0px" /></li>';
        list += '<li><label>EndDate<span class="red">*</span></label><input type="text" id="IC_enddate" value="" class="popup_date"   style="width:137px;height:20px;margin-left:1px"/></li>';
        list += '<li><label>Payment Date<span class="red">*</span></label><select name="HDMF_PaymentDate" id="HDMF_PaymentDate" class="styled"  ><option value="-1" selected="selected">--Select Date--</option></select></li>';
        list += '<li><label>Remarks</label><input class="new_upload" type="text" id="HDMF_Remarks" value="" /></li>';

        list += '</ul>';

        $('.popup_new .inner_cont').html('').html(list);
        $('#HDMF_Amount').numeric();
        $('#spanhide').hide();
        $("#IC_startdate").datepicker("destroy");
        $("#IC_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
        $("#IC_enddate").datepicker("destroy");
        $("#IC_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetDropdownDetailsPHL",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#HDMF_Year').html(year);
                    $('#HDMF_Year').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectHDMF_Year').text($("#HDMF_Year option:selected").text());
                    $('.popup_new .innerErrorHolder').text('');

                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#HDMF_AdvisedMonth').html(month);
                    $('#HDMF_AdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectHDMF_AdvisedMonth').text($("#HDMF_AdvisedMonth option:selected").text());
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');

                    var paymentDate = '';
                    paymentDate += "<option value='-1'>--Select Date--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            paymentDate += '<option value="' + data.paymentdateID + '">' + data.Paymentdate + '</option>';
                        });
                    }
                    $('#HDMF_PaymentDate').html(paymentDate);
                    $('#HDMF_PaymentDate').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectHDMF_PaymentDate').text($("#HDMF_PaymentDate option:selected").text());
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_new .innerErrorHolder').text('');
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });


        $('.popup_new .innerErrorHolder').text('');
        var popupHeight = $('.popup_new').find(".middle").height();
        $('.popup_new').css({
            'position': 'absolute',
            'z-index': '100',
            "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
            "left": "10%"
        });
        $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
    }
    $('.popup_new .innerErrorHolder').html('');
    $('.popup_new select:not(.styled)').css('border', '1px solid');
    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
});

$(document).on('change', '#CEFrequencyType', function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    var componentGroupId = $('#bonus').val();
    var freqType = $('#CESchoolFees_NewPopUp li:nth-child(7) select').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '","frequencyType":"' + freqType + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownDetailsCE",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {
            if (msg.d.length > 0) {
                var freselect = ''
                freselect += '<option value="-1" selected="selected">--Select Frequency--</option>';
                if (msg.d[4].length != 0) {
                    $.each(msg.d[4], function (i, data) {
                        freselect += '<option value="' + data.FreqSelectID + '" freqselect="' + data.FreqSelection + '">' + data.FreqSelection + '</option>';
                    });
                }
                $('#CEFrequencySelect').html(freselect);
                $('.popup_new .innerErrorHolder').text('');
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
});

$(document).on('change', '#Edit_CEFrequencyType', function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    var componentGroupId = $('#bonus').val();
    var freqType = $('#CESchoolFees_EditPopUp li:nth-child(7) select').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '","frequencyType":"' + freqType + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownDetailsCE",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {
            if (msg.d.length > 0) {
                var freselect = ''
                freselect += '<option value="-1" selected="selected">--Select Frequency--</option>';
                if (msg.d[4].length != 0) {
                    $.each(msg.d[4], function (i, data) {
                        freselect += '<option value="' + data.FreqSelectID + '" freqselect="' + data.FreqSelection + '">' + data.FreqSelection + '</option>';
                    });
                }
                $('#Edit_CEFrequencySelect').html(freselect);
                $('.popup_new .innerErrorHolder').text('');
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
});

$(document).on('change', '#CEChild', function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    var componentGroupId = $('#bonus').val();
    var associateid = $('#CESchoolfeesAssoId').val();
    var obj = $(this).closest('.popup_new').find('.inner_cont ul');
    var child = obj.find('li:nth-child(3) select').val();
    var datastring = '{"associateId":"' + associateid + '","componentGroupId":"' + componentGroupId + '","isActive":"0","childType":"' + child + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetCEAssociateNameForUploader",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {
            if (msg.d.length > 0) {

                if (msg.d[1][0].Status != 0) {
                    $('#CE_startdate').replaceWith("<span class='M_40 SFdate' data='0' id='CE_StartdateLbl'></span>");
                    $('#CE_StartdateLbl').text($.trim(msg.d[1][0].StartDate));
                    $('#CE_enddate').replaceWith("<span class='M_40 SFdate' data='0' id='CE_EnddateLbl'></span>");
                    $('#CE_EnddateLbl').text($.trim(msg.d[1][0].Enddate));
                }
                else {
                    $('#CE_StartdateLbl').replaceWith("<input type='text' id='CE_startdate' value='' data='1' class='popup_date SFdate' style='width:100px;height:20px;' />");
                    $('#CE_EnddateLbl').replaceWith("<input type='text' id='CE_enddate' value='' data='1' class='popup_date SFdate' style='width:100px;height:20px;'/>");
                }

                $("#CE_startdate").datepicker("destroy");
                $("#CE_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                $("#CE_enddate").datepicker("destroy");
                $("#CE_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
            }
        },
        error: function (xhr) {
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
        }
    });
    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
});

$(document).on('change', '#LV_SpecialCase', function () {
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    $("#aft_uploadocm").html('');
    $("#aft_uploadocm").removeAttr('fileuploadid');
    mailUploadId = "";
    splcasemailId = "";
    TMmailUploadId = "";

    var obj = $(this).closest('.popup_new').find('.inner_cont ul');
    var splcase = obj.find('li:nth-child(7) select').val();

    if (splcase == -1) {
        $('#LV_Holidays').val(0);
        LV_EligibleVoucherDetails(0);
    }
    if (splcase == 1 || splcase == 2 || splcase == 3 || splcase == 4) {
        $('#AttachUL1').css('display', 'block');
        $('#LV_Holidays').show();
        if (splcase == 1) {
            $('#HLworked').html('').html('No Of Holidays Worked<span class="red">*</span>');

            //$('#frameforhide').css('display', 'block');     
        }
        else if (splcase == 2) {
            $('#HLworked').html('').html('No Of RTT Days Worked<span class="red">*</span>');

            //$('#frameforhide').css('display', 'block'); 
        }
        else if (splcase == 3) {
            $('#HLworked').html('').html('No Of Weekend Days Worked<span class="red">*</span>');

            //$('#frameforhide').css('display', 'block'); 
        } else {
            $('#HLworked').html('');
            $('#LV_Holidays').val('');
            $('#LV_Holidays').hide();
            if (LV_LwdDate == '' || LV_LwdDate == null) {
                $('#AttachUL1').css('display', 'block');
            } else {
                $('#AttachUL1').css('display', 'none');
            }
        }
    }
    else {
        $('#LV_Holidays').show();
        $('#AttachUL1').css('display', 'none');
        $('#LV_Holidays').val('');
        $("#splCaseMailUpload1").attr("fileuploadid", "");
    }
    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
});

$(document).on('change', '#editLV_SplCase', function () {
    $("#aft_uploadocmedit").html('');
    $("#aft_uploadocmedit").removeAttr('fileuploadid');
    mailUploadId = "";
    splcasemailId = "";
    TMmailUploadId = "";
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    var type = '';
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }

    var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
    if (type == 1) {
        var splcase = obj.find('li:nth-child(7) select').val();

        if (splcase == -1) {
            $('#LV_EditHolidays').val(0);
            EditLV_EligibleVoucherDetails(0);
        }

        if (splcase == 1) {
            $('#aft_upload7').show();
            $('#EditLunch_splcase').css('display', 'block');
            $('#Edit_attachment').css('display', 'block');

            $('#Edit_HLWorked').html('').html('No Of Holidays Worked<span class="red">*</span>');

        }
        else if (splcase == 2) {
            $('#aft_upload7').show();
            $('#EditLunch_splcase').css('display', 'block');
            $('#Edit_attachment').css('display', 'block');
            $('#Edit_HLWorked').html('').html('No Of RTT Days Worked<span class="red">*</span>');

        }
        else if (splcase == 3) {
            $('#aft_upload7').show();
            $('#EditLunch_splcase').css('display', 'block');
            $('#Edit_attachment').css('display', 'block');
            $('#Edit_HLWorked').html('').html('No Of Weekend Days Worked<span class="red">*</span>');
        }
        else if (splcase == 4) {
            $('#EditLunch_splcase').css('display', 'none');
            $('#Edit_HLWorked').html('');
            if (LV_LwdDate == '' || LV_LwdDate == 'null' || LV_LwdDate == null) {
                $('#Edit_attachment').css('display', 'block');
            } else {
                $('#Edit_attachment').css('display', 'none');
            }
        }
        else if (splcase != 1 && splcase != 2 && splcase != 3) {
            $('#aft_upload7').hide();
            $('#EditLunch_splcase').css('display', 'none');
            $('#Edit_attachment').css('display', 'none');
            //$('#Edit_HLWorked').css('display', 'none');
            $('#LV_EditHolidays').val('');
            $("#splCaseMailUpload").attr("fileuploadid", "");
        }
    }
    else if (type == 2) {
        var splcase = obj.find('li:nth-child(9) select').val();

        if (splcase == 1) {
            $('#aft_upload7').show();
            $('#Edit_attachmentEXP').css('display', 'block');
            $('#EditLunch_splcase').css('display', 'block');
            $('#Edit_HLWorkedEXP').html('').html('No Of Holidays Worked<span class="red">*</span>');

        }
        else if (splcase == 2) {
            $('#aft_upload7').show();
            $('#Edit_attachmentEXP').css('display', 'block');
            $('#EditLunch_splcase').css('display', 'block');
            $('#Edit_HLWorkedEXP').html('').html('No Of RTT Days Worked<span class="red">*</span>');

        }
        else if (splcase == 3) {
            $('#aft_upload7').show();
            $('#Edit_attachmentEXP').css('display', 'block');
            $('#EditLunch_splcase').css('display', 'block');
            $('#Edit_HLWorkedEXP').html('').html('No Of Weekend Days Worked<span class="red">*</span>');

        }
        else if (splcase == 4) {
            $('#EditLunch_splcase').css('display', 'none');
            $('#Edit_HLWorkedEXP').html('');
            if (LV_LwdDate == '' || LV_LwdDate == 'null' || LV_LwdDate == null) {
                $('#Edit_attachmentEXP').css('display', 'block');
            } else {
                $('#Edit_attachmentEXP').css('display', 'none');
            }
        }
        else if (splcase != 1 && splcase != 2 && splcase != 3) {
            $('#aft_upload7').hide();
            $('#Edit_attachmentEXP').css('display', 'none');
            $('#EditLunch_splcase').css('display', 'none');
            //$('#Edit_HLWorkedEXP').css('display', 'none');
            $('#LV_EditHolidays').val('');
            $("#splCaseMailUpload").attr("fileuploadid", "");
        }
    }

    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
});

$(document).on('focusout', '#SPDAssoId', function () {

    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateDetailsforJB",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    if (msg.d[0].STATUS == 1) {
                        $('.popup_new .innerErrorHolder').html("");

                        $('#SPDAssoname').text($.trim(msg.d[0].AssociateName));
                    }
                    else {

                        var error = msg.d[0].ERRORMESSAGE;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");

                    }

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#SDAssoId', function () {

    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateDetailsforJB",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    if (msg.d[0].AssociateName != '') {
                        $('.popup_new .innerErrorHolder').html("");
                        $('#SDAssoname').text($.trim(msg.d[0].AssociateName));
                        $('#SDBU').text($.trim(msg.d[0].AssociateBU));
                    }
                    else {

                        var error = msg.d[0].ERRORMESSAGE;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");

                    }

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#SPAssoId', function () {

    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateDetailsforJB",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    if (msg.d[0].AssociateName != '') {
                        $('.popup_new .innerErrorHolder').html("");
                        $('#SPAssoname').text($.trim(msg.d[0].AssociateName));
                    }
                    else {

                        var error = msg.d[0].ERRORMESSAGE;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");

                    }

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#SCAssoId', function () {

    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateDetailsforJB",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    if (msg.d[0].AssociateName != '') {
                        $('.popup_new .innerErrorHolder').html("");
                        $('#SCAssoname').text($.trim(msg.d[0].AssociateName));
                    }
                    else {

                        var error = msg.d[0].ERRORMESSAGE;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");

                    }

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});


$(document).on('focusout', '#ITAAssoId', function () {

    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateDetailsforJB",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    if (msg.d[0].AssociateName != '') {
                        $('.popup_new .innerErrorHolder').html("");
                        $('#ITAAssoname').text($.trim(msg.d[0].AssociateName));
                    }
                    else {

                        var error = msg.d[0].ERRORMESSAGE;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");

                    }

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});


$(document).on('focusout', '#INDAssoId', function () {

    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateDetailsforJB",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    if (msg.d[0].AssociateName != '') {
                        $('.popup_new .innerErrorHolder').html("");
                        $('#INDAssoname').text($.trim(msg.d[0].AssociateName));
                    }
                    else {

                        var error = msg.d[0].ERRORMESSAGE;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");

                    }

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});


$(document).on('focusout', '#MDAssoId', function () {

    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateDetailsforJB",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    if (msg.d[0].AssociateName != '') {
                        $('.popup_new .innerErrorHolder').html("");
                        $('#MDAssoname').text($.trim(msg.d[0].AssociateName));
                    }
                    else {

                        var error = msg.d[0].ERRORMESSAGE;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");

                    }

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#KitAssoId', function () {
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/getAssociateDetailsforUK",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0][0].Exception == '') {
                        var currentTime = new Date(parseInt(msg.d[0][0].StartDate.substr(6)));
                        var date = currentTime.getDate() + "/" + (currentTime.getMonth() + 1) + "/" + currentTime.getFullYear();
                        var currentTime1 = new Date(parseInt(msg.d[0][0].EndDate.substr(6)));
                        var date1 = currentTime1.getDate() + "/" + (currentTime1.getMonth() + 1) + "/" + currentTime1.getFullYear();
                        $('.popup_new .innerErrorHolder').html("");
                        obj.parent().parent().find('li:nth-child(2) span').text($.trim(msg.d[0][0].AssociateName));
                        obj.parent().parent().find('li:nth-child(5) span').text(date);
                        obj.parent().parent().find('li:nth-child(6) span').text(date1);

                        var year = "<option value='-1'>--Select Year--</option>";
                        year += "";

                        $.each(msg.d[1], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });

                        $('#kityear').html(year);
                        $('#kityear').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectkityear').text($("#kityear option:selected").text());

                        var month = '';
                        month += "<option value='-1'>--Select Month--</option>";

                        $.each(msg.d[2], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });

                        $('#Kitmonth').html(month);
                        $('#Kitmonth').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectKitmonth').text($("#Kitmonth option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');
                    }
                    else {
                        var error = msg.d[0][0].Exception;
                        //$('.popdivcontedit').text('').css('color', 'green').text(error);
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        //obj.parent().parent().find('li:nth-child(2) span').text("");
                        //obj.parent().parent().find('li:nth-child(4) span').text("");
                        //$("#progressBackgroundFilter").hide();
                        //$("#processMessage").hide();
                    }

                    //if (msg.d[1][0].Status != 0) {
                    //    $('#CE_startdate').replaceWith("<span class='M_40 SFdate' data='0' id='CE_StartdateLbl'></span>");
                    //    $('#CE_StartdateLbl').text($.trim(msg.d[1][0].StartDate));
                    //    $('#CE_enddate').replaceWith("<span class='M_40 SFdate' data='0' id='CE_EnddateLbl'></span>");
                    //    $('#CE_EnddateLbl').text($.trim(msg.d[1][0].Enddate));
                    //}
                    //else {
                    //    $('#CE_StartdateLbl').replaceWith("<input type='text' id='CE_startdate' value='' class='popup_date SFdate' data='1' style='width:100px;height:20px;' />");
                    //    $('#CE_EnddateLbl').replaceWith("<input type='text' id='CE_enddate' value='' class='popup_date SFdate' data='1' style='width:100px;height:20px;'/>");

                    //}

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#npAssoId', function () {
    var obj = $(this);
    populatenetpay(obj, 1)
});

function populatenetpay(obj, type, paymentdatetext = '') {
    var componentGroupId = $('#bonus').val();
    var datastring = ''
    // childtype is hardcoded for 1 as default
    if (type == 1) {
        datastring = '{"associateId":"' + obj.val() + '","componentGroupId":"' + componentGroupId + '"}';
    }
    else if (type == 2) {
        datastring = '{"associateId":"' + obj + '","componentGroupId":"' + componentGroupId + '"}';
    }

    if ((type == 1 && obj.val() != '') || (type == 2 && obj != '')) {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/getAssociateDetailsforUK",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0][0].Exception == '') {
                        if (type == 1) {
                            $('.popup_new .innerErrorHolder').html("");
                        }

                        else {
                            $('.popup_edit .innerErrorHolder').html("");
                        }
                        if (type == 1) {
                            obj.parent().parent().find('li:nth-child(2) span').text($.trim(msg.d[0][0].AssociateName));
                        }

                        if (type == 1) {
                            var year = "<option value='-1'>--Select Year--</option>";
                            year += "";

                            $.each(msg.d[1], function (i, data) {
                                year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                            });

                            $('#npyear').html(year);
                            $('#npyear').find('option:nth-child(1)').attr('selected', 'selected');
                            $('#selectnpyear').text($("#npyear option:selected").text());

                            var month = '';
                            month += "<option value='-1'>--Select Month--</option>";

                            $.each(msg.d[2], function (i, data) {
                                month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                            });

                            $('#npmonth').html(month);
                            $('#npmonth').find('option:nth-child(1)').attr('selected', 'selected');
                            $('#selectnpmonth').text($("#npmonth option:selected").text());
                        }
                        var paymentDate = "<option value='-1'>--Select Date--</option>";
                        paymentDate += "";

                        $.each(msg.d[0], function (i, data) {
                            paymentDate += '<option value="' + data.DateValue + '">' + data.PaymentDate + '</option>';
                        });

                        if (type == 1) {
                            $('.popup_new #npPaymentDate').html(paymentDate);
                            $('.popup_new #npPaymentDate').find('option:nth-child(1)').attr('selected', 'selected');
                            $('.popup_new #selectnpPaymentDate').text($("#npPaymentDate option:selected").text());
                        }
                        else {
                            $('.popup_edit #npPaymentDate').html(paymentDate);
                            $('.popup_edit #npPaymentDate').find('option:nth-child(1)').attr('selected', 'selected');
                            $(".popup_edit #npPaymentDate option:contains(" + paymentdatetext + ")").attr('selected', true);
                            $('.popup_edit #selectnpPaymentDate').text($("#npPaymentDate option:selected").text());
                        }

                        if (type == 1) {
                            $('.popup_new .innerErrorHolder').text('');
                        }
                        else if (type == 2) {
                            $('.popup_edit .innerErrorHolder').text('');
                        }

                    }
                    else {
                        var error = msg.d[0][0].Exception;
                        if (type == 1) {
                            $('.popup_new .innerErrorHolder').text(error);
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                        }
                        else if (type == 2) {
                            $('.popup_edit .innerErrorHolder').text(error);
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                        }

                        var paymentDate = "<option value='-1'>--Select Date--</option>";
                        paymentDate += "";

                        $.each(msg.d[0], function (i, data) {
                            paymentDate += '<option value="' + data.DateValue + '">' + data.PaymentDate + '</option>';
                        });

                        if (type == 1) {
                            $('.popup_new #npPaymentDate').html(paymentDate);
                            $('.popup_new #npPaymentDate').find('option:nth-child(1)').attr('selected', 'selected');
                            $('.popup_new #selectnpPaymentDate').text($("#npPaymentDate option:selected").text());
                        }
                        else {
                            $('.popup_edit #npPaymentDate').html(paymentDate);
                            $('.popup_edit #npPaymentDate').find('option:nth-child(1)').attr('selected', 'selected');
                            $(".popup_edit #npPaymentDate option:contains(" + paymentdatetext + ")").attr('selected', true);
                            $('.popup_edit #selectnpPaymentDate').text($("#npPaymentDate option:selected").text());
                        }

                        //$('.popdivcontedit').text('').css('color', 'green').text(error);
                        //obj.parent().parent().find('li:nth-child(2) span').text("");
                        //obj.parent().parent().find('li:nth-child(4) span').text("");
                        //$("#progressBackgroundFilter").hide();
                        //$("#processMessage").hide();
                    }

                    //if (msg.d[1][0].Status != 0) {
                    //    $('#CE_startdate').replaceWith("<span class='M_40 SFdate' data='0' id='CE_StartdateLbl'></span>");
                    //    $('#CE_StartdateLbl').text($.trim(msg.d[1][0].StartDate));
                    //    $('#CE_enddate').replaceWith("<span class='M_40 SFdate' data='0' id='CE_EnddateLbl'></span>");
                    //    $('#CE_EnddateLbl').text($.trim(msg.d[1][0].Enddate));
                    //}
                    //else {
                    //    $('#CE_StartdateLbl').replaceWith("<input type='text' id='CE_startdate' value='' class='popup_date SFdate' data='1' style='width:100px;height:20px;' />");
                    //    $('#CE_EnddateLbl').replaceWith("<input type='text' id='CE_enddate' value='' class='popup_date SFdate' data='1' style='width:100px;height:20px;'/>");

                    //}

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
}
$(document).on('focusout', '#npamount', function () {
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    if ((componentGroupId == 95) && $(this).val() != '') {
        $('.popup_new #npsemiamount').text($.trim($(this).val()))
        $('.popup_edit #npsemiamount').text($.trim($(this).val()));
    } else if (componentGroupId == 91 && $(this).val() != '') {
        $('.popup_new #npsemiamount').val($.trim($(this).val()))
        $('.popup_edit #npsemiamount').val($.trim($(this).val()));
    }
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

});

$(document).on('focusout', '#OneAssoId', function () {
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/getAssociateDetailsforUK",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {

                if (msg.d.length > 0) {
                    if (msg.d[0][0].Exception == '') {
                        $('.popup_new .innerErrorHolder').html("");
                        obj.parent().parent().find('li:nth-child(2) span').text($.trim(msg.d[0][0].AssociateName));
                        obj.parent().parent().find('li:nth-child(6) span').text($.trim(msg.d[0][0].Currency));
                        $('#Oneassoname').text($.trim(msg.d[0][0].AssociateName));
                        $('#Onecurrency').text($.trim(msg.d[0][0].Currency));
                    }
                    else {
                        var error = msg.d[0][0].Exception;
                        //$('.popdivcontedit').text('').css('color', 'green').text(error);
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        //obj.parent().parent().find('li:nth-child(2) span').text("");
                        //obj.parent().parent().find('li:nth-child(4) span').text("");
                        //$("#progressBackgroundFilter").hide();
                        //$("#processMessage").hide();
                    }

                    //if (msg.d[1][0].Status != 0) {
                    //    $('#CE_startdate').replaceWith("<span class='M_40 SFdate' data='0' id='CE_StartdateLbl'></span>");
                    //    $('#CE_StartdateLbl').text($.trim(msg.d[1][0].StartDate));
                    //    $('#CE_enddate').replaceWith("<span class='M_40 SFdate' data='0' id='CE_EnddateLbl'></span>");
                    //    $('#CE_EnddateLbl').text($.trim(msg.d[1][0].Enddate));
                    //}
                    //else {
                    //    $('#CE_StartdateLbl').replaceWith("<input type='text' id='CE_startdate' value='' class='popup_date SFdate' data='1' style='width:100px;height:20px;' />");
                    //    $('#CE_EnddateLbl').replaceWith("<input type='text' id='CE_enddate' value='' class='popup_date SFdate' data='1' style='width:100px;height:20px;'/>");

                    //}

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#PSUAssoId', function () {
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/getAssociateDetailsforUK",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0][0].Exception == '') {
                        $('.popup_new .innerErrorHolder').html("");
                        obj.parent().parent().find('li:nth-child(2) span').text($.trim(msg.d[0][0].AssociateName));
                        obj.parent().parent().find('li:nth-child(4) span').text($.trim(msg.d[0][0].Jobcode));

                        var type = '';
                        type += "<option value='-1'>--Select Payout--</option>";
                        $.each(msg.d[1], function (i, data) {
                            type += '<option value="' + data.CUserDefined1 + '">' + data.CDescription + '</option>';
                        });
                        $('#PSUPayoutType').html(type);
                        $('#PSUPayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                        $('#selectPSUPayoutType').text($("#PSUPayoutType option:selected").text());
                        $('.popup_new .innerErrorHolder').text('');
                    }
                    else {
                        var error = msg.d[0][0].Exception;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#SAO_AssoId', function () {

    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateDetailsforJB",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    if (msg.d[0].AssociateName != '' && msg.d[0].AssociateName != undefined) {
                        $('.popup_new .innerErrorHolder').html("");
                        $('#SAO_Assoname').text($.trim(msg.d[0].AssociateName));
                        $('#SAO_ProjectID').val($.trim(msg.d[0].ProjectID));

                    }
                    else {
                        var error = msg.d[0].ERRORMESSAGE;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                    }

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#LAA_AssoId', function () {

    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateDetailsforJB",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    if (msg.d[0].AssociateName != '') {
                        $('.popup_new .innerErrorHolder').html("");

                        $('#LAA_Assoname').text($.trim(msg.d[0].AssociateName));
                    }
                    else {

                        var error = msg.d[0].ERRORMESSAGE;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");

                    }

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#HDMF_AssoId', function () {

    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateDetailsforJB",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {

                    if (msg.d[0].AssociateName != '') {
                        $('.popup_new .innerErrorHolder').html("");

                        $('#HDMF_Assoname').text($.trim(msg.d[0].AssociateName));
                    }
                    else {

                        var error = msg.d[0].ERRORMESSAGE;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");

                    }

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('change', '#YEB_BonusType', function () {
    var bonustype = $('#YEB_BonusType').val();
    if (bonustype == 1) {
        $('.span').html('');
        $('#PP').append('<span style="color:red" class="span">*</span>');
    }
    else if (bonustype == 2) {
        $('.span').html('');
        $('#TB').append('<span style="color:red" class="span">*</span>');
    }
    else if (bonustype == 3) {
        $('.span').html('');
        $('#CP').append('<span style="color:red" class="span">*</span>');
    }
    else if (bonustype == 4) {
        $('.span').html('');
        $('#PP').append('<span style="color:red" class="span">*</span>');
        $('#TB').append('<span style="color:red" class="span">*</span>');
    }
    else if (bonustype == 5) {
        $('.span').html('');
        $('#PP').append('<span style="color:red" class="span">*</span>');
        $('#CP').append('<span style="color:red" class="span">*</span>');
    }
    else if (bonustype == 6) {
        $('.span').html('');
        $('#TB').append('<span style="color:red" class="span">*</span>');
        $('#CP').append('<span style="color:red" class="span">*</span>');
    }
    else if (bonustype == 7) {
        $('.span').html('');
        $('#PP').append('<span style="color:red" class="span">*</span>');
        $('#TB').append('<span style="color:red" class="span">*</span>');
        $('#CP').append('<span style="color:red" class="span">*</span>');
    }
});

$(document).on('change', '#editBonusType', function () {
    var bonustype = $('#editBonusType').val();

    if (bonustype == 1) {
        $('.span').html('');
        $('#EPP').append('<span style="color:red" class="span">*</span>');
    }
    else if (bonustype == 2) {
        $('.span').html('');
        $('#ETB').append('<span style="color:red" class="span">*</span>');
    }
    else if (bonustype == 3) {
        $('.span').html('');
        $('#ECP').append('<span style="color:red" class="span">*</span>');
    }
    else if (bonustype == 4) {
        $('.span').html('');
        $('#EPP').append('<span style="color:red" class="span">*</span>');
        $('#ETB').append('<span style="color:red" class="span">*</span>');
    }
    else if (bonustype == 5) {
        $('.span').html('');
        $('#EPP').append('<span style="color:red" class="span">*</span>');
        $('#ECP').append('<span style="color:red" class="span">*</span>');
    }
    else if (bonustype == 6) {
        $('.span').html('');
        $('#ETB').append('<span style="color:red" class="span">*</span>');
        $('#ECP').append('<span style="color:red" class="span">*</span>');
    }
    else if (bonustype == 7) {
        $('.span').html('');
        $('#EPP').append('<span style="color:red" class="span">*</span>');
        $('#ETB').append('<span style="color:red" class="span">*</span>');
        $('#ECP').append('<span style="color:red" class="span">*</span>');
    }
});

$(document).on('focusout', '#LAA_Amount', function () {
    $('#LAA_AmortizationAmount').text($('#LAA_Amount').val());
});

$(document).on('focusout', '#LAA_Amount_Edit', function () {
    $('#LAA_AmortizationAmount_Edit').val($('#LAA_Amount_Edit').val());
});


function GetSessionTimeout() {
    $.ajax({
        type: "GET",
        url: "../WebMethods.aspx/CheckSession",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (msg) {
            if (msg.d == 1) {
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text("Session Expired, Kindly Reload the page");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                $("#dwnload_Data").show();
                $("#dwnload_Datadivider").show();
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });

}

function GetSessionTimeoutEdit() {
    $.ajax({
        type: "GET",
        url: "../WebMethods.aspx/CheckSession",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (msg) {
            if (msg.d == 1) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("Session Expired, Kindly Reload the page.");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                $("#dwnload_Data").show();
                $("#dwnload_Datadivider").show();
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });

}

function myTimer() {
    var d = new Date();
    var windowWidth = '100%';
    var windowHeight = '100%';
    var popupHeight = $(".popup_new").height();
    var popupWidth = $(".popup_new").width();
    //console.log(window.parent)
    var ele = window.parent.document.getElementById('newpopbackground');
    //console.log(ele)
    $(ele).fadeIn("slow");
    $(".newbackground_bg").fadeIn("slow");
    $('.popup_new').fadeIn("slow");
    $(".newbackground_bg").css({
        "opacity": "0.5"
    });
    $('.popup_new').css({
        'position': 'absolute',
        'z-index': '100',
        "top": ((($(window).height() - popupHeight) / 2) - 16) + $(window).scrollTop() + "px",
        "left": "10%"
    });
    $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
    $('.newbackground_bg').show();

}

function populateeditdropdowndetailsforCE(FrequencyType, FrequencySelect, FrequencyID, NumberOfInstallment) {
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '","frequencyType":"' + FrequencyID + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownDetailsCE",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {
            if (msg.d.length > 0) {
                var FreqType = ''
                if (msg.d[0].length != 0) {
                    $.each(msg.d[0], function (i, data) {
                        FreqType += '<option value="' + data.FrequencyTypeID + '">' + data.FrequencyType + '</option>';
                    });
                }
                $('#Edit_CEFrequencyType').html(FreqType);
                //$('#CEFrequencyType').find('option:nth-child(1)').attr('selected', 'selected');
                //$('#selectCEFrequencyType').text($("#CEFrequencyType option:selected").text());
                $('.popup_edit .inner_cont ul li:nth-child(7) select option:contains(' + FrequencyType + ')').attr('selected', 'selected');

                $('.popup_edit .innerErrorHolder').text('');


                var month = '';
                // month += "<option value='-1'>--Select Month--</option>";
                if (msg.d[4].length != 0) {
                    $.each(msg.d[4], function (i, data) {
                        month += '<option value="' + data.FreqSelectID + '">' + data.FreqSelection + '</option>';
                    });
                }
                $('#Edit_CEFrequencySelect').append(month);
                $('.popup_edit .inner_cont ul li:nth-child(8) select option:contains(' + FrequencySelect + ')').attr('selected', 'selected');
                $('.popup_edit .innerErrorHolder').text('');

                var installment = '';
                if (CountryId == 14 || CountryId == 15 || CountryId == 16) {
                    // month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[3].length != 0) {
                        $.each(msg.d[3], function (i, data) {
                            installment += '<option value="' + data.InstallmentID + '">' + data.Installments + '</option>';
                        });
                    }
                    $('#Edit_CESchoolFeesInstallment').append(installment);
                    $('.popup_edit .inner_cont ul li:nth-child(10) select option:contains(' + NumberOfInstallment + ')').attr('selected', 'selected');
                    $('.popup_edit .innerErrorHolder').text('');
                }
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateComponentDetails() {
    var option_html = '';
    //option_html += '<span class="M_20"><select name="paytype" id="PayoutType" style="width: 160px; height:22px;"><option value="-1">--Select--</option></select></span>';
    // $("#dropdowndetails").append(option_html);

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetComponentTypeandName",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            msg0 = msg.d[0];
            msg1 = msg.d[1];
            msg2 = msg.d[2];
            option_html = '';
            option_html += "<option value='-1'>--Select--</option>";
            //For PayoutType
            $.each(msg0, function (i, data) {

                option_html += "<option value='" + msg0[i].PayoutType + "'>" + msg0[i].PayoutType + "</option>";
            });
            $('#PayoutType').html(option_html);
            $('#PayoutType').find('option:nth-child(1)').attr('selected', 'selected');
            $('#selectpaytype').text($("#PayoutType option:selected").text());

            option_html = '';
            option_html += "<option value='-1'>--Select--</option>";
            $.each(msg2, function (i, data) {

                option_html += "<option value='" + msg2[i].CurrencyCode + "' pkcur='" + msg2[i].Pk_CurrencyID + "'>" + msg2[i].CurrencyCode + "</option>";
            });
            $('#curcode').html(option_html);
            $(function () {
                $("#curcode").not(".interactive").each(function () {
                    var sb = new SelectBox({
                        selectbox: $(this),
                        height: 90,
                        width: 160,
                    });
                });
                $(".selectValueWrap").css("position", "relative");
                $(".selectValueWrap").css("width", "160px");
                $(".selectValueWrap").css("left", "14px");
                $(".selectList").css("margin-left", "14px");
                $("#curcode").css("display", "none");
            });
            //For SpecialcaaseReason
            option_html = '';
            option_html += "<option value='-1'>--Select--</option>";
            if (componentGroupId != 17) {
                $.each(msg1, function (i, data) {

                    option_html += "<option value='" + msg1[i].SPecialCaseReasonID + "' pksplcase = '" + msg1[i].SpecialCaseReason + "'>" + msg1[i].SpecialCaseReason + "</option>";
                });
                $('#splcase').html(option_html);
            }

        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function Populateaccount() {

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetAccountType",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            msg0 = msg.d[0];
            msg1 = msg.d[1];
            if (CountryId == 2) {
                option_html = '';
                option_html += "<option value='-1'>--Select AccountType--</option>";
                //For AccountType
                $.each(msg0, function (i, data) {

                    option_html += "<option value='" + msg0[i].AccountTypeId + "'>" + msg0[i].AccountType + "</option>";
                });
                $('#accountType').html(option_html);
                $('#accountType').find('option:nth-child(1)').attr('selected', 'selected');
                //$('#selectpaytype').text($("#accountType option:selected").text());
            }
            if (CountryId == 8) {
                option_html = '';
                option_html += "<option value='-1'>--Select Guesthouse--</option>";
                //For Guesthouse
                $.each(msg0, function (i, data) {

                    option_html += "<option value='" + msg0[i].Guesthouse + "'>" + msg0[i].Guesthouse + "</option>";
                });
                $('#guesthouse').html(option_html);
                $('#guesthouse').find('option:nth-child(1)').attr('selected', 'selected');
                //$('#selectpaytype').text($("#accountType option:selected").text());
            }

            //option_html = '';
            //option_html += "<option value='-1'>--Select--</option>";


            //For SpecialcaseReason
            option_html = '';
            option_html += "<option value='-1'>--Select Special Case Reason--</option>";

            $.each(msg1, function (i, data) {
                option_html += "<option value='" + msg1[i].SpecaseId + "' pksplcase = '" + msg1[i].Specialcasereason + "'>" + msg1[i].Specialcasereason + "</option>";
            });

            $('#seraptsplcase').html(option_html);


        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function Populateeditspl() {

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetAccountType",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            msg1 = msg.d[1];

            //For SpecialcaaseReason
            option_html = '';
            option_html += "<option value='-1'>--Select Special Case Reason--</option>";

            $.each(msg1, function (i, data) {
                option_html += "<option value='" + msg1[i].SpecaseId + "' pksplcase = '" + msg1[i].Specialcasereason + "'>" + msg1[i].Specialcasereason + "</option>";
            });

            $('#serapteditsplcase').html(option_html);


        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateAPACComponentDetails() {
    var option_html = '';
    //option_html += '<span class="M_20"><select name="paytype" id="PayoutType"><option value="-1">--Select--</option></select></span>';
    //$("#dropdowndetails").append(option_html);

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetAPACComponentTypeandName",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            if (componentGroupId == 19) {
                msg0 = msg.d[0]; //subcomponent
                msg1 = msg.d[4];  //splcase
                msg2 = msg.d[3];   //currency
                msg3 = msg.d[1];   // year
                msg4 = msg.d[2];   // month
                msg5 = msg.d[5];   // Installments
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                //For PayoutType

                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg0, function (i, data) {

                    option_html += "<option value='" + msg0[i].PayoutType + "'>" + msg0[i].PayoutType + "</option>";
                });
                $('#PayoutType').html(option_html);
                $('#PayoutType').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectPayoutType').text($("#PayoutType option:selected").text());

                //For CurrencyCode
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg2, function (i, data) {

                    option_html += "<option value='" + msg2[i].CurrencyCode + "' pkcur='" + msg2[i].Pk_CurrencyID + "'>" + msg2[i].CurrencyCode + "</option>";
                });
                $('#curcode').html(option_html);
                $(function () {
                    $("#curcode").not(".interactive").each(function () {
                        var sb = new SelectBox({
                            selectbox: $(this),
                            height: 90,
                            width: 160,
                        });
                    });
                    $(".selectValueWrap").css("position", "relative");
                    $(".selectValueWrap").css("width", "160px");
                    $(".selectValueWrap").css("left", "-20px");
                    $(".selectList").css("margin-left", "-20px");
                    $("#curcode").css("display", "none");
                });

                //For SpecialcaaseReason
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                if (componentGroupId != "17") {
                    $.each(msg1, function (i, data) {

                        option_html += "<option value='" + msg1[i].SpecialCaseReasonID + "' pksplcase = '" + msg1[i].SpecialCaseReason + "'>" + msg1[i].SpecialCaseReason + "</option>";
                    });

                    $('#splcase').html(option_html);
                }

                //For Year
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg3, function (i, data) {

                    option_html += "<option value='" + msg3[i].Year + "'>" + msg3[i].Year + "</option>";
                });
                $('#SBYear').html(option_html);
                $('#SBYear').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectSBYear').text($("#SBYear option:selected").text());

                //For Month
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg4, function (i, data) {

                    option_html += "<option value='" + msg4[i].MonthID + "'>" + msg4[i].MonthName + "</option>";
                });
                $('#SBAdvisedMonth').html(option_html);
                $('#SBAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectSBAdvisedMonth').text($("#SBAdvisedMonth option:selected").text());

                //ForInstallments
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg5, function (i, data) {

                    option_html += "<option value='" + msg5[i].InstallmentId + "'>" + msg5[i].InstallmentName + "</option>";
                });
                $('#APInstallments').html(option_html);
                $('#APInstallments').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectAPInstallments').text($("#APInstallments option:selected").text());
            }
            else if (componentGroupId == 20) {
                msg0 = msg.d[0]; //year
                msg1 = msg.d[1];  //month
                msg2 = msg.d[2];   //currency
                msg3 = msg.d[3];   // special case
                msg4 = msg.d[4];

                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                //For PayoutType

                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg0, function (i, data) {

                    option_html += "<option value='" + msg0[i].PK_SubComponentId + "'>" + msg0[i].PayoutType + "</option>";
                });
                $('#DeductionType').html(option_html);
                $('#DeductionType').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectDeductionType').text($("#DeductionType option:selected").text());

                //For CurrencyCode
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg3, function (i, data) {

                    option_html += "<option value='" + msg3[i].CurrencyCode + "' pkcur='" + msg3[i].Pk_CurrencyID + "'>" + msg3[i].CurrencyCode + "</option>";
                });
                $('#curcodeAD').html(option_html);
                $(function () {
                    $("#curcodeAD").not(".interactive").each(function () {
                        var sb = new SelectBox({
                            selectbox: $(this),
                            height: 90,
                            width: 160,
                        });
                    });
                    $(".selectValueWrap").css("position", "relative");
                    $(".selectValueWrap").css("width", "160px");
                    $(".selectValueWrap").css("left", "-20px");
                    $(".selectList").css("margin-left", "-20px");
                    $("#curcodeAD").css("display", "none");
                });

                //For SpecialcaaseReason
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                if (componentGroupId != "17") {
                    $.each(msg4, function (i, data) {

                        option_html += "<option value='" + msg4[i].SpecialCaseReasonID + "' pksplcase = '" + msg4[i].SpecialCaseReason + "'>" + msg4[i].SpecialCaseReason + "</option>";
                    });

                    $('#splcaseAD').html(option_html);
                }

                //For Year
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg1, function (i, data) {

                    option_html += "<option value='" + msg1[i].Year + "'>" + msg1[i].Year + "</option>";
                });
                $('#ADYear').html(option_html);
                $('#ADYear').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectADYear').text($("#ADYear option:selected").text());

                //For Month
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg2, function (i, data) {

                    option_html += "<option value='" + msg2[i].MonthID + "'>" + msg2[i].MonthName + "</option>";
                });
                $('#ADAdvisedMonth').html(option_html);
                $('#ADAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectADAdvisedMonth').text($("#ADAdvisedMonth option:selected").text());
            }
            else if (componentGroupId == 25) {
                msg0 = msg.d[0]; //year
                msg1 = msg.d[1];  //month
                msg2 = msg.d[2];   //currency
                msg3 = msg.d[3];   // special case
                msg4 = msg.d[4];
                msg5 = msg.d[5];
                msg6 = msg.d[6];
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                //For PayoutType


                //For Month
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg1, function (i, data) {

                    option_html += "<option value='" + msg1[i].MonthID + "'>" + msg1[i].MonthName + "</option>";
                });
                $('#MAAdvisedMonth').html(option_html);
                $('#MAAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectMAAdvisedMonth').text($("#MAAdvisedMonth option:selected").text());

                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg0, function (i, data) {

                    option_html += "<option value='" + msg0[i].Year + "'>" + msg0[i].Year + "</option>";
                });
                $('#MAYear').html(option_html);
                $('#MAYear').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectMAYear').text($("#MAYear option:selected").text());

                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg2, function (i, data) {

                    option_html += "<option value='" + msg2[i].TypeID + "'>" + msg2[i].TypeName + "</option>";
                });
                $('#MAType').html(option_html);
                $('#MAType').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectMAType').text($("#MAType option:selected").text());
            }
            else if (componentGroupId == 42 || componentGroupId == 26 || componentGroupId == 27) {
                msg0 = msg.d[0]; //year
                msg1 = msg.d[1];  //month

                //For Month
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg1, function (i, data) {

                    option_html += "<option value='" + msg1[i].MonthID + "'>" + msg1[i].MonthName + "</option>";
                });
                $('#HTAdvisedMonth').html(option_html);
                $('#HTAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectHTAdvisedMonth').text($("#HTAdvisedMonth option:selected").text());

                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg0, function (i, data) {

                    option_html += "<option value='" + msg0[i].Year + "'>" + msg0[i].Year + "</option>";
                });
                $('#HTYear').html(option_html);
                $('#HTYear').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectHTYear').text($("#HTYear option:selected").text());
            }

        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateUKI_RBComponentDetails() {
    var option_html = '';
    //option_html += '<span class="M_20"><select name="paytype" id="PayoutType"><option value="-1">--Select--</option></select></span>';
    //$("#dropdowndetails").append(option_html);

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetAPACComponentTypeandName",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            if (componentGroupId == 2) {
                msg0 = msg.d[0]; //subcomponent
                msg1 = msg.d[1];  //splcase

                //For Year
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg0, function (i, data) {

                    option_html += "<option value='" + msg0[i].Year + "'>" + msg0[i].Year + "</option>";
                });
                $('#SBYear').html(option_html);
                $('#SBYear').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectSBYear').text($("#SBYear option:selected").text());

                //For Month
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg1, function (i, data) {

                    option_html += "<option value='" + msg1[i].MonthID + "'>" + msg1[i].MonthName + "</option>";
                });
                $('#SBAdvisedMonth').html(option_html);
                $('#SBAdvisedMonth').find('option:nth-child(1)').attr('selected', 'selected');
                $('#selectSBAdvisedMonth').text($("#SBAdvisedMonth option:selected").text());
                if (CountryId == 18) {
                    $('#RB_Currency').text("GBP");
                }
                else if (CountryId == 19) {
                    $('#RB_Currency').text("Euro");
                }
            }


        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateAPACEditComponentDetails(curencycode, splcase, Installments) {
    var option_html = '';

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetAPACComponentTypeandName",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            if (componentGroupId == 19) {

                msg0 = msg.d[0]; //subcomponent
                msg1 = msg.d[4];  //splcase
                msg2 = msg.d[3];   //currency
                msg3 = msg.d[1];   // year
                msg4 = msg.d[2];   // month
                msg5 = msg.d[5];   // Installments
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";

                //Currency Code
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg2, function (j, data) {

                    option_html += "<option value='" + msg2[j].CurrencyCode + "' pkcur='" + msg2[j].Pk_CurrencyID + "'>" + msg2[j].CurrencyCode + "</option>";
                });
                $('#editcurcode').html(option_html);

                var currency = $('#editcurcode').val(curencycode);
                if (msg.d[0][0].CurrencyCode != "") {
                    $(".popup_edit .inner_cont ul li:nth-child(2) select option:contains(" + curencycode + ")").attr('selected', 'selected');
                }

                $(function () {
                    $("#editcurcode").not(".interactive").each(function () {
                        var sb = new SelectBox({
                            selectbox: $(this),
                            height: 90,
                            width: 160,
                        });
                    });

                    $(".selectValueWrap").css("position", "relative");
                    $(".selectValueWrap").css("width", "160px");
                    $(".selectValueWrap").css("left", "-20px");
                    $(".selectList").css("margin-left", "-20px");
                    //$("#editcurcode").css("display", "none");
                });

                //For SpecialcaaseReason
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg1, function (i, data) {

                    option_html += "<option value='" + msg1[i].SpecialCaseReasonID + "' pksplcase = '" + msg1[i].SpecialCaseReason + "'>" + msg1[i].SpecialCaseReason + "</option>";
                });
                $('#editsplcase').html(option_html);
                if (splcase != "")
                    $('.popup_edit .inner_cont ul li:nth-child(9) select option:contains(' + splcase + ')').attr('selected', 'selected');
                //$('#editsplcase').val(splcase);


                //ForInstallments
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg5, function (i, data) {

                    option_html += "<option value='" + msg5[i].InstallmentId + "'>" + msg5[i].InstallmentName + "</option>";
                });
                $('#editAPInstallment').html(option_html);
                $(".popup_edit .inner_cont ul li:nth-child(10) select option:contains(" + Installments + ")").attr('selected', 'selected');
            }
            else if (componentGroupId == 20) {

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateAPACEditMAComponentDetails(Type) {
    var option_html = '';

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetAPACComponentTypeandName",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            if (componentGroupId == 25) {

                msg0 = msg.d[0]; //subcomponent
                msg1 = msg.d[4];  //splcase
                msg2 = msg.d[3];   //currency
                msg3 = msg.d[1];   // year
                msg4 = msg.d[2];   // month
                msg5 = msg.d[5];   // Installments
                option_html = '';


                //Currency Code

                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg4, function (i, data) {

                    option_html += "<option value='" + msg4[i].TypeID + "'>" + msg4[i].TypeName + "</option>";
                });
                $('#editMAType').html(option_html);
                ////var type = $('#editMAType').val(Type);
                if (Type != "") {
                    $(".popup_edit .inner_cont ul li:nth-child(3) select option:contains(" + Type + ")").attr('selected', 'selected');
                }


                //var currency = $('#editcurcode').val(curencycode);
                //if (msg.d[0][0].CurrencyCode != "") {
                //    $(".popup_edit .inner_cont ul li:nth-child(2) select option:contains(" + curencycode + ")").attr('selected', 'selected');
                //}

                //$(function () {
                //    $("#editMAType").not(".interactive").each(function () {
                //        var sb = new SelectBox({
                //            selectbox: $(this),
                //            height: 90,
                //            width: 160,
                //        });
                //    });

                //    $(".selectValueWrap").css("position", "relative");
                //    $(".selectValueWrap").css("width", "160px");
                //    $(".selectValueWrap").css("left", "-20px");
                //    $(".selectList").css("margin-left", "-20px");
                //    //$("#editMAType").css("display", "none");
                //});

                //    //For SpecialcaaseReason
                //    option_html = '';
                //    option_html += "<option value='-1'>--Select--</option>";
                //    $.each(msg1, function (i, data) {

                //        option_html += "<option value='" + msg1[i].SPecialCaseReasonID + "' pksplcase = '" + msg1[i].SpecialCaseReason + "'>" + msg1[i].SpecialCaseReason + "</option>";
                //    });
                //    $('#editMAType').html(option_html);
                //    //$(".popup_edit .inner_cont ul li:nth-child(13) select option:contains(" + splcase + ")").attr('selected', 'selected');
                //    //$('#editsplcase').val(splcase);


                //    //ForInstallments
                //    option_html = '';
                //    option_html += "<option value='-1'>--Select--</option>";
                //    $.each(msg5, function (i, data) {

                //        option_html += "<option value='" + msg5[i].InstallmentId + "'>" + msg5[i].InstallmentName + "</option>";
                //    });
                //    $('#editAPInstallment').html(option_html);
                //    $(".popup_edit .inner_cont ul li:nth-child(10) select option:contains(" + Installments + ")").attr('selected', 'selected');
            }

        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateAPACEditADComponentDetails(curencycode, splcase) {
    var option_html = '';

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetAPACComponentTypeandName",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {


            msg0 = msg.d[0]; //subcomponent
            msg1 = msg.d[4];  //splcase
            msg2 = msg.d[3];   //currency
            msg3 = msg.d[1];   // year
            msg4 = msg.d[2];   // month
            msg5 = msg.d[5];   // Installments
            option_html = '';
            option_html += "<option value='-1'>--Select--</option>";

            //Currency Code
            option_html = '';
            option_html += "<option value='-1'>--Select--</option>";
            $.each(msg2, function (j, data) {

                option_html += "<option value='" + msg2[j].CurrencyCode + "' pkcur='" + msg2[j].Pk_CurrencyID + "'>" + msg2[j].CurrencyCode + "</option>";
            });
            $('#editcurcodeAD').html(option_html);

            var currency = $('#editcurcodeAD').val(curencycode);
            if (msg.d[0][0].CurrencyCode != "") {
                $(".popup_edit .inner_cont ul li:nth-child(2) select option:contains(" + curencycode + ")").attr('selected', 'selected');
            }

            $(function () {
                $("#editcurcodeAD").not(".interactive").each(function () {
                    var sb = new SelectBox({
                        selectbox: $(this),
                        height: 90,
                        width: 160,
                    });
                });

                $(".selectValueWrap").css("position", "relative");
                $(".selectValueWrap").css("width", "160px");
                $(".selectValueWrap").css("left", "-20px");
                $(".selectList").css("margin-left", "-20px");
                //$("#editcurcode").css("display", "none");
            });

            if (componentGroupId != 17) {
                //For SpecialcaaseReason
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg1, function (i, data) {

                    option_html += "<option value='" + msg1[i].SpecialCaseReasonID + "' pksplcase = '" + msg1[i].SpecialCaseReason + "'>" + msg1[i].SpecialCaseReason + "</option>";
                });
                $('#editsplcaseAD').html(option_html);
                //$(".popup_edit .inner_cont ul li:nth-child(13) select option:contains(" + splcase + ")").attr('selected', 'selected');
                //$('#editsplcase').val(splcase);
            }



        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateDeductionComponentDetails() {
    var DeductionTypeoptions = '';
    var Installmenttype = '';
    var CurrencyCode = '';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDeductionDropdownDetails",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {
            if (msg.d.length > 0) {
                var DeductionTypeoptions = '';
                DeductionTypeoptions += "<option value='-1'>--Select--</option>";
                if (msg.d[0].length != 0) {
                    $.each(msg.d[0], function (i, data) {
                        DeductionTypeoptions += '<option value="' + data.ComponentName + '">' + data.ComponentName + '</option>';
                    });
                    $('#Deductiontype').html(DeductionTypeoptions);
                    $('#Deductiontype').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectDeductiontype').text($("#Deductiontype option:selected").text());
                }

                var Installmenttype = '';
                Installmenttype += "<option value='-1'>--Select--</option>";
                if (msg.d[1].length != 0) {
                    $.each(msg.d[1], function (i, data) {
                        Installmenttype += '<option value="' + data.CDescription + '">' + data.CDescription + '</option>';
                    });
                    $('#Installments').html(Installmenttype);
                    $('#Installments').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectInstallments').text($("#Installments option:selected").text());
                }

                var CurrencyCode = '';
                CurrencyCode += "<option value='-1'>--Select--</option>";
                if (msg.d[2].length != 0) {
                    $.each(msg.d[2], function (i, data) {
                        CurrencyCode += '<option value="' + data.CurrencyCode + '">' + data.CurrencyCode + '</option>';
                    });

                    $('#CurrencyCode').html(CurrencyCode);
                    $('#CurrencyCode').find('option:nth-child(1)').attr('selected', 'selected');
                    $('#selectCurrencyCode').text($("#CurrencyCode option:selected").text());
                }
            }
            $(function () {
                $("#CurrencyCode").not(".interactive").each(function () {
                    var sb = new SelectBox({
                        selectbox: $(this),
                        height: 90,
                        width: 160,
                    });
                });
                $(".selectValueWrap").css("position", "relative");
                $(".selectValueWrap").css("width", "160px");
                $(".selectValueWrap").css("left", "-21px");
                $(".selectList").css("margin-left", "-40px");
                $("#CurrencyCode").css("display", "none");
            });
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateEditComponentDetails(curencycode, splcase) {
    var option_html = '';

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetComponentTypeandName",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            msg0 = msg.d[0];
            msg1 = msg.d[1];
            msg2 = msg.d[2];
            option_html = '';
            option_html += "<option value='-1'>--Select--</option>";

            //Currency Code
            option_html = '';
            option_html += "<option value='-1'>--Select--</option>";
            $.each(msg2, function (j, data) {

                option_html += "<option value='" + msg2[j].CurrencyCode + "' pkcur='" + msg2[j].Pk_CurrencyID + "'>" + msg2[j].CurrencyCode + "</option>";
            });
            $('#editcurcode').html(option_html);

            var currency = $('#editcurcode').val(curencycode);
            if (msg.d[0][0].CurrencyCode != "") {
                $(".popup_edit .inner_cont ul li:nth-child(2) select option:contains(" + curencycode + ")").attr('selected', 'selected');
            }

            $(function () {
                $("#editcurcode").not(".interactive").each(function () {
                    var sb = new SelectBox({
                        selectbox: $(this),
                        height: 90,
                        width: 160,
                    });
                });

                $(".selectValueWrap").css("position", "relative");
                $(".selectValueWrap").css("width", "160px");
                $(".selectValueWrap").css("left", "-20px");
                $(".selectList").css("margin-left", "-20px");
                //$("#editcurcode").css("display", "none");
            });

            if (componentGroupId != 17) {
                //For SpecialcaaseReason
                option_html = '';
                option_html += "<option value='-1'>--Select--</option>";
                $.each(msg1, function (i, data) {

                    option_html += "<option value='" + msg1[i].SPecialCaseReasonID + "' pksplcase = '" + msg1[i].SpecialCaseReason + "'>" + msg1[i].SpecialCaseReason + "</option>";
                });
                $('#editsplcase').html(option_html);

                //$(".popup_edit .inner_cont ul li:nth-child(13) select option:contains(" + splcase + ")").attr('selected', 'selected');
                //$('#editsplcase').val(splcase);
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateEditSignOnComponentDetails(PayoutType, SpecialCaseReason) {
    var option_html = '';
    var commuteSplCase = ''

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            msg0 = msg.d[0];
            msg1 = msg.d[3];

            option_html = '';
            //For PayoutType
            $.each(msg0, function (i, data) {

                option_html += "<option value='" + msg0[i].PayoutTypeID + "'>" + msg0[i].PayoutType + "</option>";
            });
            $('#editpayoutType').html(option_html);
            if (componentGroupId == 34) {
                $(".popup_edit .inner_cont ul li:nth-child(5) select option:contains(" + PayoutType + ")").attr('selected', 'selected');
            }
            else if (componentGroupId == 32 || componentGroupId == 31) {
                $(".popup_edit .inner_cont ul li:nth-child(6) select option[value=" + PayoutType + "]").attr('selected', true);
            }
            else {
                $(".popup_edit .inner_cont ul li:nth-child(6) select option:contains(" + PayoutType + ")").attr('selected', 'selected');
            }
            if (componentGroupId == 32) {
                commuteSplCase += "<option value='-1'>--Select SpecialCaseReason--</option>";
                $.each(msg1, function (i, data) {

                    commuteSplCase += "<option value='" + msg1[i].SpecialCaseID + "'>" + msg1[i].SpecialCaseReason + "</option>";
                });
                $('#editCommutesplcase').html(commuteSplCase);
                $(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + SpecialCaseReason + ")").attr('selected', 'selected');

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateEditIncItyDetails(OfficeLocation) {
    var option_html = '';

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            msg0 = msg.d[0];

            option_html = '';
            //For OfficeLocation
            $.each(msg0, function (i, data) {

                option_html += "<option value='" + msg0[i].OfficeLocationID + "'>" + msg0[i].OfficeLocation + "</option>";
            });
            $('#OfficeType').html(option_html);

            $(".popup_edit .inner_cont ul li:nth-child(5) select option:contains(" + OfficeLocation + ")").attr('selected', 'selected');

        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateEditRRComponentDetails(PayoutType, Currency, Frequency) {
    var option_html = '';
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {

            msg0 = msg.d[0];
            msg1 = msg.d[5];
            msg2 = msg.d[3];
            msg3 = msg.d[4];
            if (componentGroupId == 50) {
                if (CountryId != 18 && CountryId != 19) {
                    option_html = '';
                    //For PayoutType
                    $.each(msg0, function (i, data) {

                        option_html += "<option value='" + msg0[i].PayoutTypeID + "'>" + msg0[i].PayoutType + "</option>";
                    });
                    $('#editpayoutType').html(option_html);
                    $(".popup_edit .inner_cont ul li:nth-child(10) select option:contains(" + PayoutType + ")").attr('selected', 'selected');
                }
                else {
                    //var payouttype = msg.d[0][0].Pay;
                    $('#UKIPayoutType').html(PayoutType);
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_edit .innerErrorHolder').text('');
                }
                if (CountryId != 18 && CountryId != 19) {
                    option_html = '';
                    //For Currency
                    $.each(msg2, function (i, data) {

                        option_html += "<option value='" + msg2[i].Pk_CurrencyID + "'>" + msg2[i].CurrencyCode + "</option>";
                    });
                    $('#editCurrency').html(option_html);
                    $(function () {
                        $("#editCurrency").not(".interactive").each(function () {
                            var sb = new SelectBox({
                                selectbox: $(this),
                                height: 90,
                                width: 160,
                            });
                        });
                        $(".selectValueWrap").css("position", "relative");
                        $(".selectValueWrap").css("width", "160px");
                        $(".selectValueWrap").css("left", "-20px");
                        $(".selectList").css("margin-left", "-20px");
                        $("#editCurrency").css("display", "none");
                    });
                    $(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + Currency + ")").attr('selected', 'selected');
                    $(".popup_edit .inner_cont ul li:nth-child(7) .selectList dd").eq($(".popup_edit .inner_cont ul li:nth-child(7) select")[0].selectedIndex).click();
                }
                else {
                    var currency = msg.d[3][0].Currency;
                    $('#UKICurrency').html(currency);
                    //$('#selectLV_PayrollMonth').append(month);
                    $('.popup_edit .innerErrorHolder').text('');

                }

            }
            else {
                option_html = '';
                //For PayoutType
                $.each(msg0, function (i, data) {

                    option_html += "<option value='" + msg0[i].PayoutTypeID + "'>" + msg0[i].PayoutType + "</option>";
                });
                $('#editpayoutType').html(option_html);
                $(".popup_edit .inner_cont ul li:nth-child(10) select option:contains(" + PayoutType + ")").attr('selected', 'selected');

                option_html = '';
                //For Currency
                $.each(msg1, function (i, data) {

                    option_html += "<option value='" + msg1[i].Pk_CurrencyID + "'>" + msg1[i].CurrencyCode + "</option>";
                });
                $('#editCurrency').html(option_html);
                $(function () {
                    $("#editCurrency").not(".interactive").each(function () {
                        var sb = new SelectBox({
                            selectbox: $(this),
                            height: 90,
                            width: 160,
                        });
                    });
                    $(".selectValueWrap").css("position", "relative");
                    $(".selectValueWrap").css("width", "160px");
                    $(".selectValueWrap").css("left", "-20px");
                    $(".selectList").css("margin-left", "-20px");
                    $("#editCurrency").css("display", "none");
                });
                $(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + Currency + ")").attr('selected', 'selected');
                $(".popup_edit .inner_cont ul li:nth-child(7) .selectList dd").eq($(".popup_edit .inner_cont ul li:nth-child(7) select")[0].selectedIndex).click();

                option_html = '';
                //For Frequency
                $.each(msg2, function (i, data) {

                    option_html += "<option value='" + msg2[i].FrequencyID + "'>" + msg2[i].Frequency + "</option>";
                });
                $('#editFrequency').html(option_html);
                $(".popup_edit .inner_cont ul li:nth-child(9) select option:contains(" + Frequency + ")").attr('selected', 'selected');

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateEditBenefitsComponentDetails(PayoutType) {
    var option_html = '';

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            msg0 = msg.d[0];

            option_html = '';
            $('#editpayoutType').html('');
            //For PayoutType
            $.each(msg0, function (i, data) {

                option_html += "<option value='" + msg0[i].PayoutTypeID + "'>" + msg0[i].PayoutType + "</option>";
            });
            $('#editpayoutType').html(option_html);
            if (componentGroupId == 45) {
                $(".popup_edit .inner_cont ul li:nth-child(6) select option:contains(" + PayoutType + ")").attr('selected', 'selected');
            }
            else {
                $(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + PayoutType + ")").attr('selected', 'selected');
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateEditMobileComponentDetails(PayoutType) {
    var option_html = '';

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            msg0 = msg.d[0];

            option_html = '';
            //For PayoutType
            $.each(msg0, function (i, data) {

                option_html += "<option value='" + msg0[i].PayoutTypeID + "'>" + msg0[i].PayoutType + "</option>";
            });
            $('#editMTpayoutType').html(option_html);
            $(".popup_edit .inner_cont ul li:nth-child(7) select option[value=" + PayoutType + "]").attr('selected', true);
            //$(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + PayoutType + ")").attr('selected', 'selected');
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateEditTransportComponentDetails(FrequencyType, BuscardAvailed, SpecialCaseReason, TransportationType, MonthName, PayrollYear) {
    var option_html = '';
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            msg0 = msg.d[0];
            msg1 = msg.d[1];
            msg2 = msg.d[2];
            msg3 = msg.d[3];
            msg4 = msg.d[4];
            msg5 = msg.d[5];


            option_html = '';
            //For FrequencyType
            $.each(msg0, function (i, data) {

                option_html += "<option value='" + msg0[i].FrequencyTypeID + "'>" + msg0[i].FrequencyType + "</option>";
            });
            $('#editFrequencyType').html(option_html);
            $(".popup_edit .inner_cont ul li:nth-child(5) select option:contains(" + FrequencyType + ")").attr('selected', true);

            option_html = '';
            //For SpecialCaseReason
            $.each(msg1, function (i, data) {
                //option_html += "<option value='-1'>--Select Specialcase reason--</option>";
                option_html += "<option value='" + msg1[i].SpecialCaseID + "'>" + msg1[i].SpecialCaseReason + "</option>";
            });
            $('#editspecialCaseReason').html(option_html);
            if (SpecialCaseReason != '') {
                $(".popup_edit .inner_cont ul li:nth-child(9) select option:contains(" + SpecialCaseReason + ")").attr('selected', true);
                $(".popup_edit .inner_cont ul .apprmailFra").show();
            }
            else {
                SpecialCaseReason = 'No';
                $(".popup_edit .inner_cont ul li:nth-child(9) select option:contains(" + SpecialCaseReason + ")").attr('selected', true);
                $(".popup_edit .inner_cont ul .apprmailFra").hide();
            }

            option_html = '';
            //For Trasnport Type
            $.each(msg2, function (i, data) {

                option_html += "<option value='" + msg2[i].TransportType + "'>" + msg2[i].TransportType + "</option>";
            });
            $('#editTransportationType').html(option_html);
            $(".popup_edit .inner_cont ul li:nth-child(4) select option:contains(" + TransportationType + ")").attr('selected', true);
            //$(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + PayoutType + ")").attr('selected', 'selected');

            option_html = '';
            //For SpecialCaseReason
            $.each(msg3, function (i, data) {

                option_html += "<option value='" + msg3[i].BusCardAvailedID + "'>" + msg3[i].BusCardAvailed + "</option>";
            });
            $('#editBuscardAvailed').html(option_html);
            $(".popup_edit .inner_cont ul li:nth-child(10) select option:contains(" + BuscardAvailed + ")").attr('selected', true);
            //$(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + PayoutType + ")").attr('selected', 'selected');

            option_html = '';
            //For Year
            $.each(msg4, function (i, data) {

                option_html += "<option value='" + msg4[i].Year + "'>" + msg4[i].Year + "</option>";
            });
            $('#edit_PayrollYear').html(option_html);
            $(".popup_edit .inner_cont ul li:nth-child(8) select option:contains(" + PayrollYear + ")").attr('selected', true);
            //$(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + PayoutType + ")").attr('selected', 'selected');

            option_html = '';
            //For PayrollMonth
            $.each(msg5, function (i, data) {

                option_html += "<option value='" + msg5[i].MonthID + "'>" + msg5[i].MonthName + "</option>";
            });
            $('#edit_PayrollMonth').html(option_html);
            $(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + MonthName + ")").attr('selected', true);
            //$(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + PayoutType + ")").attr('selected', 'selected');
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateEditTravelComponentDetails(FrequencyType, MonthName, PayrollYear) {
    var option_html = '';

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            msg0 = msg.d[0];
            msg1 = msg.d[1];
            msg2 = msg.d[2];
            msg3 = msg.d[3];
            msg4 = msg.d[4];
            msg5 = msg.d[5];


            option_html = '';
            //For FrequencyType
            $.each(msg0, function (i, data) {

                option_html += "<option value='" + msg0[i].FrequencyTypeID + "'>" + msg0[i].FrequencyType + "</option>";
            });
            $('#Travel_Frequency').html(option_html);
            $(".popup_edit .inner_cont ul li:nth-child(8) select option:contains(" + FrequencyType + ")").attr('selected', true);

            option_html = '';
            //For Year
            $.each(msg1, function (i, data) {

                option_html += "<option value='" + msg1[i].Year + "'>" + msg1[i].Year + "</option>";
            });
            $('#edit_PayrollYear').html(option_html);
            $(".popup_edit .inner_cont ul li:nth-child(8) select option:contains(" + PayrollYear + ")").attr('selected', true);
            //$(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + PayoutType + ")").attr('selected', 'selected');

            option_html = '';
            //For PayrollMonth
            $.each(msg2, function (i, data) {

                option_html += "<option value='" + msg2[i].MonthID + "'>" + msg2[i].MonthName + "</option>";
            });
            $('#edit_PayrollMonth').html(option_html);
            $(".popup_edit .inner_cont ul li:nth-child(8) select option:contains(" + MonthName + ")").attr('selected', true);
            //$(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + PayoutType + ")").attr('selected', 'selected');
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}



function PopulateEditShadowPayrollComponentDetails(MonthName, PayrollYear) {

    var option_html = '';

    var maritalstatus = 0;
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {

            if (msg.d.length > 0) {


                if (msg.d.length > 0) {

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#edit_AdvisedYear').html(year);
                    $(".popup_edit .inner_cont ul li:nth-child(4) select option:contains(" + PayrollYear + ")").attr('selected', true);


                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#edit_AdvisedMonth').html(month);
                    $(".popup_edit .inner_cont ul li:nth-child(3) select option:contains(" + MonthName + ")").attr('selected', true);


                    var currency = msg.d[3][0].Currency;
                    $('#edit_currency').html(currency);

                }

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });

}

function PopulateEditBearevementComponentDetails(MaritalStatus, Relationship, maritalid, RelationshipId) {

    var option_html = '';

    var componentGroupId = $('#bonus').val();
    var maritalstatus = 0;
    var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalid + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {

            if (msg.d.length > 0) {


                if (msg.d.length > 0) {

                    var maritalstatus = '';
                    maritalstatus += "<option value='-1'>--Select maritalstatus--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            maritalstatus += '<option value="' + data.MaritalID + '">' + data.MaritalName + '</option>';
                        });
                    }
                    $('#editB_maritalstatus ').html(maritalstatus);
                    $(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + MaritalStatus + ")").attr('selected', true);


                    var relationship = '';
                    relationship += "<option value='-1'>--Select relationship--</option>";
                    if (msg.d[5].length != 0) {
                        $.each(msg.d[5], function (i, data) {
                            relationship += '<option value="' + data.RelationshipID + '">' + data.RelationshipName + '</option>';
                        });
                    }
                    $('#B_ediRelationship').html(relationship);
                    $(".popup_edit .inner_cont ul li:nth-child(8) select").val(RelationshipId).attr('selected', true);


                }

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });

}

function PopulateEditmidyearComponentDetails(paymentdatetype) {

    var option_html = '';

    var maritalstatus = 0;
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {

            if (msg.d.length > 0) {


                if (msg.d.length > 0) {

                    var paymentdate = '';
                    paymentdate += "<option value='-1'>--Select payment date--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            paymentdate += '<option value="' + data.paymentdateID + '">' + data.Paymentdate + '</option>';
                        });
                    }
                    $('#edit_paymentdate').html(paymentdate);
                    if (componentGroupId >= 85 && componentGroupId <= 89) {
                        $(".popup_edit .inner_cont ul li:nth-child(13) select option:contains(" + paymentdatetype + ")").attr('selected', true);

                    }
                    else if (componentGroupId == 75 || (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71
                        || componentGroupId == 72 || componentGroupId == 74 || componentGroupId == 73 || ((componentGroupId == 3 || componentGroupId == 29
                            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {
                        $(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + paymentdatetype + ")").attr('selected', true);
                        // $(".popup_edit .inner_cont ul li:nth-child(10) select option:contains(" + paymentdatetype + ")").attr('selected', true);
                    }


                    else if (componentGroupId == 94) {
                        $(".popup_edit .inner_cont ul li:nth-child(9) select option:contains(" + paymentdatetype + ")").attr('selected', true);
                    }
                    else {
                        $(".popup_edit .inner_cont ul li:nth-child(6) select option:contains(" + paymentdatetype + ")").attr('selected', true);
                    }
                }

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });

}


function PopulatetravelindiaComponentDetails(paymentdatetype) {

    var option_html = '';

    var maritalstatus = 0;
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {

            if (msg.d.length > 0) {


                if (msg.d.length > 0) {

                    var paymentdate = '';
                    paymentdate += "<option value='-1'>--Select payment date--</option>";
                    if (msg.d[2].length != 0) {
                        $.each(msg.d[2], function (i, data) {
                            paymentdate += '<option value="' + data.paymentdateID + '">' + data.Paymentdate + '</option>';
                        });
                    }
                    $('#npPaymentDate').html(paymentdate);

                    if ((componentGroupId == 90 || componentGroupId == 91 || componentGroupId == 93 || componentGroupId == 92 ||
                        componentGroupId == 96 || componentGroupId == 97) && CountryId == 20) {
                        //$(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + paymentdatetype + ")").attr('selected', true);
                        $(".popup_edit .inner_cont ul li:nth-child(8) select option:contains(" + paymentdatetype + ")").attr('selected', true);
                    }
                    else if (componentGroupId == 95) {

                        //$(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + paymentdatetype + ")").attr('selected', true);
                        $(".popup_edit .inner_cont ul li:nth-child(8) select option:contains(" + paymentdatetype + ")").attr('selected', true);

                    }
                }

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });

}

function PopulateEditMiscellaneousComponentDetails() {

    var option_html = '';

    var maritalstatus = 0;
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {

            if (msg.d.length > 0) {


                if (msg.d.length > 0) {

                    var currency = '';
                    currency = msg.d[3][0].Currency;

                    $('#edit_Currency').html(currency);
                    //// $(".popup_edit .inner_cont ul li:nth-child(4) select option:contains(" + DeductionType + ")").attr('selected', true);


                }

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });

}

function ReplaceAmount(TransportationType, Amount, associateid, freqType) {
    var option_html = '';
    var componentGroupId = $('#bonus').val();
    const frequencTtype = document.getElementById('MTFrequencyType');
    //var freqtype = $('#editFrequencyType').val();
    if ($('#a_valid').hasClass('selected')) {
        var type = 1;
    }
    else {
        type = 2;
    }
    var datastring = '{"associateId":"' + associateid + '","componentGroupId":"' + componentGroupId + '","transportType":"' + TransportationType + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetAPACSchoolFeesAssociateDetails",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {

            if (msg.d[0][0].MonthlyAmount != '' && msg.d[0][0].MonthlyAmount != undefined && msg.d[0][0].MonthlyAmount != 0) {
                $('.popup_edit .innerErrorHolder').html("");
                monthlyamount = ($.trim(msg.d[0][0].MonthlyAmount));
                $('#WBamount').replaceWith("<label id='WBamountv' style='margin-left: 206px;margin-top: -30px;'></label>");
                $('#WBamountv').text($.trim(msg.d[0][0].MonthlyAmount));
                if (msg.d[0][0].MonthlyAmount != 0) {
                    FreqFlag = msg.d[0][0].MonthlyAmount;
                }
            }
            else {
                //if (freqType == "Yearly" && type == 1) {
                //    $('#WBamount').replaceWith("<label id='WBamountv' style='margin-left: 206px;margin-top: -30px;'></label>");
                //    $('#WBamountv').text(Amount);
                //}
                //else {
                $('#WBamount').val(Amount);
                //}
            }
        },
        error: function (xhr) {
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
        }
    });
}

function ReplaceAmount2(TransportationType, associateid) {
    var option_html = '';
    var componentGroupId = $('#bonus').val();
    var datastring = '{"associateId":"' + associateid + '","componentGroupId":"' + componentGroupId + '","transportType":"' + TransportationType + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetAPACSchoolFeesAssociateDetails",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {
            monthlyamount = msg.d[0][0].MonthlyAmount;

        },
        error: function (xhr) {
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
        }
    });

}

function ReplaceAmount3(TransportationType, associateid) {
    var option_html = '';
    var componentGroupId = $('#bonus').val();
    var datastring = '{"associateId":"' + associateid + '","componentGroupId":"' + componentGroupId + '","transportType":"' + TransportationType + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetAPACSchoolFeesAssociateDetails",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {
            monthlyamount_1 = msg.d[0][0].MonthlyAmount;

        },
        error: function (xhr) {
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
        }
    });

}

function PopulateEditRelocationComponentDetails(PayoutType, SpecialCaseReason) {
    var option_html = '';

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetRelocationDropdownDetailsNLD",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            msg0 = msg.d[0];
            msg1 = msg.d[3];

            option_html = '';

            //For PayoutType
            $.each(msg0, function (i, data) {

                option_html += "<option value='" + msg0[i].PayoutTypeID + "'>" + msg0[i].PayoutType + "</option>";
            });
            $('#editpayoutType').html(option_html);
            $(".popup_edit .inner_cont ul li:nth-child(6) select option:contains(" + PayoutType + ")").attr('selected', 'selected');

            option_html1 = '';
            //For PayoutType
            if (SpecialCaseReason != '') {
                option_html1 += "<option value=''>--Select--</option>";
                $.each(msg1, function (i, data) {

                    option_html1 += "<option value='" + msg1[i].SpecialCaseID + "'>" + msg1[i].SpecialCaseReason + "</option>";
                });
                $('#editspecialCaseReason').html(option_html1);
                $(".popup_edit .inner_cont ul li:nth-child(3) select option:contains(" + SpecialCaseReason + ")").attr('selected', 'selected');
            }
            else {
                option_html1 += "<option value=''>--Select--</option>";
                $.each(msg1, function (i, data) {

                    option_html1 += "<option value='" + msg1[i].SpecialCaseID + "'>" + msg1[i].SpecialCaseReason + "</option>";
                });
                $('#editspecialCaseReason').html(option_html1);
            }

            ////Year
            //option_html = '';
            //option_html += "<option value='-1'>--Select--</option>";
            ////For PayoutType
            //$.each(msg1, function (i, data) {

            //    option_html += "<option value='" + msg1[i].YearID + "'>" + msg1[i].Year + "</option>";
            //});
            //$('#edityear').html(option_html);
            //$('#edityear').find('option:nth-child(1)').attr('selected', 'selected');
            //$('#selectedityear').text($("#edityear option:selected").text());

            ////month
            //option_html = '';
            //option_html += "<option value='-1'>--Select--</option>";
            ////For PayoutType
            //$.each(msg2, function (i, data) {

            //    option_html += "<option value='" + msg2[i].MonthID + "'>" + msg2[i].MonthName + "</option>";
            //});
            //$('#editmonth').html(option_html);
            //$('#editmonth').find('option:nth-child(1)').attr('selected', 'selected');
            //$('#selecteditmonth').text($("#editmonth option:selected").text());


        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateEditSPComponentDetails(DayType, Criteria) {
    var option_html = '';

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownDetailsAPAC",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            msg0 = msg.d[0];
            msg1 = msg.d[1];

            option_html = '';

            //For PayoutType
            $.each(msg0, function (i, data) {

                option_html += "<option value='" + msg0[i].DayTypeID + "'>" + msg0[i].DayType + "</option>";
            });
            $('#editDayType').html(option_html);
            $(".popup_edit .inner_cont ul li:nth-child(3) select option:contains(" + DayType + ")").attr('selected', 'selected');

            option_html1 = '';
            //For PayoutType
            $.each(msg1, function (i, data) {

                option_html1 += "<option value='" + msg1[i].CriteriaID + "'>" + msg1[i].CriteriaType + "</option>";
            });
            $('#editCriteriaType').html(option_html1);
            $(".popup_edit .inner_cont ul li:nth-child(4) select option:contains(" + Criteria + ")").attr('selected', 'selected');


        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function PopulateEditComponentDetailsinsu(splcase) {
    var TaxSplcase = '';
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetNLDSSpecialCaseReason",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {
            msg1 = msg.d[0];

            TaxSplcase += "<option value='-1'>--Select Special Case Reason--</option>";
            $.each(msg1, function (i, data) {

                TaxSplcase += "<option value='" + msg1[i].CCodeId + "' pksplcase = '" + msg1[i].CDescription + "'>" + msg1[i].CDescription + "</option>";
            });
            $('#editinsurancesplcase').html(TaxSplcase);
            $('.popup_edit .inner_cont ul li:nth-child(7) select option:contains("' + splcase + '")').attr('selected', 'selected');

        }
    });

}

function PopulateEditLunchVoucher(splcase, type) {
    var TaxSplcase = '';
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';
    if (splcase == "") {
        splcase = -1;
    }
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetNLDSSpecialCaseReason",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {
            msg1 = msg.d[0];
            TaxSplcase = '';
            TaxSplcase += "<option value='-1' selected='Selected'>--Select Special Case Reason--</option>";
            $.each(msg1, function (i, data) {

                TaxSplcase += "<option value='" + msg1[i].CCodeId + "'>" + msg1[i].CDescription + "</option>";
            });
            $('#editLV_SplCase').html(TaxSplcase);
            if (type == 1) {
                $(".popup_edit .inner_cont ul li:nth-child(7) select option:contains('" + splcase + "')").attr('selected', 'selected');
            }
            else if (type == 2) {
                $(".popup_edit .inner_cont ul li:nth-child(9) select option:contains('" + splcase + "')").attr('selected', 'selected');
            }
        }
    });

}

function PopulateEditYearendbonus(type, BonustypeID) {

    var hiretypetxt = '';
    var bonustypetxt = '';
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '"}';

    //var bonustypeid='';

    if (BonustypeID == 1) {
        $('.span').html('');
        $('#EPP').append('<span style="color:red" class="span">*</span>');
    }
    else if (BonustypeID == 2) {
        $('.span').html('');
        $('#ETB').append('<span style="color:red" class="span">*</span>');
    }
    else if (BonustypeID == 3) {
        $('.span').html('');
        $('#ECP').append('<span style="color:red" class="span">*</span>');
    }
    else if (BonustypeID == 4) {
        $('.span').html('');
        $('#EPP').append('<span style="color:red" class="span">*</span>');
        $('#ETB').append('<span style="color:red" class="span">*</span>');
    }
    else if (BonustypeID == 5) {
        $('.span').html('');
        $('#EPP').append('<span style="color:red" class="span">*</span>');
        $('#ECP').append('<span style="color:red" class="span">*</span>');
    }
    else if (BonustypeID == 6) {
        $('.span').html('');
        $('#ETB').append('<span style="color:red" class="span">*</span>');
        $('#ECP').append('<span style="color:red" class="span">*</span>');
    }
    else if (BonustypeID == 7) {
        $('.span').html('');
        $('#EPP').append('<span style="color:red" class="span">*</span>');
        $('#ETB').append('<span style="color:red" class="span">*</span>');
        $('#ECP').append('<span style="color:red" class="span">*</span>');
    }

}

function populateEditLunchVoucherDays(AssociateID, PayrollMonth, Year) {
    var TaxSplcase = '';
    var componentGroupId = $('#bonus').val();
    var datastring = '{"associateId":"' + AssociateID + '","componentGroupId":"' + componentGroupId + '","payrollYear":"' + Year + '","payrollMonth":"' + PayrollMonth + '"}';
    if (Year != '' && PayrollMonth != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetCELunchVoucherLeaveDetails",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: false,
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    LV_ActualWorkingDays = msg.d[0][0].workingDays;
                    LV_EAMCFDays = msg.d[0][0].EAMCarryForwardLeavedays;
                }

            },
            error: function (xhr) {
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
}


function PopulateEditSAOComponentDetails(PaymentDate, Taxable) {

    var option_html = '';

    var maritalstatus = 0;
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {

            if (msg.d.length > 0) {
                //var year = '';
                // year += "<option value='-1'>--Select Year--</option>";
                // if (msg.d[0].length != 0) {
                //     $.each(msg.d[0], function (i, data) {
                //         year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                //     });
                // }
                // $('#edit_AdvisedYear').html(year);
                // $(".popup_edit .inner_cont ul li:nth-child(4) select option:contains(" + Year + ")").attr('selected', true);

                // var month = '';
                // month += "<option value='-1'>--Select Month--</option>";
                // if (msg.d[1].length != 0) {
                //     $.each(msg.d[1], function (i, data) {
                //         month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                //     });
                // }
                // $('#edit_AdvisedMonth').html(month);
                // $(".popup_edit .inner_cont ul li:nth-child(3) select option:contains(" + Month + ")").attr('selected', true);


                var paymentDate = '';
                paymentDate += "<option value='-1'>--Select PaymentDate--</option>";
                if (msg.d[2].length != 0) {
                    $.each(msg.d[2], function (i, data) {
                        paymentDate += '<option value="' + data.paymentdateID + '">' + data.Paymentdate + '</option>';
                    });
                }
                $('#edit_PaymentDate').html(paymentDate);
                $(".popup_edit .inner_cont ul li:nth-child(6) select option:contains(" + PaymentDate + ")").attr('selected', true);


                if (componentGroupId == 81) {

                    var taxable = '';
                    taxable += "<option value='-1'>--Select--</option>";
                    if (msg.d[3].length != 0) {
                        $.each(msg.d[3], function (i, data) {
                            taxable += '<option value="' + data.taxableId + '">' + data.Taxable + '</option>';
                        });
                    }
                    $('#edit_Taxable').html(taxable);
                    $(".popup_edit .inner_cont ul li:nth-last-child(2) select option:contains(" + Taxable + ")").attr('selected', true);
                }
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });

}
function PopulateEditLAAComponentDetails(Date) {

    var option_html = '';

    var maritalstatus = 0;
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {

            if (msg.d.length > 0) {

                var paymentDate = '';
                paymentDate += "<option value='-1'>--Select PaymentDate--</option>";
                if (msg.d[2].length != 0) {
                    $.each(msg.d[2], function (i, data) {
                        paymentDate += '<option value="' + data.paymentdateID + '">' + data.Paymentdate + '</option>';
                    });
                }
                $('#edit_PaymentDate').html(paymentDate);
                $(".popup_edit .inner_cont ul li:nth-child(7) select option:contains(" + Date + ")").attr('selected', true);

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });

}

function PopulateEditHDMFContributionComponentDetails(Date) {

    var option_html = '';

    var maritalstatus = 0;
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {

            if (msg.d.length > 0) {

                var paymentDate = '';
                paymentDate += "<option value='-1'>--Select PaymentDate--</option>";
                if (msg.d[2].length != 0) {
                    $.each(msg.d[2], function (i, data) {
                        paymentDate += '<option value="' + data.paymentdateID + '">' + data.Paymentdate + '</option>';
                    });
                }
                $('#edit_PaymentDate').html(paymentDate);
                $(".popup_edit .inner_cont ul li:nth-child(8) select option:contains(" + Date + ")").attr('selected', true);

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });

}


$(document).on('focusout', '#refrid', function () {
    var obj = $(this);

    var RefereeId = '';
    var len = $(this).parent().parent().prev('ul').find('li:first-child').has('input[type="text"]').length;
    if (len == 1) {
        RefereeId = $(this).parent().parent().prev('ul').find('li:first-child input').val();
    }
    else {
        RefereeId = $(this).parent().parent().prev('ul').find('li:first-child').children('span').text();
    }
    if (RefereeId != '') {
        var datastring = '{"referrerId":"' + $(this).val() + '","refereeId":"' + RefereeId + '"}';
        var err = $('.popup_new .innerErrorHolder').html();
        if ($(this).val() != '') {
            $.ajax({
                type: "POST",
                url: "../WebMethods.aspx/GetReferrerdetails",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d.length > 0) {
                        $('.popup_edit .innerErrorHolder').html("");
                        if (err == "Invalid Referrer and Referee ID") {
                            $('.popup_new .innerErrorHolder').html("Invalid Referee ID");
                            $('.popup_edit .innerErrorHolder').html("Invalid Referee ID");
                        }
                        else if (err == "") {
                            $('.popup_new .innerErrorHolder').html("Invalid Referrer ID");
                            $('.popup_edit .innerErrorHolder').html("Invalid Referrer ID");
                        }
                        else if (err != "Invalid Referee ID") {
                            $('.popup_new .innerErrorHolder').html("");
                            $('.popup_edit .innerErrorHolder').html("");
                        }
                        $('.popup_new .innerErrorHolder').html("");
                        $('.popup_edit .innerErrorHolder').html("");
                        if (msg.d[0].ASSOCIATE_ID != 1 && msg.d[0].ASSOCIATE_ID != 0) {
                            obj.parent().parent().find('li:nth-child(2) span').text($.trim(msg.d[0].Name));
                            var grade = (msg.d[0].JOBCODE.length > 20) ? msg.d[0].JOBCODE.substring(0, 20) + '...' : msg.d[0].JOBCODE;
                            obj.parent().parent().find('li:nth-child(3) span').text($.trim(grade));
                            obj.parent().parent().find('li:nth-child(3)').attr('livalue', msg.d[0].JOBCODE);
                            var dept = (msg.d[0].DEPARTMENT.length > 20) ? msg.d[0].DEPARTMENT.substring(0, 20) + '...' : msg.d[0].DEPARTMENT;
                            obj.parent().parent().find('li:nth-child(4) span').text($.trim(dept));
                            obj.parent().parent().find('li:nth-child(4)').attr('livalue', msg.d[0].DEPARTMENT);
                            //added by 388582
                            obj.parent().parent().find('li:nth-child(6) span').text($.trim(msg.d[0].SetID));
                            var ProjectId;
                            if (msg.d[0].ProjectId == null)
                                ProjectId = '';
                            else
                                ProjectId = $.trim(msg.d[0].ProjectId);
                            obj.parent().parent().parent().find('#refPjtId').text(ProjectId);
                            //end
                        }

                        else if (msg.d[0].ASSOCIATE_ID == 1) {
                            $('.popup_new .innerErrorHolder').html('Referee DOJ should not be greater than Referrer DOJ');
                            $('.popup_edit .innerErrorHolder').html('Referee DOJ should not be greater than Referrer DOJ');
                            $('#refrid').val('');
                            obj.parent().parent().find('li:nth-child(2) span').text("");
                            obj.parent().parent().find('li:nth-child(3) span').text("");
                            obj.parent().parent().find('li:nth-child(4) span').text("");
                        }
                        else if (msg.d[0].ASSOCIATE_ID == 0) {
                            $('.popup_new .innerErrorHolder').html('Invalid Referee ID');
                            $('.popup_edit .innerErrorHolder').html('Invalid Referee ID');
                            $('#refrid').val('');
                            obj.parent().parent().find('li:nth-child(2) span').text("");
                            obj.parent().parent().find('li:nth-child(3) span').text("");
                            obj.parent().parent().find('li:nth-child(4) span').text("");
                        }
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                    }
                    else {
                        if (err == "") {
                            $('.popup_new .innerErrorHolder').html("Invalid Referrer ID");
                            $('.popup_edit .innerErrorHolder').html("Invalid Referrer ID");
                        }
                        else if (err == "Invalid Referee ID") {
                            $('.popup_new .innerErrorHolder').html("Invalid Referrer and Referee ID");
                            $('.popup_edit .innerErrorHolder').html("Invalid Referrer and Referee ID");
                        }
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        obj.parent().parent().find('li:nth-child(2) span').text("");
                        obj.parent().parent().find('li:nth-child(3) span').text("");
                        obj.parent().parent().find('li:nth-child(4) span').text("");
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    $('.popup_new .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });
        }
    }
    else {
        $('.popup_new .innerErrorHolder').html("Please fill Referee ID first");
        $('.popup_new .innerErrorHolder').removeClass("green");
        $('.popup_new .innerErrorHolder').addClass("red");
        $(this).val('');
    }
});


$(document).on('focusout', '#joiningAssoId', function () {
    var obj = $(this);
    var assoid = $(this).val();
    var componentGroupId = $('#bonus').val();
    var datastring = '{"associateId":"' + assoid + '","componentGroupId":"' + componentGroupId + '"}';
    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateDetailsforJB",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {

                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("")
                        obj.parent().parent().find('li:nth-child(2) span').text($.trim(msg.d[0].Name));
                        obj.parent().parent().find('li:nth-child(4) span').text($.trim(msg.d[0].DateOfJoining));
                        obj.parent().parent().find('li:nth-child(5) input').val($.trim(msg.d[0].Project_ID));
                        var grade = (msg.d[0].JOBCODE.length > 20) ? msg.d[0].JOBCODE.substring(0, 20) + '...' : msg.d[0].JOBCODE;
                        obj.parent().parent().find('li:nth-child(8) span').text($.trim(grade));
                        obj.parent().parent().find('li:nth-child(8)').attr('livalue', msg.d[0].JOBCODE);
                        obj.parent().parent().find('li:nth-child(9) span').text($.trim(msg.d[0].COMPANY));
                        obj.parent().parent().find('li:nth-child(10) span').text($.trim(msg.d[0].SETID));
                    }
                    else if (msg.d[0].STATUS == 0) {
                        var error = msg.d[0].ERRORMESSAGE;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        obj.parent().parent().find('li:nth-child(2) span').text("");
                        obj.parent().parent().find('li:nth-child(4) span').text("");
                        obj.parent().parent().find('li:nth-child(5) span').text("");
                        obj.parent().parent().find('li:nth-child(8) span').text("");
                        obj.parent().parent().find('li:nth-child(9) span').text("");
                        obj.parent().parent().find('li:nth-child(10) span').text("");
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                }
                else {
                    $('.popup_new .innerErrorHolder').html("Invalid Associate ID");
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    obj.parent().parent().find('li:nth-child(2) span').text("");
                    obj.parent().parent().find('li:nth-child(4) span').text("");
                    obj.parent().parent().find('li:nth-child(5) span').text("");
                    obj.parent().parent().find('li:nth-child(10) span').text("");
                    obj.parent().parent().find('li:nth-child(11) span').text("");
                    obj.parent().parent().find('li:nth-child(12) span').text("");
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#APACSchoolfeesAssoId', function () {
    var obj = $(this);
    var assoid = $(this).val();
    var componentGroupId = $('#bonus').val();
    var transportType = '';
    var datastring = '{"associateId":"' + assoid + '","componentGroupId":"' + componentGroupId + '","transportType":"' + transportType + '"}';
    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAPACSchoolFeesAssociateDetails",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {

                if (msg.d.length > 0) {
                    if (msg.d[0][0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("")
                        obj.parent().parent().find('li:nth-child(2) span').text($.trim(msg.d[0][0].Name));

                    }
                    else if (msg.d[0][0].STATUS == 0) {
                        var error = msg.d[0][0].ERRORMESSAGE;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        obj.parent().parent().find('li:nth-child(2) span').text("");
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if (msg.d[1][0].Status == 'Success') {

                        var list = '';
                        var list1 = '';
                        var list3 = '';
                        list += '<iframe id="frameSF" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe>';
                        if (msg.d[1][0].FileUploadID == 0) {

                            list1 += '<li style="padding-top:5px;"><div id="SF_aft_upload"></div></li>';
                        }
                        else {
                            var val = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + msg.d[1][0].FileUploadID + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + msg.d[1][0].FileUploadID + "\" style='margin-top: -20px; margin-left: 100px;' /></a>";
                            list1 += '<li style="padding-top:5px;"><div id="SF_aft_upload" style="width:180px">' + val + '</div></li>';
                        }
                        list3 += '<label>MailValidityEndDate <span class="red">*</span></label><input type="text" id="ValidityEndDate" value="' + msg.d[1][0].MailValidityEndDate + '" class="popup_date" style="width:137px;height:20px;margin-left: -30px;"/>'


                        $('#ValidityEndDate').text($.trim(msg.d[1][0].MailValidityEndDate));

                        $('#MailAttachSF').css('display', 'block');
                        $('#MailAttachSF').html(list);

                        $('#SF_Afterupload').css('display', 'block');
                        $('#SF_Afterupload').html(list1);

                        $('#SF_ValidityEndDate').css('display', 'block');
                        $('#SF_ValidityEndDate').html(list3);

                        //$('#Mandatory').css('display', 'none');                        
                    }
                    else if (msg.d[1][0].Status == 'New' || msg.d[1][0].Status == 'Fail') {
                        var list = '';
                        var list1 = '';
                        var list3 = '';
                        list += '<iframe id="frameSF" src="../APAC_FileUpload.aspx" width="340px" height="40px" frameborder="0" allowtransparency="true"></iframe>';

                        list1 += '<li style="padding-top:5px;"><div id="SF_aft_upload"></div></li>';

                        list3 += '<label>MailValidityEndDate <span class="red">*</span></label><input type="text" id="ValidityEndDate" class="popup_date" style="width:137px;height:20px;margin-left: -30px;"/>'


                        $('#MailAttachSF').css('display', 'block');
                        $('#MailAttachSF').html(list);

                        $('#SF_Afterupload').css('display', 'block');
                        $('#SF_Afterupload').html(list1);

                        $('#SF_ValidityEndDate').css('display', 'block');
                        $('#SF_ValidityEndDate').html(list3);

                        $('#SFApprovalMailLabel').css('display', 'block');
                    }
                    else {
                        $('.popup_new .innerErrorHolder').html("Invalid Associate ID");
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        obj.parent().parent().find('li:nth-child(2) span').text("");
                    }
                }
                else {
                    $('.popup_new .innerErrorHolder').html("Invalid Associate ID");
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    obj.parent().parent().find('li:nth-child(2) span').text("");
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('change', '#MTSpecialCaseReason', function () {
    var obj = $(this);
    var Specialcasereason = $(this).val();
    if (Specialcasereason == 0 || Specialcasereason == '-1' || Specialcasereason == 2) {
        checkmultipletrnsport = 0;
    }
    else {
        checkmultipletrnsport = 1;
    }
    var componentGroupId = $('#bonus').val();
    if (Specialcasereason == 1) {
        $('#TransportType').show();
        $('#MonthlyAmount').show();
        $('#PassNumber').show();
        $('#FrequencyType2').show();
        $('#textmsg').show();
        $('.inner_cont').css("height", "505px");
        $('.popup_new .scrollbar').css("display", "block");
        //$('.popup_new').tinyscrollbar({ sizethumb: 22 });
        $('.apprmailFra').show();
    }
    else {
        $('#TransportType').hide();
        $('#MonthlyAmount').hide();
        $('#PassNumber').hide();
        $('#FrequencyType2').hide();
        //$('#textmsg').hide();
        $('.inner_cont').css("height", "351px");
        $('.popup_new .scrollbar').css("display", "none");
        $('.apprmailFra').hide();
    }

});
$(document).on('change', '#editspecialCaseReason', function () {
    var Specialcasereason = $(this).val();
    if (Specialcasereason == 1) {
        $('.apprmailFra').show();
    }
    else {
        $('.apprmailFra').hide();
    }
});
$(document).on('change', '#MTTransportationType', function () {
    FileUploadID = '';
    MailUploadID = '';
    SplCaseMail = '';
    var obj = $(this);
    var transportType = $(this).val();
    var componentGroupId = $('#bonus').val();
    var assoid = $('#MT_associateid').text();
    $('#amountLabel').html('Amount Paid(Monthly amount)<span class="red">*</span>');
    const frequencTtype = document.getElementById('MTFrequencyType');
    if (frequencTtype) {
        frequencTtype.disabled = false;
        frequencTtype.value = 1;
    }
    if (frequencTtype == '-1') {
        frequencTtype.disabled = false;
        frequencTtype.value = 1;
    }
    $('#PassNumber_1').val('');
    var datastring = '{"associateId":"' + assoid + '","componentGroupId":"' + componentGroupId + '","transportType":"' + transportType + '"}';
    if ($(this).val() != '-1' && $(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAPACSchoolFeesAssociateDetails",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[1].length > 0) {
                        if (msg.d[1][0].PassNumber != '' && msg.d[1][0].PassNumber != undefined && msg.d[1][0].PassNumber != 0) {
                            $('.popup_new .innerErrorHolder').html("");
                            $('#PassNumber_1').val($.trim(msg.d[1][0].PassNumber));

                        }
                        else {
                            $('#PassNumber_1').val('');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                    }

                    if (msg.d[0].length > 0) {
                        if (msg.d[0][0].MonthlyAmount != '' && msg.d[0][0].MonthlyAmount != undefined && msg.d[0][0].MonthlyAmount != 0) {
                            $('.popup_new .innerErrorHolder').html("");
                            $('#ADmonthlyamount').replaceWith("<label id='ADmonthlyamountv' style='margin-left:-20px;'></label>");
                            $('#ADmonthlyamountv').text($.trim(msg.d[0][0].MonthlyAmount));
                            if (msg.d[0][0].MonthlyAmount != 0) {
                                frequencTtype.disabled = true;
                                frequencTtype.value = 3;
                                $('#amountLabel').html('Amount Paid(Annual amount)<span class="red">*</span>');
                            }

                        }
                        else {
                            $('#ADmonthlyamountv').replaceWith("<input class='M_40 new_upload' id='ADmonthlyamount' type='text' maxlength='11' onkeypress='return allowValuesAfterDecimal(event, id, 8, 2)' style='margin-left:-23px;' ></input>");
                        }
                    }
                }

            },
            error: function (xhr) {
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
    else {
        $('#ADmonthlyamountv').replaceWith("<input class='M_40 new_upload' id='ADmonthlyamount' type='text' maxlength='11' onkeypress='return allowValuesAfterDecimal(event, id, 8, 2)' style='margin-left:-23px;' ></input>");
    }
});
$(document).on('change', '#FrequencyType_2', function () {
    const frequencTtype2 = $(this).val();
    if (frequencTtype2 == '3') {
        $('#amountLabelFreq').html('Amount Paid(Annual amount)<span class="red">*</span>');
    }
    if (frequencTtype2 == '1' || frequencTtype2 == '2') {
        $('#amountLabelFreq').html('Amount Paid(Monthly amount)<span class="red">*</span>');
    }
});
function disableFreqtype() {
    //let attempts =0
    let checkdropdown = setInterval(() => {
        const frequencTtype = document.getElementById('editFrequencyType');
        if (frequencTtype) {
            if (FreqFlag != 0) {
                frequencTtype.disabled = true;
                FreqFlag = 0;
            }
            clearInterval(checkdropdown);
        }
        //attempts++;
        //if (attempts >= 10) {
        //    clearInterval(checkdropdown);
        //    }
    }, 500);
}

$(document).on('change', '#MTTransportationType_1', function () {
    var obj = $(this);
    var transportType = $(this).val();
    var componentGroupId = $('#bonus').val();
    var assoid = $('#MT_associateid').text();
    $('#PassNumber_2').val('');
    $('#amountLabelFreq').html('Amount Paid(Monthly amount)<span class="red">*</span>');
    const frequenctype2 = document.getElementById('FrequencyType_2');
    if (frequenctype2) {
        frequenctype2.disabled = false;
        frequenctype2.value = 1;
        const selectedIndex = frequenctype2.selectedIndex;
    }
    if (frequenctype2 == '-1') {
        frequenctype2.disabled = false;
        frequenctype2.value = 1;
    }
    var datastring = '{"associateId":"' + assoid + '","componentGroupId":"' + componentGroupId + '","transportType":"' + transportType + '"}';
    if ($(this).val() != '-1' && $(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAPACSchoolFeesAssociateDetails",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {

                if (msg.d.length > 0) {
                    if (msg.d[1].length > 0) {
                        if (msg.d[1][0].PassNumber != '' && msg.d[1][0].PassNumber != undefined && msg.d[1][0].PassNumber != 0) {
                            $('.popup_new .innerErrorHolder').html("");
                            $('#PassNumber_2').val($.trim(msg.d[1][0].PassNumber));


                        }
                        else {
                            $('#PassNumber_2').val('');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                    }

                    if (msg.d[0].length > 0) {
                        if (msg.d[0][0].MonthlyAmount != '' && msg.d[0][0].MonthlyAmount != undefined && msg.d[0][0].MonthlyAmount != 0) {
                            $('.popup_new .innerErrorHolder').html("");
                            $('.popup_new .innerErrorHolder').html("");
                            $('#AD_monthlyamount_1').replaceWith("<label id='AD_monthlyamount_1v' style='margin-left:-12px;'></label>");
                            $('#AD_monthlyamount_1v').text($.trim(msg.d[0][0].MonthlyAmount));
                            if (msg.d[0][0].MonthlyAmount != 0) {
                                frequenctype2.disabled = true;
                                frequenctype2.value = 3;
                                $('#amountLabelFreq').html('Amount Paid(Annual amount)<span class="red">*</span>');
                            }
                        }
                        else {
                            $('#AD_monthlyamount_1v').replaceWith("<input class='M_40 new_upload' style='margin-left:-10px;' id='AD_monthlyamount_1' type='text' maxlength='11' onkeypress='return allowValuesAfterDecimal(event, id, 8, 2)'></input>");
                        }
                    }
                }

            },
            error: function (xhr) {
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
    else {
        $('#AD_monthlyamount_1v').replaceWith("<input class='M_40 new_upload' id='AD_monthlyamount_1' type='text' maxlength='11' onkeypress='return allowValuesAfterDecimal(event, id, 8, 2)' style='margin-left:-23px;' ></input>");
    }
});

$(document).on('change', '#editTransportationType', function () {
    var obj = $(this);
    var transportType = $(this).val();
    var componentGroupId = $('#bonus').val();
    var amount = $('#WBamount').val();
    var freqtype = $('#editFreqType').text();
    const frequencTtype = document.getElementById('editFrequencyType');
    if (frequencTtype) {
        frequencTtype.disabled = false;
        frequencTtype.value = 1;
    }
    if (transportType == '-1') {
        frequencTtype.disabled = false;
    }

    if ($('#a_valid').hasClass('selected')) {
        var type = 1;
    }
    else {
        type = 2;
    }
    if (trans_monthlyamount == '' || trans_monthlyamount == undefined || trans_monthlyamount == 'undefined') {
        trans_monthlyamount = '';
    }
    $('#TR_PassNumber').val('');
    var assoid = $('#TR_assoid').text();
    var datastring = '{"associateId":"' + assoid + '","componentGroupId":"' + componentGroupId + '","transportType":"' + transportType + '"}';
    if ($(this).val() != '-1' && $(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAPACSchoolFeesAssociateDetails",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0][0].MonthlyAmount != '' && msg.d[0][0].MonthlyAmount != undefined && msg.d[0][0].MonthlyAmount != 0) {
                        $('.popup_edit .innerErrorHolder').html("");
                        $('.popup_edit .innerErrorHolder').html("");
                        $('#WBamount').replaceWith("<label id='WBamountv' style='margin-left: 206px;margin-top: -30px;'></label>");
                        $('#WBamountv').text($.trim(msg.d[0][0].MonthlyAmount));
                        if (msg.d[0][0].MonthlyAmount != 0) {
                            $('#editFrequencyType').attr('disabled', 'disabled');
                            $('#editFrequencyType').val('3');
                        }
                        else {
                            $('#editFrequencyType').removeAttr('disabled');
                        }
                    }
                    else {
                        if (freqtype == "Yearly" && type == 1) {
                            $('#WBamount').replaceWith("<label id='WBamountv' style='margin-left: 206px;margin-top: -30px;'></label>");
                            $('#WBamountv').text(trans_monthlyamount);
                        }
                        else {

                            $('#WBamountv').replaceWith("<input class='M_40 new_upload' id='WBamount' type='text' maxlength='11' onkeypress='return allowValuesAfterDecimal(event, id, 8, 2)' style='margin-left:-23px;width: 85px;' value='" + trans_monthlyamount + "' ></input>");
                        }
                    }
                    var editpassNumber = msg?.d?.[1]?.[0]?.PassNumber;
                    if (editpassNumber !== '' && editpassNumber != null && editpassNumber !== 0) {
                        $('.popup_edit .innerErrorHolder').html('');
                        $('#TR_PassNumber').val(String(editpassNumber).trim());
                    }
                    else {
                        $('#TR_PassNumber').val('');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                }

            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            },
            complete: function () {
                var editPayrollMonth = $("#edit_PayrollMonth").val()
                var editFrequencyType = $("#editFrequencyType").val()
                var editTransportationType = $("#editTransportationType").val()
                var editPayrollYear = $("#edit_PayrollYear").val()
                var editpkey = $(".popup_edit .inner_cont ul").attr("pkey")
                IsAssociateExist(editTransportationType, editPayrollMonth, editPayrollYear, editFrequencyType, editpkey, 0);
            },
        });
    }
    else {
        $('#WBamountv').replaceWith("<input class='M_40 new_upload' id='WBamount' type='text' maxlength='11' onkeypress='return allowValuesAfterDecimal(event, id, 8, 2)' style='margin-left:-23px;width: 85px;' value='" + trans_monthlyamount + "' ></input>");
    }
});
$(document).on('focusout', '#SchoolfeeAssoId', function () {
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("");
                        obj.parent().parent().find('li:nth-child(2) span').text($.trim(msg.d[0].Name));
                        obj.parent().parent().find('li:nth-child(4) span').text($.trim(msg.d[0].DateOfJoining));
                    }
                    else if (msg.d[0].STATUS == 0) {
                        var error = msg.d[0].ERRORMESSAGE;
                        //$('.popdivcontedit').text('').css('color', 'green').text(error);
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        obj.parent().parent().find('li:nth-child(2) span').text("");
                        obj.parent().parent().find('li:nth-child(4) span').text("");
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();

                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});
$(document).on('focusout', '#RB_refeid', function () {
    var obj = $(this);
    var refeid = $(this).val();
    var componentGroupId = $('#bonus').val();

    RB_UKAmount(refeid, componentGroupId);

});

function RB_UKAmount(refeid, componentGroupId) {
    var datastring = '{"associateId":"' + refeid + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';

    if (refeid != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("");

                        $('#UK_Referrername').text(msg.d[0].AssociateName);
                        $('#RB_Amount').text(msg.d[0].FixedAmount);
                    }
                    else if (msg.d[0].STATUS == 0) {
                        var error = msg.d[0].ERRORMESSAGE;
                        //$('.popdivcontedit').text('').css('color', 'green').text(error);
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        obj.parent().parent().find('li:nth-child(2) span').text("");
                        obj.parent().parent().find('li:nth-child(4) span').text("");
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();

                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
}

//$(document).on("change", "#displayrecords", function () {
$(document).on('change', '#MTFrequencyType', function () {
    var obj = $(this);
    var frequencyType = $(this).val();
    var componentGroupId = $('#bonus').val();
    var assoid = $('#MT_associateid').text();
    if (frequencyType == '1' || frequencyType == '2') {
        $('#amountLabel').html('Amount Paid(Monthly amount)<span class="red">*</span>');
    } else if (frequencyType == '3') {
        $('#amountLabel').html('Amount Paid(Annual amount)<span class="red">*</span>');
    }
    else {
        $('#amountLabel').html('Amount Paid<span class="red">*</span>');
    }
    if ($(this).val() == 3) {

        ////starts here 
        var payrollmonth = $('#MTPayrollMonth').val();
        var payrollyear = $('#MTPayrollYear').val();
        ////var startdate = payrollmonth + "/" + 1 + "/" + payrollyear;

        //$("#MB_enddate").datepicker("destroy");
        //$("#MB_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var startdate = payrollmonth + "/" + 1 + "/" + payrollyear;

        //$("#MB_enddate").datepicker("destroy");


        //$("#MB_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "" });
        var today = new Date();
        var BPSmaxDate = new Date(startdate);

        var year = BPSmaxDate.getFullYear();
        var leapyear = (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
        var prevmonth = (BPSmaxDate.getMonth()) - 1;
        if (prevmonth == "0" || prevmonth == "2" || prevmonth == "4" || prevmonth == "6" || prevmonth == "7" || prevmonth == "9" || prevmonth == "11") {
            BPSmaxDate.setMonth(prevmonth, 31);
        }
        else if ((prevmonth == "1") && (leapyear == false)) {
            BPSmaxDate.setMonth(prevmonth, 28);
        }
        else if ((prevmonth == "1") && (leapyear == true)) {
            BPSmaxDate.setMonth(prevmonth, 29);
        }
        else {
            BPSmaxDate.setMonth(prevmonth, 30);
        }
        BPSmaxDate = new Date(BPSmaxDate.getTime() + 24 * 60 * 60 * 1000);
        var toDate = new Date(BPSmaxDate);
        toDate.setFullYear(BPSmaxDate.getFullYear() + 1);
        toDate = new Date(toDate.getTime() - 24 * 60 * 60 * 1000);
        var month_1 = toDate.getMonth() + 1;
        var date1 = 1;
        toDate = date1 + "/" + month_1 + "/" + toDate.getFullYear();
        ////toDate = toDate.getMonth() + 1 + "/" + toDate.getDate() + "/" + toDate.getFullYear();
        //if (toDate == "NaN/NaN/NaN") {
        //    $("#MB_enddate").text('');
        //}
        //else {
        //    $("#MB_enddate").append($.trim(toDate));
        //}



        ////toDate = 1 + "/" + date + "/" + toDate.getFullYear();

        var message = "Your transportation allowance will be automatically processed every month till December " + payrollyear + "";
        messageflag = 1;
        succpopup_1(message);
    }
});

$(document).on('change', '#editFrequencyType', function () {
    var obj = $(this);
    var frequencyType = $(this).val();
    var componentGroupId = $('#bonus').val();
    var assoid = $('#MT_associateid').text();
    if (frequencyType == '1' || frequencyType == '2') {
        $('#amountLabeledit').html('Amount Paid(Monthly amount)<span class="red">*</span>');
    } else if (frequencyType == '3') {
        $('#amountLabeledit').html('Amount Paid(Annual amount)<span class="red">*</span>');
    }
    //else{
    //    $('#amountLabeledit').html('Amount Paid<span class="red">*</span>');
    //}
});
$(document).on('change', '#LV_PayrollMonth,#LV_Year', function () {

    var componentGroupId = $('#bonus').val();
    var assoid = $('#LVAssoId').text();
    var payrollYear = $('#LV_Year option:selected').val();
    var payrollMonth = $('#LV_PayrollMonth').val();
    var splcase = $('#LV_SpecialCase').val();
    LV_LeaveDays = $('#LV_LeaveDays').val();
    LV_HolidaysWorked = $('#LV_Holidays').val();
    LV_TrainingDays = $('#LV_Training').val();
    $('#LV_TotalDays').text('');

    if (LV_LeaveDays == "" || LV_LeaveDays == undefined) {
        LV_LeaveDays = 0;
    }

    if (LV_HolidaysWorked == "" || LV_HolidaysWorked == undefined) {
        LV_HolidaysWorked = 0;
    }

    if (LV_TrainingDays == "" || LV_TrainingDays == undefined) {
        LV_TrainingDays = 0;
    }
    var datastring = '{"associateId":"' + assoid + '","componentGroupId":"' + componentGroupId + '","payrollYear":"' + payrollYear + '","payrollMonth":"' + payrollMonth + '"}';
    if (payrollYear != '-1' && payrollMonth != '-1') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetCELunchVoucherLeaveDetails",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    LV_ActualWorkingDays = msg.d[0][0].workingDays;
                    LV_EAMCFDays = msg.d[0][0].EAMCarryForwardLeavedays;
                    LV_LwdDate = msg.d[0][0].LWDDate;
                    if (splcase == 4) {
                        if (LV_LwdDate == '' || LV_LwdDate == null) {
                            $('#AttachUL1').css('display', 'block');
                        } else {
                            $('#AttachUL1').css('display', 'none');
                        }
                    }
                    LV_EligibleVouchers = LV_ActualWorkingDays - parseInt(LV_LeaveDays) - parseInt(LV_TrainingDays) + parseInt(LV_HolidaysWorked);
                    if ((LV_EligibleVouchers != '' || LV_EligibleVouchers != undefined || LV_EligibleVouchers != 0)
                    ) {
                        $('#LV_TotalDays').text(LV_EligibleVouchers);
                        $('#LV_EAMCFDays').text(LV_EAMCFDays);
                    }
                    else {
                        $('#LV_TotalDays').text('');
                    }
                    $('.popup_new .innerErrorHolder').html("");

                }

            },
            error: function (xhr) {
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }

});

function LV_EligibleVoucherDetails(evt) {
    LV_LeaveDays = $('#LV_LeaveDays').val();
    LV_HolidaysWorked = $('#LV_Holidays').val();
    LV_TrainingDays = $('#LV_Training').val();
    var payrollYear = $('#LV_Year option:selected').val();
    var payrollMonth = $('#LV_PayrollMonth').val();
    if (LV_LeaveDays == "" || LV_LeaveDays == undefined) {
        LV_LeaveDays = 0;
    }

    if (LV_HolidaysWorked == "" || LV_HolidaysWorked == undefined) {
        LV_HolidaysWorked = 0;
    }

    if (LV_TrainingDays == "" || LV_TrainingDays == undefined) {
        LV_TrainingDays = 0;
    }

    LV_EligibleVouchers = LV_ActualWorkingDays - parseInt(LV_LeaveDays) - parseInt(LV_TrainingDays) + parseInt(LV_HolidaysWorked);

    if ((LV_EligibleVouchers != '' || LV_EligibleVouchers != undefined || LV_EligibleVouchers != 0) && (payrollYear != '-1' && payrollMonth != '-1')) {
        $('#LV_TotalDays').text(LV_EligibleVouchers);
    }
    else {
        $('#LV_TotalDays').text('');
    }
}

function EditLV_EligibleVoucherDetails(evt) {
    LV_LeaveDays = $('#LV_EditLeaveDays').val();
    LV_HolidaysWorked = $('#LV_EditHolidays').val();
    LV_TrainingDays = $('#LV_EditTrainingDays').val();

    if (LV_LeaveDays == "" || LV_LeaveDays == undefined) {
        LV_LeaveDays = 0;
    }

    if (LV_HolidaysWorked == "" || LV_HolidaysWorked == undefined) {
        LV_HolidaysWorked = 0;
    }

    if (LV_TrainingDays == "" || LV_TrainingDays == undefined) {
        LV_TrainingDays = 0;
    }

    LV_EligibleVouchers = LV_ActualWorkingDays - parseInt(LV_LeaveDays) - parseInt(LV_TrainingDays) + parseInt(LV_HolidaysWorked);

    if (LV_EligibleVouchers != '' || LV_EligibleVouchers != undefined || LV_EligibleVouchers != 0) {
        $('#LV_editTotalDays').text(LV_EligibleVouchers);
    }
    else {
        $('#LV_editTotalDays').text('');
    }
}

$(document).on('focusout', '#CESchoolfeesAssoId', function () {
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    // childtype is hardcoded for 1 as default
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '","isActive":"0","childType":"1"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetCEAssociateNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0][0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("");
                        obj.parent().parent().find('li:nth-child(2) span').text($.trim(msg.d[0][0].AssociateName));
                    }
                    else if (msg.d[0][0].STATUS == 0) {
                        var error = msg.d[0][0].ERRORMESSAGE;
                        //$('.popdivcontedit').text('').css('color', 'green').text(error);
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        obj.parent().parent().find('li:nth-child(2) span').text("");
                        obj.parent().parent().find('li:nth-child(4) span').text("");
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }

                    if (msg.d[1][0].Status != 0) {
                        $('#CE_startdate').replaceWith("<span class='M_40 SFdate' data='0' id='CE_StartdateLbl'></span>");
                        $('#CE_StartdateLbl').text($.trim(msg.d[1][0].StartDate));
                        $('#CE_enddate').replaceWith("<span class='M_40 SFdate' data='0' id='CE_EnddateLbl'></span>");
                        $('#CE_EnddateLbl').text($.trim(msg.d[1][0].Enddate));
                    }
                    else {
                        $('#CE_StartdateLbl').replaceWith("<input type='text' id='CE_startdate' value='' class='popup_date SFdate' data='1' style='width:100px;height:20px;' />");
                        $('#CE_EnddateLbl').replaceWith("<input type='text' id='CE_enddate' value='' class='popup_date SFdate' data='1' style='width:100px;height:20px;'/>");

                    }

                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#SP_associateid', function () {
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("");
                        $("#SP_associatename").text($.trim(msg.d[0].Name));
                        if (componentGroupId == 59) {
                            $("#SP_associatename").text($.trim(msg.d[0].Name));

                        }
                        // obj.parent().parent().find('li:nth-child(2) span').text($.trim(msg.d[0].Name));

                    }
                    else if (msg.d[0].STATUS == 0) {
                        var error = msg.d[0].ERRORMESSAGE;
                        //$('.popdivcontedit').text('').css('color', 'green').text(error);
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $("#SP_associatename").text("");
                        //obj.parent().parent().find('li:nth-child(2) span').text("");

                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();

                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#associateid,#HT_associateid,#AD_associateid,#YEB_AssoId,#RecAssoId,#B_AssoId', function () {
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        if (componentGroupId == 42 || componentGroupId == 26 || componentGroupId == 27 || componentGroupId == 25 || componentGroupId == 51
                            || componentGroupId == 59 || componentGroupId == 30 | componentGroupId == 58) {
                            $('.popup_new .innerErrorHolder').html("");
                            obj.parent().parent().find('li:nth-child(2) span').text($.trim(msg.d[0].AssociateName));
                            if (componentGroupId == 51) {
                                $('#WBAssoname').text($.trim(msg.d[0].AssociateName));
                                $('#WBDOJ').text($.trim(msg.d[0].DateOfJoining));
                            }
                            else if (componentGroupId == 59) {
                                $('#YEB_Assoname').text($.trim(msg.d[0].AssociateName));
                            }
                            else if (componentGroupId == 30) {
                                $('#RecAssoname').text($.trim(msg.d[0].AssociateName));
                            }
                        }
                        else {
                            $('.popup_new .innerErrorHolder').html("");
                            obj.parent().parent().find('li:nth-child(4) span').text($.trim(msg.d[0].Name));
                        }

                    }
                    else if (msg.d[0].STATUS == 0) {
                        var error = msg.d[0].ERRORMESSAGE;
                        //$('.popdivcontedit').text('').css('color', 'green').text(error);
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        obj.parent().parent().find('li:nth-child(4) span').text("");

                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();

                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#OC_associateid', function () {
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("");
                        $('#OC_associatename').text($.trim(msg.d[0].AssociateName));

                    }
                    else if (msg.d[0].STATUS == 0) {
                        var error = msg.d[0].ERRORMESSAGE;
                        //$('.popdivcontedit').text('').css('color', 'green').text(error);
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        obj.parent().parent().find('li:nth-child(2) span').text("");
                        obj.parent().parent().find('li:nth-child(4) span').text("");
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();

                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#projectid', function () {
    var obj = $(this);
    var associateid = $('#OC_associateid').text();
    var componentGroupId = $('#bonus').val();
    var startdate = $('#OC_startdate').val();
    var enddate = $('#OC_enddate').val();
    var daytype = $('#OTDayType').val();
    var datastring = '{"associateid":"' + associateid + '","projectID":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '", "startdate":"' + startdate + '","enddate":"' + enddate + '","daytype":"' + daytype + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAccountNameDetails",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].ERRORMESSAGE == '' || msg.d[0].ERRORMESSAGE == undefined) {
                        $('.popup_new .innerErrorHolder').html("");
                        $('#OC_accountname').text($.trim(msg.d[0].CUSTOMER));
                        $('#OC_accountname').find('customerid').val($.trim(msg.d[0].CUSTOMERID));
                        // $('#OC_accountname').attr('customerid').val($.trim(msg.d[0].CUSTOMERID));

                    }
                    else if (msg.d[0].ERRORMESSAGE != '' || msg.d[0].ERRORMESSAGE != undefined) {
                        var error = msg.d[0].ERRORMESSAGE;
                        //$('.popdivcontedit').text('').css('color', 'green').text(error);
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        obj.parent().parent().find('li:nth-child(2) span').text("");
                        obj.parent().parent().find('li:nth-child(4) span').text("");
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();

                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#refeid', function () {
    var obj = $(this);
    var datastring = '{"refereeId":"' + $(this).val() + '"}';
    var err = "";
    err = $('.popup_new .innerErrorHolder').html();
    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../WebMethods.aspx/GetRefreedetails",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {

                if (msg.d.length > 0) {
                    if (err == "Invalid Referrer and Referee ID") {
                        $('.popup_new .innerErrorHolder').html("Invalid Referrer ID");
                    }
                    else if (err != "Invalid Referrer ID") {
                        $('.popup_new .innerErrorHolder').html("");
                    }

                    obj.parent().parent().find('li:nth-child(2) span').text($.trim(msg.d[0].Name));
                    var grade = (msg.d[0].JOBCODE.length > 20) ? msg.d[0].JOBCODE.substring(0, 20) + '...' : msg.d[0].JOBCODE;
                    obj.parent().parent().find('li:nth-child(3) span').text($.trim(grade));
                    obj.parent().parent().find('li:nth-child(3)').attr('livalue', msg.d[0].JOBCODE);
                    var dept = (msg.d[0].DEPARTMENT.length > 20) ? msg.d[0].DEPARTMENT.substring(0, 20) + '...' : msg.d[0].DEPARTMENT;
                    obj.parent().parent().find('li:nth-child(4) span').text($.trim(dept));
                    obj.parent().parent().find('li:nth-child(4)').attr('livalue', msg.d[0].DEPARTMENT);
                    obj.parent().parent().find('li:nth-child(5) span').text($.trim(msg.d[0].DateOfJoining));
                }
                else {
                    if (err == "") {
                        $('.popup_new .innerErrorHolder').html("Invalid Referee ID");
                    }
                    else if (err == "Invalid Referrer ID") {
                        $('.popup_new .innerErrorHolder').html("Invalid Referrer and Referee ID");
                    }
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    obj.parent().parent().find('li:nth-child(2) span').text("");
                    obj.parent().parent().find('li:nth-child(3) span').text("");
                    obj.parent().parent().find('li:nth-child(4) span').text("");
                    obj.parent().parent().find('li:nth-child(5) span').text("");
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#refereeid', function () {
    var obj = $(this);
    var datastring = '{"refereeId":"' + $(this).val() + '"}';
    var err = "";
    err = $('.popup_new .innerErrorHolder').html();
    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../WebMethods.aspx/GetRefreedetails",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {

                if (msg.d.length > 0) {

                    $('#UK_refereename').text(msg.d[0].Name);
                    $('#UK_RBDOJ').text(msg.d[0].DateOfJoining);
                    $('#UK_Department').text(msg.d[0].DEPARTMENT);
                    $('#UK_JobFamily').text(msg.d[0].JobFamily);


                }
                else {
                    if (err == "") {
                        $('.popup_new .innerErrorHolder').html("Invalid Referee ID");
                    }
                    else if (err == "Invalid Referrer ID") {
                        $('.popup_new .innerErrorHolder').html("Invalid Referrer and Referee ID");
                    }
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    obj.parent().parent().find('li:nth-child(2) span').text("");
                    obj.parent().parent().find('li:nth-child(3) span').text("");
                    obj.parent().parent().find('li:nth-child(4) span').text("");
                    obj.parent().parent().find('li:nth-child(5) span').text("");
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('click', '#btn_save', function () {

    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    var componentGroupId = $('#bonus').val();
    var type = '';
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    else if ($('#a_otherGeo').hasClass('selected')) {
        type = 3;
    }

    var error = '';
    var mailUploadId = ''
    if (ocm == "1") {
        if ($("#aft_uploadocm").attr("fileuploadid")) {
            GetFileFromSession();
            mailUploadId = FileUploadID;
            splcasemailId = FileUploadID;
            TMmailUploadId = MailUploadID;
        } else {
            mailUploadId = "";
            splcasemailId = "";
            TMmailUploadId = "";
            invoiceUploadId = "";
            declUploadId = "";
        }
    }
    else {
        if ($("#aft_uploadocm").attr("fileuploadid")) {
            GetFileFromSession();
            mailUploadId = FileUploadID;
            splcasemailId = FileUploadID;
            TMmailUploadId = MailUploadID;
        } else {
            mailUploadId = "";
            splcasemailId = "";
            TMmailUploadId = "";
            invoiceUploadId = "";
            declUploadId = "";
        }
    }

    //if (isNaN(mailUploadId))
    //    mailUploadId = 0;
    //if (isNaN(splcasemailId))
    //    splcasemailId = 0;
    //if (isNaN(TMmailUploadId))
    //    TMmailUploadId = 0;

    if (typeof mailUploadId === 'undefined' || mailUploadId == "undefined") {
        mailUploadId = 0;
    }

    if (typeof TMmailUploadId === 'undefined' || TMmailUploadId == "undefined") {
        TMmailUploadId = 0;
    }

    if (typeof splcasemailId === 'undefined' || splcasemailId == "undefined") {
        splcasemailId = 0;
    }

    var schoolFeesReceiptID = 0;
    var approvalMailSF = 0;
    var transportMailUploadID = 0;
    var transportInvoiceUploadID = 0

    schoolFeesReceiptID = $(".popup_new #aft_upload1 a").attr("fileuploadid");
    if (typeof schoolFeesReceiptID === 'undefined') {
        schoolFeesReceiptID = 0;
    }

    //Approval Mail
    transportMailUploadID = $(".popup_new #aft_upload3 a").attr("fileuploadid");
    if (typeof transportMailUploadID === 'undefined') {
        transportMailUploadID = 0;
    }
    transportInvoiceUploadID
    //INVoice
    transportInvoiceUploadID = $(".popup_new #aft_uploadMBInvoice a").attr("fileuploadid");
    if (typeof transportInvoiceUploadID === 'undefined') {
        transportInvoiceUploadID = 0;
    }
    var certificateID = 0;
    //INVoice
    certificateID = ocm == "0" ? $(".popup_new #aft_uploadocm a").attr("fileuploadid") : $(".popup_new #aft_uploadocm a").attr("fileuploadid");
    if (typeof certificateID === 'undefined') {
        certificateID = 0;
    }
    approvalMailSF = $(".popup_new #SF_aft_upload a").attr("fileuploadid");
    if (typeof approvalMailSF === 'undefined') {
        approvalMailSF = 0;
    }

    if (componentGroupId == 2 && (CountryId != 18 && CountryId != 19 && CountryId != 20)) {//ReferralBonus

        var objul1 = $(this).closest('.popup_new').find('.inner_cont ul:nth-child(1)');
        var refereeAssoId = objul1.find('li:nth-child(1) input').val();
        var refereeBGStats = objul1.find('li:nth-child(6) select').val();

        var objul2 = $(this).closest('.popup_new').find('.inner_cont ul:nth-child(2)');
        var referrerAssoId = objul2.find('li:nth-child(1) input').val();
        var referrerBGStats = objul2.find('li:nth-child(5) select').val();

        //added by 388582
        var SetId = objul2.find('li:nth-child(6) span').text();

        var objul3 = $(this).closest('.popup_new').find('.inner_cont ul:nth-child(3)');
        var amount = objul3.find('li:nth-child(1) input').val();
        var specialCase = objul3.find('li:nth-child(3) select').val();
        var remarks = objul3.find('li:nth-child(4) textarea').text();

        //added by 388582
        var ProjectId = objul3.find('li:nth-child(2) input').val();

        if ($.trim(amount) == '' || $.trim(referrerAssoId) == '' || referrerBGStats == -1 || refereeBGStats == -1 || $.trim(referrerAssoId) == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        //added by 388582
        else if (SetId == '') {
            $('.popup_new .innerErrorHolder').text('SetId is not available for the Referror');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if ($.trim(referrerAssoId) == $.trim(refereeAssoId)) {
                error += 'ReferrerId and ReferreeId should not be same' + ',';
            }
            if (isNaN(amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if (isNaN(referrerAssoId)) {
                error += 'ReferrerId is invalid' + ',';
            }
            if (isNaN(refereeAssoId)) {
                error += 'RefereeId is invalid' + ',';
            }
            if ($.trim(remarks).match(/[<>%]/g)) {
                error += 'Please enter valid Remarks' + ',';
            }
            //if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
            //    error += 'Please enter a valid ProjectId' + ',';
            //}
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","refereeAssoId":"' + refereeAssoId + '","amount":"' + amount + '","projectId":"' + ProjectId + '","remarks":"' + remarks + '","referrerAssoId":"' + referrerAssoId + '","specialCaseReason":"' + specialCase + '","referrerBGStats":"' + referrerBGStats + '","refereeBGStats":"' + refereeBGStats + '","mailUploadId":"' + mailUploadId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveReferralNewData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                            $('#a_valid').addClass('selected');
                            $('#a_exceptions').removeClass('selected');
                            $('#a_otherGeo').removeClass('selected');
                            if ($('#a_valid').hasClass('selected')) {
                                type = 1;
                            }
                            else if ($('#a_exceptions').hasClass('selected')) {
                                type = 2;
                            }
                            else if ($('#a_otherGeo').hasClass('selected')) {
                                type = 3;
                            }
                            $("#dwnload_Data").show();
                            $("#dwnload_Datadivider").show();
                        }
                        else if (msg.d == 'Referrer belongs to Other Geography') {

                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Referrer belongs to Other Geography');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                            $('#a_valid').removeClass('selected');
                            $('#a_exceptions').removeClass('selected');
                            $('#a_otherGeo').addClass('selected');
                            //$(".delete_btn").css("margin-left", "81px");
                            $(".new_btn").hide();
                            $("#dwnload_Data").hide();
                            $("#dwnload_Datadivider").show();
                            if ($('#a_valid').hasClass('selected')) {
                                type = 1;
                            }
                            else if ($('#a_exceptions').hasClass('selected')) {
                                type = 2;
                            }
                            else if ($('#a_otherGeo').hasClass('selected')) {
                                type = 3;
                            }
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                            $("#dwnload_Data").show();
                            $("#dwnload_Datadivider").show();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();// RB
                            }
                            else if (type == 3) {
                                BindOtherGeoGridtbl();
                            }
                        }
                        else {
                            keyPrsEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if (componentGroupId == 2 && (CountryId == 18 || CountryId == 19)) {//ReferralBonus

        var objul1 = $(this).closest('.popup_new').find('.inner_cont ul:nth-child(1)');
        var bulkupload = 2;
        var refereeAssoId = $('#refereeid').val();
        var refereerAssoId = $('#RB_refeid').val();
        var amount = $('#RB_Amount').text();
        var doj = $('#UK_RBDOJ').text();
        var department = $('#UK_Department').text();
        var jobfamily = $('#UK_JobFamily').text();
        var currency = $('#RB_Currency').text();
        var hiringmanager = $('#RB_HiringManager').val();
        var hiringreason = $('#RB_HireReason').val();
        var comments = $('#RB_Comments').val();
        var advisedmonth = $('#SBAdvisedMonth').val();
        var advisedyear = $('#SBYear').val();
        var pkey = 0;
        if ($.trim(amount) == '' || $.trim(refereeAssoId) == '' || advisedyear == -1 || advisedmonth == -1 || $.trim(refereerAssoId) == '' || hiringmanager == '' || hiringreason == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        //added by 388582

        else {

            //if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
            //    error += 'Please enter a valid ProjectId' + ',';
            //}
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","refereeAssoId":"' + refereeAssoId + '","refereerAssoId":"' + refereerAssoId + '","amount":"' + amount + '","doj":"' + doj + '","department":"' + department + '","jobfamily":"' + jobfamily + '","currency":"' + currency + '", "hiringmanager":"' + hiringmanager + '","hiringreason":"' + hiringreason + '","comments":"' + comments + '","advisedmonth":"' + advisedmonth + '","advisedyear":"' + advisedyear + '","bulkupload":"' + bulkupload + '","pkey":"' + pkey + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveUKIReferralNewData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                            $('#a_valid').addClass('selected');
                            $('#a_exceptions').removeClass('selected');
                            $('#a_otherGeo').removeClass('selected');
                            if ($('#a_valid').hasClass('selected')) {
                                type = 1;
                            }
                            else if ($('#a_exceptions').hasClass('selected')) {
                                type = 2;
                            }
                            else if ($('#a_otherGeo').hasClass('selected')) {
                                type = 3;
                            }
                            $("#dwnload_Data").show();
                            $("#dwnload_Datadivider").show();
                        }
                        else if (msg.d == 'Referrer belongs to Other Geography') {

                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Referrer belongs to Other Geography');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                            $('#a_valid').removeClass('selected');
                            $('#a_exceptions').removeClass('selected');
                            $('#a_otherGeo').addClass('selected');
                            //$(".delete_btn").css("margin-left", "81px");
                            $(".new_btn").hide();
                            $("#dwnload_Data").hide();
                            $("#dwnload_Datadivider").show();
                            if ($('#a_valid').hasClass('selected')) {
                                type = 1;
                            }
                            else if ($('#a_exceptions').hasClass('selected')) {
                                type = 2;
                            }
                            else if ($('#a_otherGeo').hasClass('selected')) {
                                type = 3;
                            }
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                            $("#dwnload_Data").show();
                            $("#dwnload_Datadivider").show();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();// RB
                            }
                            else if (type == 3) {
                                BindOtherGeoGridtbl();
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }

    }
    else if (componentGroupId == 3 && CountryId != 20) {//JoiningBonus
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var Amount = obj.find('li:nth-child(3) input').val();
        var ProjectId = obj.find('li:nth-child(5) input').val();
        var remarks = obj.find('li:nth-child(12) textarea').text();
        var BGstatus = obj.find('li:nth-child(6) select').val();
        var recruitmentType = obj.find('li:nth-child(7) select').val();
        var specialCase = obj.find('li:nth-child(11) select').val();


        if ($.trim(Amount) == '' || $.trim(associateId) == '' || BGstatus == -1 || recruitmentType == -1) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }
            if ($.trim(remarks).match(/[<>%]/g)) {
                error += 'Please enter valid Remarks' + ',';
            }
            if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
                error += 'Please enter a valid ProjectId' + ',';
            }
            else {
                var datastring = '{"projectID":"' + ProjectId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../WebMethods.aspx/CheckValidProjectID",
                    data: datastring,
                    contentType: "application/json; charset=utf-8",
                    async: false,
                    cache: false,
                    dataType: "json",
                    success: function (msg) {
                        projStatus = msg.d;
                        //alert(assStatus);
                        if (projStatus == 0) {
                            error += 'Please enter a valid ProjectId' + ','
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount":"' + Amount + '","remarks":"' + remarks + '","backgroundStatus":"' + BGstatus + '","recruitmentType":"' + recruitmentType + '","specialCase":"' + specialCase + '","projectId":"' + ProjectId + '","mailUploadId":"' + mailUploadId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveJoiningNewData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if (componentGroupId == 17) {//SAR
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var AccountType = 0;
        var GuestHouse = '';
        if (CountryId == 8) {
            var associateId = obj.find('li:nth-child(1) input').val();
            GuestHouse = obj.find('li:nth-child(3) select').val();
            var OccupancyType = obj.find('li:nth-child(4) select').val();
            var ProjectId = obj.find('li:nth-child(5) input').val();
            var StartDate = obj.find('li:nth-child(6) input').val();
            var EndDate = obj.find('li:nth-child(7) input').val();
            var TotalDays = obj.find('li:nth-child(8) input').val();
            var CurrencyCode = obj.find('li:nth-child(9) select').val();
            var Specialcasereason = obj.find('li:nth-child(10) select').val();
        }
        else {
            var associateId = obj.find('li:nth-child(1) input').val();
            var OccupancyType = obj.find('li:nth-child(3) select').val();
            var ProjectId = obj.find('li:nth-child(4) input').val();
            var StartDate = obj.find('li:nth-child(5) input').val();
            var EndDate = obj.find('li:nth-child(6) input').val();
            var TotalDays = obj.find('li:nth-child(7) input').val();
            var CurrencyCode = obj.find('li:nth-child(8) select').val();
            var Specialcasereason = obj.find('li:nth-child(9) select').val();
            if (CountryId == 2) {
                AccountType = obj.find('li:nth-child(10) select').val();
            }
        }

        if ($.trim(associateId) == '' || ($.trim(GuestHouse) == '' && (CountryId == 8)) || $.trim(OccupancyType) == '' || $.trim(OccupancyType) == '-1' || $.trim(ProjectId) == '' || $.trim(StartDate) == '' || $.trim(EndDate) == '' || CurrencyCode == '-1' || TotalDays == '' || ((AccountType == '-1') && (CountryId == 2)) || mailUploadId == 0) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }

            if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
                error += 'Please enter a valid ProjectId' + ',';
            }
            else {
                var datastring = '{"projectID":"' + ProjectId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../WebMethods.aspx/CheckValidProjectID",
                    data: datastring,
                    contentType: "application/json; charset=utf-8",
                    async: false,
                    cache: false,
                    dataType: "json",
                    success: function (msg) {
                        projStatus = msg.d;
                        //alert(assStatus);
                        if (projStatus == 0) {
                            error += 'Please enter a valid ProjectId' + ','
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","guesthouse":"' + GuestHouse + '","occupancyType":"' + OccupancyType + '","startDate":"' + StartDate + '","endDate":"' + EndDate + '","totalDays":"' + TotalDays + '","currencyCode":"' + CurrencyCode + '","projectId":"' + ProjectId + '","mailUploadId":"' + mailUploadId + '","accountType":"' + AccountType + '","specialcasereason":"' + Specialcasereason + '"}';

                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveSARNewData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#aid1').val() == '' || $('#aid2').val() == ''
                            || $('#bid').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if (componentGroupId == 18 && CountryId == 2) {//SF
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var Amount1 = obj.find('li:nth-child(3) input').val();
        var Amount2 = obj.find('li:nth-child(5) input').val();
        var payrollmonth = obj.find('li:nth-child(6) select').val();


        if ($.trim(Amount1) == '' || $.trim(associateId) == '' || payrollmonth == -1 || mailUploadId == 0) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount1)) {
                error += 'Please enter a valid Amount for Child1' + ',';
            }
            else if (Amount1 < 0) {
                error += 'Amount for Child1 cannot be negative' + ',';
            }
            else if (Amount1 == 0) {
                error += 'Amount for Child1 cannot be zero' + ',';
            }
            if (isNaN(Amount2)) {
                error += 'Please enter a valid Amount for Child2 ' + ',';
            }
            else if (Amount2 < 0) {
                error += 'Amount for Child2 cannot be negative' + ',';
            }
            else if (Amount2 == 0 && Amount2 != '') {
                error += 'Amount for Child2 cannot be zero' + ',';
            }
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }


            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount1":"' + Amount1 + '","amount2":"' + Amount2 + '","payrollMonth":"' + payrollmonth + '","mailUploadId":"' + mailUploadId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveSchoolFeeNewData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 18 && (CountryId != 2 && CountryId != 14 && CountryId != 15 && CountryId != 16 && CountryId != 17)) {//APAC SF

        //var mailUploadId = ''
        //mailUploadId = $("#splCaseMailUpload").parent().attr("fileuploadid");
        //var splcasemailId = '';
        //splcasemailId = $("#splCaseMailUpload1").parent().attr("fileuploadid");

        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var Amount1 = obj.find('li:nth-child(5) input').val();
        var Amount2 = obj.find('li:nth-child(6) input').val();
        var payrollmonth = obj.find('li:nth-child(3) select').val();
        var year = obj.find('li:nth-child(4) option:selected').text();

        var mailEndDate = $('#ValidityEndDate').val();

        //if (mailUploadId == 'undefined' || splcasemailId == 'undefined') {
        //    $('.popup_new .innerErrorHolder').text('Please Select the File');
        //}

        if ($.trim(Amount1) == '' || $.trim(associateId) == '' || payrollmonth == -1 || year == -1 || (approvalMailSF == 0 && mailEndDate == '') || mailEndDate == 'undefined' || schoolFeesReceiptID == 0) {
            // || mailUploadId == 0 || mailEndDate ==''           
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }

        else {
            if (isNaN(Amount1)) {
                error += 'Please enter a valid Amount for Child1' + ',';
            }
            else if (Amount1 < 0) {
                error += 'Amount for Child1 cannot be negative' + ',';
            }
            else if (Amount1 == 0) {
                error += 'Amount for Child1 cannot be zero' + ',';
            }
            if (isNaN(Amount2)) {
                error += 'Please enter a valid Amount for Child2 ' + ',';
            }
            else if (Amount2 < 0) {
                error += 'Amount for Child2 cannot be negative' + ',';
            }
            else if (Amount2 == 0 && Amount2 != '') {
                error += 'Amount for Child2 cannot be zero' + ',';
            }


            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }


            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount1":"' + Amount1 + '","amount2":"' + Amount2 + '","payrollMonth":"' + payrollmonth + '","year":"' + year + '","mailUploadId":"' + approvalMailSF + '","mailValidityEndDate":"' + mailEndDate + '","schoolFeesReceipt":"' + schoolFeesReceiptID + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveAPACSchoolFeeNewData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 18 && (CountryId == 14 || CountryId == 15 || CountryId == 16 || CountryId == 17)) {//CE SF

        var invoiceUploadId = ''
        if (ocm == "1") {
            invoiceUploadId = FileUploadID;
        }
        else {
            invoiceUploadId = FileUploadID;
        }
        var installment = '';
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var child = obj.find('li:nth-child(3) select').val();
        var Amount = obj.find('li:nth-child(4) input').val();

        if (obj.find('li:nth-child(5) .SFdate').attr('data') == 0) {
            startdate = obj.find('li:nth-child(5) span').text();
            enddate = obj.find('li:nth-child(6) span').text();
        }
        else {
            startdate = obj.find('li:nth-child(5) input').val();
            enddate = obj.find('li:nth-child(6) input').val();
        }
        //var startdate = obj.find('li:nth-child(5) input').val();
        //var enddate = obj.find('li:nth-child(6) input').val();
        var freqType = obj.find('li:nth-child(7) select').val();
        var year = obj.find('li:nth-child(9) option:selected').text();
        if (CountryId == 14 || CountryId == 15 || CountryId == 16) {
            installment = obj.find('li:nth-child(10) select').val();
        }
        else if (CountryId == 17) {
            installment = '1';
        }

        if (freqType == 3) {
            var freqSelect = obj.find('li:nth-child(8) select option:selected').text()
        } else {
            var freqSelect = obj.find('li:nth-child(8) select').val();
        }

        //if (mailUploadId == 'undefined' || splcasemailId == 'undefined') {
        //    $('.popup_new .innerErrorHolder').text('Please Select the File');
        //}

        if ($.trim(Amount) == '' || $.trim(associateId) == '' || child == -1 || freqType == -1 || freqSelect == -1 || year == -1 ||
            $.trim(startdate) == '' || $.trim(enddate) == '' || invoiceUploadId == 0 || invoiceUploadId == undefined
            || installment == -1) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }

        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount ' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }

            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount":"' + Amount + '","child":"' + child + '","startDate":"' + startdate + '","endDate":"' + enddate + '","frequencyType":"' + freqType + '","frequencySelect":"' + freqSelect + '","year":"' + year + '","invoiceUploadId":"' + invoiceUploadId + '","installment":"' + installment + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveCESchoolFeeNewData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid1').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if (componentGroupId == 19 && CountryId == 2) {//Additional Payout
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(3) input').val();
        var Amount = obj.find('li:nth-child(6) input').val();
        var ProjectId = obj.find('li:nth-child(5) input').val();
        var CurrencyCode = obj.find('li:nth-child(2) select').val();
        var PayoutType = obj.find('li:nth-child(1) select').val();
        var specialCase = obj.find('li:nth-child(9) select').val();
        if ($.trim(Amount) == '' || $.trim(associateId) == '' || CurrencyCode == -1 || PayoutType == -1 || mailUploadId == 0) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }
            if ($.trim(remarks).match(/[<>%]/g)) {
                error += 'Please enter valid Remarks' + ',';
            }
            if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
                error += 'Please enter a valid ProjectId' + ',';
            }
            else {
                var datastring = '{"projectID":"' + ProjectId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../WebMethods.aspx/CheckValidProjectID",
                    data: datastring,
                    contentType: "application/json; charset=utf-8",
                    async: false,
                    cache: false,
                    dataType: "json",
                    success: function (msg) {
                        projStatus = msg.d;
                        //alert(assStatus);
                        if (projStatus == 0) {
                            error += 'Please enter a valid ProjectId' + ','
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount":"' + Amount + '","currencyCode":"' + CurrencyCode + '","payoutType":"' + PayoutType + '","specialCase":"' + specialCase + '","projectId":"' + ProjectId + '","mailUploadId":"' + mailUploadId + '","splcasemailId":"' + splcasemailId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveAdditionalPayoutNewData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid1').val() == '' || $('#aid2').val() == ''
                            || $('#bid1').val() == '' || $('#bid2').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if (componentGroupId == 19 && CountryId != 2) {//Additional Payout

        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(3) input').val();
        var Amount = obj.find('li:nth-child(6) input').val();
        var ProjectId = obj.find('li:nth-child(5) input').val();
        var CurrencyCode = obj.find('li:nth-child(2) select').val();
        var PayoutType = obj.find('li:nth-child(1) select').val();
        var Month = obj.find('li:nth-child(7) select').val();
        var Year = obj.find('li:nth-child(8) select').val();
        var specialCase = obj.find('li:nth-child(9) select').val();
        var installments = obj.find('li:nth-child(10) select').val();
        if ($.trim(Amount) == '' || $.trim(associateId) == '' || CurrencyCode == -1 || PayoutType == -1 || installments == -1 || Month == -1 || Year == -1 || mailUploadId == 0) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if (specialCase != -1 && splcasemailId == 0) {
                error += 'Please Attach Special Case Mail';
            }
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }
            if ($.trim(remarks).match(/[<>%]/g)) {
                error += 'Please enter valid Remarks' + ',';
            }
            if (ProjectId == '' || ProjectId == 0 || ProjectId == 'undefined') {
                ProjectId = '';
            }
            else {
                if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
                    error += 'Please enter a valid ProjectId' + ',';
                }


                else {
                    var datastring = '{"projectID":"' + ProjectId + '"}';
                    $.ajax({
                        type: "POST",
                        url: "../WebMethods.aspx/CheckValidProjectID",
                        data: datastring,
                        contentType: "application/json; charset=utf-8",
                        async: false,
                        cache: false,
                        dataType: "json",
                        success: function (msg) {
                            projStatus = msg.d;
                            //alert(assStatus);
                            if (projStatus == 0) {
                                error += 'Please enter a valid ProjectId' + ','
                            }
                        },
                        error: function (xhr) {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                        }
                    });
                }
            }
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount":"' + Amount + '","currencyCode":"' + CurrencyCode + '","payoutType":"' + PayoutType + '","specialCase":"' + specialCase + '","projectId":"' + ProjectId + '","mailUploadId":"' + mailUploadId + '","payrollMonth":"' + Month + '","year":"' + Year + '","installments":"' + installments + '","splcasemailId":"' + splcasemailId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveAPACAdditionalPayoutNewData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid1').val() == '' || $('#aid2').val() == ''
                            || $('#bid1').val() == '' || $('#bid2').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if (componentGroupId == 20 && CountryId == 2) {//Additional Deduction        
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var DeductionType = obj.find('li:nth-child(2) select').val();
        var Amount = obj.find('li:nth-child(3) input').val();
        var ProjectId = obj.find('li:nth-child(4) input').val();
        var Installments = obj.find('li:nth-child(5) select').val();
        var CurrencyCode = obj.find('li:nth-child(6) select').val();
        if ($.trim(Amount) == '' || $.trim(associateId) == '' || DeductionType == -1 || Installments == -1 || CurrencyCode == -1 || mailUploadId == 0) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }
            if (DeductionType != "Salary Advance") {
                if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
                    error += 'Please enter a valid ProjectId' + ',';
                }
                else {
                    var datastring = '{"projectID":"' + ProjectId + '"}';
                    $.ajax({
                        type: "POST",
                        url: "../WebMethods.aspx/CheckValidProjectID",
                        data: datastring,
                        contentType: "application/json; charset=utf-8",
                        async: false,
                        cache: false,
                        dataType: "json",
                        success: function (msg) {
                            projStatus = msg.d;
                            //alert(assStatus);
                            if (projStatus == 0) {
                                error += 'Please enter a valid ProjectId' + ','
                            }
                        },
                        error: function (xhr) {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                        }
                    });
                }
            }
            else if (DeductionType = "Salary Advance") {

                if (ProjectId == '' || ProjectId == 0 || ProjectId == 'undefined') {
                    ProjectId = 0;
                }
                else {
                    if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
                        error += 'Please enter a valid ProjectId' + ',';
                    }

                    else {
                        var datastring = '{"projectID":"' + ProjectId + '"}';
                        $.ajax({
                            type: "POST",
                            url: "../WebMethods.aspx/CheckValidProjectID",
                            data: datastring,
                            contentType: "application/json; charset=utf-8",
                            async: false,
                            cache: false,
                            dataType: "json",
                            success: function (msg) {
                                projStatus = msg.d;
                                //alert(assStatus);
                                if (projStatus == 0) {
                                    error += 'Please enter a valid ProjectId' + ','
                                }
                            },
                            error: function (xhr) {
                                $('.popup_edit .innerErrorHolder').removeClass("green");
                                $('.popup_edit .innerErrorHolder').addClass("red");
                                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                            }
                        });
                    }
                }
            }
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount":"' + Amount + '","deductionType":"' + DeductionType + '","installments":"' + Installments + '","currencyCode":"' + CurrencyCode + '","projectId":"' + ProjectId + '","mailUploadId":"' + mailUploadId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveAdditionDeductionNewData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if (componentGroupId == 20 && CountryId != 2) {//Additional Deduction
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');


        var DeductionType = obj.find('li:nth-child(1) select').val();
        var associateId = obj.find('li:nth-child(3) input').val();
        var ProjectId = obj.find('li:nth-child(5) input').val();
        var Amount = obj.find('li:nth-child(6) input').val();
        var payrollMonth = obj.find('li:nth-child(7) select').val();
        var payrollYear = obj.find('li:nth-child(8) select').val();

        var specialcasereason = obj.find('li:nth-child(10) select').val();
        if (specialcasereason == -1 || specialcasereason == undefined)
            var specialcasereason = 0;
        var CurrencyCode = obj.find('li:nth-child(2) select').val();
        if ($.trim(Amount) == '' || $.trim(associateId) == '' || DeductionType == -1 || payrollMonth == -1 || payrollMonth == -1 || CurrencyCode == -1 || mailUploadId == 0) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }

            //if (DeductionType = "Salary Advance") {

            if (ProjectId == '' || ProjectId == 0 || ProjectId == 'undefined') {
                ProjectId = '';
            }
            else {
                if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
                    error += 'Please enter a valid ProjectId' + ',';
                }

                else {
                    var datastring = '{"projectID":"' + ProjectId + '"}';
                    $.ajax({
                        type: "POST",
                        url: "../WebMethods.aspx/CheckValidProjectID",
                        data: datastring,
                        contentType: "application/json; charset=utf-8",
                        async: false,
                        cache: false,
                        dataType: "json",
                        success: function (msg) {
                            projStatus = msg.d;
                            //alert(assStatus);
                            if (projStatus == 0) {
                                error += 'Please enter a valid ProjectId' + ','
                            }
                        },
                        error: function (xhr) {
                            $('.popup_edit .innerErrorHolder').removeClass("green");
                            $('.popup_edit .innerErrorHolder').addClass("red");
                            $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                        }
                    });
                }
            }
            //}
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount":"' + Amount + '","deductionType":"' + DeductionType + '","currencyCode":"' + CurrencyCode + '","projectId":"' + ProjectId + '","payrollMonth":"' + payrollMonth + '","payrollYear":"' + payrollYear + '","specialcasereason":"' + specialcasereason + '","mailUploadId":"' + mailUploadId + '","splcasemailId":"' + splcasemailId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveAdditionDeductionNewDataAPAC",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if ((componentGroupId == 24 || componentGroupId == 23) && CountryId == 6) {//parking allowacne
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var payrollmonth = obj.find('li:nth-child(3) select').val();
        var year = obj.find('li:nth-child(4) option:selected').text();
        //var Amount = obj.find('li:nth-child(5) input').val(); // amt shld taken from policy 

        var mailEndDate = $('#ValidityEndDate').val();

        if ($.trim(associateId) == '' || payrollmonth == -1 || year == -1 || mailUploadId == 0 || mailEndDate == '') {
            // 
            //if (mailEndDate == '')
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","payrollMonth":"' + payrollmonth + '","year":"' + year + '","mailUploadId":"' + mailUploadId + '","mailValidityEndDate":"' + mailEndDate + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveParkingNewData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if (componentGroupId == 28) {//in city
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var Projectid = obj.find('li:nth-child(1) input').val();
        var startdate = obj.find('li:nth-child(2) input').val();
        var enddate = obj.find('li:nth-child(3) input').val();
        var clientaddress = obj.find('li:nth-child(4) input').val();
        var officelocation = obj.find('li:nth-child(5) select').val();

        if ($.trim(Projectid) == '' || $.trim(startdate) == '' || $.trim(enddate) == '' || clientaddress == '' || officelocation == -1) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            if ($.trim(Projectid).length != 10 || isNaN(Projectid)) {
                error += 'ProjectId is invalid' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","projectId":"' + Projectid + '","startDate":"' + startdate + '","endDate":"' + enddate + '","clientAddress":"' + clientaddress + '","officeLocation":"' + officelocation + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveInCityNewDataAPAC",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if ((componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 57) && CountryId != 20) {//Sign on bonus

        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var Currency = '';
        var Comments = '';
        var RetentionEndDate = '';
        var ProjectId = '';
        var doj = '';
        var associateId = obj.find('li:nth-child(1) input').val();
        var AdvisedMonth = obj.find('li:nth-child(4) select').val();
        var Year = obj.find('li:nth-child(5) option:selected').val();
        var PayoutType = obj.find('li:nth-child(6) select').val();
        var Amount = obj.find('li:nth-child(7) input').val();
        var bulkupload = 2;
        if (CountryId == 18 || CountryId == 19) {
            if (componentGroupId == 49 || componentGroupId == 57) {
                RetentionEndDate = $('#Retention_enddate').val();
                ProjectId = $('#Retention_Projectid').val();
            }

            doj = $('#SBDOJ').text();

            Currency = $('#sb_Currency').text();
            Comments = $('#sb_Comments').val();
        }

        if (isNaN(associateId)) {
            $('.popup_new .innerErrorHolder').text('AssociateID is invalid');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        if (CountryId == 18 || CountryId == 19) {
            if ((componentGroupId == 49 || componentGroupId == 57) && ($.trim(Amount) == '' || $.trim(associateId) == '' || AdvisedMonth == -1 || Year == -1 || PayoutType == -1 || RetentionEndDate == '' || ProjectId == '')) {

                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
            else if ($.trim(Amount) == '' || $.trim(associateId) == '' || AdvisedMonth == -1 || Year == -1 || PayoutType == -1) {
                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }



        if (CountryId != 18 && CountryId != 19) {

            if ($.trim(Amount) == '' || $.trim(associateId) == '' || AdvisedMonth == -1 || Year == -1 || PayoutType == -1) {
                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }


        }


        //else {
        //    if (isNaN(Amount)) {
        //        error += 'Please enter a valid Amount' + ',';
        //    }
        //    else if (Amount < 0) {
        //        error += 'Amount cannot be negative' + ',';
        //    }
        //    else if (Amount == 0) {
        //        error += 'Amount cannot be zero' + ',';
        //    }

        if (error == '') {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount":"' + Amount + '","advisedMonth":"' + AdvisedMonth + '","year":"' + Year + '","payoutType":"' + PayoutType + '","currency":"' + Currency + '","comments":"' + Comments + '","retentionenddate":"' + RetentionEndDate + '","projectid":"' + ProjectId + '","bulkupload":"' + bulkupload + '","doj":"' + doj + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveSignOnBonusNewDataNLD",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_new .innerErrorHolder').removeClass("red");
                        $('.popup_new .innerErrorHolder').addClass("green");
                        $('.popup_new .innerErrorHolder').text('Saved Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_new .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });
        }
        else {
            error = error.replace(/(^\s*,)|(,\s*$)/g, '');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').text(error);
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }


    else if (componentGroupId == 38) {// CAr Damage and TrafficFine
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var AdvisedMonth = obj.find('li:nth-child(3) select').val();
        var Year = obj.find('li:nth-child(4) option:selected').text();
        var Component = obj.find('li:nth-child(5) select').val();
        var Amount = obj.find('li:nth-child(6) input').val();
        var PayoutType = obj.find('li:nth-child(7) select').val();

        if ($.trim(Amount) == '' || $.trim(associateId) == '' || Component == -1 || AdvisedMonth == -1 || Year == -1 || PayoutType == -1) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }


            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","component":"' + Component + '","amount":"' + Amount + '","advisedMonth":"' + AdvisedMonth + '","year":"' + Year + '","payoutType":"' + PayoutType + '","mailUploadId":"' + mailUploadId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveCarDamageAndTrafficFineNewDataNLD",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 32) {
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var Startdate = obj.find('li:nth-child(3) input').val();
        var distance = obj.find('li:nth-child(4) input').val();
        var effectivedate = obj.find('li:nth-child(5) label:nth-child(2)').text();
        var PayoutType = obj.find('li:nth-child(6) select').val();
        var SpecialCaseReason = obj.find('li:nth-child(7) select').val();

        if ($.trim(associateId) == '' || Startdate == '' || distance == '' || PayoutType == -1) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }
            var mailUploadId = ''
            mailUploadId = $("#aft_upload2").attr("fileuploadid");
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","startDate":"' + Startdate + '","distance":"' + distance + '","effectiveDate":"' + effectivedate + '","payoutType":"' + PayoutType + '","mailUploadId":"' + mailUploadId + '","specialCaseReason":"' + SpecialCaseReason + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveCommutingAllowanceNewDataNLD",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 69) { // Save Shadow Payroll deduction

        var error = '';
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var advisedMonth = obj.find('li:nth-child(3) select').val();
        var advisedYear = obj.find('li:nth-child(4) select').val();
        var employeeSSGBR = obj.find('li:nth-child(5) input').val();
        var employerSSGBR = obj.find('li:nth-child(6) input').val();
        var employeeSSUSD = obj.find('li:nth-child(7) input').val();
        var employerSSUSD = obj.find('li:nth-child(8) input').val();
        var SPDComments = obj.find('li:nth-child(9) input').val();
        var key = 0;
        var bulkupload = 2;


        if ($.trim(associateId) == '' || advisedMonth == -1 || advisedYear == -1 || employeeSSGBR == '' || employerSSGBR == '' || employerSSUSD == '' || employeeSSUSD == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }

            if (error == '') {

                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateId + '","advisedMonth":"' + advisedMonth + '","advisedYear":"' + advisedYear + '","employeeSS_GBR":"' + employeeSSGBR + '","employerSS_GBR":"' + employerSSGBR + '","employeeSS_USD":"' + employeeSSUSD + '","employerSS_USD":"' + employerSSUSD + '","comments":"' + SPDComments + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveShadowPayrollDeductionUKI",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {

                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 76 || componentGroupId == 77 || componentGroupId == 78) { // Mid

        var error = '';
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var advisedmonth = obj.find('li:nth-child(3) select').val();
        var advisedyear = obj.find('li:nth-child(4) select').val();
        var Amount = obj.find('li:nth-child(5) input').val();
        var PaymentDate = obj.find('li:nth-child(6) select').val();
        var SPDComments = obj.find('li:nth-child(7) input').val();
        var key = 0;
        var bulkupload = 2;


        if ($.trim(associateId) == '' || advisedmonth == '-1' || advisedyear == '-1' || Amount == '' || PaymentDate == '-1') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        else {

            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }

            if (error == '') {

                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"amount":"' + Amount + '","paymentDate":"' + PaymentDate + '","comments":"' + SPDComments + '","advisedmonth":"' + advisedmonth + '","advisedyear":"' + advisedyear + '"}';

                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveMidPHL",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {

                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 64) {   //Save Special Pay

        var error = '';
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var advisedMonth = obj.find('li:nth-child(3) select').val();
        var advisedYear = obj.find('li:nth-child(4) select').val();
        var amount = obj.find('li:nth-child(5) input').val();
        var currency = obj.find('li:nth-child(6) span').text();
        var SPComments = obj.find('li:nth-child(7) input').val();
        var bulkupload = 2;
        var key = 0;

        if ($.trim(associateId) == '' || advisedMonth == -1 || advisedYear == -1 || amount == '' || currency == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateId + '","advisedMonth":"' + advisedMonth + '","advisedYear":"' + advisedYear + '","amount":"' + amount + '","currency":"' + currency + '","comments":"' + SPComments + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveSpecialPayUKI",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 62) {   //Save Sales commission

        var error = '';
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var associateBU = obj.find('li:nth-child(3) input').val();
        var annualBonusOffer = obj.find('li:nth-child(4) input').val();
        var annualBonusPayout = obj.find('li:nth-child(5) input').val();
        var h1Bonus = obj.find('li:nth-child(6) input').val();
        var h2Bonus = obj.find('li:nth-child(7) input').val();
        var SCComments = obj.find('li:nth-child(8) input').val();
        var key = 0;
        var bulkupload = 2;


        if ($.trim(associateId) == '' || associateBU == '' || annualBonusOffer == '' || annualBonusPayout == '' || h1Bonus == '' || h2Bonus == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateId + '","associateBU":"' + associateBU + '","annualBonusOffer":"' + annualBonusOffer + '","annualBonusPayout":"' + annualBonusPayout + '","h1Bonus":"' + h1Bonus + '","h2Bonus":"' + h2Bonus + '","comments":"' + SCComments + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveSalesCommissionUKI",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 65) {   //Save India Travel Advance 

        var error = '';
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var advisedMonth = obj.find('li:nth-child(3) select').val();
        var advisedYear = obj.find('li:nth-child(4) select').val();
        var travelId = obj.find('li:nth-child(5) input').val();
        var balance = obj.find('li:nth-child(6) input').val();
        var foreignCurrency = obj.find('li:nth-child(7) input').val();
        var recAmt = obj.find('li:nth-child(8) input').val();
        var currency = obj.find('li:nth-child(9) span').text();
        var ITAComments = obj.find('li:nth-child(10) input').val();
        var key = 0;
        var bulkupload = 2;


        if ($.trim(associateId) == '' || advisedMonth == -1 || advisedYear == -1 || travelId == '' || recAmt == '' || currency == '' || balance == '' || foreignCurrency == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateId + '", "advisedMonth":"' + advisedMonth + '","advisedYear":"' + advisedYear + '","travelId":"' + travelId + '","balance":"' + balance + '", "foreignCurrency":"' + foreignCurrency + '","recAmount":"' + recAmt + '", "currency":"' + currency + '","comments":"' + ITAComments + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveIndiaTravelAdvanceUKI",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 70) {   //Save India Net Deduction

        var error = '';
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var advisedMonth = obj.find('li:nth-child(3) select').val();
        var advisedYear = obj.find('li:nth-child(4) select').val();
        var recAmt = obj.find('li:nth-child(5) input').val();
        var currency = obj.find('li:nth-child(6) span').text();
        var exchangeRate = obj.find('li:nth-child(7) input').val();
        var recAmt_INR = obj.find('li:nth-child(8) input').val();
        var balance_INR = obj.find('li:nth-child(9) input').val();
        var INDComments = obj.find('li:nth-child(10) input').val();
        var key = 0;
        var bulkupload = 2;


        if ($.trim(associateId) == '' || advisedMonth == -1 || advisedYear == -1 || recAmt == '' || exchangeRate == '' || recAmt_INR == '' || balance_INR == '' || currency == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateId + '", "advisedMonth":"' + advisedMonth + '","advisedYear":"' + advisedYear + '","recAmount":"' + recAmt + '","currency":"' + currency + '", "exchangeRate":"' + exchangeRate + '","recAmount_INR":"' + recAmt_INR + '", "balance_INR":"' + balance_INR + '","comments":"' + INDComments + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveIndiaNetDeductionUKI",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 68) {   //Save Miscellaneous Deduction

        var error = '';
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var deductionType = obj.find('li:nth-child(3) span').text();
        var amount = obj.find('li:nth-child(4) input').val();
        var currency = obj.find('li:nth-child(5) span').text();
        var MDComments = obj.find('li:nth-child(6) input').val();
        var key = 0;
        var bulkupload = 2;


        if ($.trim(associateId) == '' || deductionType == '' || amount == '' || currency == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateId + '", "deductionType":"' + deductionType + '","amount":"' + amount + '","currency":"' + currency + '","comments":"' + MDComments + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveMiscellaneousDeductionUKI",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 53) {//JoiningBonus
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = ''
        if (RoleId == 19) {
            associateId = obj.find('li:nth-child(1) span').text();
        }
        else {
            associateId = obj.find('li:nth-child(1) input').val();
        }
        var Payrollmon = obj.find('li:nth-child(3) select').val();
        var Payrollyear = obj.find('li:nth-child(4) select').val();
        var kitdays = obj.find('li:nth-child(7) input').val();
        var Exception = $('.popup_new .innerErrorHolder').text();

        if ($.trim(Payrollmon) == -1 || $.trim(associateId) == '' || $.trim(Payrollyear) == -1 || $.trim(kitdays) == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":"' + 0 + '","key":"' + 0 + '","associateId":"' + associateId + '","payrollmonth":"' + Payrollmon + '","year":"' + Payrollyear + '","amount":"' + kitdays + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveKitAllowance",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 82 || componentGroupId == 91 || componentGroupId == 95
        || componentGroupId == 92 || componentGroupId == 93 || componentGroupId == 96 || componentGroupId == 97
        || componentGroupId == 90) {//JoiningBonus
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = ''
        associateId = obj.find('li:nth-child(1) input').val();
        var Payrollmon = obj.find('li:nth-child(3) select').val();
        var Payrollyear = obj.find('li:nth-child(4) select').val();
        var amount = obj.find('li:nth-child(5) input').val();
        var PayDate = '';
        var comments = '';
        var projectid = '';

        if (componentGroupId == 95) {
            var semiamount = obj.find('li:nth-child(5) input').val();
            var install = 1;
        }
        else {
            var semiamount = obj.find('li:nth-child(6) input').val();
            var install = obj.find('li:nth-child(7) input').val();
        }
        var PayDate = obj.find('li:nth-child(8) select').val();
        var comments = obj.find('li:nth-child(9) input').val();
        var Exception = $('.popup_new .innerErrorHolder').text();

        if (componentGroupId == 82 || componentGroupId == 91) {
            projectid = $('#npProId').val();
            var semiamount = obj.find('li:nth-child(6) input').val();
            var install = obj.find('li:nth-child(8) input').val();
            var PayDate = obj.find('li:nth-child(9) select').val();
            var comments = obj.find('li:nth-child(10) input').val();
        }
        if (componentGroupId == 82 || componentGroupId == 91) {
            if ($.trim(projectid).length != 10 || isNaN(projectid) || $.trim(projectid).match(/[^a-zA-Z0-9 ]/g)) {
                $('.popup_new .innerErrorHolder').text('Please enter the valid ProjectID');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }

        }
        if ($.trim(Payrollmon) == -1 || $.trim(associateId) == '' || $.trim(Payrollyear) == -1 || $.trim(amount) == ''
            || $.trim(semiamount) == '' || $.trim(install) == '' || $.trim(PayDate) == -1) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":"' + 0 + '","key":"' + 0 + '","associateId":"' + associateId + '","month":"' + Payrollmon + '","year":"' + Payrollyear + '","amount":"' + amount + '","semiamount":"' + semiamount + '","projectid":"' + projectid + '","install":"' + install + '","date":"' + PayDate + '","remarks":"' + comments + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveNetPay",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if ((componentGroupId == 60) && (CountryId == 18 || CountryId == 19)) {//Save One off Bonus

        var error = '';
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var CurrentGrade = obj.find('li:nth-child(3) input').val();
        var HireType = obj.find('li:nth-child(4) input').val();
        var Country = obj.find('li:nth-child(5) input').val();
        var OneOffBonus = obj.find('li:nth-child(7) input').val();
        var comments = obj.find('li:nth-child(8) input').val();


        if ($.trim(CurrentGrade) == '' || $.trim(associateId) == '' || $.trim(HireType) == -1 || $.trim(OneOffBonus) == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":"' + 2 + '","key":"' + 0 + '","associateId":"' + associateId + '","grade":"' + CurrentGrade + '","hiretype":"' + HireType + '","country":"' + Country + '","bonus":"' + OneOffBonus + '","comments":"' + comments + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveOneOffBonus",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if ((componentGroupId == 61) && (CountryId == 18 || CountryId == 19)) {//JoiningBonus

        var error = '';
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var year = obj.find('li:nth-child(3) input').val();
        var payout = obj.find('li:nth-child(5) select').val();
        var startDate = obj.find('li:nth-child(6) input').val();
        var country = obj.find('li:nth-child(7) input').val();
        var amount = obj.find('li:nth-child(8) input').val();
        var payoutdate = obj.find('li:nth-child(9) input').val();
        var comments = obj.find('li:nth-child(10) input').val();
        ////var error = $('.popup_new .innerErrorHolder').text();


        if ($.trim(associateId) == '' || $.trim(year) == '' || $.trim(payout) == -1 || $.trim(startDate) == '' || $.trim(country) == ''
            || $.trim(amount) == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();

        }
        else {

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":"' + 2 + '","key":"' + 0 + '","associateId":"' + associateId + '","year":"' + year + '","payout":"' + payout + '","startDate":"' + startDate + '","country":"' + country + '","amount":"' + amount + '","payoutdate":"' + payoutdate + '","comments":"' + comments + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SavePSUCashBridge",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = loginId;
        var Amount = obj.find('li:nth-child(3) input').val();
        var Remarks = obj.find('li:nth-child(5) input').val();

        if ($.trim(Amount) == -1 || $.trim(associateId) == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        if (isNaN(Amount)) {
            error += 'Please enter a valid Amount' + ',';
        }
        else if (Amount < 0) {
            error += 'Amount cannot be negative' + ',';
        }
        else if (Amount == 0) {
            error += 'Amount cannot be zero' + ',';
        }
        else if (componentGroupId == 67 && CountryId == 18 && Amount > 4000) {
            error += 'Amount cannot be more than 4000' + ',';
        }
        else if (componentGroupId == 67 && CountryId == 19 && Amount > 5000) {
            error += 'Amount cannot be more than 5000' + ',';
        }
        if (Remarks == 'undefined') {
            Remarks = ''
        }
        else {

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":"' + 0 + '","key":"' + 0 + '","associateId":"' + associateId + '","amount":"' + Amount + '","remarks":"' + Remarks + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveSalaryAllowance",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if (componentGroupId == 33 || componentGroupId == 50) {//Rewards

        var bulkupload = 2;
        var Frequency = '';
        if (componentGroupId == 33 && CountryId == 3) {
            var obj = $(this).closest('.popup_new').find('.inner_cont ul');
            var associateId = obj.find('li:nth-child(1) input').val();
            var AdvisedMonth = obj.find('li:nth-child(3) select').val();
            var Year = obj.find('li:nth-child(4) select').val();
            var Amount = obj.find('li:nth-child(5) input').val();
            var SubComponent = obj.find('li:nth-child(6) select').val();
            var Currency = obj.find('li:nth-child(7) select').val();
            var Remarks = obj.find('li:nth-child(8) input').val();
            Frequency = obj.find('li:nth-child(9) select').val();
            var PayoutType = obj.find('li:nth-child(10) select').val();
        }
        else if (componentGroupId == 50 && (CountryId != 18 && CountryId != 19)) {
            var obj = $(this).closest('.popup_new').find('.inner_cont ul');
            var SubComponent = '';
            var associateId = obj.find('li:nth-child(1) input').val();
            var AdvisedMonth = obj.find('li:nth-child(4) select').val();
            var Year = obj.find('li:nth-child(5) select').val();
            var Amount = obj.find('li:nth-child(6) input').val();
            var Currency = obj.find('li:nth-child(7) select').val();
            var Remarks = obj.find('li:nth-child(8) input').val();
            var PayoutType = obj.find('li:nth-child(9) select').val();
        }
        else if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
            var obj = $(this).closest('.popup_new').find('.inner_cont ul');
            var associateId = obj.find('li:nth-child(1) input').val();
            var AdvisedMonth = obj.find('li:nth-child(4) select').val();
            var Year = obj.find('li:nth-child(5) select').val();
            var Amount = obj.find('li:nth-child(6) input').val();
            var SubComponent = obj.find('li:nth-child(7) select').val();
            var Currency = obj.find('li:nth-child(8) label:nth-child(2)').text();
            var Remarks = obj.find('li:nth-child(9) input').val();
            Frequency = obj.find('li:nth-child(10) input').val();
            var PayoutType = obj.find('li:nth-child(11) select').val();
        }

        if ($.trim(Amount) == '' || $.trim(associateId) == '' || AdvisedMonth == -1 || Year == -1 || PayoutType == -1 || SubComponent == -1 || Currency == -1 || (Frequency == -1 && componentGroupId != 50)) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }
            if ($.trim(Remarks).match(/[<>%]/g)) {
                error += 'Please enter valid Remarks' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount":"' + Amount + '","advisedMonth":"' + AdvisedMonth + '","year":"' + Year + '","subComponent":"' + SubComponent + '","currencyCode":"' + Currency + '","frequency":"' + Frequency + '","remarks":"' + Remarks + '","payoutType":"' + PayoutType + '","mailUploadId":"' + mailUploadId + '","bulkupload":"' + bulkupload + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveRewardsandRegonitionNewDataNLD",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if (componentGroupId == 46) {//Benefits
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var SubComponent = obj.find('li:nth-child(3) select').val();
        var AdvisedMonth = obj.find('li:nth-child(4) select').val();
        var Year = obj.find('li:nth-child(5) select').val();
        var Amount = obj.find('li:nth-child(6) input').val();
        var PayoutType = obj.find('li:nth-child(7) select').val();


        if ($.trim(Amount) == '' || $.trim(associateId) == '' || AdvisedMonth == -1 || Year == -1 || PayoutType == -1 || SubComponent == -1) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(Amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (Amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (Amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }


            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount":"' + Amount + '","advisedMonth":"' + AdvisedMonth + '","year":"' + Year + '","subComponent":"' + SubComponent + '","payoutType":"' + PayoutType + '","mailUploadId":"' + mailUploadId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveBenefitsNordics",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 30 && (CountryId != 18 && CountryId != 19 && CountryId != 20)) {//Relocation
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var specialCaseReason = obj.find('li:nth-child(3) select').val();
        var AdvisedMonth = obj.find('li:nth-child(4) select').val();
        var Year = obj.find('li:nth-child(5) option:selected').text();
        var PayoutType = obj.find('li:nth-child(6) select').val();


        if ($.trim(associateId) == '' || AdvisedMonth == -1 || Year == -1 || PayoutType == -1) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }


            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","specialCaseReason":"' + specialCaseReason + '","advisedMonth":"' + AdvisedMonth + '","year":"' + Year + '","payoutType":"' + PayoutType + '","mailUploadID":"' + splcasemailId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveRelocationNewDataNLD",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 30 && (CountryId == 18 || CountryId == 19)) {//Relocation UK & I
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var amount = $('#RecAmount').val();
        var currency = $('#RecCurrency').text();
        var AdvisedMonth = obj.find('li:nth-child(3) select').val();
        var Year = obj.find('li:nth-child(4) select').val();
        var comments = $('#RecComments').val();
        var PayoutType = obj.find('li:nth-child(8) select').val();

        if ($.trim(associateId) == '' || AdvisedMonth == -1 || Year == -1 || PayoutType == -1 || amount == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount":"' + amount + '","currency":"' + currency + '","advisedMonth":"' + AdvisedMonth + '","year":"' + Year + '","payoutType":"' + PayoutType + '","comments":"' + comments + '","bulkupload":"2"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveRelocationNewDataUKI",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_new .innerErrorHolder').removeClass("red");
                        $('.popup_new .innerErrorHolder').addClass("green");
                        $('.popup_new .innerErrorHolder').text('Saved Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_new .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });
        }
    }

    else if (componentGroupId == 54 || componentGroupId == 55) {
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var amount = $('#UKA_Amount').val();
        var currency = $('#UKA_Currency').text();
        var begindate = $('#MTDOJ').text();
        var AdvisedMonth = obj.find('li:nth-child(5) select').val();
        var Year = obj.find('li:nth-child(6) select').val();
        var comments = $('#UKA_Comments').val();

        if ($.trim(associateId) == '' || AdvisedMonth == -1 || Year == -1 || amount == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount":"' + amount + '","currency":"' + currency + '","advisedMonth":"' + AdvisedMonth + '","year":"' + Year + '","beginDate":"' + begindate + '","comments":"' + comments + '","bulkupload":"2"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveUKAOneTimeNewDataUKI",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_new .innerErrorHolder').removeClass("red");
                        $('.popup_new .innerErrorHolder').addClass("green");
                        $('.popup_new .innerErrorHolder').text('Saved Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_new .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });
        }
    }

    else if (componentGroupId == 34) {//Transition
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var AdvisedMonth = obj.find('li:nth-child(3) select').val();
        var Year = obj.find('li:nth-child(4) option:selected').text();
        var PayoutType = obj.find('li:nth-child(5) select').val();


        if ($.trim(associateId) == '' || AdvisedMonth == -1 || Year == -1 || PayoutType == -1) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }


            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","advisedMonth":"' + AdvisedMonth + '","year":"' + Year + '","payoutType":"' + PayoutType + '","mailUploadID":"' + splcasemailId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveTransitionNewDataNLD",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if (componentGroupId == 35) {//Honorarium
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var AdvisedMonth = obj.find('li:nth-child(3) select').val();
        var Year = obj.find('li:nth-child(4) option:selected').text();
        var PayoutType = obj.find('li:nth-child(5) select').val();
        var ProjectID = obj.find('li:nth-child(6) input').val();
        var Amount = obj.find('li:nth-child(7) input').val();

        if ($.trim(associateId) == '' || AdvisedMonth == -1 || Year == -1 || PayoutType == -1 || ProjectID == '' || Amount == '' || ProjectID == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }
            if ($.trim(ProjectID).length != 10 || isNaN(ProjectID)) {
                error += 'ProjectID is invalid' + ',';
            }
            if ($.trim(Amount).length > 11 || isNaN(Amount)) {
                error += 'Amount is invalid' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","advisedMonth":"' + AdvisedMonth + '","year":"' + Year + '","payoutType":"' + PayoutType + '","projectID":"' + ProjectID + '","amount":"' + Amount + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveHonorariumNewDataNLD",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }
    else if (componentGroupId == 36 || componentGroupId == 37) {//Insurance taxation/Compensation
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var startdate = obj.find('li:nth-child(3) input').val();
        var amount = obj.find('li:nth-child(4) input').val();
        var effectivedate = obj.find('li:nth-child(5) label:nth-child(2)').html();
        var beneficiaryamount = obj.find('li:nth-child(6) input').val();
        var specialCase = obj.find('li:nth-child(7) select').val();

        if ($.trim(amount) == '' || $.trim(associateId) == '' || $.trim(startdate) == '' || $.trim(effectivedate) == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }

            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }
            if ($.trim(remarks).match(/[<>%]/g)) {
                error += 'Please enter valid Remarks' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount":"' + amount + '","beneficiaryamount":"' + beneficiaryamount + '","startdate":"' + startdate + '","effectivedate":"' + effectivedate + '","specialCase":"' + specialCase + '","mailUploadId":"' + mailUploadId + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveInsuranceNewDataNLD",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if ((componentGroupId == 39 || componentGroupId == 22) && CountryId == 3) {//ON call /overtime allowance
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var AssociateID = $('#OC_associateid').text();

        var accountid = $('#OC_accountname').text();
        var AccountID = accountid.substring(accountid.indexOf("-") + 1);

        var Daytype = $('#OTDayType').val();
        var StartDate = obj.find('li:nth-child(4) input').val();
        var EndDate = obj.find('li:nth-child(5) input').val();
        var TotalHours = obj.find('li:nth-child(6) input').val();

        var ProjectID = obj.find('li:nth-child(7) input').val();

        if ($.trim(AssociateID) == '' || $.trim(AccountID) == '' || StartDate == '' || EndDate == '' || TotalHours == '' || Daytype == '-1' || ProjectID == '') {

            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            var datastring = '{"componentGroupId":"' + componentGroupId + '","associateID":"' + AssociateID + '","accountID":"' + AccountID + '","startDate":"' + StartDate + '","endDate":"' + EndDate + '","totalHours":"' + TotalHours + '","daytype":"' + Daytype + '","projectID":"' + ProjectID + '","mailUploadId":"' + mailUploadId + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveJoiningNewDataOnCallOverTimeNLD",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_new .innerErrorHolder').removeClass("red");
                        $('.popup_new .innerErrorHolder').addClass("green");
                        $('.popup_new .innerErrorHolder').text('Saved Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_new .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });

        }

    }

    else if (componentGroupId == 22 && (CountryId == 7 || CountryId == 6 || CountryId == 8 || CountryId == 9 || CountryId == 10 || CountryId == 11 || CountryId == 12 || CountryId == 13)) {//overtime allowance Aus, NZ,MYS /qatar/ KSA

        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var DayType = 0;
        //  var AssociateID = $('#OC_associateid').text();
        if (CountryId == 7 || CountryId == 10) {
            DayType = obj.find('li:nth-child(2) select').val();
        }
        if (componentGroupId == 22 && CountryId == 7) {
            if (ocm == "1") {
                mailUploadId = MailUploadID;
                TMmailUploadId = FileUploadID;
            } else {
                mailUploadId = MailUploadID;
                TMmailUploadId = FileUploadID;
            }
        }
        var StartDate = obj.find('li:nth-child(3) input').val();
        var EndDate = obj.find('li:nth-child(4) input').val();
        var StartTime = obj.find('li:nth-child(5) input').val();
        var EndTime = obj.find('li:nth-child(6) input').val();
        var ProjectID = obj.find('li:nth-child(7) input').val();
        var approverId = obj.find('li:nth-child(8) input').val();
        var AllowanceType = '';
        AllowanceType = obj.find('li:nth-child(10) option:selected').val();
        var Remarks = '';
        if (CountryId == 8 || CountryId == 9) {
            Remarks = obj.find('li:nth-child(11) textarea').val();
            Remarks = Remarks.replace(/"/g, '').toString();
            Remarks = escape(Remarks.replace(/\s+/g, ' ').toString());
            ProjectID = obj.find('li:nth-child(7) option:selected').val();
            approverId = obj.find('li:nth-child(9) #OT_ApproverID').text();
        }
        if ($.trim(ProjectID).length != 10 || isNaN(ProjectID)) {
            error += 'ProjectID is invalid' + ',';
        }
        else if (CountryId == 9 || (CountryId == 8 && ApproverId != '')) {
            if (($.trim(ApproverId).length != 6 && $.trim(ApproverId).length != 7) || isNaN(ApproverId) || $.trim(ApproverId).match(/[^a-zA-Z0-9 ]/g) && (CountryId == 8 || CountryId == 9)) {
                error += 'ApproverId is invalid' + ',';
            }
        }
        if (CountryId == 11 || CountryId == 12 || CountryId == 13) {
            approverId = '';
        }
        if ((CountryId == 10) && (StartDate == '' || EndDate == '' || StartTime == '' || EndTime == '' || ProjectID == '' || DayType == -1 || mailUploadId == 0 || approverId == '')) {
            //if (StartDate == '' || EndDate == '' || StartTime == '' || EndTime == '' || ProjectID == '' || DayType == -1 || mailUploadId == 0 || approverId == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            //}
        }
        else if ((CountryId == 6) && (StartDate == '' || EndDate == '' || StartTime == '' || EndTime == '' || ProjectID == '' || mailUploadId == 0 || approverId == '')) {
            //if (StartDate == '' || EndDate == '' || StartTime == '' || EndTime == '' || ProjectID == '' || mailUploadId == 0 || approverId == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            //}
        }
        else if ((CountryId == 8) && (StartDate == '' || EndDate == '' || StartTime == '' || EndTime == '' || ProjectID == '' || AllowanceType == '' || AllowanceType == "--Select--" || $.trim(AllowanceType) == "-1")) {
            //if (StartDate == '' || EndDate == '' || StartTime == '' || EndTime == '' || ProjectID == '' || mailUploadId == 0 || approverId == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            //}
        }
        else if ((CountryId == 9) && (StartDate == '' || EndDate == '' || StartTime == '' || EndTime == '' || ProjectID == '' || AllowanceType == '' || AllowanceType == "--Select--" || $.trim(AllowanceType) == "-1" || approverId == '')) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }

        else if ((CountryId == 7) && (StartDate == '' || EndDate == '' || StartTime == '' || EndTime == '' || ProjectID == '' || DayType == -1 || TMmailUploadId == 0)) {
            //if (StartDate == '' || EndDate == '' || StartTime == '' || EndTime == '' || ProjectID == '' || DayType == -1 || mailUploadId == 0 || approverId == '' || TMmailUploadId == 0) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            //}
        }
        else if ((CountryId == 11 || CountryId == 12 || CountryId == 13) && (StartDate == '' || EndDate == '' || StartTime == '' || EndTime == '' || ProjectID == '')) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {

            //var datastring = '{"componentGroupId":"' + componentGroupId + '","startDate":"' + StartDate + '","endDate":"' + EndDate + '","startTime":"' + StartTime + '","endTime":"' + EndTime + '","projectID":"' + ProjectID + '","dayType":"' + DayType + '","mailUploadId":"' + mailUploadId + '","approverId":"' + approverId + '","tmmailUploadId":"' + TMmailUploadId +'"}';
            var datastring = '{"componentGroupId":"' + componentGroupId + '","startDate":"' + StartDate + '","endDate":"' + EndDate + '","startTime":"' + StartTime + '","endTime":"' + EndTime + '","projectID":"' + ProjectID + '","dayType":"' + DayType + '","mailUploadId":"' + mailUploadId + '","approverId":"' + approverId + '","tmmailUploadId":"' + TMmailUploadId + '","AllowanceType":"' + AllowanceType + '","Remarks":"' + Remarks + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveOTAPACNewData",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_new .innerErrorHolder').removeClass("red");
                        $('.popup_new .innerErrorHolder').addClass("green");
                        $('.popup_new .innerErrorHolder').text('Saved Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_new .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid1').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });

        }

    }

    else if (componentGroupId == 21 && CountryId == 4) {//Statutory payout- (China)
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var AssociateID = obj.find('li:nth-child(1) input').val();
        var AssociateID = obj.find('li:nth-child(1) span').text();
        var ProjectId = obj.find('li:nth-child(3) select').val();
        var payrollMonth = obj.find('li:nth-child(4) span').text();
        var payrollYear = obj.find('li:nth-child(5) span').text();
        var OT_hours = obj.find('li:nth-child(6) input').val();
        var Type = obj.find('li:nth-child(7) select').val();

        if ($.trim(AssociateID) == '' || $.trim(ProjectId) == -1 || OT_hours == '' || Type == -1) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","associateID":"' + AssociateID + '","criteria":"' + Criteria + '","startDate":"' + StartDate + '","endDate":"' + EndDate + '","startTime":"' + StartTime + '","endTime":"' + EndTime + '","dayType":"' + DayType + '","mailUploadId":"' + mailUploadId + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveStatutoryPayoutNewData",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_new .innerErrorHolder').removeClass("red");
                        $('.popup_new .innerErrorHolder').addClass("green");
                        $('.popup_new .innerErrorHolder').text('Saved Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_new .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });

        }
    }

    else if ((componentGroupId == 21 && CountryId == 7) ||
        ((componentGroupId == 39 || componentGroupId == 101) && (CountryId == 7 || CountryId == 8 || CountryId == 9))) {//OCA - China/ Aus/ NZ
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var Remarks = '';
        if (CountryId == 7) {
            var AssociateID = obj.find('li:nth-child(1) span').text();
            var daytype = obj.find('li:nth-child(3) select').val();
            var criteria = obj.find('li:nth-child(4) select').val();
            var startdate = obj.find('li:nth-child(5) input').val();
            var enddate = obj.find('li:nth-child(6) input').val();
            var startTime = obj.find('li:nth-child(7) input').val();
            var endTime = obj.find('li:nth-child(8) input').val();
            var ProjectId = obj.find('li:nth-child(9) input').val();
            var ApproverId = obj.find('li:nth-child(10) input').val();
        }
        else if (CountryId == 8 && componentGroupId == 101) {
            var AssociateID = obj.find('li:nth-child(1) span').text();
            var startdate = obj.find('li:nth-child(3) input').val();
            var NoOfHrs = obj.find('li:nth-child(4) input').val();
            var ProjectId = obj.find('li:nth-child(5) option:selected').val();
            var ApproverId = obj.find('li:nth-child(7) #OCA_ApproverID').text();
            Remarks = obj.find('li:nth-child(8) textarea').val();
            Remarks = Remarks.replace(/"/g, '').toString();
            Remarks = escape(Remarks.replace(/\s+/g, ' ').toString());
        }
        else {
            var AssociateID = obj.find('li:nth-child(1) span').text();
            var startdate = obj.find('li:nth-child(3) input').val();
            var enddate = obj.find('li:nth-child(4) input').val();
            var startTime = obj.find('li:nth-child(5) input').val();
            var endTime = obj.find('li:nth-child(6) input').val();
            var ProjectId = obj.find('li:nth-child(7) input').val();
            var ApproverId = obj.find('li:nth-child(8) input').val();
            Remarks = obj.find('li:nth-child(10) textarea').val();
            if (CountryId == 8 || CountryId == 9) {
                ProjectId = obj.find('li:nth-child(7) option:selected').val();
                ApproverId = obj.find('li:nth-child(9) #OCA_ApproverID').text();
                Remarks = Remarks.replace(/"/g, '').toString();
                Remarks = escape(Remarks.replace(/\s+/g, ' ').toString());
            }
        }

        if ($.trim(AssociateID) == '' || $.trim(ProjectId) == '' || (($.trim(daytype) == '-1') && CountryId == 7)
            || (($.trim(criteria) == '-1') && CountryId == 7) || $.trim(startdate) == ''
            || (($.trim(enddate) == '' || $.trim(startTime) == '' || $.trim(endTime) == '') && (componentGroupId != 101)) ||
            ($.trim(NoOfHrs) == '' && (CountryId == 8 && componentGroupId == 101))) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }


        else {
            if ($.trim(ProjectId).length != 10 || isNaN(ProjectId) || $.trim(ProjectId).match(/[^a-zA-Z0-9 ]/g)) {
                error += 'Please enter a valid ProjectId' + ',';
            }
            if (isNaN(AssociateID)) {
                error += 'AssociateId is invalid' + ',';
            }
            if (ApproverId != '') {
                if (($.trim(ApproverId).length != 6 && $.trim(ApproverId).length != 7) || isNaN(ApproverId) || $.trim(ApproverId).match(/[^a-zA-Z0-9 ]/g) && (CountryId != 7)) {
                    error += 'ApproverId is invalid' + ',';
                }
            }

            if (error == '') {

                if (CountryId == 7) {
                    var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + AssociateID + '","projectID":"' + ProjectId + '","dayType":"' + daytype + '","criteria":"' + criteria + '","startDate":"' + startdate + '","endDate":"' + enddate + '","startTime":"' + startTime + '","endTime":"' + endTime + '","mailUploadId":"' + mailUploadId + '","approverID":"' + ApproverId + '","standbyHrs":"0","Remarks":"' + Remarks + '"}';
                }
                else if (CountryId == 8 && componentGroupId == 101) {
                    var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + AssociateID + '","projectID":"' + ProjectId + '","dayType":"","criteria":"0","startDate":"' + startdate + '","endDate":"","startTime":"","endTime":"","mailUploadId":"' + mailUploadId + '","approverID":"' + ApproverId + '","standbyHrs":"' + NoOfHrs + '","Remarks":"' + Remarks + '"}';
                }
                else {
                    var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + AssociateID + '","projectID":"' + ProjectId + '","dayType":"","criteria":"0","startDate":"' + startdate + '","endDate":"' + enddate + '","startTime":"' + startTime + '","endTime":"' + endTime + '","mailUploadId":"' + mailUploadId + '","approverID":"' + ApproverId + '","standbyHrs":"0","Remarks":"' + Remarks + '"}';

                }
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveAPACOCANewData",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 31) {//Net travel allowance
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var startdate = obj.find('li:nth-child(3) input').val();
        var amount = obj.find('li:nth-child(4) input').val();
        var effectivedate = obj.find('li:nth-child(5) label:nth-child(2)').html();
        var PayoutType = obj.find('li:nth-child(6) select').val();

        if ($.trim(amount) == '' || $.trim(associateId) == '' || $.trim(startdate) == '' || $.trim(effectivedate) == '' || $.trim(PayoutType) == '-1') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if (amount < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if (amount == 0) {
                error += 'Amount cannot be zero' + ',';
            }

            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }
            if ($.trim(remarks).match(/[<>%]/g)) {
                error += 'Please enter valid Remarks' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","amount":"' + amount + '","startdate":"' + startdate + '","effectivedate":"' + effectivedate + '","mailUploadId":"' + mailUploadId + '", "payoutType":"' + PayoutType + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveNetTravelNewDataNLD",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if (componentGroupId == 25) {//Maternity
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var types = 0;
        var totalML = 0;
        var associateId = obj.find('li:nth-child(1) input').val();
        if (CountryId == 6) {
            types = obj.find('li:nth-child(3) select').val();
        }
        if (CountryId == 7) {
            totalML = obj.find('li:nth-child(3) input').val();
        }
        var payrollMonth = obj.find('li:nth-child(4) select').val();
        var payrollYear = obj.find('li:nth-child(5) select').val();

        if (CountryId == 6) {
            if ($.trim(associateId) == '' || payrollMonth == -1 || payrollMonth == -1 || types == -1) {
                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }
        if (CountryId == 7) {
            if ($.trim(associateId) == '' || payrollMonth == -1 || payrollMonth == -1 || totalML == undefined || totalML == '' || totalML == 0) {
                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }


        //}
        if (error == '') {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","payrollMonth":"' + payrollMonth + '","payrollYear":"' + payrollYear + '","totalML":"' + totalML + '","mailUploadId":"' + mailUploadId + '","type":"' + types + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveMaternityAllowanceNewDataAPAC",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_new .innerErrorHolder').removeClass("red");
                        $('.popup_new .innerErrorHolder').addClass("green");
                        $('.popup_new .innerErrorHolder').text('Saved Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_new .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid1').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                }
            });
        }
        else {
            error = error.replace(/(^\s*,)|(,\s*$)/g, '');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').text(error);
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }
    else if (componentGroupId == 42 || componentGroupId == 26 || componentGroupId == 27) {//Additional Deduction
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        var payrollMonth = obj.find('li:nth-child(3) select').val();
        var payrollYear = obj.find('li:nth-child(4) select').val();

        if ($.trim(associateId) == '' || payrollMonth == -1 || payrollYear == -1) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
        else {
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
            }
            if ($.trim(remarks).match(/[<>%]/g)) {
                error += 'Please enter valid Remarks' + ',';
            }

            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","payrollMonth":"' + payrollMonth + '","payrollYear":"' + payrollYear + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveHighTemperatureAllowanceNewDataAPAC",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').text('Saved Successfully');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                    }
                });
            }

            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
    }

    else if ((componentGroupId == 51 || componentGroupId == 45) && CountryId == 15) {//Wellness / car parking benefits
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var AssignmentStartDate = $('#WBDOJ').text();
        var NumberOfDays = 0;
        var PayoutType = 0;
        if (componentGroupId == 51) {
            if (RoleId != 1) {
                var AssociateID = $('#WB_associateid').text();
            }
            else {
                var AssociateID = $('#HT_associateid').val();
            }
            AssignmentStartDate = $('#WBDOJ').text();
            var payrollMonth = obj.find('li:nth-child(4) select').val();
            var payrollYear = obj.find('li:nth-child(5) select').val();
            var Amount = obj.find('li:nth-child(6) input').val();
        }
        else if (componentGroupId == 45) {
            var AssociateID = obj.find('li:nth-child(1) input').val();
            NumberOfDays = $('#carNoD').val();
            var payrollMonth = obj.find('li:nth-child(3) select').val();
            //var payrollYear = obj.find('li:nth-child(4) select').val();
            var payrollYear = obj.find('li:nth-child(4) option:selected').text();
            var PayoutType = obj.find('li:nth-child(6) select').val();
        }

        if (componentGroupId == 51) {
            //mailUploadId =12345;
            if ($.trim(AssociateID) == '' || $.trim(AssignmentStartDate) == '' || payrollMonth == '-1' || payrollYear == '-1' || Amount == '' || mailUploadId == 0 || mailUploadId == '') {

                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }
        else if (componentGroupId == 45) {
            if ($.trim(AssociateID) == '' || $.trim(NumberOfDays) == '' || payrollMonth == '-1' || payrollYear == '' || PayoutType == '-1') {

                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }

        if (componentGroupId == 51) {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + AssociateID + '","payrollMonth":"' + payrollMonth + '","payrollYear":"' + payrollYear + '","assignmentStartDate":"' + AssignmentStartDate + '","amount":"' + Amount + '","mailUploadId":"' + mailUploadId + '","numberofDays":"' + NumberOfDays + '","payoutType":"' + PayoutType + '"}';
        }
        else if (componentGroupId == 45) {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + AssociateID + '","payrollMonth":"' + payrollMonth + '","payrollYear":"' + payrollYear + '","assignmentStartDate":"","amount":"","mailUploadId":0,"numberofDays":"' + NumberOfDays + '","payoutType":"' + PayoutType + '"}';
        }
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveWellnessBenefitsNewDataCE",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_new .innerErrorHolder').removeClass("red");
                    $('.popup_new .innerErrorHolder').addClass("green");
                    $('.popup_new .innerErrorHolder').text('Saved Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_new .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }

                if (type == 1) {
                    BindValidGridtbl();
                }
                else if (type == 2) {
                    BindExceptionsGridtbl();
                }
                //else {
                //    keyPressEnter();
                //}
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });

    }
    else if (componentGroupId == 47 || (componentGroupId == 48 && CountryId != 17)) {//Mobile/Transport
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');

        var AssociateID = obj.find('li:nth-child(1) input').val();
        var AssignmentStartDate = $('#MTDOJ').text();
        var startDate = obj.find('li:nth-child(4) input').val();
        if (componentGroupId == 47) {
            var endDate = obj.find('li:nth-child(5) input').val();
        }
        else if (componentGroupId == 48) {
            var endDate = obj.find('li:nth-child(5) span').text();
        }
        var Amount = obj.find('li:nth-child(6) input').val();
        var PayoutType = obj.find('li:nth-child(7) select').val();

        if (componentGroupId == 48) {
            if ($.trim(AssociateID) == '' || $.trim(AssignmentStartDate) == '' || startDate == '' || endDate == '' || Amount == '') {

                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }
        else if (componentGroupId == 47) {
            if ($.trim(AssociateID) == '' || $.trim(AssignmentStartDate) == '' || startDate == '' || Amount == '') {

                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + AssociateID + '","startDate":"' + startDate + '","endDate":"' + endDate + '","assignmentStartDate":"' + AssignmentStartDate + '","amount":"' + Amount + '","mailUploadId":"' + mailUploadId + '","payoutType":"' + PayoutType + '"}';


        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveMobileTransportNewDataCE",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_new .innerErrorHolder').removeClass("red");
                    $('.popup_new .innerErrorHolder').addClass("green");
                    $('.popup_new .innerErrorHolder').text('Saved Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_new .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                    else {
                        keyPressEnter();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });

    }

    else if (componentGroupId == 48 && CountryId == 17) {//Mobile/Transport
        var invoiceUploadId = '';
        var monthlyAmount1 = '';
        var monthlyAmount2 = '';
        var passNumber_2 = '';
        var transportationType_1 = '';
        var monthlyAmount2 = '';
        var frequencytype2 = '';
        if (ocm == "1") {
            var invoiceUploadId = FileUploadID;
            var declUploadId = MailUploadID;
            var transportMailUploadID = SplCaseMail;
        }
        else {
            var invoiceUploadId = FileUploadID;
            var declUploadId = MailUploadID;
            var transportMailUploadID = SplCaseMail;
        }
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) #MT_associateid').text();
        var assignmentstartdate = obj.find('li:nth-child(3) #MTDOJ').text();
        var passNumber_1 = obj.find('li:nth-child(5) input').val();
        var transportationType = obj.find('li:nth-child(4) select').val();
        // var monthlyAmount = obj.find('li:nth-child(6) input').val();
        var payrollmonth = obj.find('li:nth-child(8) select').val();
        var year = obj.find('li:nth-child(10) select').val();
        var frequencyType = obj.find('li:nth-child(6) select').val();
        var splcase = $('#MTSpecialCaseReason').val();
        //var buscardavailed = $('#MTBusCardAvailed').val();
        //var buscardAmount = $('#AD_buscardamount').val();
        var frequencytype2 = $('#FrequencyType_2').prop('selectedIndex') + 1;
        if (frequencytype2 == '' || frequencytype2 == 'undefined') {
            frequencytype2 = 0;
        }
        if (splcase == 1) {
            var transportationType_1 = $('#MTTransportationType_1').val();
            var passNumber_2 = $('#PassNumber_2').val();
            var monthlyAmount2 = $('#AD_monthlyamount_1v').text();
            var frequencytype2 = $('#FrequencyType_2').prop('selectedIndex') + 1;

            if (monthlyAmount2 == undefined || monthlyAmount2 == 'undefined' || monthlyAmount2 == '' || monthlyAmount2 == "") {
                monthlyAmount2 = $('#AD_monthlyamount_1').val();
            }
        }
        monthlyAmount1 = $('#ADmonthlyamountv').text();

        if (monthlyAmount1 == undefined || monthlyAmount1 == 'undefined' || monthlyAmount1 == '' || monthlyAmount1 == "") {
            monthlyAmount1 = $('#ADmonthlyamount').val();
        }
        if (invoiceUploadId == undefined) {
            invoiceUploadId = '';
        }
        if (declUploadId == undefined) {
            declUploadId = '';
        }

        if ($.trim(associateId) == '' || $.trim(assignmentstartdate) == '' || monthlyAmount1 == '' || monthlyAmount1 == 0 || passNumber_1 == 0 || transportationType == -1) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        //if ($.trim(buscardavailed) == 1 && $.trim(buscardAmount) == '') {
        //    $('.popup_new .innerErrorHolder').text('Please Enter Pass amount');
        //    $('.popup_new .innerErrorHolder').removeClass("green");
        //    $('.popup_new .innerErrorHolder').addClass("red");
        //    $("#progressBackgroundFilter").hide();
        //    $("#processMessage").hide();
        //    return false;
        //}
        if ($.trim(splcase) == 1 && (transportationType_1 == '-1' || monthlyAmount2 == 0 || passNumber_2 == 0 || frequencytype2 === '-1' || frequencytype2 === '')) {
            $('.popup_new .innerErrorHolder').text('Please enter all fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        if (FlagStatus === '' && DeclarationFlag === '') {
            $('.popup_new .innerErrorHolder').text('Please add all required attachments');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        var errorMessage = [];
        if (invoiceUploadId == '') {
            errorMessage.push('Invoice');
        }
        if (DeclarationFlag == '1' && declUploadId == '') {
            errorMessage.push('Declaration Form');
        }
        if (FlagStatus == '1' && transportMailUploadID == '') {
            errorMessage.push('Approval mail');
        }

        if (errorMessage.length > 0) {
            $('.popup_new .innerErrorHolder').text('Please attach ' + errorMessage.join(', '));
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        if (FlagStatus === '1' || checkmultipletrnsport === '1') {
            if (transportMailUploadID == '') {
                $('.popup_new .innerErrorHolder').text('Please attach the approval mail');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }
        if (invoiceUploadId == '') {
            $('.popup_new .innerErrorHolder').text('Please attach the invoice Form');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        if (DeclarationFlag == "1" && (declUploadId == '' || declUploadId == '0' || declUploadId == undefined)) {
            $('.popup_new .innerErrorHolder').text('Please attach the Declaration Form');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","assignmentstartdate":"' + assignmentstartdate + '","monthlyAmount":"' + monthlyAmount1 + '","transportationType":"' + transportationType + '","payrollmonth":"' + payrollmonth + '","year":"' + year + '","frequencyType":"' + frequencyType + '","splcase":"' + splcase + '","mailUploadId":"' + transportMailUploadID + '","splcasemailId":"' + invoiceUploadId + '" ,"transportationType_1":"' + transportationType_1 + '" ,"monthlyAmount_1":"' + monthlyAmount2 + '" ,"passNumber_1":"' + passNumber_1 + '" ,"passNumber_2":"' + passNumber_2 + '","declaration":"' + declUploadId + '","frequencytype2":"' + frequencytype2 + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveMobileTransportNewDataFrance",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_new .innerErrorHolder').removeClass("red");
                    $('.popup_new .innerErrorHolder').addClass("green");
                    $('.popup_new .innerErrorHolder').text('Saved Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                    DeclarationFlag = '';
                    FlagStatus = '';
                    checkmultipletrnsport = 0;
                }
                else {
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_new .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                    else {
                        keyPressEnter();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });

    }

    else if (componentGroupId == 52) { // Lunch Voucher
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var payrollmonth = obj.find('li:nth-child(3) select').val();
        var payrollyear = obj.find('li:nth-child(4) option:selected').text();
        var leavedays = obj.find('li:nth-child(5) input').val();
        var trainingdays = obj.find('li:nth-child(6) input').val();
        var SpecialCaseReason = obj.find('li:nth-child(7) select').val();
        var holidaysworked = $('#LV_Holidays').val();
        var eamCFLeaveDays = $('#LV_EAMCFDays').text();
        if (SpecialCaseReason == -1) {
            SpecialCaseReason = '';
        }
        if (holidaysworked == undefined) {
            holidaysworked = '';
        }

        if (payrollmonth == '-1' || payrollyear == '-1' || leavedays == '' || leavedays == "") {
            $('.popup_new .innerErrorHolder').text('Please fill mandatory Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false
        }
        //splcasemailId = 111;
        if ((SpecialCaseReason == 1 || SpecialCaseReason == 2 || SpecialCaseReason == 3) && (holidaysworked == '' || splcasemailId == 0)) {
            $('.popup_new .innerErrorHolder').text('Please fill mandatory Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        if (SpecialCaseReason == 4 && splcasemailId == 0 && (LV_LwdDate == '' || LV_LwdDate == null)) {
            $('.popup_new .innerErrorHolder').text('Please attach approval mail and select Special case Reason as Last Working Day');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        if ($('#LV_TotalDays').text() <= 0) {
            $('.popup_new .innerErrorHolder').text('Eligible Lunch Vouchers should be greater than 0');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","payrollMonth":"' + payrollmonth + '","payrollYear":"' + payrollyear + '","leaveDays":"' + leavedays + '","trainingDays":"' + trainingdays + '","holidays":"' + holidaysworked + '","specialCaseReason":"' + SpecialCaseReason + '","mailUploadId":"' + splcasemailId + '","eamCFLeaveDays":"' + eamCFLeaveDays + '","lwdDate":"' + LV_LwdDate + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveLunchVoucherNewDataCE",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_new .innerErrorHolder').removeClass("red");
                    $('.popup_new .innerErrorHolder').addClass("green");
                    $('.popup_new .innerErrorHolder').css('font-size', '14px');
                    $('.popup_new .innerErrorHolder').text('Data saved, this will be considered for payroll');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    $('.popup_new .innerErrorHolder').css('font-size', '14px');
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_new .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid').val() == '' || $('#bid').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();//JB
                    }
                }
                else {
                    keyPressEnter();
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').css('font-size', '14px');
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });

    }

    else if (componentGroupId == 59) {
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var assoid = obj.find('li:nth-child(1) input').val();
        var countrybonus = obj.find('li:nth-child(3) input').val();
        var hiretype = obj.find('li:nth-child(4) input').val();
        //var payouttype = obj.find('li:nth-child(5) select').val();
        var currency = $('#YEB_Currency').text()
        var bonustype = obj.find('li:nth-child(6) select').val();
        var perforpay = obj.find('li:nth-child(7) input').val();
        var targetbonus = obj.find('li:nth-child(8) input').val();
        var calculatedplan = obj.find('li:nth-child(9) input').val();
        var totalpay = obj.find('li:nth-child(10) input').val();
        var ukBonus = obj.find('li:nth-child(11) input').val();
        var activeCountry = obj.find('li:nth-child(12) input').val();
        var paygroup = obj.find('li:nth-child(13) input').val();
        var comments = obj.find('li:nth-child(14) input').val();

        if (assoid == '' || countrybonus == '' || hiretype == '' || currency == "" ||
            bonustype == '-1' || totalpay == "" ||
            ukBonus == '' || activeCountry == '' || paygroup == '') {
            $('.popup_new .innerErrorHolder').text('Please fill mandatory Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false
        }
        else {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","associateID":"' + assoid + '","countryBonus":"' + countrybonus + '","hireType":"' + hiretype + '","currency":"' + currency + '", "bonusType":"' + bonustype + '", "performancePay":"' + perforpay + '", "targetBonus":"' + targetbonus + '", "calculatedPlan":"' + calculatedplan + '","totalPay":"' + totalpay + '", "ukBonus":"' + ukBonus + '", "activeCountry":"' + activeCountry + '", "paygroup":"' + paygroup + '", "comments":"' + comments + '","bulkupload":"2"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveYearEndBonusDataCE",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_new .innerErrorHolder').removeClass("red");
                        $('.popup_new .innerErrorHolder').addClass("green");
                        $('.popup_new .innerErrorHolder').css('font-size', '14px');
                        $('.popup_new .innerErrorHolder').text('Data saved, this will be considered for payroll');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $('.popup_new .innerErrorHolder').css('font-size', '14px');
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_new .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_new .innerErrorHolder').css('font-size', '14px');
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });
        }

    }

    else if (componentGroupId == 56) {//Travel allowance
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var DOJ = $('#MTDOJ').text();
        var NumberOfDays = 0;
        var PayoutType = 0;
        var bulkupload = 2;
        var key = 0;
        if (componentGroupId == 56) {
            var AssociateID = $('#MT_associateid').val();
            DOJ = $('#MTDOJ').text();
            var payrollMonth = obj.find('li:nth-child(3) select').val();
            var payrollYear = obj.find('li:nth-child(4) select').val();
            var Amount = obj.find('li:nth-child(6) input').val();
            var projectID = obj.find('li:nth-child(7) input').val();
            var accountID = obj.find('li:nth-child(8) input').val();
            var frequencyType = obj.find('li:nth-child(9) select').val();
            var noofPayments = obj.find('li:nth-child(10) input').val();
        }

        if ($.trim(AssociateID) == '' || payrollMonth == '-1' || payrollYear == '-1' || Amount == '' || projectID == '' || accountID == '' || frequencyType == '-1' || noofPayments == '') {

            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        else {
            if (isNaN(noofPayments)) {
                $('.popup_new .innerErrorHolder').text('No of payments is invalid');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
            else {
                if (frequencyType == 1 && noofPayments < 0) {
                    $('.popup_new .innerErrorHolder').text('No of payments is invalid');
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                    return false;
                }
                else if (frequencyType == 1 && (noofPayments > 1 || noofPayments == 0)) {

                    $('.popup_new .innerErrorHolder').text('No of payments should not be greater than 1');
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                    return false;
                }
                else if (frequencyType == 2 && noofPayments <= 1) {

                    $('.popup_new .innerErrorHolder').text('No of payments should be greater than 1');
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                    return false;
                }
            }
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + AssociateID + '","payrollmonth":"' + payrollMonth + '","year":"' + payrollYear + '","amount":"' + Amount + '","ProjectID":"' + projectID + '","AccountID":"' + accountID + '","FrequencyType":"' + frequencyType + '","NoofPayments":"' + noofPayments + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveTravelAllowance",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_new .innerErrorHolder').removeClass("red");
                    $('.popup_new .innerErrorHolder').addClass("green");
                    $('.popup_new .innerErrorHolder').text('Saved Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_new .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }

                if (type == 1) {
                    BindValidGridtbl();
                }
                else if (type == 2) {
                    BindExceptionsGridtbl();
                }
                //else {
                //    keyPressEnter();
                //}
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });

    }

    else if (componentGroupId == 63) {//Singapore Deduction
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var bulkupload = 2;
        var key = 0;
        var AssociateID = $('#SDAssoId').val();
        var RecoveryPeriod = obj.find('li:nth-child(3) input').val();
        var payrollMonth = obj.find('li:nth-child(4) select').val();
        var payrollYear = obj.find('li:nth-child(5) select').val();
        var LineDescription = obj.find('li:nth-child(7) input').val();
        var AmountSGP = obj.find('li:nth-child(8) input').val();
        var AmountRecoverSGP = obj.find('li:nth-child(9) input').val();
        var ExchangeRate = obj.find('li:nth-child(10) input').val();
        var AmountRecoverGBP = obj.find('li:nth-child(11) input').val();
        var Balance = obj.find('li:nth-child(12) input').val();
        var Comments = obj.find('li:nth-child(13) input').val();


        if ($.trim(AssociateID) == '' || payrollMonth == '-1' || payrollYear == '-1' || LineDescription == '' || AmountSGP == '' || AmountRecoverSGP == '' || ExchangeRate == '' || AmountRecoverGBP == '' || Balance == '' || RecoveryPeriod == '') {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + AssociateID + '","payrollmonth":"' + payrollMonth + '","year":"' + payrollYear + '","LineDescription":"' + LineDescription + '","AmountSGP":"' + AmountSGP + '","AmountRecoverSGP":"' + AmountRecoverSGP + '","ExchangeRate":"' + ExchangeRate + '","AmountRecoverGBP":"' + AmountRecoverGBP + '","Balance":"' + Balance + '","RecoveryPeriod":"' + RecoveryPeriod + '","Comments":"' + Comments + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveCESingaporeDeduction",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_new .innerErrorHolder').removeClass("red");
                    $('.popup_new .innerErrorHolder').addClass("green");
                    $('.popup_new .innerErrorHolder').text('Saved Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_new .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }

                if (type == 1) {
                    BindValidGridtbl();
                }
                else if (type == 2) {
                    BindExceptionsGridtbl();
                }
                //else {
                //    keyPressEnter();
                //}
            },
            error: function (xhr) {
                alert(xhr.responseText);
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });

    }

    else if (componentGroupId == 75 || (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71
        || componentGroupId == 72 || componentGroupId == 74 || componentGroupId == 73 ||
        ((componentGroupId == 3 || componentGroupId == 29
            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {

        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var retentionenddate = '';
        var clawbacktype = '';
        var remarks = '';
        var associateid = obj.find('li:nth-child(1) input').val();
        var advisedmonth = obj.find('li:nth-child(3) select').val();
        var advisedyear = obj.find('li:nth-child(4) select').val();
        var amount = obj.find('li:nth-child(5) input').val();
        var projectid = obj.find('li:nth-child(6) input').val();
        var paymentdt = obj.find('li:nth-child(7) select').val();
        if (((componentGroupId == 3 || componentGroupId == 29
            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)) {
            retentionenddate = obj.find('li:nth-child(8) input').val();
            clawbacktype = obj.find('li:nth-child(9) select').val();
            remarks = obj.find('li:nth-child(10) input').val();
        }
        else {
            retentionenddate = '';
            clawbacktype = '';
            remarks = obj.find('li:nth-child(8) input').val();
        }


        if (advisedmonth == '-1' || advisedyear == '-1' || amount == '' || projectid == ""
            || paymentdt == '-1' || clawbacktype == '-1' || (
                (retentionenddate == '' && (clawbacktype == '-1' || clawbacktype == '2'))
                && (((componentGroupId == 3 || componentGroupId == 29
                    || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20)))) {
            $('.popup_new .innerErrorHolder').text('Please fill mandatory Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false
        }
        else if ($.trim(projectid).length != 10 || isNaN(projectid) || $.trim(projectid).match(/[^a-zA-Z0-9 ]/g)) {
            $('.popup_new .innerErrorHolder').text('Please enter the valid ProjectID');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        else {
            if (isNaN(amount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if ((amount) < 0) {
                error += 'Amount cannot be negative' + ',';
            }
            else if ((amount) == 0) {
                error += 'Amount cannot be zero' + ',';

            }
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateid + '","advisedmonth":"' + advisedmonth + '","advisedyear":"' + advisedyear + '","amount":"' + amount + '", "projectid":"' + projectid + '", "paymentdt":"' + paymentdt + '", "retentiondate":"' + retentionenddate + '", "clawbacktype":"' + clawbacktype + '", "remarks":"' + remarks + '","bulkupload":"2"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SaveUKIFinraAndBonusComponents",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').css('font-size', '14px');
                            $('.popup_new .innerErrorHolder').text('Data saved, this will be considered for payroll');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            $('.popup_new .innerErrorHolder').css('font-size', '14px');
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();//JB
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $('.popup_new .innerErrorHolder').css('font-size', '14px');
                        $('.popup_new .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }

    }

    else if (componentGroupId == 79 || componentGroupId == 80 || componentGroupId == 81) {   //// Save Sick Leave Conversion,Ad-hoc Payment and One Time Payment 

        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var assoid = obj.find('li:nth-child(1) input').val();
        var advisedMonth = obj.find('li:nth-child(3) select').val();
        var advisedYear = obj.find('li:nth-child(4) select').val();
        var amount = obj.find('li:nth-child(5) input').val();
        var paymentDate = obj.find('li:nth-child(6) select').val();
        var remarks = obj.find('li:nth-child(7) input').val();
        var remarks = '';
        var daysEncashed = '';
        var taxable = '';
        var key = 0;
        var bulkupload = 2;
        var error = '';
        var projectid = '';

        if (componentGroupId == 79) {
            daysEncashed = obj.find('li:nth-child(8) input').val();

        }
        if (componentGroupId == 81) {

            //// taxable = obj.find('li:nth-child(8) select').val();
            projectid = $('#SAO_ProjectID').val();
            remarks = obj.find('li:nth-child(7) input').val();
            taxable = obj.find('li:last-child select').val();
        }

        if (componentGroupId == 79) {
            if ($.trim(assoid) == '' || advisedMonth == -1 || advisedYear == -1 || amount == '' || paymentDate == -1 || daysEncashed == '') {

                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
            else {
                if (isNaN(assoid)) {
                    error += 'AssociateId is invalid' + ',';
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    $('.popup_new .innerErrorHolder').css('font-size', '14px');
                    $('.popup_new .innerErrorHolder').text(error);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
            }
        }
        if (componentGroupId == 81) {

            if ($.trim(assoid) == '' || advisedMonth == -1 || advisedYear == -1 || amount == '' || paymentDate == -1 || taxable == -1) {
                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
            else if ($.trim(projectid).length != 10 || isNaN(projectid) || $.trim(projectid).match(/[^a-zA-Z0-9 ]/g)) {
                $('.popup_new .innerErrorHolder').text('Please enter the valid ProjectID');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
            else {
                if (isNaN(assoid)) {
                    error += 'AssociateId is invalid' + ',';
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    $('.popup_new .innerErrorHolder').css('font-size', '14px');
                    $('.popup_new .innerErrorHolder').text(error);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
            }
        }

        if (componentGroupId == 80) {

            if ($.trim(assoid) == '' || advisedMonth == -1 || advisedYear == -1 || amount == '' || paymentDate == -1) {
                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
            else {
                if (isNaN(assoid)) {
                    error += 'AssociateId is invalid' + ',';
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    $('.popup_new .innerErrorHolder').css('font-size', '14px');
                    $('.popup_new .innerErrorHolder').text(error);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
            }
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + assoid + '", "advisedMonth":"' + advisedMonth + '","advisedYear":"' + advisedYear + '","amount":"' + amount + '","paymentDate":"' + paymentDate + '","projectid":"' + projectid + '", "remarks":"' + remarks + '", "daysEncashed":"' + daysEncashed + '","taxable":"' + taxable + '"}';

        if (error == '') {

            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveSickLeaveAdhocOneTimePHL",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                async: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_new .innerErrorHolder').removeClass("red");
                        $('.popup_new .innerErrorHolder').addClass("green");
                        $('.popup_new .innerErrorHolder').css('font-size', '14px');
                        $('.popup_new .innerErrorHolder').text('Data saved, this will be considered for payroll');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $('.popup_new .innerErrorHolder').css('font-size', '14px');
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_new .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_new .innerErrorHolder').css('font-size', '14px');
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });
        }
        else {
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').css('font-size', '14px');
            $('.popup_edit .innerErrorHolder').text(error);
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();

        }

    }
    else if (componentGroupId == 83) {   //// Save Lost Admin Access

        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var assoid = obj.find('li:nth-child(1) input').val();
        advisedMonth = obj.find('li:nth-child(3) select').val();
        advisedYear = obj.find('li:nth-child(4) select').val();
        principalAmount = obj.find('li:nth-child(5) input').val();
        amortizationAmount = obj.find('li:nth-child(6) span').text();
        paymentDate = obj.find('li:nth-child(7) select').val();
        remarks = obj.find('li:nth-child(8) input').val();
        var key = 0;
        var bulkupload = 2;
        var error = '';



        if ($.trim(assoid) == '' || advisedMonth == -1 || advisedYear == -1 || principalAmount == '' || amortizationAmount == '' || paymentDate == -1) {

            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        else {
            if (isNaN(assoid)) {
                error += 'AssociateId is invalid' + ',';
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').css('font-size', '14px');
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }


        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + assoid + '", "advisedMonth":"' + advisedMonth + '","advisedYear":"' + advisedYear + '","principalAmount":"' + principalAmount + '","amortizationAmount":"' + amortizationAmount + '","paymentDate":"' + paymentDate + '", "remarks":"' + remarks + '"}';

        if (error == '') {
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveLostAdminAccessPHL",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_new .innerErrorHolder').removeClass("red");
                        $('.popup_new .innerErrorHolder').addClass("green");
                        $('.popup_new .innerErrorHolder').css('font-size', '14px');
                        $('.popup_new .innerErrorHolder').text('Data saved, this will be considered for payroll');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $('.popup_new .innerErrorHolder').css('font-size', '14px');
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_new .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_new .innerErrorHolder').css('font-size', '14px');
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });
        }
        else {
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').css('font-size', '14px');
            $('.popup_new .innerErrorHolder').text(error);
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }
    else if (componentGroupId == 84) {   //// Save HDMF Contribution

        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) input').val();
        advisedMonth = obj.find('li:nth-child(3) select').val();
        advisedYear = obj.find('li:nth-child(4) select').val();
        amount = obj.find('li:nth-child(5) input').val();
        startDate = obj.find('li:nth-child(6) input').val();
        endDate = obj.find('li:nth-child(7) input').val();
        paymentDate = obj.find('li:nth-child(8) select').val();
        remarks = obj.find('li:nth-child(9) input').val();
        var key = 0;
        var bulkupload = 2;
        var error = '';

        if ($.trim(associateId) == '' || advisedMonth == -1 || advisedYear == -1 || amount == '' || startDate == '' || endDate == '' || paymentDate == -1) {

            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        else {
            if (isNaN(associateId)) {
                error += 'AssociateId is invalid' + ',';
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').css('font-size', '14px');
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateId + '", "advisedMonth":"' + advisedMonth + '","advisedYear":"' + advisedYear + '","amount":"' + amount + '","startDate":"' + startDate + '","endDate":"' + endDate + '","paymentDate":"' + paymentDate + '", "remarks":"' + remarks + '"}';
        if (error == '') {
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/SaveHDMFContribution",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_new .innerErrorHolder').removeClass("red");
                        $('.popup_new .innerErrorHolder').addClass("green");
                        $('.popup_new .innerErrorHolder').css('font-size', '14px');
                        $('.popup_new .innerErrorHolder').text('Data saved, this will be considered for payroll');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $('.popup_new .innerErrorHolder').css('font-size', '14px');
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_new .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid').val() == '' || $('#bid').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_new .innerErrorHolder').css('font-size', '14px');
                    $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                }
            });
        }
        else {
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').css('font-size', '14px');
            $('.popup_new .innerErrorHolder').text(error);
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }
    else if (componentGroupId == 58) { // Lunch Voucher
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateid = obj.find('li:nth-child(1) input').val();
        var advisedmonth = obj.find('li:nth-child(3) select').val();
        var advisedyear = obj.find('li:nth-child(4) select').val();
        var amount = obj.find('li:nth-child(5) span').text();
        var registrynumber = obj.find('li:nth-child(6) input').val();
        var maritalstatus = obj.find('li:nth-child(7) select').val();
        var relationship = obj.find('li:nth-child(8) select').val();
        var paymentdate = obj.find('li:nth-child(9) select').val();
        var remarks = obj.find('li:nth-child(10) input').val();

        var bulkupload = 2;
        if (associateid == '' || advisedmonth == '-1' || advisedyear == '-1' || registrynumber == "" || maritalstatus == '-1'
            || relationship == '-1' || paymentdate == '-1' || certificateID == 0) {
            $('.popup_new .innerErrorHolder').text('Please fill mandatory Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false
        }

        var pkey = 0;
        var datastring = '{"associateid":"' + associateid + '","componentGroupId":"' + componentGroupId + '","advisedmonth":"' + advisedmonth + '","advisedyear":"' + advisedyear + '","amount":"' + amount + '","registrynumber":"' + registrynumber + '","maritalstatus":"' + maritalstatus + '","relationship":"' + relationship + '","paymentdate":"' + paymentdate + '","remarks":"' + remarks + '","mailuploadid":"' + certificateID + '","bulkupload":"' + bulkupload + '","pkey":"' + pkey + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveBereavementNewDataCE",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_new .innerErrorHolder').removeClass("red");
                    $('.popup_new .innerErrorHolder').addClass("green");
                    $('.popup_new .innerErrorHolder').css('font-size', '14px');
                    $('.popup_new .innerErrorHolder').text('Data saved, this will be considered for payroll');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    $('.popup_new .innerErrorHolder').css('font-size', '14px');
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_new .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid').val() == '' || $('#bid').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();//JB
                    }
                }
                else {
                    keyPressEnter();
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').css('font-size', '14px');
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });

    }

    else if (componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87 || componentGroupId == 88 || componentGroupId == 89) {
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var bulkupload = 2;
        var key = 0;
        var associateid = obj.find('li:nth-child(1) input').val();
        var advisedmonth = obj.find('li:nth-child(3) select').val();
        var advisedyear = obj.find('li:nth-child(4) select').val();
        var loanamount = obj.find('li:nth-child(5) input').val();
        var interestamount = obj.find('li:nth-child(6) input').val();
        var startdate = obj.find('li:nth-child(7) input').val();
        var enddate = obj.find('li:nth-child(8) input').val();
        var prevpayment = obj.find('li:nth-child(9) input').val();
        var balanceamount = obj.find('li:nth-child(10) input').val();
        var term = obj.find('li:nth-child(11) input').val();
        var monthlyamount = obj.find('li:nth-child(12) input').val();
        var paymentdate = obj.find('li:nth-child(13) select').val();
        var remarks = obj.find('li:nth-child(14) input').val();


        if (associateid == '' || advisedmonth == '-1' || advisedyear == '-1' || loanamount == '' || interestamount == ''
            || startdate == '' || enddate == '' || prevpayment == '' || balanceamount == ''
            || term == '' || monthlyamount == '' || paymentdate == '-1') {
            $('.popup_new .innerErrorHolder').text('Please fill mandatory Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false
        }
        else {
            if (isNaN(loanamount) || isNaN(interestamount) || isNaN(balanceamount) || isNaN(monthlyamount)) {
                error += 'Please enter a valid Amount' + ',';
            }
            else if ((loanamount) < 0) {
                error += 'Loan Amount cannot be negative' + ',';
            }
            else if ((interestamount) < 0) {
                error += 'Interest Amount cannot be negative' + ',';
            }
            else if ((balanceamount) < 0) {
                error += 'Balance Amount cannot be negative' + ',';
            }
            else if ((monthlyamount) < 0) {
                error += 'Monthly Amount cannot be negative' + ',';
            }
            else if ((loanamount) == 0) {
                error += 'Loan Amount cannot be zero' + ',';
            }
            else if ((interestamount) == 0) {
                error += 'Interest Amount cannot be zero' + ',';

            }
            else if ((balanceamount) == 0) {
                error += 'Balance Amount cannot be zero' + ',';

            }
            else if ((monthlyamount) == 0) {
                error += 'Monthly Amount cannot be zero' + ',';

            }
            if (error == '') {
                var datastring = '{"componentGroupId":"' + componentGroupId + '","bulkupload":' + bulkupload + ',"key":' + key + ',"associateId":"' + associateid + '","advisedmonth":"' + advisedmonth + '","advisedyear":"' + advisedyear + '","loanamount":"' + loanamount + '","interestamount":"' + interestamount + '","startdate":"' + startdate + '","enddate":"' + enddate + '", "prevpayment":"' + prevpayment + '", "balanceamount":"' + balanceamount + '","term":"' + term + '","monthlyamount":"' + monthlyamount + '", "paymentdate":"' + paymentdate + '", "remarks":"' + remarks + '"}';
                $.ajax({
                    type: "POST",
                    url: "../APAC_WebMethods.aspx/SavePHLHDMFANDLOAN",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: datastring,
                    cache: false,
                    success: function (msg) {
                        if (msg.d == 'success') {
                            $('.popup_new .innerErrorHolder').removeClass("red");
                            $('.popup_new .innerErrorHolder').addClass("green");
                            $('.popup_new .innerErrorHolder').css('font-size', '14px');
                            $('.popup_new .innerErrorHolder').text('Data saved, this will be considered for payroll');
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        else {
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            $('.popup_new .innerErrorHolder').css('font-size', '14px');
                            msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                            $('.popup_new .innerErrorHolder').text(msg.d);
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                        if ($('#aid').val() == '' || $('#bid').val() == '') {
                            if (type == 1) {
                                BindValidGridtbl();
                            }
                            else if (type == 2) {
                                BindExceptionsGridtbl();
                            }
                        }
                        else {
                            keyPressEnter();
                        }
                    },
                    error: function (xhr) {
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $('.popup_new .innerErrorHolder').css('font-size', '14px');
                        $('.popup_new .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
                    }
                });
            }
            else {
                error = error.replace(/(^\s*,)|(,\s*$)/g, '');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text(error);
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }

    }
    else if (componentGroupId == 94) {

        var obj = $(this).closest('.popup_new').find('.inner_cont ul');

        var associateid = obj.find('li:nth-child(1) input').val();
        var advisedmonth = obj.find('li:nth-child(3) select').val();
        var advisedyear = obj.find('li:nth-child(4) select').val();
        var principalamount = obj.find('li:nth-child(5) input').val();
        var dategranted = obj.find('li:nth-child(6) input').val();
        var semimonthlyAmount = obj.find('li:nth-child(7) input').val();
        var loanType = obj.find('li:nth-child(8) input').val();
        var paymentdt = obj.find('li:nth-child(9) select').val();
        var remarks = obj.find('li:nth-child(10) input').val();


        if (associateid == '' || advisedmonth == '-1' || advisedyear == '-1' || principalamount == '' || dategranted == ""
            || paymentdt == '-1' || semimonthlyAmount == '' || loanType == '') {
            $('.popup_new .innerErrorHolder').text('Please fill mandatory Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').css('font-size', '14px');
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateid + '","advisedmonth":"' + advisedmonth + '","advisedyear":"' + advisedyear + '","principalamount":"' + principalamount + '", "dategranted":"' + dategranted + '", "paymentdt":"' + paymentdt + '", "semimonthlyAmount":"' + semimonthlyAmount + '", "loanType":"' + loanType + '", "remarks":"' + remarks + '","bulkupload":"2"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SavePHLLoanStoppage",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: false,
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_new .innerErrorHolder').removeClass("red");
                    $('.popup_new .innerErrorHolder').addClass("green");
                    $('.popup_new .innerErrorHolder').css('font-size', '14px');
                    $('.popup_new .innerErrorHolder').text('Data saved, this will be considered for payroll');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    $('.popup_new .innerErrorHolder').css('font-size', '14px');
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_new .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid').val() == '' || $('#bid').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();//JB
                    }
                }
                else {
                    keyPressEnter();
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').css('font-size', '14px');
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });

    }


    $("#splCaseMailUpload").removeAttr("fileuploadid");
});

$(document).on('click', '.delete_btn', function () {
    var componentGroupId = $('#bonus').val();
    var type = '';
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    else if ($('#a_otherGeo').hasClass('selected')) {
        type = 3;
    }

    if (componentGroupId == 69) {//Delete Shadow Payroll Deduction
        var selected = '';
        var len = $('#tblSPD tbody').find(':checked').length;
        $('#tblSPD tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                $('.error_msg_reject').css("left", "290px");
            }
            else {
                $('.error_msg_reject').css("left", "290px");
            }
        }
    }


    if (componentGroupId == 76 || componentGroupId == 77 || componentGroupId == 78) {//Delete Shadow Payroll Deductio
        var selected = '';
        var len = $('#tblSPD tbody').find(':checked').length;
        $('#tblSPD tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                $('.error_msg_reject').css("left", "290px");
            }
            else {
                $('.error_msg_reject').css("left", "290px");
            }
        }
    }




    else if (componentGroupId == 65) {//Delete India Travel Advance
        var selected = '';
        var len = $('#tblITA tbody').find(':checked').length;
        $('#tblITA tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {

                $('.error_msg_reject').css("left", "290px");
            }
            else {

                $('.error_msg_reject').css("left", "290px");

            }
        }
    }

    else if (componentGroupId == 70) {//Delete India Net Deduction
        var selected = '';
        var len = $('#tblIND tbody').find(':checked').length;
        $('#tblIND tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                i
                $('.error_msg_reject').css("left", "290px");

            }
            else {

                $('.error_msg_reject').css("left", "290px");

            }
        }
    }

    else if (componentGroupId == 68) {//Delete Miscellaneous Deduction
        var selected = '';
        var len = $('#tblMD tbody').find(':checked').length;
        $('#tblMD tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                $('.error_msg_reject').css("left", "290px");
            }
            else {
                $('.error_msg_reject').css("left", "290px");
            }
        }
    }

    else if (componentGroupId == 64) {//Special Pay Deletion
        var selected = '';
        var len = $('#tblSP tbody').find(':checked').length;
        $('#tblSP tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {

                $('.error_msg_reject').css("left", "290px");

            }
            else {

                $('.error_msg_reject').css("left", "290px");

            }
        }
    }

    else if (componentGroupId == 62) {//Sales Commission Deletion
        var selected = '';
        var len = $('#tblSC tbody').find(':checked').length;
        $('#tblSC tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {

                $('.error_msg_reject').css("left", "290px");

            }
            else {

                $('.error_msg_reject').css("left", "290px");

            }
        }
    }

    else if (componentGroupId == 60) {//One Off Bonus Deletion
        var selected = '';
        var len = $('#tblOOB tbody').find(':checked').length;
        $('#tblOOB tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                $('.error_msg_reject').css("left", "290px");

            }
            else {
                $('.error_msg_reject').css("left", "290px");
            }
        }
    }

    else if (componentGroupId == 61 || componentGroupId == 82 || componentGroupId == 91 || componentGroupId == 95
        || componentGroupId == 92 || componentGroupId == 93 || componentGroupId == 96 || componentGroupId == 97
        || componentGroupId == 90) {//Delete  PSU CAsh Bridge
        var selected = '';
        var len = $('#tblPSU tbody').find(':checked').length;
        $('#tblPSU tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                $('.error_msg_reject').css("left", "290px");
            }
            else {
                $('.error_msg_reject').css("left", "290px");
            }
        }
    }

    else if (componentGroupId == 63) {//Delete  Singapore Deduction
        var selected = '';
        var len = $('#tblSD tbody').find(':checked').length;
        $('#tblSD tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {

                $('.error_msg_reject').css("left", "290px");

            }
            else {

                $('.error_msg_reject').css("left", "290px");

            }
        }
    }


    else if (componentGroupId == 2 && CountryId != 20) {//ReferralBonus
        var selected = '';
        var len = $('#tblReferral tbody').find(':checked').length;
        $('#tblReferral tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (CountryId == 18 || CountryId == 19) {
                if (type == 1) {
                    $('.error_msg_reject').css("left", "300px");
                }
                else {
                    $('.error_msg_reject').css("left", "292px");
                }
            }
            else {
                $('.error_msg_reject').css("left", "325px");
            }
        }
    }
    else if (componentGroupId == 3 && CountryId != 20) {//Joining bonus
        var selected = '';
        var len = $('#tblJoining tbody').find(':checked').length;
        $('#tblJoining tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            ////$('.error_msg_reject').css("left", "195px");
        }
    }

    else if (componentGroupId == 15 || componentGroupId == 16 || componentGroupId == 41) {//Shift Allowance
        var selected = '';
        $('.error_msg_reject disp').css('display', 'none');
        var len = $('#tbl_shift tbody').find(':checked').length;
        $('#tbl_shift tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
        }
    }
    else if (componentGroupId == 17) {//SAR
        var selected = '';
        var len = $('#tbl_sar tbody').find(':checked').length;
        $('#tbl_sar tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            $('.error_msg_reject').css("margin-left", "-55px");
            $('.error_msg_reject').css("margin-top", "10px");

        }
    }

    else if (componentGroupId == 18 && CountryId == 2) {//School Fees
        var selected = '';
        var len = $('#tblSchoolfee tbody').find(':checked').length;
        $('#tblSchoolfee tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            ////$('.error_msg_reject').css("left", "445px");
        }
    }
    else if (componentGroupId == 19 && CountryId == 2) {//Additional Payout
        var selected = '';
        var len = $('#tblAdditionalPayout tbody').find(':checked').length;
        $('#tblAdditionalPayout tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            //// $('.error_msg_reject').css("left", "575px");
        }
    }

    else if (componentGroupId == 19 && CountryId != 2) {//Additional Payout
        var selected = '';
        var len = $('#tblAdditionalPayout tbody').find(':checked').length;
        $('#tblAdditionalPayout tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            $('.error_msg_reject').css("left", "320px");
        }
    }

    else if (componentGroupId == 20) {//Additional Deduction
        var selected = '';
        var len = $('#tbldeduction tbody').find(':checked').length;
        $('#tbldeduction tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            ////$('.error_msg_reject').css("left", "575px");
        }
    }
    else if ((componentGroupId == 18 || componentGroupId == 23 || componentGroupId == 24) && (CountryId != 2
        && CountryId != 14 && CountryId != 15 && CountryId != 16 && CountryId != 17)) {//School Fees/ parking allowan
        var selected = '';
        var len = $('#tblSchoolfeeAPAC tbody').find(':checked').length;
        $('#tblSchoolfeeAPAC tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            $('.error_msg_reject').css("left", "325px");
        }
    }
    else if (componentGroupId == 18 && (CountryId == 14 || CountryId == 15 || CountryId == 16 || CountryId == 17)) {// Nordics School Fees
        var selected = '';
        var len = $('#tblSchoolfee_CE tbody').find(':checked').length;
        $('#tblSchoolfee_CE tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            $('.error_msg_reject').css("left", "325px");
        }
    }
    else if (componentGroupId == 28) {//in city
        var selected = '';
        var len = $('#tbl_InCityOnsiteAllowance tbody').find(':checked').length;
        $('#tbl_InCityOnsiteAllowance tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                $('.error_msg_reject').css("left", "190px");
            }
            else if (type == 2) {
                $('.error_msg_reject').css("left", "150px");
            }
        }
    }

    else if (componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 57 ||
        componentGroupId == 54 || componentGroupId == 55 || componentGroupId == 59 ||
        componentGroupId == 75 || (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71
        || componentGroupId == 72 || componentGroupId == 74 || componentGroupId == 73
        || ((componentGroupId == 3 || componentGroupId == 29
            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20) || componentGroupId == 94) {//Sign On Bonus
        var selected = '';
        var len = $('#tblSignonBonus tbody').find(':checked').length;
        $('#tblSignonBonus tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                if (CountryId == 18 || CountryId == 19 || CountryId == 20) {
                    $('.error_msg_reject').css("left", "290px");
                }
                else {
                    $('.error_msg_reject').css("left", "190px");
                }
            }
            else if (type == 2) {
                if (CountryId == 18 || CountryId == 19 || CountryId == 20) {
                    $('.error_msg_reject').css("left", "290px");
                }
                else {
                    $('.error_msg_reject').css("left", "150px");
                }

            }
        }
    }
    else if (componentGroupId == 32) {//commuting allowance
        var selected = '';
        var len = $('#tbl_Commuting tbody').find(':checked').length;
        $('#tbl_Commuting tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                $('.error_msg_reject').css("left", "190px");
            }
            else if (type == 2) {
                $('.error_msg_reject').css("left", "150px");

            }
        }
    }

    else if (componentGroupId == 38) {//car damage
        var selected = '';
        var len = $('#tblCarDamageTrafficFine tbody').find(':checked').length;
        $('#tblCarDamageTrafficFine').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                $('.error_msg_reject').css("left", "450px");
            }
            else if (type == 2) {
                $('.error_msg_reject').css("left", "400px");
            }
        }
    }

    else if (componentGroupId == 33 || componentGroupId == 50 || ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19))) {//Rewards
        var selected = '';
        var len = $('#tblrewards tbody').find(':checked').length;
        $('#tblrewards tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (CountryId == 18 || CountryId == 19) {

                if (type == 1) {
                    if ((componentGroupId == 50 || componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
                        $('.error_msg_reject').css("left", "300px");
                    }
                    else {
                        $('.error_msg_reject').css("left", "215px");
                    }
                }
                else {
                    if ((componentGroupId == 50 || componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19)) {
                        $('.error_msg_reject').css("left", "290px");
                    }
                    else {
                        $('.error_msg_reject').css("left", "160px");
                    }
                }


            }
            else {
                $('.error_msg_reject').css("left", "325px");
            }
        }
    }
    else if (componentGroupId == 46) {//Benefits
        var selected = '';
        var len = $('#tbl_benefits tbody').find(':checked').length;
        $('#tbl_benefits tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            $('.error_msg_reject').css("left", "325px");
        }
    }

    else if (componentGroupId == 30 && CountryId != 20) {//Relocation
        var selected = '';
        var len = $('#tblRelocation tbody').find(':checked').length;
        $('#tblRelocation tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (CountryId == 18 || CountryId == 19) {
                if (type == 1) {
                    if (CountryId == 18 || CountryId == 19) {
                        $('.error_msg_reject').css("left", "290px");
                    }
                    else {
                        $('.error_msg_reject').css("left", "215px");
                    }
                }
                else {
                    if (CountryId == 18 || CountryId == 19) {
                        $('.error_msg_reject').css("left", "290px");
                    }
                    else {
                        $('.error_msg_reject').css("left", "160px");
                    }
                }
            }
            else {
                $('.error_msg_reject').css("left", "190px");
            }
        }
    }
    else if (componentGroupId == 34) {//Transition
        var selected = '';
        var len = $('#tblTransition tbody').find(':checked').length;
        $('#tblTransition tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            $('.error_msg_reject').css("left", "190px");
        }
    }
    else if (componentGroupId == 35) {//Honorarium

        var selected = '';
        var len = $('#tblHonorarium tbody').find(':checked').length;
        $('#tblHonorarium tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            $('.error_msg_reject').css("left", "190px");
        }
    }
    else if (componentGroupId == 36 || componentGroupId == 37) {//Insurance Taxation and Compensation

        var selected = '';
        var len = $('#tblInsurancetax tbody').find(':checked').length;
        $('#tblInsurancetax tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            $('.error_msg_reject').css("left", "200px");
        }
    }
    else if ((componentGroupId == 39 && CountryId == 3) || componentGroupId == 22) {//on call/overtime allowance  && CountryId == 3
        var selected = '';
        var len = $('#tbl_oncall tbody').find(':checked').length;
        $('#tbl_oncall tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (CountryId == 3)
                $('.error_msg_reject').css("left", "325px");
            else
                $('.error_msg_reject').css("left", "197px");
        }
    }
    else if ((componentGroupId == 21 && CountryId == 7) || ((componentGroupId == 39 || componentGroupId == 101) && (CountryId == 7 || CountryId == 8 || CountryId == 9)) || (componentGroupId == 22 && CountryId != 3)) {
        var selected = '';
        var len = $('#tbl_Statutory tbody').find(':checked').length;
        $('#tbl_Statutory tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            $('.error_msg_reject').css("left", "205px");
        }
    }
    else if (componentGroupId == 31) {//net travel allowance

        var selected = '';
        var len = $('#tbl_netTravel tbody').find(':checked').length;
        $('#tbl_netTravel tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                $('.error_msg_reject').css("left", "190px");
            }
            else if (type == 2) {
                $('.error_msg_reject').css("left", "150px");

            }
        }
    }
    else if (componentGroupId == 42 || componentGroupId == 26 || componentGroupId == 27) {//High Temperature

        var selected = '';
        var len = $('#tbl_Hightemp tbody').find(':checked').length;
        $('#tbl_Hightemp tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            $('.error_msg_reject').css("left", "210px");
        }
    }

    else if (componentGroupId == 25 || componentGroupId == 58 || componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87 || componentGroupId == 88 || componentGroupId == 89) {//maternity allowance

        var selected = '';
        var len = $('#tbl_maternity tbody').find(':checked').length;
        $('#tbl_maternity tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                if (CountryId == 20) {
                    $('.error_msg_reject').css("left", "290px");
                }
                else {
                    $('.error_msg_reject').css("left", "215px");
                }
            }
            else {
                if (CountryId == 20) {
                    $('.error_msg_reject').css("left", "290px");
                }
                else {
                    $('.error_msg_reject').css("left", "160px");
                }
            }
        }
    }
    else if (((componentGroupId == 51 || componentGroupId == 45) && CountryId == 15) || (componentGroupId == 53 && (CountryId == 18 || CountryId == 19))) {//wellness/ car parking benefits

        var selected = '';
        var len = $('#tbl_Wellness tbody').find(':checked').length;
        $('#tbl_Wellness tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (componentGroupId == 45) {
                $('.error_msg_reject').css("left", "200px");
            }
            else if (componentGroupId == 53) {
                $('.error_msg_reject').css("left", "420px");
            }
            else {
                $('.error_msg_reject').css("left", "62px");
            }
        }
    }
    else if (componentGroupId == 47 || componentGroupId == 48 || componentGroupId == 52) {// lunch voucher

        var selected = '';
        var len = $('#tbl_MobileTaxation tbody').find(':checked').length;
        $('#tbl_MobileTaxation tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                if (componentGroupId == 52) {
                    $('.error_msg_reject').css("left", "370px");
                }
                else {
                    $('.error_msg_reject').css("left", "340px");
                }
            }
            else if (type == 2) {
                if (componentGroupId == 52) {
                    $('.error_msg_reject').css("left", "325px");
                }
                else {
                    $('.error_msg_reject').css("left", "340px");
                }
            }
        }
    }

    else if (componentGroupId == 56) {// Travel allowance

        var selected = '';
        var len = $('#tblTravelUK tbody').find(':checked').length;
        $('#tblTravelUK tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (CountryId == 18 || CountryId == 19) {
                $('.error_msg_reject').css("left", "290px");
            }
            else {
                if (type == 1) {
                    $('.error_msg_reject').css("left", "370px");
                }
                else if (type == 2) {
                    $('.error_msg_reject').css("left", "325px");
                }
            }
        }
    }

    else if (componentGroupId == 79 || componentGroupId == 80 || componentGroupId == 81) {//Delete Sick leave conversion, Ad-hoc payment and One time Payment 

        var selected = '';
        var len = $('#tbl_SAODetails tbody').find(':checked').length;
        $('#tbl_SAODetails tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                $('.error_msg_reject').css("left", "290px");
            }
            else {
                $('.error_msg_reject').css("left", "290px");
            }
        }
    }
    else if (componentGroupId == 83) {//Delete Lost Admin Access 

        var selected = '';
        var len = $('#tbl_LAADetails tbody').find(':checked').length;
        $('#tbl_LAADetails tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                $('.error_msg_reject').css("left", "290px");
            }
            else {
                $('.error_msg_reject').css("left", "290px");
            }
        }
    }
    else if (componentGroupId == 84) {//Delete HDMF Contribution 

        var selected = '';
        var len = $('#tbl_HDMFDetails tbody').find(':checked').length;
        $('#tbl_HDMFDetails tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            if (type == 1) {
                $('.error_msg_reject').css("left", "290px");
            }
            else {
                $('.error_msg_reject').css("left", "290px");
            }
        }
    }
    else if (componentGroupId == 94) {//loan stoppage

        var selected = '';
        var len = $('#tblSignonBonus tbody').find(':checked').length;
        $('#tblSignonBonus tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        if (len > 0) {
            infopopup('Are you sure you want to delete the selected record(s)?');
        }
        else {
            $('.error_msg_reject').show();
            $('.error_msg_reject').css("left", "290px");
        }
    }
    if (len == 0) {
        var txtboxcount = $(this).parent().find('div[id="searchtxt"]').children('input[type="text"]').length;
        txtboxcount++  // = txtboxcount == 0 ? 1 : txtboxcount + 2;
        $(".error_msg_reject").css({ 'left': txtboxcount * 110 + 'px', 'z-index': '1' });
        $('.error_msg_reject').show();
    }
});

$(document).on('keypress', '#aid,#aid1,#aid2,#aid3,#aid4,#bid,#bid1,#bid2', function (event) { ////work on with aid here in html
    if (event.which == 13) {
        event.preventDefault();
        var type = '';
        if ($('#a_valid').hasClass('selected')) {
            type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {
            type = 2;
        }
        else if ($('#a_otherGeo').hasClass('selected')) {
            type = 3;
        }
        compvalue = $('#bonus').val();
        if (compvalue == 3 || compvalue == 2 || compvalue == 15 || compvalue == 16 || compvalue == 17 ||
            compvalue == 18 || compvalue == 19 || compvalue == 20 || compvalue == 29 || compvalue == 30 ||
            compvalue == 33 || compvalue == 34 || compvalue == 35 || compvalue == 36 || compvalue == 37 ||
            compvalue == 39 || compvalue == 22 || compvalue == 21 || compvalue == 31 || compvalue == 41 || compvalue == 26 ||
            compvalue == 42 || compvalue == 32 || compvalue == 38 || compvalue == 25 || compvalue == 28 || compvalue == 27
            || compvalue == 46 || compvalue == 47 || compvalue == 48 || compvalue == 49 || compvalue == 45 || compvalue == 50
            || compvalue == 51 || compvalue == 57 || compvalue == 53 || compvalue == 56 ||
            compvalue == 54 || compvalue == 55 || compvalue == 59 || compvalue == 66 || compvalue == 67
            || compvalue == 60 || compvalue == 61 || compvalue == 62 || compvalue == 63 || compvalue == 64
            || compvalue == 65 || compvalue == 68 || compvalue == 69 || compvalue == 70
            || compvalue == 79 || compvalue == 80 || compvalue == 81 || compvalue == 83
            || compvalue == 84 || compvalue == 85 || compvalue == 82 || compvalue == 91 || compvalue == 92 || compvalue == 93 || compvalue == 95
            || compvalue == 96 || compvalue == 97
            || compvalue == 86 || compvalue == 87 || compvalue == 88 || compvalue == 89 || compvalue == 76
            || compvalue == 77 || compvalue == 78 || compvalue == 71 || compvalue == 72 || compvalue == 73
            || compvalue == 74 || compvalue == 75 || compvalue == 90 || compvalue == 58 || compvalue == 94) {
            keyPressEnter();
        }
        else if ($('#aid').val() == '' || $('#aid1').val() == '' || $('#aid2').val() == ''
            || $('#bid').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
            if (type == 1) {
                BindValidGridtbl();
            }
            else if (type == 2) {

                BindExceptionsGridtbl();

            }
            else if (type == 3) {
                BindOtherGeoGridtbl();
            }
        }
        else {
            keyPressEnter();
        }
    }
});

$(document).on('blur', '#aid,#aid1,#aid2,#aid3,#aid4,#bid,#bid1,#bid2', function (event) {
    var type = '';
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    else if ($('#a_otherGeo').hasClass('selected')) {
        type = 3;
    }
    compvalue = $('#bonus').val();
    if (compvalue == 3 || compvalue == 2 || compvalue == 15 || compvalue == 16 || compvalue == 17 ||
        compvalue == 18 || compvalue == 19 || compvalue == 20 || compvalue == 29 || compvalue == 30 ||
        compvalue == 33 || compvalue == 34 || compvalue == 35 || compvalue == 36 || compvalue == 37 ||
        compvalue == 39 || compvalue == 22 || compvalue == 21 || compvalue == 31 || compvalue == 41 || compvalue == 26 ||
        compvalue == 42 || compvalue == 32 || compvalue == 38 || compvalue == 25 || compvalue == 28 || compvalue == 27
        || compvalue == 46 || compvalue == 49 || compvalue == 45 || compvalue == 50 || compvalue == 47 || compvalue == 48 || compvalue == 57
        || compvalue == 54 || compvalue == 55 || compvalue == 59 || compvalue == 56 || compvalue == 60
        || compvalue == 61 || compvalue == 62 || compvalue == 63 || compvalue == 64 || compvalue == 65 || compvalue == 66 || compvalue == 67
        || compvalue == 68 || compvalue == 69 || compvalue == 70 || compvalue == 79 || compvalue == 80 || compvalue == 81
        || compvalue == 83 || compvalue == 84 || compvalue == 85
        || compvalue == 86 || compvalue == 87 || compvalue == 88 || compvalue == 89 || compvalue == 76
        || compvalue == 77 || compvalue == 78 || compvalue == 91 || compvalue == 92 || compvalue == 94 || compvalue == 93 || compvalue == 95
        || compvalue == 96 || compvalue == 97 || compvalue == 71 || compvalue == 72 || compvalue == 73
        || compvalue == 74 || compvalue == 75 || compvalue == 90 || compvalue == 53 || compvalue == 58 || compvalue == 82 || compvalue == 101) {

        keyPressEnter();
    }
    else if ($('#aid').val() == '' || $('#aid1').val() == '' || $('#aid2').val() == '' || $("#aid3").val() == ''
        || $('#bid').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '' || $('#bid3').val() == '') {
        if (type == 1) {
            BindValidGridtbl();
        }
        else if (type == 2) {

            BindExceptionsGridtbl();

        }
        else if (type == 3) {
            BindOtherGeoGridtbl();
        }
    }
    else {
        keyPressEnter();
    }

});

$(document).on('keypress', '.popup_new', function (event) {
    if (event.which == 13) {
        event.preventDefault();
        $('#btn_save').click();
    }
});

$(document).on('keypress', '.popup_edit', function (event) {
    if (event.which == 13) {
        event.preventDefault();
        $('#btn_Update').click();
    }
});

$(document).on('click', '.search_b', function () {
    var type = '';
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    else if ($('#a_otherGeo').hasClass('selected')) {
        type = 3;
    }
    if ($('#aid').val() == '' || $('#bid').val() == '') {
        if (type == 1) {
            BindValidGridtbl();
        }
        else if (type == 2) {
            BindExceptionsGridtbl();
        }
        else if (type == 3) {
            BindOtherGeoGridtbl();
        }
    }
    else {
        keyPressEnter();
    }
});

$(document).on("change", "#aid,#aid1,#aid2,#aid3,#aid4,#bid,#bid1,#bid2", function () {
    searchflag = 0;
});

function keyPressEnter() {
    var componentGroupId = $('#bonus').val();
    ///include aid and work here
    //var ddlValue = $('#drpdown_filter').val();
    //var value = $('#aid').val();
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    var ddlValue = '';

    var value = $('#aid').val();
    var value1 = '';
    var value2 = '';
    if (componentGroupId == 48 && CountryId == 17) {
        value1 = $('#bid1').val();
        value2 = $('#bid2').val();
    }
    else {
        value1 = $('#aid1').val();
        value2 = $('#aid2').val();
    }


    if ((componentGroupId == 39 || componentGroupId == 22) && CountryId == 3) {
        var term = "\\";
        if (value2 != '' && value2 != undefined) {
            var index = value2.indexOf(term);
            if (index != -1) {
                value2 = "";
            }
        }
    }
    if (((componentGroupId == 33 || componentGroupId == 38) && CountryId == 3) ||
        (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) ||
        ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19))) {
        var term = "\\";
        if (value2 != '' && value2 != undefined) {
            var index = value2.indexOf(term);
            if (index != -1) {
                value2 = "&#92;";
            }
        }

    }
    var value3 = $('#aid3').val();

    var value4 = $('#aid4').val();
    if (value1 == undefined) {
        value1 = '';
    }
    if (value2 == undefined) {
        value2 = '';
    }
    if (value3 == undefined) {
        value3 = '';
    }
    var Month = $('#ddlMonth').val();

    var pid = $('#proid').val();

    if (searchflag == 0) {
        page = 1;
        searchflag = 1;
    }

    if ($('#a_valid').hasClass('selected')) {
        $('#ulMonth').css('display', 'none');
        var datastring = '';
        if ((componentGroupId == 2 && CountryId != 20) || (componentGroupId == 3 && CountryId != 20) || componentGroupId == 17 || (componentGroupId == 18)
            || componentGroupId == 19 || componentGroupId == 20) {
            var iDisplayLength = $("#displayrecords").val();
            datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","orderBy":"' + orderBy + '","sortOrder":"' + sortOrder + '","getPages":"0"}';
            url = "../APAC_WebMethods.aspx/GetUploaderValidReferralShiftDataSearchuploader";
        }
        else if (componentGroupId == 15 || componentGroupId == 16 || componentGroupId == 41) {
            var iDisplayLength = $("#displayrecords").val();
            datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"' + pid + '","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","orderBy":"' + orderBy + '","sortOrder":"' + sortOrder + '","getPages":"0"}';
            url = "../APAC_WebMethods.aspx/GetUploaderValidReferralShiftDataSearch";
        }
        else if (componentGroupId == 28 || componentGroupId == 29 || componentGroupId == 30 || componentGroupId == 32
            || componentGroupId == 33 || componentGroupId == 46 || componentGroupId == 49 || componentGroupId == 34
            || componentGroupId == 35 || componentGroupId == 36 || componentGroupId == 37 || componentGroupId == 38
            || componentGroupId == 39 || componentGroupId == 22 || componentGroupId == 21 || componentGroupId == 23
            || componentGroupId == 24 || componentGroupId == 31 || componentGroupId == 25 || componentGroupId == 42
            || componentGroupId == 26 || componentGroupId == 27 || componentGroupId == 22 || componentGroupId == 45
            || componentGroupId == 47 || componentGroupId == 48 || componentGroupId == 51 || componentGroupId == 50
            || componentGroupId == 52 || componentGroupId == 59 || componentGroupId == 60 || componentGroupId == 62
            || componentGroupId == 64 || componentGroupId == 65 || componentGroupId == 68 || componentGroupId == 69
            || componentGroupId == 70 || componentGroupId == 61 || componentGroupId == 63 || componentGroupId == 57
            || componentGroupId == 54 || componentGroupId == 55 || componentGroupId == 53 || componentGroupId == 56
            || ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19))
            || componentGroupId == 60 || componentGroupId == 61 || componentGroupId == 62 || componentGroupId == 63
            || componentGroupId == 64 || componentGroupId == 65 || componentGroupId == 68 || componentGroupId == 69
            || componentGroupId == 70 || componentGroupId == 75 ||
            (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71 || componentGroupId == 72
            || componentGroupId == 74 || componentGroupId == 73 || componentGroupId == 76 || componentGroupId == 77 || componentGroupId == 78
            || componentGroupId == 70 || componentGroupId == 79 || componentGroupId == 80 || componentGroupId == 81
            || componentGroupId == 83 || componentGroupId == 84 || componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87
            || componentGroupId == 88 || componentGroupId == 89 || componentGroupId == 82 || componentGroupId == 91 || componentGroupId == 95
            || componentGroupId == 92 || componentGroupId == 93 || componentGroupId == 96 || componentGroupId == 97
            || ((componentGroupId == 3 || componentGroupId == 29
                || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20) || componentGroupId == 90
            || componentGroupId == 58 || componentGroupId == 94 || componentGroupId == 101) {
            var iDisplayLength = $("#displayrecords").val();
            datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","orderBy":"' + orderBy + '","sortOrder":"' + sortOrder + '","getPages":"0"}';
            url = "../APAC_WebMethods.aspx/GetUploaderValidReferralShiftDataSearchuploader";
        }

        $.ajax({
            type: "POST",
            url: url,
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: false,
            cache: false,
            data: datastring,
            success: BindValidResultset,
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        //$('#ulMonth').css('display', 'block');
        var datastring = '';


        if ((componentGroupId == 2 && CountryId != 20) || (componentGroupId == 3 && CountryId != 20) || componentGroupId == 17 || componentGroupId == 18
            || componentGroupId == 19 || componentGroupId == 20) {
            var iDisplayLength = $("#displayrecords").val();
            datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"0"}';
            url = "../APAC_WebMethods.aspx/GetUploaderExceptionDataSearchuploader";
        }
        else if (componentGroupId == 15 || componentGroupId == 16 || componentGroupId == 41) {
            var iDisplayLength = $("#displayrecords").val();
            datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"' + pid + '","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","orderBy":"' + orderBy + '","sortOrder":"' + sortOrder + '","getPages":"0"}';
            url = "../APAC_WebMethods.aspx/GetUploaderReferralShiftExceptionDataSearch";
        }

        else if (componentGroupId == 28 || componentGroupId == 29 || componentGroupId == 30 || componentGroupId == 33
            || componentGroupId == 46 || componentGroupId == 49 || componentGroupId == 34 || componentGroupId == 35
            || componentGroupId == 36 || componentGroupId == 37 || componentGroupId == 38 || componentGroupId == 39
            || componentGroupId == 22 || componentGroupId == 32
            || componentGroupId == 21 || componentGroupId == 31 || componentGroupId == 42 || componentGroupId == 26
            || componentGroupId == 27 || componentGroupId == 25 || componentGroupId == 23 || componentGroupId == 24
            || componentGroupId == 45 || componentGroupId == 47 || componentGroupId == 48 || componentGroupId == 50
            || componentGroupId == 51 || componentGroupId == 52 || componentGroupId == 57 || componentGroupId == 53
            || componentGroupId == 56 || componentGroupId == 54 || componentGroupId == 55 || componentGroupId == 59
            || componentGroupId == 69 || componentGroupId == 62 || componentGroupId == 64 || componentGroupId == 65
            || componentGroupId == 68 || componentGroupId == 70 || componentGroupId == 60 || componentGroupId == 61
            || componentGroupId == 63 || componentGroupId == 75 ||
            (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71 || componentGroupId == 72
            || componentGroupId == 74 || componentGroupId == 73
            || componentGroupId == 63 || componentGroupId == 79 || componentGroupId == 80 || componentGroupId == 81
            || componentGroupId == 83 || componentGroupId == 84 || componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87
            || componentGroupId == 88 || componentGroupId == 82 || componentGroupId == 91 || componentGroupId == 92
            || componentGroupId == 93 || componentGroupId == 95 || componentGroupId == 96 || componentGroupId == 97 || componentGroupId == 76
            || componentGroupId == 77 || componentGroupId == 78
            || componentGroupId == 88
            || componentGroupId == 89 || ((componentGroupId == 3 || componentGroupId == 29
                || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20) || componentGroupId == 90
            || componentGroupId == 94 || componentGroupId == 101) {
            var iDisplayLength = $("#displayrecords").val();
            datastring = '{"componentGroupId":"' + componentGroupId + '","projectID":"","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","month":"' + Month + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","orderBy":"' + orderBy + '","sortOrder":"' + sortOrder + '","getPages":"0"}';
            url = "../APAC_WebMethods.aspx/GetUploaderExceptionDataSearchuploader";
        }

        $.ajax({
            type: "POST",
            url: url,
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: BindExceptionResultset,
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

    }
    else if ($('#a_otherGeo').hasClass('selected')) {
        var iDisplayLength = $("#displayrecords").val();
        $('#ulMonth').css('display', 'none');
        var datastring = '{"componentGroupId":"' + componentGroupId + '","txtValue1":"' + value1 + '","txtValue2":"' + value2 + '","txtValue3":"' + value3 + '","ddlValue":"' + ddlValue + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"0"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetOtherGeographyUploaderDataSearch",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            cache: false,
            data: datastring,
            success: BindOtherGeographyValidResultset,
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
}

$(document).on("change", ".sel_style", function () {
    //$(".sel_style").live("change", function () {
    var comp = $("#bonus").val();
    if (comp == 2) {
        var otable = $("#tblReferral").dataTable();
        $(otable.fnGetNodes()).find(':checkbox').each(function () {
            $this = $(this);
            $this.prop('checked', false);
            //selected.push($this.val());
        });
        $("#rvalid").prop('checked', false);
    }

});

$(document).on("page", "#tblReferral", function () {
    //$('#tblReferral').live('page', function () {
    var otable = $("#tblReferral").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#rvalid").prop('checked', false);
});

$(document).on("page", "#tblJoining", function () {
    //$('#tblJoining').live('page', function () {
    var otable = $("#tblJoining").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#jvalid").prop('checked', false);
});

$(document).on("page", "#tbl_shift", function () {
    //$('#tbl_shift').live('page', function () {
    var otable = $("#tbl_shift").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#svalid").prop('checked', false);
});

$(document).on("page", "#tbl_sar", function () {
    //$('#tbl_sar').live('page', function () {
    var otable = $("#tbl_sar").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#sarvalid").prop('checked', false);
});

$(document).on("page", "#tblSchoolfee", function () {
    //$('#tblSchoolfee').live('page', function () {
    var otable = $("#tblSchoolfee").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#sfvalid").prop('checked', false);
});

$(document).on("page", "#tbl_InCityOnsiteAllowance", function () {
    //$('#tbl_InCityOnsiteAllowance').live('page', function () {
    var otable = $("#tbl_InCityOnsiteAllowance").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#invalid").prop('checked', false);
    $("#jvalid").prop('checked', false);
});

$(document).on("page", "#tblSchoolfeeAPAC", function () {
    //$('#tblSchoolfeeAPAC').live('page', function () {
    var otable = $("#tblSchoolfeeAPAC").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#Asfvalid").prop('checked', false);
});

$(document).on("page", "#tbl_Statutory", function () {
    //$('#tbl_Statutory').live('page', function () {
    var otable = $("#tbl_Statutory").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#chkvalid").prop('checked', false);
});

$(document).on("page", "#tblAdditionalPayout", function () {
    //$('#tblAdditionalPayout').live('page', function () {
    var otable = $("#tblAdditionalPayout").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#apvalid").prop('checked', false);
});

$(document).on("page", "#tbl_Hightemp", function () {
    //$('#tbl_Hightemp').live('page', function () {
    var otable = $("#tbl_Hightemp").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#highvalid").prop('checked', false);
});

$(document).on("page", "#tbldeduction", function () {
    //$('#tbldeduction').live('page', function () {
    var otable = $("#tbldeduction").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#advalid").prop('checked', false);
});

$(document).on("page", "#tblInsurancetax", function () {
    //$('#tblInsurancetax').live('page', function () {
    var otable = $("#tblInsurancetax").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#taxvalid").prop('checked', false);
});

$(document).on("page", "#tbl_Commuting", function () {
    //$('#tbl_Commuting').live('page', function () {
    var otable = $("#tbl_Commuting").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#cvalid").prop('checked', false);
});

$(document).on("page", "#tbl_netTravel", function () {
    //$('#tbl_netTravel').live('page', function () {
    var otable = $("#tbl_netTravel").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#netvalidcheckbox").prop('checked', false);
});

$(document).on("page", "#tblrewards", function () {
    //$('#tblrewards').live('page', function () {
    var otable = $("#tblrewards").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#rrvalid").prop('checked', false);
});

$(document).on("page", "#tbl_benefits", function () {
    //$('#tbl_benefits').live('page', function () {
    var otable = $("#tbl_benefits").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#benvalid").prop('checked', false);
});

$(document).on("page", "#tbl_Wellness", function () {
    //$('#tbl_Wellness').live('page', function () {
    var otable = $("#tbl_Wellness").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#WBvalid").prop('checked', false);
});

$(document).on("page", "#tbl_MobileTaxation", function () {
    //$('#tbl_MobileTaxation').live('page', function () {
    var otable = $("#tbl_MobileTaxation").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#MTvalid").prop('checked', false);
});

$(document).on("page", "#tbl_retention", function () {
    //$('#tbl_retention').live('page', function () {
    var otable = $("#tbl_retention").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#retvalid").prop('checked', false);
});

$(document).on("click", "#rvalid", function () {
    //$("#rvalid").live("click", function () {
    var stat = this.checked;
    $(".referralvalid").prop("checked", stat);
    $(".referralexp").prop("checked", stat);
});

$(document).on("click", "#jvalid", function () {
    //$("#jvalid").live("click", function () {
    $('.joiningvalid').prop('checked', this.checked);
    $('.joiningexp').prop('checked', this.checked);
});

$(document).on("click", "#taxvalid", function () {
    //$("#taxvalid").live("click", function () {
    $('.insurancevalid').prop('checked', this.checked);
    $('.insuranceexp').prop('checked', this.checked);
});

//$(document).on("click", "#WBvalidchk", function () {
//    //$("#WBvalidchk ").live("click", function () {
//    $('.WBvalid').prop('checked', this.checked);
//    $('.signonexp').prop('checked', this.checked);


//});
$(document).on("click", "#WBValidchk", function () {

    $('.WBValid').prop('checked', this.checked);
    $('.signonexp').prop('checked', this.checked);

});

//$(document).on("click", ".WBvalid", function () {

//    if ($(".WBvalid ").length == $(".WBvalid:checked").length) {
//        $("#WBvalidchk").prop("checked", "checked");
//        $("#WBExceptionchk").prop("checked", "checked");


//    } else {
//        $("#WBvalidchk").prop("checked", false);
//        $("#WBExceptionchk").prop("checked", false);
//    }

//});

$(document).on("click", "#MTvalidchk", function () {

    $('.MTvalid ').prop('checked', this.checked);
    $('.signonexp').prop('checked', this.checked);

});

$(document).on("click", "#WBExceptionchk", function () {
    //$("#WBExceptionchk").live("click", function () {
    $('.WBvalid ').prop('checked', this.checked);

});

$(document).on("click", "#MTExceptionchk", function () {
    //$("#MTExceptionchk").live("click", function () {
    $('.MTvalid ').prop('checked', this.checked);
});

$(document).on("click", "#netvalidcheckbox", function () {
    //$("#netvalidcheckbox").live("click", function () {
    $('.NetValid').prop('checked', this.checked);
    $('.NetException').prop('checked', this.checked);
});

$(document).on("click", "#CESchoolvalid", function () {
    //$("#CESchoolvalid").live("click", function () {
    $('.CEsfvalid').prop('checked', this.checked);
    $('.CEsfexp').prop('checked', this.checked);
});

$(document).on("click", "#cvalid", function () {
    //$("#cvalid").live("click", function () {
    $('.commutevalid').prop('checked', this.checked);
    $('.commute_exp').prop('checked', this.checked);
});

$(document).on("click", "#chkvalid", function () {
    //$("#chkvalid").live("click", function () {
    $('.checkValid').prop('checked', this.checked);
    $('.checkexp').prop('checked', this.checked);
});

$(document).on("click", "#rrvalid", function () {
    //$("#rrvalid").live("click", function () {
    $('.rewardsvalid').prop('checked', this.checked);
    $('.rewardsexp').prop('checked', this.checked);
});

$(document).on("click", "#benvalid", function () {
    //$("#benvalid").live("click", function () {
    $('.benefitsvalid').prop('checked', this.checked);
    $('.benefitsexp').prop('checked', this.checked);
});

$(document).on("click", "#retvalid", function () {
    //$("#retvalid").live("click", function () {
    $('.retvalid').prop('checked', this.checked);
    $('.retexp').prop('checked', this.checked);
});

$(document).on("click", "#sfvalid", function () {
    //$("#sfvalid").live("click", function () {
    $('.joiningvalid').prop('checked', this.checked);
    $('.joiningexp').prop('checked', this.checked);
});

$(document).on("click", "#Asfvalid", function () {
    //$("#Asfvalid").live("click", function () {
    $('.APACsfvalid').prop('checked', this.checked);
    $('.APACsfexp').prop('checked', this.checked);
});

$(document).on("click", "#sarvalid", function () {
    //$("#sarvalid").live("click", function () {
    var stat = this.checked;
    $('.sarvalidcheck').prop('checked', stat);
    $('.sarexceptioncheck').prop('checked', stat);
});

$(document).on("click", "#advalid", function () {
    //$("#advalid").live("click", function () {
    var stat = this.checked;
    $(".referralvalid").prop("checked", stat);
    $(".adexp").prop("checked", stat);
});

$(document).on("click", "#apvalid", function () {
    //$("#apvalid").live("click", function () {
    var stat = this.checked;
    $(".APvalid").prop("checked", stat);
    $(".APvalid").prop("checked", stat);
});

$(document).on("click", "#highvalid", function () {
    //$("#highvalid").live("click", function () {
    var stat = this.checked;
    $(".Highvalid").prop("checked", stat);
    $(".Highvalid").prop("checked", stat);
});

$(document).on("click", ".referralvalid", function () {

    if ($(".referralvalid").length == $(".referralvalid:checked").length) {
        $("#rvalid").prop("checked", "checked");
        $("#advalid").prop("checked", "checked");
    } else {
        $("#rvalid").prop("checked", false);
        $("#advalid").prop("checked", false);
    }

});

$(document).on("click", ".joiningvalid", function () {

    if ($(".joiningvalid").length == $(".joiningvalid:checked").length) {
        $("#jvalid").prop("checked", "checked");
        $("#sfvalid").prop("checked", "checked");

    } else {
        $("#jvalid").prop("checked", false);
        $("#sfvalid").prop("checked", false);
    }

});

$(document).on("click", ".APACsfvalid", function () {

    if ($(".APACsfvalid").length == $(".APACsfvalid:checked").length) {
        $("#Asfvalid").prop("checked", "checked");
    } else {
        $("#Asfvalid").prop("checked", false);
    }
});

$(document).on("click", ".APACsfexp", function () {

    if ($(".APACsfexp").length == $(".APACsfexp:checked").length) {
        $("#Asfvalid").prop("checked", "checked");
    } else {
        $("#Asfvalid").prop("checked", false);
    }
});

$(document).on("click", ".CEsfvalid", function () {

    if ($(".CEsfvalid").length == $(".CEsfvalid:checked").length) {
        $("#CESchoolvalid").prop("checked", "checked");
    } else {
        $("#CESchoolvalid").prop("checked", false);
    }
});

$(document).on("click", ".CEsfexp", function () {

    if ($(".CEsfexp").length == $(".CEsfexp:checked").length) {
        $("#CESchoolvalid").prop("checked", "checked");
    } else {
        $("#CESchoolvalid").prop("checked", false);
    }
});

$(document).on("click", ".insurancevalid", function () {

    if ($(".insurancevalid").length == $(".insurancevalid:checked").length) {
        $("#taxvalid").prop("checked", "checked");

    } else {
        $("#taxvalid").prop("checked", false);
    }

});

$(document).on("click", ".WBvalid", function () {

    if ($(".WBvalid ").length == $(".WBvalid:checked").length) {
        $("#WBvalidchk").prop("checked", "checked");
        $("#WBExceptionchk").prop("checked", "checked");


    } else {
        $("#WBvalidchk").prop("checked", false);
        $("#WBExceptionchk").prop("checked", false);
    }

});

$(document).on("click", ".MTvalid", function () {

    if ($(".MTvalid ").length == $(".MTvalid:checked").length) {
        $("#MTExceptionchk").prop("checked", "checked");
        $("#MTvalidchk").prop("checked", "checked");


    } else {
        $("#MTExceptionchk").prop("checked", false);
        $("#MTvalidchk").prop("checked", false);
    }

});

$(document).on("click", ".commutevalid", function () {

    if ($(".commutevalid").length == $(".commutevalid:checked").length) {
        $("#cvalid").prop("checked", "checked");

    } else {
        $("#cvalid").prop("checked", false);
    }

});

$(document).on("click", ".NetValid", function () {

    if ($(".NetValid").length == $(".NetValid:checked").length) {
        $("#netvalidcheckbox").prop("checked", "checked");

    } else {
        $("#netvalidcheckbox").prop("checked", false);
    }

});

$(document).on("click", ".checkValid", function () {
    if ($(".checkValid").length == $(".checkValid:checked").length) {
        $("#chkvalid").prop("checked", "checked");

    } else {
        $("#chkvalid").prop("checked", false);
    }
});

$(document).on("click", ".insuranceexp", function () {

    if ($(".insuranceexp").length == $(".insuranceexp:checked").length) {
        $("#taxvalid").prop("checked", "checked");

    } else {
        $("#taxvalid").prop("checked", false);
    }

});

$(document).on("click", ".commute_exp", function () {

    if ($(".commute_exp").length == $(".commute_exp:checked").length) {
        $("#cvalid").prop("checked", "checked");

    } else {
        $("#cvalid").prop("checked", false);
    }

});

$(document).on("click", ".NetException", function () {

    if ($(".NetException").length == $(".NetException:checked").length) {
        $("#netvalidcheckbox").prop("checked", "checked");

    } else {
        $("#netvalidcheckbox").prop("checked", false);
    }

});

$(document).on("click", ".checkexp", function () {

    if ($(".checkexp").length == $(".checkexp:checked").length) {
        $("#chkvalid").prop("checked", "checked");

    } else {
        $("#chkvalid").prop("checked", false);
    }

});

$(document).on("click", ".rewardsvalid", function () {

    if ($(".rewardsvalid").length == $(".rewardsvalid:checked").length) {
        $("#rrvalid").prop("checked", "checked");

    } else {
        $("#rrvalid").prop("checked", false);
    }

});

$(document).on("click", ".benefitsvalid", function () {

    if ($(".benefitsvalid").length == $(".benefitsvalid:checked").length) {
        $("#benvalid").prop("checked", "checked");

    } else {
        $("#benvalid").prop("checked", false);
    }

});

$(document).on("click", ".retvalid", function () {

    if ($(".retvalid").length == $(".retvalid:checked").length) {
        $("#retvalid").prop("checked", "checked");

    } else {
        $("#retvalid").prop("checked", false);
    }

});

$(document).on("click", ".rewardsexp", function () {

    if ($(".rewardsexp").length == $(".rewardsexp:checked").length) {
        $("#rrvalid").prop("checked", "checked");

    } else {
        $("#rrvalid").prop("checked", false);
    }

});

$(document).on("click", ".benefitsexp", function () {

    if ($(".benefitsexp").length == $(".benefitsexp:checked").length) {
        $("#benvalid").prop("checked", "checked");

    } else {
        $("#benvalid").prop("checked", false);
    }

});

$(document).on("click", ".retexp", function () {

    if ($(".retexp").length == $(".retexp:checked").length) {
        $("#retvalid").prop("checked", "checked");

    } else {
        $("#retvalid").prop("checked", false);
    }

});

$(document).on("click", ".shiftvalid", function () {

    if ($(".shiftvalid").length == $(".shiftvalid:checked").length) {
        $("#svalid  ").prop("checked", "checked");

    } else {
        $("#svalid  ").prop("checked", false);
    }

});

$(document).on("click", ".sarvalidcheck", function () {

    if ($(".sarvalidcheck").length == $(".sarvalidcheck:checked").length) {
        $("#sarvalid ").prop("checked", "checked");

    } else {
        $("#sarvalid ").prop("checked", false);
    }

});

$(document).on("click", ".APvalid", function () {

    if ($(".APvalid").length == $(".APvalid:checked").length) {
        $("#apvalid").prop("checked", "checked");

    }
    else {
        $('#apvalid').prop("checked", false);
    }
});

$(document).on("click", ".Highvalid", function () {

    if ($(".Highvalid").length == $(".Highvalid:checked").length) {
        $("#highvalid").prop("checked", "checked");

    } else {
        $("#highvalid").prop("checked", false);
    }
});

$(document).on("click", ".referralexp", function () {

    if ($(".referralexp").length == $(".referralexp:checked").length) {
        $("#rvalid").prop("checked", "checked");
    } else {
        $("#rvalid").prop("checked", false);
    }

});

$(document).on("page", "#tblSignonBonus", function () {
    //$('#tblSignonBonus').live('page', function () {
    var otable = $("#tblSignonBonus").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#sbvalid").prop('checked', false);
});

$(document).on("page", "#tblCarDamageTrafficFine", function () {
    //$('#tblCarDamageTrafficFine').live('page', function () {
    var otable = $("#tblCarDamageTrafficFine").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#ctvalid").prop('checked', false);
});

$(document).on("click", "#sbvalid", function () {
    //$("#sbvalid").live("click", function () {
    var stat = this.checked;
    $(".signonvalid").prop("checked", stat);
    $('.signonexp').prop('checked', stat);
    //$(".referralexp").prop("checked", stat);
    if ($(".signonvalid:checked").length > 0) {
        getcutoffDate();
        if (isCutOffDateOver == 0) {
            $("#uploadeditbtn").removeClass("disablebutton");
        } else if (isCutOffDateOver == 1) {
            $("#uploadeditbtn").addClass("disablebutton");
        }
    }
    else {
        $("#uploadeditbtn").addClass("disablebutton");
    }
});

$(document).on("click", "#ctvalid", function () {
    //$("#ctvalid").live("click", function () {
    $('.carvalid').prop('checked', this.checked);

});

$(document).on("click", "#ctexp", function () {
    //$("#ctvalid").live("click", function () {
    $('.carexp').prop('checked', this.checked);
});

$(document).on("click", ".signonvalid", function () {
    if ($(".signonvalid").length == $(".signonvalid:checked").length) {
        $("#sbvalid").prop("checked", "checked");
        $("#MTvalidchk").prop("checked", "checked");

    } else {
        $("#sbvalid").prop("checked", false);
        $("#MTvalidchk").prop("checked", false);
    }
});

$(document).on("click", ".signonexp", function () {
    if ($(".signonexp").length == $(".signonexp:checked").length) {
        $("#sbvalid").prop("checked", "checked");
        $("#MTvalidchk").prop("checked", "checked");
        $("#WBValidchk").prop("checked", "checked");

    } else {
        $("#sbvalid").prop("checked", false);
        $("#MTvalidchk").prop("checked", false);
        $("#WBValidchk").prop("checked", false);
    }
});



$(document).on("click", ".carexp", function () {
    if ($(".carexp").length == $(".carexp:checked").length) {
        $("#ctexp").prop("checked", "checked");

    } else {
        $("#ctexp").prop("checked", false);
    }
});

$(document).on("click", ".carvalid", function () {
    if ($(".carvalid").length == $(".carvalid:checked").length) {
        $("#ctvalid").prop("checked", "checked");

    } else {
        $("#ctvalid").prop("checked", false);
    }
});

$(document).on("page", "#tblRelocation", function () {
    //$('#tblRelocation').live('page', function () {
    var otable = $("#tblRelocation").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#relvalid").prop('checked', false);
});

$(document).on("page", "#tblHonorarium", function () {
    //$('#tblHonorarium').live('page', function () {
    var otable = $("#tblHonorarium").dataTable();
    $(otable.fnGetNodes()).find(':checkbox').each(function () {
        $this = $(this);
        $this.prop('checked', false);
        //selected.push($this.val());
    });
    $("#relvalid").prop('checked', false);
});

$(document).on("click", "#relvalid", function () {
    //$("#relvalid").live("click", function () {
    $('.relocationvalid').prop('checked', this.checked);
    $('.relocationexp').prop('checked', this.checked);
});

$(document).on("click", ".relocationvalid", function () {
    if ($(".relocationvalid").length == $(".relocationvalid:checked").length) {
        $("#relvalid").prop("checked", "checked");

    } else {
        $("#relvalid").prop("checked", false);
    }
});

$(document).on("click", ".relocationexp", function () {
    if ($(".relocationexp").length == $(".relocationexp:checked").length) {
        $("#relvalid").prop("checked", "checked");

    } else {
        $("#relvalid").prop("checked", false);
    }
});

$(document).on("click", "#ocvalid", function () {
    //$("#ocvalid").live("click", function () {
    $('.OTValid').prop('checked', this.checked);

});

$(document).on("click", "#ocexp", function () {
    //$("#ocexp").live("click", function () {
    $('.OTExp').prop('checked', this.checked);

});

$(document).on("click", ".OTValid", function () {

    if ($(".OTValid").length == $(".OTValid:checked").length) {
        $("#ocvalid").prop("checked", "checked");


    } else {
        $("#ocvalid").prop("checked", false);

    }

});

$(document).on("click", ".OTExp", function () {

    if ($(".OTExp").length == $(".OTExp:checked").length) {
        $("#ocexp").prop("checked", "checked");


    } else {
        $("#ocexp").prop("checked", false);

    }

});

$(document).on('change', '#Clawback_type', function () {

    var clawbackval = $('#Clawback_type').val();
    if (clawbackval == 1) {
        $('.Renddatemandatory').hide();
    } else {
        $('.Renddatemandatory').show();
    }

});

$(document).on('click', '.yes_btn', function () {

    infopopupclose();
    var componentGroupId = $('#bonus').val();
    var type = '';
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    else if ($('#a_otherGeo').hasClass('selected')) {
        type = 3;
    }

    if (componentGroupId == 2 && CountryId != 20) {//ReferralBonus

        var selected = '';
        var len = $('#tblReferral tbody').find(':checked').length;
        $('#tblReferral tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteReferralData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#rvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid2').val() == '' || $('#bid1').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }



    if (componentGroupId == 3 && CountryId != 20) {//Joining bonus
        var selected = '';
        var len = $('#tblJoining tbody').find(':checked').length;
        $('#tblJoining tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });

        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteJoiningData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#jvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
    if (componentGroupId == 17) {//SAR
        var selected = '';
        var len = $('#tbl_sar tbody').find(':checked').length;
        $('#tbl_sar tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteReferralData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#sarvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
    if (componentGroupId == 20) {//Additional Deduction
        var selected = '';
        var len = $('#tbldeduction tbody').find(':checked').length;
        $('#tbldeduction tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });

        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteJoiningData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#advalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 15 || componentGroupId == 16 || componentGroupId == 41) {//SDA and NSA

        var selected = '';
        var len = $('#tbl_shift tbody').find(':checked').length;
        $('#tbl_shift tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteReferralData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#svalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 19) {//Additional Payout

        var selected = '';
        var len = $('#tblAdditionalPayout tbody').find(':checked').length;
        $('#tblAdditionalPayout tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteReferralData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#apvalid").prop("checked", false);

                    if ($('#aid1').val() == '' && $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
    if (componentGroupId == 18 && CountryId == 2) {//Joining bonus
        var selected = '';
        var len = $('#tblSchoolfee tbody').find(':checked').length;
        $('#tblSchoolfee tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });

        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteJoiningData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#jvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 28) {//incity allowance
        var selected = '';
        var len = $('#tbl_InCityOnsiteAllowance tbody').find(':checked').length;
        $('#tbl_InCityOnsiteAllowance tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#sbvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
    if (componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 59 ||
        componentGroupId == 54 || componentGroupId == 55 || componentGroupId == 59 || componentGroupId == 57
        || componentGroupId == 75 || (componentGroupId == 2 && CountryId == 20) || componentGroupId == 71
        || componentGroupId == 72 || componentGroupId == 74 || componentGroupId == 73
        || ((componentGroupId == 3 || componentGroupId == 29
            || componentGroupId == 30 || componentGroupId == 49) && CountryId == 20) || componentGroupId == 94) {//Sing on Bonus - NLD
        var selected = '';
        var len = $('#tblSignonBonus tbody').find(':checked').length;
        $('#tblSignonBonus tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteNLDComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#sbvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
    if ((componentGroupId == 18 || componentGroupId == 23 || componentGroupId == 24)
        && (CountryId != 2 && CountryId != 14 && CountryId != 15 && CountryId != 16 && CountryId != 17)) {//APAC SF
        var selected = '';
        var len = $('#tblSchoolfeeAPAC tbody').find(':checked').length;
        $('#tblSchoolfeeAPAC tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });

        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#Asfvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 18 && (CountryId == 14 || CountryId == 15 || CountryId == 16 || CountryId == 17)) {//APAC SF
        var selected = '';
        var len = $('#tblSchoolfee_CE tbody').find(':checked').length;
        $('#tblSchoolfee_CE').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });

        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#CESchoolvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//JB
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 33 || componentGroupId == 50 || ((componentGroupId == 66 || componentGroupId == 67) && (CountryId == 18 || CountryId == 19))) { //Rewards

        var selected = '';
        var len = $('#tblrewards tbody').find(':checked').length;
        $('#tblrewards tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteNLDComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#rrvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#aid3').val() == ''
                        || $('#bid1').val() == '' || $('#bid2').val() == '' || $('#bid3').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RBedit_
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 46) { //Benefits

        var selected = '';
        var len = $('#tbl_benefits tbody').find(':checked').length;
        $('#tbl_benefits tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });

        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteNLDComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#benvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#aid3').val() == ''
                        || $('#bid1').val() == '' || $('#bid2').val() == '' || $('#bid3').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RBedit_
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 30 && CountryId != 20) {//Relocation - NLD
        var selected = '';
        var len = $('#tblRelocation tbody').find(':checked').length;
        $('#tblRelocation tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteNLDComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#sbvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
    if (componentGroupId == 34) {//Transition - NLD
        var selected = '';
        var len = $('#tblTransition tbody').find(':checked').length;
        $('#tblTransition tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteNLDComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#sbvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 35) {//Honorarium - NLD
        var selected = '';
        var len = $('#tblHonorarium tbody').find(':checked').length;
        $('#tblHonorarium tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteNLDComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#sbvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 36 || componentGroupId == 37) { //Insurance Taxation and Compensation

        var selected = '';
        var len = $('#tblInsurancetax tbody').find(':checked').length;
        $('#tblInsurancetax tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteNLDComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#taxvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RBedit_
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
    if ((componentGroupId == 21 && CountryId == 7) || ((componentGroupId == 39 || componentGroupId == 101) && (CountryId == 7 || CountryId == 8 || CountryId == 9))) {
        var selected = '';
        var len = $('#tbl_Statutory tbody').find(':checked').length;
        $('#tbl_Statutory tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteNLDComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#sbvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
    if (componentGroupId == 42 || componentGroupId == 26 || componentGroupId == 27) {// High temperature

        var selected = '';
        var len = $('#tbl_Hightemp tbody').find(':checked').length;
        $('#tbl_Hightemp tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteNLDComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#highvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
    if ((componentGroupId == 39 && CountryId == 3) || componentGroupId == 22) {//on call/overtime allowance

        var selected = '';
        var len = $('#tbl_oncall tbody').find(':checked').length;
        $('#tbl_oncall tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteNLDComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#sbvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 31) {//net travel allowance

        var selected = '';
        var len = $('#tbl_netTravel tbody').find(':checked').length;
        $('#tbl_netTravel tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteNLDComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#netvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 32) {//commuting allowance

        var selected = '';
        var len = $('#tbl_Commuting tbody').find(':checked').length;
        $('#tbl_Commuting tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteNLDComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#cvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 38) {//car Damage
        var selected = '';
        var len = $('#tblCarDamageTrafficFine tbody').find(':checked').length;
        $('#tblCarDamageTrafficFine tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteNLDComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#ctvalid").prop("checked", false);
                    $("#ctexp").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#aid3').val() == ''
                        || $('#bid1').val() == '' || $('#bid2').val() == '' || $('#bid3').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
    if (componentGroupId == 25 || componentGroupId == 58 || componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87 || componentGroupId == 88 || componentGroupId == 89) {//maternity
        var selected = '';
        var len = $('#tbl_maternity tbody').find(':checked').length;
        $('#tbl_maternity tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#ctvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid2').val() == '' || $('#bid1').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
    if ((componentGroupId == 51 || componentGroupId == 45) && CountryId == 15 || (componentGroupId == 53 && (CountryId == 18 || CountryId == 19))) {//wellness/ car parking benefits
        var selected = '';
        var len = $('#tbl_Wellness tbody').find(':checked').length;
        $('#tbl_Wellness tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#ctvalid").prop("checked", false);
                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#aid1').val() == undefined || $('#aid2').val() == undefined ||
                        $('#bid1').val() == '' || $('#bid2').val() == '' || $('#bid1').val() == undefined || $('#bid2').val() == undefined) {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }
                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }


    if (componentGroupId == 47 || componentGroupId == 48 || componentGroupId == 52) {//mobile/transport/lunchvoucher
        var selected = '';
        var len = $('#tbl_MobileTaxation tbody').find(':checked').length;
        $('#tbl_MobileTaxation tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 56) {//Travel allowance
        var selected = '';
        var len = $('#tblTravelUK tbody').find(':checked').length;
        $('#tblTravelUK tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 69 || componentGroupId == 76 || componentGroupId == 77 || componentGroupId == 78) {//Delete Shadow Payroll
        var selected = '';
        var len = $('#tblSPD tbody').find(':checked').length;
        $('#tblSPD tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 60) {//Delete Sales Commission
        var selected = '';
        var len = $('#tblOOB tbody').find(':checked').length;
        $('#tblOOB tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

    }

    if (componentGroupId == 61 || componentGroupId == 82 || componentGroupId == 91 || componentGroupId == 95
        || componentGroupId == 92 || componentGroupId == 93 || componentGroupId == 96 || componentGroupId == 97
        || componentGroupId == 90) {//Delete Sales Commission
        var selected = '';
        var len = $('#tblPSU tbody').find(':checked').length;
        $('#tblPSU tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

    }

    if (componentGroupId == 62) {//Delete Sales Commission
        var selected = '';
        var len = $('#tblSC tbody').find(':checked').length;
        $('#tblSC tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

    }

    if (componentGroupId == 63) {//Singapore Deduction
        var selected = '';
        var len = $('#tblSD tbody').find(':checked').length;
        $('#tblSD tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });

    }

    if (componentGroupId == 64) {//Delete Special Pay
        var selected = '';
        var len = $('#tblSP tbody').find(':checked').length;
        $('#tblSP tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 65) {//Delete India Travel Advance
        var selected = '';
        var len = $('#tblITA tbody').find(':checked').length;
        $('#tblITA tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 70) {//Delete India Net Deduction
        var selected = '';
        var len = $('#tblIND tbody').find(':checked').length;
        $('#tblIND tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 68) {//Delete Miscellaneous Deduction
        var selected = '';
        var len = $('#tblMD tbody').find(':checked').length;
        $('#tblMD tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

    if (componentGroupId == 79 || componentGroupId == 80 || componentGroupId == 81) {//Delete Sick Leave Conversion ,Ad-hoc Payment and One Time Payment
        var selected = '';
        var len = $('#tbl_SAODetails tbody').find(':checked').length;
        $('#tbl_SAODetails tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
    if (componentGroupId == 83) {//Delete Lost Admin Access
        var selected = '';
        var len = $('#tbl_LAADetails tbody').find(':checked').length;
        $('#tbl_LAADetails tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
    if (componentGroupId == 84) {//Delete HDMF Contribution
        var selected = '';
        var len = $('#tbl_HDMFDetails tbody').find(':checked').length;
        $('#tbl_HDMFDetails tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }
});

function ChildMessage(msg) {
    errorpopup(msg);
}

$(document).on('click', '#refresh_grid', function () {
    $("#processMessage").show();
    $("#progressBackgroundFilter").show();
    //var search = $("#aid").val();
    //if (search == "") { Commented bcoz of search textbox difference
    if ($('#a_valid').hasClass('selected')) {

        if ($('#bonus').val() == 3) {
            $("#aid1").val('');
            $("#aid2").val('');
            var CustomizeJB = '~1~2~3~4~5~6';
            colspanlength = 6;
        }
        if ($('#bonus').val() == 2) {
            $("#aid1").val('');
            $("#aid2").val('');
            $("#aid3").val('');
            var CustomizeRB = '~1~2~3~4~5~6~7~8~9~10~';
            colspanlength = 13;
        }
        if ($('#bonus').val() == 15) {
            $("#aid1").val('');
            $("#aid2").val('');
            var CustomizeSDA = '~1~2~3~4~5~6~9~';
            colspanlength = 7;
        }
        if ($('#bonus').val() == 16) {
            $("#aid1").val('');
            $("#aid2").val('');
            var CustomizeNSA = '~1~2~3~4~5~8~';
            colspanlength = 6;
        }
        if ($('#bonus').val() == 17) {
            $("#aid1").val('');
            $("#aid2").val('');
            var CustomizeSAR = '~1~2~3~4~5~6~';
            colspanlength = 6;
        }
        if ($('#bonus').val() == 18 && CountryId == 2) {
            $("#aid1").val('');
            var CustomizeSF = '';
            CustomizeSF = '~1~2~3~4~';
            colspanlength = 4;
        }
        if ($('#bonus').val() == 19 && CountryId == 2) {
            $("#aid1").val('');
            $("#aid2").val('');
            var CustomizeAP = '~1~2~3~4~6~9';
            colspanlength = 6;
        }
        if ($('#bonus').val() == 19 && CountryId != 2) {
            $("#aid1").val('');
            $("#aid2").val('');
        }
        if ($('#bonus').val() == 20) {
            $("#aid1").val('');
            $("#aid2").val('');
            var CustomizeAD = '~1~2~4~5~6~7~';
            colspanlength = 7;
        }
        if ($('#bonus').val() == 29) {
            $("#aid1").val('');
            var CustomizeSoB = '~1~5~6~7~';
            colspanlength = 7;
        }
        if ($('#bonus').val() == 32) {
            $("#aid1").val('');
            $("#aid2").val('');
            $("#aid3").val('');
        }
        if ($('#bonus').val() == 33) {
            $("#aid1").val('');
            $("#aid2").val('');
            $("#aid3").val('');
            var CustomizeRR = '~1~4~5~6~8~9~10~';
            colspanlength = 7;
        }
        if ($('#bonus').val() == 30) {
            $("#aid1").val('');
            $("#aid2").val('');
            $("#aid3").val('');
            //var CustomizeRR = '~1~4~5~6~8~9~10~';
            //colspanlength = 13;
        }
        if ($('#bonus').val() == 34) {
            $("#aid1").val('');
            $("#aid2").val('');
            $("#aid3").val('');
            //var CustomizeRR = '~1~4~5~6~8~9~10~';
            //colspanlength = 13;
        }
        if ($('#bonus').val() == 35) {
            $("#aid1").val('');
            $("#aid2").val('');
            $("#aid3").val('');
            //var CustomizeRR = '~1~4~5~6~8~9~10~';
            //colspanlength = 13;
        }
        if ($('#bonus').val() == 38) {
            $("#aid1").val('');
            $("#aid2").val('');
            $("#aid3").val('');
            CustomizeCar = '~1~2~5~6~7~';
        }
        if ($('#bonus').val() == 36 || $('#bonus').val() == 37) {
            $("#aid1").val('');
            $("#aid2").val('');
            $("#aid3").val('');
            var CustomizeTax = '~1~2~3~4~5~6~8~';
            colspanlength = 7;
        }
        if ($('#bonus').val() == 42 || $('#bonus').val() == 26 || $('#bonus').val() == 27 || $('#bonus').val() == 41) {
            $("#aid1").val('');
            $("#aid2").val('');
            $("#aid3").val('');
        }
        if ($('#bonus').val() >= 45 && $('#bonus').val() <= 97) {
            $("#aid1").val('');
            $("#aid2").val('');
            $("#aid3").val('');
        }
        if ($('#bonus').val() == 46) {
            $("#aid1").val('');
            $("#aid2").val('');
            $("#aid3").val('');
        }
        if ($('#bonus').val() == 48) {
            $("#bid1").val('');
            $("#bid2").val('');
            $("#bid3").val('');
        }
        if (CountryId == 14 || CountryId == 15 || CountryId == 16 || CountryId == 17
            || CountryId == 18 || CountryId == 19 || CountryId == 20) {
            $("#bid1").val('');
            $("#bid2").val('');
            $("#bid3").val('');
            $("#aid1").val('');
            $("#aid2").val('');
            $("#aid3").val('');
        }
        BindValidGridtbl();
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        $("#aid1").val('');
        $("#aid2").val('');
        $("#bid1").val('');
        $("#bid2").val('');
        BindExceptionsGridtbl();
        $('#ulMonth').show();
        $('#ulQuarter').hide();

    }
    else if ($('#a_otherGeo').hasClass('selected')) {
        BindOtherGeoGridtbl();
    }
    //}
    //else {
    //    keyPressEnter();
    //}
});

//253832, for showing other geography tab in PF SS admin
$(document).on('click', '#a_otherGeo', function () {
    page = 1;
    sortOrder = 1;
    orderBy = '';
    //  $("#idpopup_msg1").css("margin-top", "-350px");
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    $("#nvalid").prop("checked", false);
    $("#jvalid").prop("checked", false);
    $("#taxvalid").prop("checked", false);
    $("#rvalid").prop("checked", false);
    $(this).addClass('selected');
    $('#a_valid').removeClass('selected');
    $('#a_exceptions').removeClass('selected');
    //$('.delete_btn').addClass('mleft65');
    //$(".delete_btn").css("margin-left", "81px");
    $(".new_btn").hide();
    $("#dwnload_Data").hide();
    $("#dwnload_Datadivider").hide();
    $("#disLabel").css("margin-top", "");
    //$("#displayrecords").css("margin-top", "30px");  
    //$("#displayrecords").css("margin-left", "100px");
    //$("#ulRecord li").addClass("mleft50");
    //$("#ulRecord .mleft50").css("margin-top", "-30px");

    if ($('#aid').val() == '' || $('#bid').val() == '') {
        BindOtherGeoGridtbl();
    }
    else {
        keyPressEnter();
    }
});

function BindOtherGeoGridtbl() {
    $('#ulMonth').css('display', 'none');
    $("#progressBackgroundFilter").show();
    $("#processMessage").show();
    var componentGroupId = $('#bonus').val();
    var iDisplayLength = $("#displayrecords").val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '","page":"' + page + '","displayLength":"' + iDisplayLength + '","sortOrder":"' + sortOrder + '","orderBy":"' + orderBy + '","getPages":"0"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetOtherGeographyUploaderData",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        cache: false,
        data: datastring,
        success: BindOtherGeographyValidResultset,
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function BindOtherGeographyValidResultset(msg) {
    var componentGroupId = $('#bonus').val();
    var grid_html = '';
    //var grid_htmlhead = '';
    $('#tblReferral_wrapper').css('display', 'none');
    $('#tblJoining_wrapper').css('display', 'none');
    $('#tblNoticepay_wrapper').css('display', 'none');
    //Referral Bonus
    if (componentGroupId == 2) {
        $("#divApprovalmsg1").show();
        $("#divApprovalmsg1").css("margin-left", "1px");
        $("#ulQuarter").hide();
        $("#refDetails").show();
        $("#shiftdetails").hide();
        $('#Joiningbonus').hide();
        $('#SchoolFee').hide();
        $('#AdditionalPayoutdetails').hide();
        $('#additionaldeductions').hide();
        //$("#dwnload_Report").css("margin-left", "200px");
        $("#dislabel").css("margin-left", "362px");

        $('#mailattach').hide();
        $('#customize').hide();
        $('#tblReferral').find('tbody').html('');
        $('#tblReferral').css('display', 'block');
        $('#tblReferral_wrapper').css('display', 'block');
        $('#tblReferralHead').css('display', 'block');
        $('#tblReferralHead_wrapper').css('display', 'block');
        $('#refDetails .dataTableScroll').css('display', 'block');
        $('#Joiningbonus .dataTableScroll').css('display', 'none');
        $('#ulRecord li').css("margin-left", "360px")
        $('#tblJoining').css('display', 'none');
        $('#tbl_shift').css('display', 'none');
        var htmldata = '';
        htmldata += '<tr><th class="td1"><input type="checkbox" id="rvalid" /></th>';
        htmldata += ' <th id="Th5" class="sort td9" column="ReferrorAssociateID">Referrer ID </th>';
        htmldata += ' <th class="sort td9" column="RefereeAssociateID">Referee ID </th>';
        htmldata += ' <th class="sort td9" column="RefereeBGstatus">Referee  <br />BG status</th>';
        //htmldata += ' <th class="sort td6" column="ReferrerBGStatus">Referrer  <br />BG status</th>';
        htmldata += ' <th class="sort td9" column="SetId">SetId </th>';
        htmldata += ' <th class="sort td9" column="ProjectId">ProjectId </th>';
        htmldata += ' <th class="sort td9" column="Amount">Amount </th>';
        htmldata += ' <th column="SpecialCaseReason" class="td9" style="width:95px;">Special Case <br />Reason</th>';
        htmldata += ' <th column="SpecialCaseMail" class="td9">Special Case Mail</th>';
        //htmldata += ' <th class="sort td9" column="Status">Status</th>';
        htmldata += ' <th column="Remarks" class="td9">Remarks</th>';
        //htmldata += ' <th class="td10">View</th>';
        htmldata += ' <th class="td11">Edit</th></tr>';

        $('#tblReferral').find('thead').html('').html(htmldata);
        $('#tblReferral').find('thead tr th:nth-child(10)').text('Status');
        $('#tblReferral').find('thead tr th:nth-child(10)').addClass("sort");

        getTotalPages();
        $("#NoData").remove();
        if (msg.d.length > 0) {
            $("#refDetails .refPage").css("display", "block");


            var classname = '';
            $.each(msg.d, function (i, data) {
                if ((i % 2) == 0) {
                    classname = 'even';
                }
                else {
                    classname = 'odd';
                }
                var remarks = '';
                if (data.Remarks != null) {
                    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
                }
                //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img classails" src="../Images/edit_icon.png" /></td></tr>';

                var d = new Date();
                var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

                //cut off enddate//
                var cutoffdatesplit = cutoffdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
                var cutoff_date = date.getTime();

                //cut off start  date //
                var cutoffstartdatesplit = cutoffStartdate.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
                var cutoffStart_date = date.getTime();

                var todaysplit = today.split('/');
                // Month is zero-indexed so subtract one from the month inside the constructor
                var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
                var today_date = Date1.getTime();

                var SplCaseMailUploadId = data.SplCaseMailUploadId;
                var gridMailIdval = "";
                if (SplCaseMailUploadId == 0) {
                    gridMailIdval = "<div></div>";
                }
                else {
                    gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.SplCaseMailUploadId + ' class="mail_btn" fileuploadid=' + data.SplCaseMailUploadId + '/>';
                }

                if (cutoff_date == NaN) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_ReferralBonusID + ' ><td><input type="checkbox" class="referralvalid td1" id=' + (i + 1) + ' /></td><td class="ref td9">' + data.ReferrorAssociateID + '</td><td class="td9">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td9">' + data.RefereeBGstatus + '</td><td class="td9">' + data.SetId + '</td><td class="td9">' + data.ProjectId + '</td><td style="text-align:center;" class="td9">' + data.Amount + '</td><td style="text-align:center;" class="td9">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td9">' + gridMailIdval + '</td><td title="' + data.Remarks + '" style="text-align:center;" class="td9">' + remarks + '</td><td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                }
                else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                    grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_ReferralBonusID + ' ><td><input type="checkbox" class="referralvalid td1" id=' + (i + 1) + ' /></td><td class="ref td9">' + data.ReferrorAssociateID + '</td><td class="td9">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td9">' + data.RefereeBGstatus + '</td><td class="td9">' + data.SetId + '</td><td class="td9">' + data.ProjectId + '</td><td style="text-align:center;" class="td9">' + data.Amount + '</td><td style="text-align:center;" class="td9">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td9">' + gridMailIdval + '</td><td title="' + data.Remarks + '" style="text-align:center;" class="td9">' + remarks + '</td><td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

                }
                else {
                    if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_ReferralBonusID + ' ><td><input type="checkbox" class="referralvalid td1" id=' + (i + 1) + ' /></td><td class="ref td9">' + data.ReferrorAssociateID + '</td><td class="td9">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td9">' + data.RefereeBGstatus + '</td><td class="td9">' + data.SetId + '</td><td class="td9">' + data.ProjectId + '</td><td style="text-align:center;" class="td9">' + data.Amount + '</td><td style="text-align:center;" class="td9">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td9">' + gridMailIdval + '</td><td title="' + data.Remarks + '" style="text-align:center;" class="td9">' + remarks + '</td><td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
                    }
                    else {
                        grid_html += '<tr class="' + classname + '" pk_id=' + data.PK_ReferralBonusID + ' ><td><input type="checkbox" class="referralvalid td1" id=' + (i + 1) + ' disabled="true" /></td><td class="ref td9">' + data.ReferrorAssociateID + '</td><td class="td9">' + data.RefereeAssociateID + '</td><td style="text-align:center;" class="td9">' + data.RefereeBGstatus + '</td><td style="text-align:center;" class="td9">' + data.ReferrorBGstatus + '</td><td class="td9">' + data.SetId + '</td><td class="td13">' + data.ProjectId + '</td><td style="text-align:center;" class="td9">' + data.Amount + '</td><td style="text-align:center;" class="td9">' + data.SpecialCaseReason + '</td><td class="Approvedtd4 td9">' + gridMailIdval + '</td><td title="' + data.Remarks + '" style="text-align:center;" class="td9">' + remarks + '</td><td class="td11"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default"  style="pointer-events:none; cursor:default;" disabled="disabled" /></td></tr>';
                    }
                }
            });
            $('#tblReferral').find('tbody').html('').html(grid_html);
            if ($(".referralvalid").length == $(".referralvalid:disabled").length) {
                $("#rvalid").attr("disabled", "disabled");
            }
            else {
                $("#rvalid").removeAttr("disabled");
            }

        }
        else {
            $("#tblReferral").append("<tr class='even' id='NoData'><td colspan='12' class='text-center'>No data available</td></tr>");
            $(".dataTableScroll .scrollbar").hide();

        }
    }
    $("#progressBackgroundFilter").hide();
    $("#processMessage").hide();
}

$(document).on('click', '#aft_upload a', function () {
    //var fileUploadId = $('#aft_upload').attr('fileuploadid');
    var fileUploadId = $(this).find('splCaseMailUpload').attr('fileuploadid');
    var fileUploadId1 = $(this).attr('fileuploadid');
    if (fileUploadId1 != '') {
        window.location = '../Download.aspx?fileUploadId=' + fileUploadId1;
    }
});

$(document).on('click', '#aft_uploadhide a', function () {
    //var fileUploadId = $('#aft_upload').attr('fileuploadid');
    var fileUploadId = $(this).find('splCaseMailUpload').attr('fileuploadid');
    var fileUploadId1 = $(this).attr('fileuploadid');
    if (fileUploadId1 != '') {
        window.location = '../Download.aspx?fileUploadId=' + fileUploadId1;
    }
});

$(document).on('click', '#CEaft_upload a', function () {
    //var fileUploadId = $('#aft_upload').attr('fileuploadid');
    var fileUploadId = $(this).find('splCaseMailUpload').attr('fileuploadid');
    var fileUploadId1 = $(this).attr('fileuploadid');
    if (fileUploadId1 != '') {
        window.location = '../Download.aspx?fileUploadId=' + fileUploadId1;
    }
});
$(document).on('click', '#CEaft_upload_1 a', function () {
    //var fileUploadId = $('#aft_upload').attr('fileuploadid');
    var fileUploadId = $(this).find('splCaseMailUpload').attr('fileuploadid');
    var fileUploadId1 = $(this).attr('fileuploadid');
    if (fileUploadId1 != '') {
        window.location = '../Download.aspx?fileUploadId=' + fileUploadId1;
    }
});

$(document).on('click', '#aft_upload1 a, #aft_upload7 a,#aft_upload8 a', function () {
    //var fileUploadId = $('#aft_upload').attr('fileuploadid');
    var fileUploadId = $(this).find('splCaseMailUpload').attr('fileuploadid');
    var fileUploadId1 = $(this).attr('fileuploadid');
    if (fileUploadId1 != '') {
        window.location = '../Download.aspx?fileUploadId=' + fileUploadId1;
    }
});

$(document).on('click', '#OT_aft_upload a', function () {
    //var fileUploadId = $('#aft_upload').attr('fileuploadid');
    var fileUploadId = $(this).find('splCaseMailUpload2').attr('fileuploadid');
    var fileUploadId1 = $(this).attr('fileuploadid');
    if (fileUploadId1 != '') {
        window.location = '../Download.aspx?fileUploadId=' + fileUploadId1;
    }
});

$(document).on('click', '#aft_upload2 a,#aft_upload3 a', function () {
    //var fileUploadId = $('#aft_upload').attr('fileuploadid');
    var fileUploadId = $(this).find('splCaseMailUpload').attr('fileuploadid');
    var fileUploadId1 = $(this).attr('fileuploadid');
    if (fileUploadId1 != '') {
        window.location = '../Download.aspx?fileUploadId=' + fileUploadId1;
    }
});

$(document).on('click', '#SF_aft_upload a,#App_aft_upload a,#aft_uploadWBInvoice a,#aft_uploadMBInvoice a,#aft_uploadB_Certificate a', function () {
    //var fileUploadId = $('#aft_upload').attr('fileuploadid');
    var fileUploadId = $(this).find('splCaseMailUpload').attr('fileuploadid');
    var fileUploadId1 = $(this).attr('fileuploadid');
    if (fileUploadId1 != '') {
        window.location = '../Download.aspx?fileUploadId=' + fileUploadId1;
    }
});

$(document).on('click', '.mail_btn', function () {
    var fileUploadId1 = $(this).attr('id');
    if (fileUploadId1 == undefined) {
        var fileUploadId1 = $(this).attr('fileuploadid');
    }
    if (fileUploadId1.indexOf(",") > -1) {
        var uploadid = fileUploadId1.split(",");
        $.each(uploadid, function (i, data) {
            if (data != '' && data != '0') {
                window.open('../Download.aspx?fileUploadId=' + data, 'Upload' + i.toString());
            }
        });
    }
    else {
        if (fileUploadId1 != '') {
            window.location = '../Download.aspx?fileUploadId=' + fileUploadId1;
        }
    }
});

$(document).on('ErPop', function () {
    //errorpopup("'There are no records to download'");
    $('#form1').removeAttr("disabled");
    $('#form1').css("background-color", "");
    $('.popup_msg1').css('display', 'none');
    $('.background_bg').css('display', 'none');
    $("#uploadeditbtn").addClass("disablebutton");
});

$(document).on('eventhandler', function () {
    //alert('event was fired');

    var switchvariableid = $("#frame").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>Special Case Mail</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_upload").html('');
        $("#aft_upload").append(val);
        $("#aft_upload").attr("fileuploadid", switchvariableid);
        $("#aft_upload").show();
    }
});

$(document).on('eventhandlerhide', function () {
    //alert('event was fired');

    var switchvariableid = $("#frameforhide").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>Special Case Mail</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload1\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_uploadhide").html('');
        $("#aft_uploadhide").append(val);
        $("#aft_uploadhide").attr("fileuploadid", switchvariableid);
        $("#aft_uploadhide").show();
        var iframe = document.getElementById('frameforhide');
        var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
        var input = innerDoc.getElementById('spanhide');
        if (CountryId == 2) {
            $(input).hide();
        }
        else { $(input).show(); }
    }
});

$(document).on('eventhandler1', function () {
    var switchvariableid = $("#frame1").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>Special Case Mail</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_upload1").html('');
        $("#aft_upload1").append(val);
        $("#aft_upload1").attr("fileuploadid", switchvariableid);
        $("#aft_upload1").show();
    }
});

$(document).on('eventhandler2', function () {
    var switchvariableid = $("#frame2").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>Attached Mail </label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_upload2").html('');
        $("#aft_upload2").append(val);
        $("#aft_upload2").attr("fileuploadid", switchvariableid);
        $("#aft_upload2").show();
    }
});

$(document).on('eventhandler3', function () {
    var switchvariableid = $("#frame3").contents().find("#Form1").find("#textFileName").val();
    var compgrp = $('#bonus').val();
    if (switchvariableid != "0") {
        if (compgrp == 48)//France Transport
        {
            var val = "<label style=\"width:100px\">Approval mail</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        }
        else {
            var val = "<label>Approval mail</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        }
        $("#aft_upload3").html('');
        $("#aft_upload3").append(val);
        $("#aft_upload3").attr("fileuploadid", switchvariableid);
        $("#aft_upload3").show();
    }
});

$(document).on('eventhandler4', function () {
    var switchvariableid = $("#frame4").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>Attached Mail 1</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_upload4").html('');
        $("#aft_upload4").append(val);
        $("#aft_upload4").attr("fileuploadid", switchvariableid);
        $("#aft_upload4").show();
    }
});

$(document).on('eventhandler5', function () {
    var switchvariableid = $("#frame5").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>Attached Mail 2</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_upload5").html('');
        $("#aft_upload5").append(val);
        $("#aft_upload5").attr("fileuploadid", switchvariableid);
        $("#aft_upload5").show();
    }
});

$(document).on('eventhandler6', function () {
    var switchvariableid = $("#frame6").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>Special Case Mail</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_upload6").html('');
        $("#aft_upload6").append(val);
        $("#aft_upload6").attr("fileuploadid", switchvariableid);
        $("#aft_upload6").show();
    }
});

$(document).on('eventhandler7', function () {
    var switchvariableid = $("#frame7").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>Approval Mail</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_upload7").html('');
        $("#aft_upload7").append(val);
        $("#aft_upload7").attr("fileuploadid", switchvariableid);
        $("#aft_upload7").show();
    }
});

$(document).on('eventhandler8', function () {
    var switchvariableid = $("#frame8").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>Approval Mail</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_upload8").html('');
        $("#aft_upload8").append(val);
        $("#aft_upload8").attr("fileuploadid", switchvariableid);
        $("#aft_upload8").show();
    }
});

$(document).on('eventhandlerOT', function () {
    var switchvariableid = $("#frameOT").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>TM Approval Mail</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload2\" fileuploadid=\"" + switchvariableid + "\" ></a>";
        $("#OT_aft_upload").html('');
        $("#OT_aft_upload").append(val);
        $("#OT_aft_upload").attr("fileuploadid", switchvariableid);
        $("#OT_aft_upload").show();
    }
});

$(document).on('eventhandlerSF', function () {
    var switchvariableid = $("#frameSF").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>Approval Mail</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#SF_aft_upload").html('');
        $("#SF_aft_upload").append(val);
        $("#SF_aft_upload").attr("fileuploadid", switchvariableid);
        $("#SF_aft_upload").show();
    }
});

$(document).on('eventhandlerSFReceipt', function () {
    var switchvariableid = $("#frameSFReceipt").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>SchoolFees Receipt</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2330px;--y:-929px;width:16px;height:20px\" id=\"SFReceiptID\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_upload1").html('');
        $("#aft_upload1").append(val);
        $("#aft_upload1").attr("fileuploadid", switchvariableid);
        $("#aft_upload1").show();
    }
});

$(document).on('eventhandlerSFInvoice', function () {
    var switchvariableid = $("#frameSFInvoice").contents().find("#Form1").find("#textFileName").val();
    var compgrp = $('#bonus').val();
    if (switchvariableid != "0") {
        if (compgrp == 48) {
            var val = "<label style='width:100px'>Invoice Receipt</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2330px;--y:-929px;width:16px;height:20px\" id=\"SFReceiptID\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        }
        else {
            var val = "<label>Invoice Receipt</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2330px;--y:-929px;width:16px;height:20px\" id=\"SFReceiptID\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        }
        $("#CEaft_upload").html('');
        $("#CEaft_upload").append(val);
        $("#CEaft_upload").attr("fileuploadid", switchvariableid);
        $("#CEaft_upload").show();
    }
});
$(document).on('eventhandlerSFDeclaration', function () {
    var switchvariableid = $("#frameDeclaration").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label style='width:100px'>Declaration</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2330px;--y:-929px;width:16px;height:20px\" id=\"SFDecl\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#CEaft_upload_1").html('');
        $("#CEaft_upload_1").append(val);
        $("#CEaft_upload_1").attr("fileuploadid", switchvariableid);
        $("#CEaft_upload_1").show();
    }
});

$(document).on('eventhandlerApp', function () {
    var switchvariableid = $("#frameApp").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>Approval Mail</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\"/></a>";
        $("#App_aft_upload").html('');
        $("#App_aft_upload").append(val);
        $("#App_aft_upload").attr("fileuploadid", switchvariableid);
        $("#App_aft_upload").show();
    }
});

$(document).on('eventhandlerWBInvoice', function () {
    var switchvariableid = $("#frameWBInvoice").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>Invoice </label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_uploadWBInvoice").html('');
        $("#aft_uploadWBInvoice").append(val);
        $("#aft_uploadWBInvoice").attr("fileuploadid", switchvariableid);
        $("#aft_uploadWBInvoice").show();
    }
});

$(document).on('eventhandlerB_Certificate', function () {
    var switchvariableid = $("#frameB_Certificate").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>Death certificate </label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_uploadB_Certificate").html('');
        $("#aft_uploadB_Certificate").append(val);
        $("#aft_uploadB_Certificate").attr("fileuploadid", switchvariableid);
        $("#aft_uploadB_Certificate").show();
    }
});

$(document).on('eventhandlerMBInvoice', function () {
    var switchvariableid = $("#frameMBInvoice").contents().find("#Form1").find("#textFileName").val();
    if (switchvariableid != "0") {
        var val = "<label>Invoice </label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_uploadMBInvoice").html('');
        $("#aft_uploadMBInvoice").append(val);
        $("#aft_uploadMBInvoice").attr("fileuploadid", switchvariableid);
        $("#aft_uploadMBInvoice").show();
    }
});

$(document).on('popupprogresseventshow', function () {
    errorpopup('Uploaded file is not in mail or zip format!!');
});

$(document).on('popupprogresseventshow_APAC', function () {
    errorpopup('Uploaded file is not in .msg, .doc, .docx, .xls, .xlsx, .zip, NSF, GIF, PNG and PDF !!');
});

$(document).on('click', '.close_uploadpopup', function () {
    $('.popup_new').hide();
    $('#bonus').css('display', 'block');
    var ele = window.parent.document.getElementById('background');
    $(ele).fadeOut("slow")
    $(".background_bg").fadeOut("slow");
    $('.popup_uploadwrap').fadeOut("slow");
    $('#shiftpopassoid').val('');
    $('#shiftpopstartdate').val('');
    $('#shiftpopenddate').val('');
    $('.popup_assoc tr:nth-child(2) td:nth-child(8) input').prev('.checkbox').css('background-position', '0px 0px');
    $('#tblpopadd tbody').html('');
    $("#svalid").prop("checked", false);
    $("#cvalid").prop("checked", false);


    $('#AssoId').val('');
    $('#6thStartDate').val('');
    $('#6thEndate').val('');
    $('#PayoutMonth').val('');
    $('#6thProjid').val('');
    $('#Amount').val('');
    $('#AdvisedBy').val('');
    $('#tbody6thDay').html('');

    $('#NSAAssoId').val('');
    $('#Nsa_startDate').val('');
    $('#Nsa_endDate').val('');
    $('#NSAProjId').val('');
    $('#tbody_NSA').html('');
    $('#AssoId').parent().parent().attr('id', '');
    $("#NSAAssoId").parent().parent().removeAttr("id");

    var Comp = $('#bonus').val();
    var value;
    if (Comp == 48 && CountryId == 17) {
        value = $("#bid").val();
    }
    else {
        value = $("#aid").val();
    }

    if (value == '') {
        if ($('#a_valid').hasClass('selected')) {
            BindValidGridtbl();
        }
        else if ($('#a_exceptions').hasClass('selected')) {
            var Qtrvalue = $('#ddlQuarter').val();

            BindExceptionsGridtbl();

        }
    }
    else {
        keyPressEnter();
    }
    $("#uploadeditbtn").addClass("disablebutton");
    // $("#editbtn").addClass("disablebutton");

    //$('.scrollbar').show();
});

$(document).on('click', '#customize', function () {
    var windowWidth = '100%';
    var windowHeight = '100%';
    var popupHeight = $(".customize_popup").height();
    var popupWidth = $(".customize_popup").width();

    $(".background_bg").fadeIn("slow");
    $('.customize_popup').fadeIn("slow");
    $(".background_bg").css({
        "opacity": "0.5"
    });
    $('.customize_popup').css({
        'position': 'absolute',
        'z-index': '100',
        "top": "42px",
        "left": "40%"
    });

    var componentGroupId = $('#bonus').val();
    var CountryID = $('#countryActive').val();
    var OnLoad = 0;
    var datastring = '{"componentGroupId":"' + componentGroupId + '","onload":"' + OnLoad + '"}';
    $.ajax({
        type: "POST",
        url: "../WebMethods.aspx/GetCustomizeGridData",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {
            var viewData = msg.d[0];
            var list = '';
            if (msg.d[0].length > 0) {

                if (componentGroupId == 3) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeJB.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });

                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox2').prop('checked', true); $('#checkbox2').attr('disabled', 'disabled');
                    $('#checkbox3').prop('checked', true); $('#checkbox3').attr('disabled', 'disabled');
                    $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');
                    $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                    //$('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                    //$('#checkbox7').prop('checked', true); $('#checkbox7').attr('disabled', 'disabled');
                    //$('#checkbox8').prop('checked', true); $('#checkbox8').attr('disabled', 'disabled');
                    //$('#checkbox9').prop('checked', true); $('#checkbox9').attr('disabled', 'disabled');
                    //$('#checkbox10').prop('checked', true); $('#checkbox10').attr('disabled', 'disabled');

                    //$('#customize_popup_scroll').tinyscrollbar({ display: none });
                    $('#customize_popup_scroll').css("height", "320px");
                    $('#customize_popup_scroll .viewport').css("height", "320px");
                }

                else if (componentGroupId == 2) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeRB.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });

                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox2').prop('checked', true); $('#checkbox2').attr('disabled', 'disabled');
                    $('#checkbox3').prop('checked', true); $('#checkbox3').attr('disabled', 'disabled');
                    $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');
                    $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                    $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                    $('#checkbox7').prop('checked', true); $('#checkbox7').attr('disabled', 'disabled');
                    $('#checkbox8').prop('checked', true); $('#checkbox8').attr('disabled', 'disabled');
                    $('#checkbox9').prop('checked', true); $('#checkbox9').attr('disabled', 'disabled');
                    $('#checkbox10').prop('checked', true); $('#checkbox10').attr('disabled', 'disabled');
                    //$('#checkbox11').prop('checked', true); $('#checkbox11').attr('disabled', 'disabled');
                    //$('#checkbox12').prop('checked', true); $('#checkbox12').attr('disabled', 'disabled');
                    //$('#checkbox13').prop('checked', true); $('#checkbox13').attr('disabled', 'disabled');

                    $('#customize_popup_scroll').tinyscrollbar({ sizethumb: 22 });
                    $('#customize_popup_scroll').css("height", "360px");
                }


                else if (componentGroupId == 15) {
                    var checkboxid = 1;
                    if (CountryID == 2) {
                        $.each(msg.d[0], function (i, data) {
                            var idname = "checkbox" + checkboxid;
                            if (CustomizeSDA.indexOf("~" + data.Order + "~") > -1) {
                                list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                            }
                            else {
                                list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                            }
                            checkboxid = checkboxid + 1;
                        });
                        $('#GridData').html(list);
                        $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                        $('#checkbox2').prop('checked', true); $('#checkbox2').attr('disabled', 'disabled');
                        $('#checkbox3').prop('checked', true); $('#checkbox3').attr('disabled', 'disabled');
                        $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');
                        $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                        $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                        $('#checkbox9').prop('checked', true); $('#checkbox9').attr('disabled', 'disabled');
                    }
                    else {

                        list += '<li><input type="checkbox" Order="1" id="checkbox1" checked = "checked"/>ShiftType</li>';
                        list += '<li><input type="checkbox" Order="2" id="checkbox2" checked = "checked"/>AssociateID</li>';
                        list += '<li><input type="checkbox" Order="3" id="checkbox3" checked = "checked"/>StartDate</li>';
                        list += '<li><input type="checkbox" Order="4" id="checkbox4" checked = "checked"/>EndDate</li>';
                        list += '<li><input type="checkbox" Order="5" id="checkbox5" checked = "checked"/>StartTime</li>';
                        list += '<li><input type="checkbox" Order="6" id="checkbox6" checked = "checked"/>EndTime</li>';
                        list += '<li><input type="checkbox" Order="7" id="checkbox7" />Grade</li>';
                        list += '<li><input type="checkbox" Order="8" id="checkbox8" checked = "checked"/>Amount</li>';
                        list += '<li><input type="checkbox" Order="9" id="checkbox9" checked = "checked"/>Status</li>';

                        $('#GridData').html(list);
                        $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                        $('#checkbox2').prop('checked', true); $('#checkbox2').attr('disabled', 'disabled');
                        $('#checkbox3').prop('checked', true); $('#checkbox3').attr('disabled', 'disabled');
                        $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');
                        $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                        $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                        $('#checkbox8').prop('checked', true); $('#checkbox8').attr('disabled', 'disabled');
                        $('#checkbox9').prop('checked', true); $('#checkbox9').attr('disabled', 'disabled');
                    }
                    //$('#customize_popup_scroll').tinyscrollbar({ sizethumb: 22 });
                    // $('#customize_popup_scroll').tinyscrollbar();
                    $('#customize_popup_scroll').css("height", "320px");
                    $('#customize_popup_scroll .viewport').css("height", "310px");
                }

                else if (componentGroupId == 16) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeNSA.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });
                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox2').prop('checked', true); $('#checkbox2').attr('disabled', 'disabled');
                    $('#checkbox3').prop('checked', true); $('#checkbox3').attr('disabled', 'disabled');
                    $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');
                    $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                    $('#checkbox8').prop('checked', true); $('#checkbox8').attr('disabled', 'disabled');
                    //$('#customize_popup_scroll').tinyscrollbar({ sizethumb: 22 });
                    //   $('#customize_popup_scroll').tinyscrollbar();
                    $('#customize_popup_scroll').css("height", "320px");
                    $('#customize_popup_scroll .viewport').css("height", "300px");
                }
                else if (componentGroupId == 17) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeSAR.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });
                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox2').prop('checked', true); $('#checkbox2').attr('disabled', 'disabled');
                    $('#checkbox3').prop('checked', true); $('#checkbox3').attr('disabled', 'disabled');
                    $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');
                    $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                    $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');


                    $('#customize_popup_scroll').css("height", "300px");
                }
                else if (componentGroupId == 18 && CountryId == 2) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeSF.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });

                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox2').prop('checked', true); $('#checkbox2').attr('disabled', 'disabled');
                    $('#checkbox3').prop('checked', true); $('#checkbox3').attr('disabled', 'disabled');
                    $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');

                    //$('#customize_popup_scroll').tinyscrollbar({ sizethumb: 22 });
                    // $('#customize_popup_scroll').tinyscrollbar();
                    $('#customize_popup_scroll').css("height", "320px");
                    $('#customize_popup_scroll .viewport').css("height", "300px");
                }


                else if (componentGroupId == 19) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeAP.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });
                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox2').prop('checked', true); $('#checkbox2').attr('disabled', 'disabled');
                    $('#checkbox3').prop('checked', true); $('#checkbox3').attr('disabled', 'disabled');
                    $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');
                    $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                    $('#checkbox9').prop('checked', true); $('#checkbox9').attr('disabled', 'disabled');
                    // $('#customize_popup_scroll').tinyscrollbar();
                    $('#customize_popup_scroll').css("height", "340px");

                }

                else if (componentGroupId == 20) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeAD.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });

                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox2').prop('checked', true); $('#checkbox2').attr('disabled', 'disabled');
                    //$('#checkbox3').prop('checked', true); $('#checkbox3').attr('disabled', 'disabled');
                    $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');
                    $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                    $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                    $('#checkbox7').prop('checked', true); $('#checkbox7').attr('disabled', 'disabled');

                    //   $('#customize_popup_scroll').tinyscrollbar(); 
                    $('#customize_popup_scroll').css("height", "340px");
                }

                else if (componentGroupId == 18 && CountryId != 2) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeSF_APAC.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });

                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox2').prop('checked', true); $('#checkbox2').attr('disabled', 'disabled');
                    $('#checkbox3').prop('checked', true); $('#checkbox3').attr('disabled', 'disabled');
                    $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');
                    $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                    $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                    $('#checkbox10').prop('checked', true); $('#checkbox10').attr('disabled', 'disabled');

                    $('#customize_popup_scroll').css("height", "320px");
                    $('#customize_popup_scroll .viewport').css("height", "300px");
                }

                else if ((componentGroupId == 23 || componentGroupId == 24) && CountryId == 6) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizePark.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });

                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox2').prop('checked', true); $('#checkbox2').attr('disabled', 'disabled');
                    $('#checkbox3').prop('checked', true); $('#checkbox3').attr('disabled', 'disabled');
                    $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');
                    $('#checkbox8').prop('checked', true); $('#checkbox8').attr('disabled', 'disabled');

                    $('#customize_popup_scroll').css("height", "320px");
                    $('#customize_popup_scroll .viewport').css("height", "300px");
                }

                else if (componentGroupId == 29) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeSoB.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });

                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                    $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                    $('#checkbox7').prop('checked', true); $('#checkbox7').attr('disabled', 'disabled');

                    //$('#customize_popup_scroll').tinyscrollbar({ display: none });
                    $('#customize_popup_scroll').css("height", "320px");
                    $('#customize_popup_scroll .viewport').css("height", "320px");
                }
                else if (componentGroupId == 30) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeRel.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });

                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');
                    $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                    $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                    $('#checkbox7').prop('checked', true); $('#checkbox7').attr('disabled', 'disabled');
                    $('#checkbox8').prop('checked', true); $('#checkbox8').attr('disabled', 'disabled');

                    //$('#customize_popup_scroll').tinyscrollbar({ display: none });
                    $('#customize_popup_scroll').css("height", "230px");
                    $('#customize_popup_scroll .viewport').css("height", "230px");
                }
                else if (componentGroupId == 34) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeTran.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });

                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                    $('#checkbox7').prop('checked', true); $('#checkbox7').attr('disabled', 'disabled');
                    $('#checkbox8').prop('checked', true); $('#checkbox8').attr('disabled', 'disabled');

                    //$('#customize_popup_scroll').tinyscrollbar({ display: none });
                    $('#customize_popup_scroll').css("height", "230px");
                    $('#customize_popup_scroll .viewport').css("height", "230px");
                }
                else if (componentGroupId == 35) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeHon.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });

                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox2').prop('checked', true); $('#checkbox2').attr('disabled', 'disabled');
                    $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                    $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                    $('#checkbox7').prop('checked', true); $('#checkbox7').attr('disabled', 'disabled');

                    //$('#customize_popup_scroll').tinyscrollbar({ display: none });
                    $('#customize_popup_scroll').css("height", "230px");
                    $('#customize_popup_scroll .viewport').css("height", "230px");
                }
                else if (componentGroupId == 33) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeRR.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });
                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');
                    $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                    $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                    $('#checkbox8').prop('checked', true); $('#checkbox8').attr('disabled', 'disabled');
                    $('#checkbox9').prop('checked', true); $('#checkbox9').attr('disabled', 'disabled');
                    $('#checkbox10').prop('checked', true); $('#checkbox10').attr('disabled', 'disabled');


                    $('#customize_popup_scroll').css("height", "330px");
                }
                else if (componentGroupId == 36 || componentGroupId == 37) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeTax.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });
                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox2').prop('checked', true); $('#checkbox2').attr('disabled', 'disabled');
                    $('#checkbox3').prop('checked', true); $('#checkbox3').attr('disabled', 'disabled');
                    $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');
                    $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                    $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                    $('#checkbox8').prop('checked', true); $('#checkbox8').attr('disabled', 'disabled');


                    $('#customize_popup_scroll').css("height", "330px");
                }

                else if (componentGroupId == 38) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeCar.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });

                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox2').prop('checked', true); $('#checkbox2').attr('disabled', 'disabled');
                    $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                    $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                    $('#checkbox7').prop('checked', true); $('#checkbox7').attr('disabled', 'disabled');

                    //$('#customize_popup_scroll').tinyscrollbar({ display: none });
                    $('#customize_popup_scroll').css("height", "320px");
                    $('#customize_popup_scroll .viewport').css("height", "320px");
                }

                else if (componentGroupId == 25) {
                    var checkboxid = 1;
                    $.each(msg.d[0], function (i, data) {
                        var idname = "checkbox" + checkboxid;
                        if (CustomizeMA.indexOf("~" + data.Order + "~") > -1) {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '" checked = "checked"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        else {
                            list += '<li><input type="checkbox" Order="' + viewData[i].Order + '" id="' + idname + '"/>' + viewData[i].GridHeaders + '</li>';
                        }
                        checkboxid = checkboxid + 1;
                    });

                    $('#GridData').html(list);
                    $('#checkbox1').prop('checked', true); $('#checkbox1').attr('disabled', 'disabled');
                    $('#checkbox4').prop('checked', true); $('#checkbox4').attr('disabled', 'disabled');
                    $('#checkbox5').prop('checked', true); $('#checkbox5').attr('disabled', 'disabled');
                    $('#checkbox6').prop('checked', true); $('#checkbox6').attr('disabled', 'disabled');
                    $('#checkbox7').prop('checked', true); $('#checkbox7').attr('disabled', 'disabled');
                    $('#checkbox8').prop('checked', true); $('#checkbox8').attr('disabled', 'disabled');

                    //$('#customize_popup_scroll').tinyscrollbar({ display: none });
                    $('#customize_popup_scroll').css("height", "320px");
                    $('#customize_popup_scroll .viewport').css("height", "320px");
                }
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });

});

$(document).on('click', '.apply_btn', function () {

    var componentGroupId = $('#bonus').val();
    var CountryID = $('#countryActive').val();
    if (componentGroupId == 2) {
        CustomizeRB = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeRB = CustomizeRB + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeRB = CustomizeRB + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }
    else if (componentGroupId == 3) {
        CustomizeJB = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeJB = CustomizeJB + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeJB = CustomizeJB + "~";
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }

    else if (componentGroupId == 15) {
        CustomizeSDA = '';
        CustomizeSDAAPAC = '';
        var colspanlength = 0;
        if (CountryID == 2) {
            $('#GridData input[type="checkbox"]:checked').each(function () {
                CustomizeSDA = CustomizeSDA + "~" + $(this).attr("Order");
                colspanlength = colspanlength + 1;
            });
            CustomizeSDA = CustomizeSDA + "~"
        }
        else {
            $('#GridData input[type="checkbox"]:checked').each(function () {
                CustomizeSDAAPAC = CustomizeSDAAPAC + "~" + $(this).attr("Order");
                colspanlength = colspanlength + 1;
            });
            CustomizeSDAAPAC = CustomizeSDAAPAC + "~"
        }
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }
    else if (componentGroupId == 16) {
        CustomizeNSA = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeNSA = CustomizeNSA + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeNSA = CustomizeNSA + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }
    else if (componentGroupId == 17) {
        CustomizeSAR = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeSAR = CustomizeSAR + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeSAR = CustomizeSAR + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }
    else if (componentGroupId == 19) {
        CustomizeAP = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeAP = CustomizeAP + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeAP = CustomizeAP + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }

    else if (componentGroupId == 20) {
        CustomizeAD = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeAD = CustomizeAD + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeAD = CustomizeAD + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }
    else if (componentGroupId == 18 && CountryId == 2) {
        CustomizeSF = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeSF = CustomizeSF + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeSF = CustomizeSF + "~";
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }

    else if (componentGroupId == 18 && CountryId != 2) {
        CustomizeSF_APAC = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeSF_APAC = CustomizeSF_APAC + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeSF_APAC = CustomizeSF_APAC + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }

    else if ((componentGroupId == 23 || componentGroupId == 24) && CountryId == 6) {
        CustomizePark = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizePark = CustomizePark + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizePark = CustomizePark + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }
    else if (componentGroupId == 33) {
        CustomizeRR = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeRR = CustomizeRR + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeRR = CustomizeRR + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }

    else if (componentGroupId == 36 || componentGroupId == 37) {
        CustomizeTax = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeTax = CustomizeTax + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeTax = CustomizeTax + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }

    else if (componentGroupId == 29) {
        CustomizeSoB = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeSoB = CustomizeSoB + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeSoB = CustomizeSoB + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }
    else if (componentGroupId == 30) {
        CustomizeRel = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeRel = CustomizeRel + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeRel = CustomizeRel + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }
    else if (componentGroupId == 22 && (CountryId == 5 || CountryId == 6 || CountryId == 7 || CountryId == 8 || CountryId == 9 || CountryId == 10 || CountryId == 11)) {
        CustomizeOT = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeOT = CustomizeOT + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeOT = CustomizeOT + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }
    else if (componentGroupId == 34) {
        CustomizeTran = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeTran = CustomizeTran + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeTran = CustomizeTran + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }
    else if (componentGroupId == 35) {
        CustomizeHon = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeHon = CustomizeHon + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeHon = CustomizeHon + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }

    else if (componentGroupId == 38) {
        CustomizeCar = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeCar = CustomizeCar + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeCar = CustomizeCar + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }
    else if (componentGroupId == 25) {
        CustomizeMA = '';
        var colspanlength = 0;
        $('#GridData input[type="checkbox"]:checked').each(function () {
            CustomizeMA = CustomizeMA + "~" + $(this).attr("Order");
            colspanlength = colspanlength + 1;
        });
        CustomizeMA = CustomizeMA + "~"
        $('.customize_popup disp').hide();
        $(".background_bg").fadeOut("slow");
        $('.popup_view,.customize_popup').fadeOut("slow");
    }

    OnLoad = 0;
    var componentGroupId = $('#bonus').val();
    datastring = '{"componentGroupId":"' + componentGroupId + '","onload":"' + OnLoad + '"}';
    url = "../WebMethods.aspx/GetCustomizeGridData";
    $.ajax({
        type: "POST",
        url: url,
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        cache: false,
        data: datastring,
        success: keyPressEnter,
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
});

$(document).on('click', '.close_popup, .cancel_btn', function () {
    var componentGroupId = $('#bonus').val();
    $('#bonus').css('display', 'block');
    $('.customize_popup disp').hide();
    $(".background_bg").fadeOut("slow");
    $('.popup_view,.customize_popup,.currency_update_popup').fadeOut("slow");
    $('.innerErrorHolder').text('');
    $('.popup_new .innerErrorHolder').text('');
    $('.popup_edit .innerErrorHolder').text('');


    $('#innererrormessage').text('');
    if (componentGroupId == 22 || componentGroupId == 39 || componentGroupId == 101 && (CountryId == 8 || CountryId == 9)) {
        BindValidGridtbl();
    }
    else {
        keyPressEnter();
    }
});

$(document).on("click", "#tbl_shift input:checkbox, #shiftvalid", function () {//6D&NSA
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {
        if (($("#tbl_shift input[type = checkbox]:checked").length <= 1) && ($(".shiftvalid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');

            $("#mailattach").css("cursor", "pointer");
        }
    }
    if ($('#a_exceptions').hasClass('selected')) {
        if (($("#tbl_shift input[type = checkbox]:checked").length <= 1) && ($(".shiftvalid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');

            $("#mailattach").css("cursor", "pointer");
        }
    }
});

$(document).on("click", "#tbl_sar input:checkbox, #sarvalid", function () {//SAR
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {

        if (($("#tbl_sar input[type = checkbox]:checked").length <= 1) && ($(".sarvalidcheck:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
    if ($('#a_exceptions').hasClass('selected')) {

        if (($("#tbl_sar input[type = checkbox]:checked").length <= 1) && ($(".sarexceptioncheck:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
});

$(document).on("click", "#tblSchoolfee input:checkbox, #rvalid", function () {//SF
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {
        if (($("#tblSchoolfee input[type = checkbox]:checked").length <= 1) && ($(".joiningvalid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
    if ($('#a_exceptions').hasClass('selected')) {
        if (($("#tblSchoolfee input[type = checkbox]:checked").length <= 1) && ($(".joiningexp:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
});

$(document).on("click", "#tblSchoolfeeAPAC input:checkbox, #Asfvalid", function () {//SF
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {
        if (($("#tblSchoolfeeAPAC input[type = checkbox]:checked").length <= 1) && ($(".APACsfvalid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
    if ($('#a_exceptions').hasClass('selected')) {
        if (($("#tblSchoolfeeAPAC input[type = checkbox]:checked").length <= 1) && ($(".APACsfexp:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
});

$(document).on("click", "#tblAdditionalPayout input:checkbox, #apvalid", function () {//AD
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {
        if (($("#tblAdditionalPayout input[type = checkbox]:checked").length <= 1) && ($(".APvalid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
    if ($('#a_exceptions').hasClass('selected')) {
        if (($("#tblAdditionalPayout input[type = checkbox]:checked").length <= 1) && ($(".APvalid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
});

$(document).on("click", "#tbldeduction input:checkbox, #advalid", function () {//AD
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {
        if (($("#tbldeduction input[type = checkbox]:checked").length <= 1) && ($(".referralvalid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
    if ($('#a_exceptions').hasClass('selected')) {
        if (($("#tbldeduction input[type = checkbox]:checked").length <= 1) && ($(".adexp:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
});

$(document).on("click", "#tblInsurancetax input:checkbox, #taxvalid", function () {//Taxation and compensation
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {
        if (($("#tblInsurancetax input[type = checkbox]:checked").length <= 1) && ($(".insurancevalid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
    if ($('#a_exceptions').hasClass('selected')) {
        if (($("#tblInsurancetax input[type = checkbox]:checked").length <= 1) && ($(".insuranceexp:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
});

$(document).on("click", "#tblrewards input:checkbox, #rrvalid", function () {//Rewards
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {
        if (($("#tblrewards input[type = checkbox]:checked").length <= 1) && ($(".rewardsvalid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
    if ($('#a_exceptions').hasClass('selected')) {
        if (($("#tblrewards input[type = checkbox]:checked").length <= 1) && ($(".rewardsexp:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
});

$(document).on("click", "#tbl_benefits input:checkbox, #benvalid", function () {//benefits
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {
        if (($("#tbl_benefits input[type = checkbox]:checked").length <= 1) && ($(".benefitsvalid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
    if ($('#a_exceptions').hasClass('selected')) {
        if (($("#tbl_benefits input[type = checkbox]:checked").length <= 1) && ($(".benefitsexp:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
});

$(document).on("click", "#tbl_retention input:checkbox, #retvalid", function () {//Retention
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {
        if (($("#tbl_retention input[type = checkbox]:checked").length <= 1) && ($(".retvalid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
    if ($('#a_exceptions').hasClass('selected')) {
        if (($("#tbl_retention input[type = checkbox]:checked").length <= 1) && ($(".retexp:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
});

$(document).on('keypress', '#associateid,#approverid,#projid,#projectid', function (e) {
    $('#contentErrorHolder').val('');
    $(this).numeric();
    if (e.which == 13) {
        $.trim($(this).val());
    }
    if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
        return false;
    }
});

$(document).on("click", "#tbl_Commuting input:checkbox, #cvalid", function () {//Taxation and compensation
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {
        if (($("#tbl_Commuting input[type = checkbox]:checked").length <= 1) && ($(".commutevalid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
    if ($('#a_exceptions').hasClass('selected')) {
        if (($("#tbl_Commuting input[type = checkbox]:checked").length <= 1) && ($(".commute_exp:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
});

$(document).on("click", "#tbl_netTravel input:checkbox, #netvalidcheckbox", function () {//Taxation and compensation
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {
        if (($("#tbl_netTravel input[type = checkbox]:checked").length <= 1) && ($(".NetValid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
    if ($('#a_exceptions').hasClass('selected')) {
        if (($("#tbl_netTravel input[type = checkbox]:checked").length <= 1) && ($(".NetException:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
});

$(document).on("click", "#tbl_oncall input:checkbox, #ocvalid,#ocexp", function () {//Taxation and compensation
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {
        if (($("#tbl_oncall input[type = checkbox]:checked").length <= 1) && ($(".OTValid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }

    if ($('#a_exceptions').hasClass('selected')) {
        if (($("#tbl_oncall input[type = checkbox]:checked").length <= 1) && ($(".OTExp:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
});

$(document).on("click", "#tbl_Statutory input:checkbox, #chkvalid", function () {//SF
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {
        if (($("#tbl_Statutory input[type = checkbox]:checked").length <= 1) && ($(".checkValid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
    if ($('#a_exceptions').hasClass('selected')) {
        if (($("#tbl_Statutory input[type = checkbox]:checked").length <= 1) && ($(".checkexp:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
});

$(document).on("click", "#tbl_Wellness input:checkbox, #chkvalid", function () {//wellness
    $("#mailattach").addClass('disabled');
    if ($('#a_valid').hasClass('selected')) {
        if (($("#tbl_Wellness input[type = checkbox]:checked").length <= 1) && ($(".checkValid:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
    if ($('#a_exceptions').hasClass('selected')) {
        if (($("#tbl_Wellness input[type = checkbox]:checked").length <= 1) && ($(".checkexp:checked").length == 0)) {
            $("#mailattach").addClass('disabled');
            $("#mailattach").css("cursor", "auto");
        }
        else {
            $("#mailattach").removeClass('disabled');
            $("#mailattach").css("cursor", "pointer");
        }
    }
});

//Spay Upload

$('.download').click(function () {
    $('body').prepend('<div class="overlay"></div>');
    $('.clsUpload_popup').show();
});

$('.upload_close').click(function () {
    $('.clsUpload_popup,.overlay').hide();
});

$(document).on('keypress', '#BUAmt,#PrpsdAmt,#FinalAmt,#AssoId,#6thProjid,#AdvisedBy,#UBSAssoId,#UBSProjectID,#UBSAdvisedBy,#CLAssoID,#CLProjid,#NSAAssoId,#NSAProjId,#TransAssoId,#TransProjId,#TransAdvisedBy,#CLINSAAdvisedBy,#NSAAdvisedBy,#6theditAdvisedBy,#UBSNSAeditAdvisedBy,#CLINSAeditAdvisedBy,#NSAeditAdvisedBy,#6theditAmount,#aid1,#aid3', function (e) {
    var id = $('#bonus').val();

    $(this).numeric();
    if (e.which == 13) {
        $.trim($(this).val());
    }
    if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
        return false;
    }

});

$(document).on('keypress', '#aid2', function (e) {
    var id = $('#bonus').val();
    if ((id == 39 || id == 22 || id == 38) && CountryId == 3) {
        var k = e.keyCode;
        if (k == 92)
            return false;
        //else

        //    //return ((k > 64 && k < 91) || (k > 96 && k < 123) || k == 8 || (k >= 48 && k <= 57));
        //    return false;
    }
    if (!((id == 39 || id == 22 || id == 38) && CountryId == 3)) {
        $(this).numeric();
        if (e.which == 13) {
            $.trim($(this).val());
        }
        if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
            return false;
        }
    }
});

function isNumberKey(evt) {
    var charCode = (evt.which) ? evt.which : event.keyCode
    if (charCode > 31 && (charCode < 48 || charCode > 57))
        return false;

    return true;
}

function allowValuesAfterDecimal(e, id, integerpart, floatpart) {
    var value = $("#" + id).val();
    if (e.which == 8) { // for backspace key issue in firefox
        return true;
    }
    if (e.which != 0 && e.which != 46 && (e.which < 48 || e.which > 57)) {
        return false;
    }
    else if (e.which == 46) {
        var matchesCount = value.split(".").length;
        if (matchesCount > 1)
            return false;
    }
    else {
        if ((value.indexOf('.') == -1) && (value.length > (integerpart - 1))) {
            e.preventDefault();
        }

        if ((value.indexOf('.') != -1)) {

            $("#" + id).keyup(function () {
                var numValue = $(this).val();
                var valueSplit = numValue.split(".");
                if (valueSplit[0].length > integerpart) {
                    var valuelength = valueSplit[0].substring(0, integerpart);

                    if (numValue.indexOf('.') != -1) {
                        var finalValue = valuelength + "." + valueSplit[1];
                    }
                    else {
                        var finalValue = valuelength;
                    }
                    $(this).val(finalValue);
                }

            });

            $("#" + id).keyup(function () {
                var num = $(this).val();
                var index = num.indexOf('.');
                var decimal = num.substring(index + 1).length;
                if (decimal > floatpart) {
                    if (num.indexOf('.') != -1) {
                        var indexValue = num.substring(0, index + floatpart + 1);
                        $(this).val(indexValue);

                    }
                }
            });
        }
    }
}

$(document).on('keypress', '#6thStartDate,#6thEndate,#Nsa_startDate,#Nsa_endDate', function (e) {
    return false;
});

$(document).on('keypress', '#6thedit_fromDate,#6thedit_toDate,#NSAedit_fromDate,#NSAedit_toDate', function (e) {
    return false;
});

$(document).on('click', '#dwnload_Data', function () {

    var componentGroupId = $('#bonus').val();
    //var componentGroupName = $('#selectbon').text(); jquery upgrade fix
    var componentGroupName = $('#bonus option:selected').text();
    var type = '';
    var roleid = 1;
    //Added by 290056
    var month = $('#ddlMonth').val();


    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    else if ($('#a_otherGeo').hasClass('selected')) {
        type = 3;
    }

    //$("#iframeExcel").attr('src', '../ExcelServices.aspx?componentGroupId=' + componentGroupId + '&componentGroupName=' + componentGroupName + '&roleid=' + roleid + ' &dataType=' + type + '&reportType=1&isReport=0' + '&month=' + month);
    $("#iframeExcel").attr('src', '../APAC_ExcelServices.aspx?componentGroupId=' + componentGroupId + '&componentGroupName=' + componentGroupName + '&roleid=' + roleid + ' &dataType=' + type + ' &countryId=' + CountryId + ' &reportType=1&isReport=0&compid=0' + '&month=' + month);  // compid passed

});
$(document).on('click', '#dwnload_YearData_Report', function () {

    var componentGroupId = $('#bonus').val();
    var componentGroupName = $('#bonus option:selected').text();
    var type = '';
    var roleid = 1;
    var month = $('#ddlMonth').val();

    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    else if ($('#a_otherGeo').hasClass('selected')) {
        type = 3;
    }
    var yearr = new Date().getFullYear();
    var reporttext = 'Lunch Vouchers(France)-';
    var filename = reporttext.concat(yearr);

    $("#iframeExcel").attr('src', '../APAC_ExcelServices.aspx?componentGroupId=' + componentGroupId + '&componentGroupName=' + componentGroupName + '&roleid=' + roleid + ' &dataType=' + type + ' &countryId=' + CountryId + ' &reportType=1&isReport=0&compid=0' + '&month=' + month + '&isLunchVoucher=1&filename=' + filename);  // compid passed

});

$(document).on('click', '#dwnload_Report', function () {
    var componentGroupId = $('#bonus').val();
    //var componentGroupName = $('#selectbon').text();
    var componentGroupName = $('#bonus option:selected').text();
    var type = '';
    var roleid = 1;
    var projectid = '';
    if (componentGroupId == "15" || componentGroupId == "16" || componentGroupId == "41")
        projectid = $('#proid').val();
    else
        projectid = '';
    //Added by 290056
    var month = $('#ddlMonth').val();

    if ($('#a_valid').hasClass('selected')) {
        type = 1;
        var month = $('#ddlMonth').val();
    }
    else if ($('#a_exceptions').hasClass('selected')) {
        type = 2;
    }
    else if ($('#a_otherGeo').hasClass('selected')) {
        type = 3;
    }
    //$("#iframeExcel").attr('src', '../ExcelServices.aspx?componentGroupId=' + componentGroupId + '&componentGroupName=' + componentGroupName + '&roleid=' + roleid + ' &dataType=' + type + '&reportType=2&isReport=0' + '&month=' + month + '&projectid=' + projectid);
    $("#iframeExcel").attr('src', '../APAC_ExcelServices.aspx?componentGroupId=' + componentGroupId + '&componentGroupName=' + componentGroupName + '&roleid=' + roleid + ' &dataType=' + type + ' &countryId=' + CountryId + '&reportType=2&isReport=0&compid=0' + '&month=' + month + '&projectid=' + projectid); // compid passed

});

$(document).on('focusout', '#SAR_associateid', function () {
    var obj = $(this);
    var option_html = '';
    var componentGroupId = $('#bonus').val();
    var assoid = $(this).val();
    //var objul = $(this).closest('.popup_new').find('.inner_cont ul:nth-child(1)');
    //var compId = objul.find('li:nth-child(1) select').val();
    var compId = 0;
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '","componentID":"' + compId + '"}';
    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndName",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        if (componentGroupId == 17) {
                            $('.popup_new .innerErrorHolder').html("");
                            $("#SAR_associatename").text($.trim(msg.d[0].AssociateName));
                        }
                        else if (componentGroupId == 42) {
                            $('.popup_new .innerErrorHolder').html("");
                            $("#HT_asso_name").text($.trim(msg.d[0].Name));
                        }
                    }
                    else if (msg.d[0].STATUS == 0) {
                        var error = msg.d[0].ERRORMESSAGE;
                        //$('.popdivcontedit').text('').css('color', 'green').text(error);
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $("#SAR_associatename").text("");
                        $("#HT_asso_name").text("");
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#InsuranceAssoId', function () {
    var option_html = '';
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateDetailsforJB",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("")
                        $("#Insuranceassoname").text($.trim(msg.d[0].AssociateName));
                        //var name = ($.trim(msg.d[0].Name).length > 15) ? $.trim(msg.d[0].Name).substring(0, 15) + '...' : $.trim(msg.d[0].Name);
                        if (componentGroupId == 50) {

                            $("#Insuranceassodoj").text($.trim(msg.d[0].DateOfJoining));
                        }


                    }
                    else if (msg.d[0].STATUS == 0) {
                        var error = msg.d[0].ERRORMESSAGE;
                        //$('.popdivcontedit').text('').css('color', 'green').text(error);
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $("#Insuranceassoname").text("");
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
    else {
        $("#Insuranceassoname").text('');
    }
});

$(document).on('focusout', '#BenefitsAssoId', function () {
    var option_html = '';
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '","isActive":0}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("");

                        $("#Benefitsassoname").text($.trim(msg.d[0].Name));
                    }
                    else if (msg.d[0].STATUS == 0) {
                        var error = msg.d[0].ERRORMESSAGE;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $("#Benefitsassoname").text("");
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
    else {
        $("#Benefitsassoname").text('');
    }
});

$(document).on('focusout', '#retAssoId,#carAssoId', function () {
    var option_html = '';
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '","isActive":0}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("");
                        if (componentGroupId == 45) {
                            $("#carAssoname").text($.trim(msg.d[0].AssociateName));
                        }
                        if (componentGroupId == 46) {
                            $("#Benefitsassoname").text($.trim(msg.d[0].AssociateName));
                        }
                        else {
                            $("#retassoname").text($.trim(msg.d[0].AssociateName));
                            $("#ret_assignstartdate").text($.trim(msg.d[0].DateOfJoining));
                        }
                    }
                    else if (msg.d[0].STATUS == 0) {
                        var error = msg.d[0].ERRORMESSAGE;
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $("#retassoname").text("");
                        $("#ret_assignstartdate").text("");
                        $("#Benefitsassoname").text("");
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
    else {
        $("#Benefitsassoname").text('');
        $("#retassoname").text('');
        $("#ret_assignstartdate").text('');
    }
});

$(document).on('focusout', '#sbAssoId,#netAssoId', function () {
    var obj = $(this);
    var assoid = $(this).val();
    var componentGroupId = $('#bonus').val();
    var datastring = '{"associateId":"' + assoid + '","componentGroupId":"' + componentGroupId + '"}';
    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateDetailsforJB",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            async: false,
            success: function (msg) {

                if (msg.d.length > 0) {
                    if (componentGroupId != 30 && componentGroupId != 34 && componentGroupId != 35 && (componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 57)) {
                        if (msg.d[0].STATUS != 0) {
                            $('.popup_new .innerErrorHolder').html("");
                            var name = '';
                            if (CountryId == 3) {
                                name = ($.trim(msg.d[0].Name).length > 15) ? $.trim(msg.d[0].Name).substring(0, 15) + '...' : $.trim(msg.d[0].Name);
                            }
                            else {
                                name = ($.trim(msg.d[0].AssociateName).length > 15) ? $.trim(msg.d[0].AssociateName).substring(0, 15) + '...' : $.trim(msg.d[0].AssociateName)
                            }
                            if (componentGroupId == 29 || componentGroupId == 49 || componentGroupId == 57) {

                                obj.parent().parent().find('li:nth-child(2) label:nth-child(2)').text(name);
                                if (CountryId == 3) {
                                    obj.parent().parent().find('li:nth-child(2) label:nth-child(2)').attr('title', msg.d[0].Name);
                                }
                                if (CountryId != 3) {
                                    obj.parent().parent().find('li:nth-child(2) label:nth-child(2)').attr('title', msg.d[0].AssociateName);
                                    $('#Retention_Projectid').val($.trim(msg.d[0].ProjectID));
                                    ////obj.parent().parent().find('li:nth-child(2) :nth-child(2)').attr('title', msg.d[0].ProjectID);
                                }
                                obj.parent().parent().find('li:nth-child(3) label:nth-child(2)').text($.trim(msg.d[0].DateOfJoining));
                            }
                            else if (componentGroupId == 31) {
                                $('#netassoname').text(name);
                                $('#netassoname').attr('title', msg.d[0].Name);
                            }
                            else {
                                obj.parent().parent().find('li:nth-child(2) label:nth-child(2)').text(name);
                                obj.parent().parent().find('li:nth-child(2) label:nth-child(2)').attr('title', msg.d[0].Name);
                                obj.parent().parent().find('li:nth-child(3) label:nth-child(2)').text($.trim(msg.d[0].DateOfJoining));
                            }

                        }
                        else if (msg.d[0].STATUS == 0) {
                            var error = msg.d[0].ERRORMESSAGE;
                            $('.popup_new .innerErrorHolder').text(error);
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            obj.parent().parent().find('li:nth-child(2) label:nth-child(2)').text("");
                            obj.parent().parent().find('li:nth-child(3) label:nth-child(2)').text("");
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                    }
                    else if (componentGroupId == 30 || componentGroupId == 34 || componentGroupId == 35) {
                        if (msg.d[0].STATUS != 0) {
                            $('.popup_new .innerErrorHolder').html("");
                            obj.parent().parent().find('#SBassoname').text($.trim(msg.d[0].Name));

                        }
                        else if (msg.d[0].STATUS == 0) {
                            var error = msg.d[0].ERRORMESSAGE;
                            $('.popup_new .innerErrorHolder').text(error);
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            obj.parent().parent().find('#SBassoname').text("");
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                    }
                    else if (componentGroupId == 31) {
                        if (msg.d[0].STATUS != 0) {
                            $('.popup_new .innerErrorHolder').html("");
                            $("#netassoname").text($.trim(msg.d[0].Name));
                        }
                        else if (msg.d[0].STATUS == 0) {
                            var error = msg.d[0].ERRORMESSAGE;
                            //$('.popdivcontedit').text('').css('color', 'green').text(error);
                            $('.popup_new .innerErrorHolder').text(error);
                            $('.popup_new .innerErrorHolder').removeClass("green");
                            $('.popup_new .innerErrorHolder').addClass("red");
                            $("#netassoname").text("");
                            $("#progressBackgroundFilter").hide();
                            $("#processMessage").hide();
                        }
                    }
                    else {
                        $('.popup_new .innerErrorHolder').html("Invalid Associate ID");
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        obj.parent().parent().find('li:nth-child(2) label:nth-child(2)').text("");
                        obj.parent().parent().find('li:nth-child(3) label:nth-child(2)').text("");
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
    else {
        obj.parent().parent().find('li:nth-child(2) label:nth-child(2)').text('');
    }
});

$(document).on('focusout', '#CTAssoId,#commuteAssoId,#sbAssoId,#LnAssoId,#FIN_AssoId,#Loan_AssoId,#SAO_AssoId,#npAssoId', function () {
    var option_html = '';
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            async: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        $('.popup_new .innerErrorHolder').html("");

                        if (componentGroupId == 32) {
                            $("#commuteassoname").text($.trim(msg.d[0].AssociateName));
                        }
                        if ((componentGroupId == 49 || componentGroupId == 57) && CountryId != 20) {
                            $("#commuteassoname").text($.trim(msg.d[0].AssociateName));
                        }
                        if (componentGroupId == 85 || componentGroupId == 86 || componentGroupId == 87 || componentGroupId == 88
                            || componentGroupId == 89) {
                            $("#LnAssoname").text($.trim(msg.d[0].AssociateName));
                        }
                        if ((componentGroupId == 3 || componentGroupId == 29 || componentGroupId == 30
                            || componentGroupId == 49) && CountryId == 20 || componentGroupId == 71 || componentGroupId == 72 || componentGroupId == 73
                            || componentGroupId == 74 || componentGroupId == 75) {
                            $("#FIN_Assoname").text($.trim(msg.d[0].AssociateName));
                            $('#FIN_ProjID').val($.trim(msg.d[0].ProjectID));
                        }
                        if (componentGroupId == 2 && CountryId == 20) {
                            $("#FIN_Assoname").text($.trim(msg.d[0].AssociateName));
                            $('#FIN_ProjID').val($.trim(msg.d[0].ProjectID));
                        }
                        if (componentGroupId == 94) {
                            $("#Loan_Assoname").text($.trim(msg.d[0].AssociateName));
                        }
                        if (componentGroupId == 81) {
                            $("#SAO_Assoname").text($.trim(msg.d[0].AssociateName));
                            $('#SAO_ProjectID').val($.trim(msg.d[0].ProjectID));
                        }
                        if (componentGroupId == 82 || componentGroupId == 91 && CountryId == 20) {
                            $("#npAssoname").text($.trim(msg.d[0].AssociateName));
                            $('#npProId').val($.trim(msg.d[0].ProjectID));
                        }
                        else {
                            $("#CTassoname").text($.trim(msg.d[0].AssociateName));
                        }
                    }
                    else if (msg.d[0].STATUS == 0) {
                        var error = msg.d[0].ERRORMESSAGE;
                        //$('.popdivcontedit').text('').css('color', 'green').text(error);
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
});

$(document).on('focusout', '#MT_associateid,#UKA_AssoId,#B_AssoId', function () {
    var option_html = '';
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    var isActive = 0;
    var datastring = '{"associateId":"' + $(this).val() + '","componentGroupId":"' + componentGroupId + '","isActive":"' + isActive + '"}';

    if ($(this).val() != '') {
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d.length > 0) {
                    if (msg.d[0].STATUS != 0) {
                        if (componentGroupId == 58) {
                            $('.popup_new .innerErrorHolder').html("");
                            $("#BAssoname").text($.trim(msg.d[0].AssociateName));
                        }
                        else {
                            $('.popup_new .innerErrorHolder').html("");
                            $("#MTAssoname").text($.trim(msg.d[0].AssociateName));
                            $("#MTDOJ").text($.trim(msg.d[0].DateOfJoining));
                            $("#Travel_Currency").text($.trim(msg.d[0].Currency));
                        }
                        // $("#UKA_Currency").text($.trim(msg.d[0].Currency));
                    }
                    else if (msg.d[0].STATUS == 0) {
                        var error = msg.d[0].ERRORMESSAGE;
                        //$('.popdivcontedit').text('').css('color', 'green').text(error);
                        $('.popup_new .innerErrorHolder').text(error);
                        $('.popup_new .innerErrorHolder').removeClass("green");
                        $('.popup_new .innerErrorHolder').addClass("red");
                        $("#MTAssoname").text("");
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });
    }
    else {
        $("#Insuranceassoname").text('');
    }
});

$(document).on('change', '#Br_MaritalStatus', function () {
    var option_html = '';
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    var maritalstatus = $(this).val();
    var isActive = 0;
    var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {
            if (msg.d.length > 0) {


                var maritalstatus = '';
                maritalstatus += "<option value='-1'>--Select relationship--</option>";
                if (msg.d[5].length != 0) {
                    $.each(msg.d[5], function (i, data) {
                        maritalstatus += '<option value="' + data.RelationshipID + '">' + data.RelationshipName + '</option>';
                    });
                }
                $('#B_Relationship').html(maritalstatus);
                $('#B_Relationship').find('option:nth-child(1)').attr('selected', 'selected');
                $('#SelectB_Relationship').text($("#B_Relationship option:selected").text());

                $('.popup_new .innerErrorHolder').text('');

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
});


$(document).on('change', '#editB_maritalstatus', function () {
    var option_html = '';
    var obj = $(this);
    var componentGroupId = $('#bonus').val();
    var maritalstatus = $(this).val();
    var isActive = 0;
    var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {
            if (msg.d.length > 0) {


                var maritalstatus = '';
                maritalstatus += "<option value='-1'>--Select relationship--</option>";
                if (msg.d[5].length != 0) {
                    $.each(msg.d[5], function (i, data) {
                        maritalstatus += '<option value="' + data.RelationshipID + '">' + data.RelationshipName + '</option>';
                    });
                }
                $('#B_ediRelationship').html(maritalstatus);
                $('#B_ediRelationship').find('option:nth-child(1)').attr('selected', 'selected');
                $('#SelectB_ediRelationship').text($("#B_ediRelationship option:selected").text());

                $('.popup_new .innerErrorHolder').text('');

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
});

function PopulateAssignmentStartDate() {
    var option_html = '';
    var componentGroupId = $('#bonus').val();
    var isActive = 0;
    var datastring = '{"associateId":"' + loginId + '","componentGroupId":"' + componentGroupId + '","isActive":"' + isActive + '"}';

    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {
            if (msg.d.length > 0) {
                if (msg.d[0].STATUS != 0) {

                    $('.popup_new .innerErrorHolder').html("");
                    $("#MTAssoname").text($.trim(msg.d[0].AssociateName));
                    $("#MTDOJ").text($.trim(msg.d[0].DateOfJoining));

                }
                else if (msg.d[0].STATUS == 0) {
                    var error = msg.d[0].ERRORMESSAGE;
                    //$('.popdivcontedit').text('').css('color', 'green').text(error);
                    $('.popup_new .innerErrorHolder').text(error);
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    $("#MTAssoname").text("");
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
            }
        },
        error: function (xhr) {
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $('.popup_new .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
        }
    });
}

$(document).on("focusout", "#Insurancestartdate", function () {
    var effectivedate = $('#Insurancestartdate').val();
    $("#Insuranceeffectivedate").html('');
    $("#Insuranceeffectivedate").text(effectivedate);

});

$(document).on("change", "#Insurancestartdate", function () {
    var effectivedate = $('#Insurancestartdate').val();
    if (effectivedate != '') {
        $("#Insuranceeffectivedate").html('');
        $("#Insuranceeffectivedate").text(effectivedate);
    }

});

$(document).on("focusout", "#netstartdate", function () {
    var effectivedate = $('#netstartdate').val();
    $("#neteffectivedate").html('');
    $("#neteffectivedate").text(effectivedate);

});

$(document).on("change", "#netstartdate", function () {
    var effectivedate = $('#netstartdate').val();
    if (effectivedate != '') {
        $("#neteffectivedate").html('');
        $("#neteffectivedate").text(effectivedate);
    }

});

$(document).on("focusout", "#commutestartdate", function () {
    var effectivedate = $('#commutestartdate').val();
    $("#commute_effectivedate").html('');
    $("#commute_effectivedate").text(effectivedate);

});

$(document).on("change", "#commutestartdate", function () {
    var effectivedate = $('#commutestartdate').val();
    if (effectivedate != '') {
        $("#commute_effectivedate").html('');
        $("#commute_effectivedate").text(effectivedate);
    }

});

$(document).on("change", "#editinsurancedate", function () {
    var amount = $('#taxamt').text();
    if (amount == "")
        amount = 0;
    var benamt = $('#benamount').text();
    //if (benamt == "")
    //    benamt = 0;
    $('#benamount').replaceWith("<div style='margin-left: -49px;'><input type='text' style='margin-left: -20px;' maxlength='11' value= '" + benamt + "'onkeypress='return allowValuesAfterDecimal(event,id,8,2)' id='benval'></div>");
    $('#taxamt').replaceWith("<div style='margin-left: -49px;'><span style='color: red; margin-left: -96px;'>*</span><input type='text' style='margin-left: 70px;' maxlength='11' value='" + amount + "' onkeypress='return allowValuesAfterDecimal(event,id,8,2)' id='taxval'></div>");
});

$(document).on("change", "#editnetdate", function () {

    $('#netamt').replaceWith("<input type='text' maxlength='11' value='' class='M_40 new_upload' onkeypress='return allowValuesAfterDecimal(event,id,8,2)' id='taxval'></label>");
});

$(document).on("change", "#editcommutedate", function () {

    $('#editdistance').replaceWith("<input type='text' maxlength='15' value='' class='M_40 new_upload' onkeypress='return allowValuesAfterDecimal(event,id,8,2)' id='taxval'></label>");
});

$(document).on('keypress', '#sp_startdate,#sp_enddate,#sar_startdate,#sar_enddate,#OC_startdate,#OC_enddate,#OT_startdate,#OT_enddate,#OC_editstartdate,#OC_editenddate,#Lnstartdate,#Lnenddate,#Retention_enddate,#DateGranted', function (e) {
    return false;
});

$(document).on('keypress', '#Insurancestartdate,#MB_startdate,#MB_enddate,#MB_editstartdate,#MB_editenddate,#commutestartdate,#netstartdate,#IC_startdate,#IC_enddate,#CE_startdate,#CE_enddate', function (e) {
    return false;
});

$(document).on('keypress', '#editinsurancedate,#editcommutedate,#editnetdate,#Incityeditenddate,#Incityeditstartdate,#sp_editstartdate,#sp_editenddate', function (e) {
    return false;
});

$(document).on('click', '#mailattach', function (e) {
    // Grid mail Attach
    var url = "";
    e.preventDefault();
    if ($(this).hasClass('disabled'))
        return false;
    else {
        var projectID = '';
        if (isCutOffDateOver == 0) {
            var componentGroupId = $('#bonus').val();
            var Type = '';
            // if (componentGroupId == 15 || componentGroupId == 16 || componentGroupId == 17 || componentGroupId == 18 || componentGroupId == 19 || componentGroupId == 20 || componentGroupId == 41 || componentGroupId == 31 || componentGroupId == 21 || componentGroupId == 22) {
            if ($('#a_valid').hasClass('selected')) {
                Type = 1;
            }
            else if ($('#a_exceptions').hasClass('selected')) {

                Type = 2;
            }
            // }

            var PrimaryKeyIdstring = '';
            if (componentGroupId == 17) {//SAR
                $('#tbl_sar tbody tr').each(function () {
                    var pkid = $(this).attr("pk_id");
                    if ($(this).find("input[type = checkbox]").is(":checked")) {

                        PrimaryKeyIdstring = PrimaryKeyIdstring + "," + pkid;
                    }
                });
            }
            else if (componentGroupId == 15 || componentGroupId == 16 || componentGroupId == 41) {//6D/NSA
                $('#tbl_shift tbody tr').each(function () {
                    var pkid = $(this).attr("pk_id");
                    if ($(this).find("input[type = checkbox]").is(":checked")) {
                        PrimaryKeyIdstring = PrimaryKeyIdstring + "," + pkid;
                    }
                });
            }
            else if (componentGroupId == 18 && CountryId == 2) {//SF
                $('#tblSchoolfee tbody tr').each(function () {
                    var pkid = $(this).attr("pk_id");
                    if ($(this).find("input[type = checkbox]").is(":checked")) {
                        PrimaryKeyIdstring = PrimaryKeyIdstring + "," + pkid;
                    }
                });
            }
            else if (componentGroupId == 19) {//AP
                $('#tblAdditionalPayout tbody tr').each(function () {
                    var pkid = $(this).attr("pk_id");
                    if ($(this).find("input[type = checkbox]").is(":checked")) {
                        PrimaryKeyIdstring = PrimaryKeyIdstring + "," + pkid;
                    }
                });
            }
            else if (componentGroupId == 20) {//AD
                $('#tbldeduction tbody tr').each(function () {
                    var pkid = $(this).attr("pk_id");
                    if ($(this).find("input[type = checkbox]").is(":checked")) {
                        PrimaryKeyIdstring = PrimaryKeyIdstring + "," + pkid;
                    }
                });
            }
            else if (componentGroupId == 31) {//NetTravel
                $('#tbl_netTravel tbody tr').each(function () {
                    var pkid = $(this).attr("pk_id");
                    if ($(this).find("input[type = checkbox]").is(":checked")) {

                        PrimaryKeyIdstring = PrimaryKeyIdstring + "," + pkid;
                    }
                });
            }
            else if ((componentGroupId == 39 && CountryId == 3) || componentGroupId == 22) {//OCA, OT
                $('#tbl_oncall tbody tr').each(function () {
                    var pkid = $(this).attr("pk_id");
                    if ($(this).find("input[type = checkbox]").is(":checked")) {

                        PrimaryKeyIdstring = PrimaryKeyIdstring + "," + pkid;
                    }
                });
            }
            else if (componentGroupId == 21 || componentGroupId == 39) {//OCA, OT
                $('#tbl_Statutory tbody tr').each(function () {
                    var pkid = $(this).attr("pk_id");
                    if ($(this).find("input[type = checkbox]").is(":checked")) {

                        PrimaryKeyIdstring = PrimaryKeyIdstring + "," + pkid;
                    }
                });
            }
            else if (componentGroupId == 51) {//Wellness
                $('#tbl_Wellness tbody tr').each(function () {
                    var pkid = $(this).attr("pk_id");
                    if ($(this).find("input[type = checkbox]").is(":checked")) {

                        PrimaryKeyIdstring = PrimaryKeyIdstring + "," + pkid;
                    }
                });
            }
            if (ocm == "0") {

                if ((componentGroupId == 21 || componentGroupId == 39 || (componentGroupId == 22 && CountryId != 7)) && CountryId != 3) {
                    url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&CountryId=" + CountryId + "&primaryKeyIdstring=" + PrimaryKeyIdstring + "&label1=Select File:&label4=Remarks:&type=" + Type + "&roleID=" + RoleId + "&action=2&ocmflag=1&TB_iframe=true&height=220&width=490&modal=true&allowTransparency=true";

                }
                else if (componentGroupId == 22 && CountryId == 7) {
                    url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&CountryId=" + CountryId + "&primaryKeyIdstring=" + PrimaryKeyIdstring + "&label1=Select File:&label4=Remarks:&type=" + Type + "&roleID=" + RoleId + "&action=2&ocmflag=1&TB_iframe=true&height=220&width=490&modal=true&allowTransparency=true";

                }

                else {
                    url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&CountryId=" + CountryId + "&primaryKeyIdstring=" + PrimaryKeyIdstring + "&label1=Select File:&label4=Remarks:&type=" + Type + "&roleID=" + RoleId + "&action=2&ocmflag=1&TB_iframe=true&height=220&width=490&modal=true&allowTransparency=true";

                }

            }
            else {
                if ((componentGroupId == 21 || componentGroupId == 39 || (componentGroupId == 22 && CountryId != 7)) && CountryId != 3) {
                    url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&CountryId=" + CountryId + "&primaryKeyIdstring=" + PrimaryKeyIdstring + "&label1=Select File:&label4=Remarks:&type=" + Type + "&roleID=" + RoleId + "&action=2&ocmflag=1&TB_iframe=true&height=220&width=490&modal=true&allowTransparency=true";

                }
                else if (componentGroupId == 22 && CountryId == 7) {
                    url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&CountryId=" + CountryId + "&primaryKeyIdstring=" + PrimaryKeyIdstring + "&label1=Select File:&label4=Remarks:&type=" + Type + "&roleID=" + RoleId + "&action=2&ocmflag=1&TB_iframe=true&height=220&width=490&modal=true&allowTransparency=true";

                }

                else {
                    url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&CountryId=" + CountryId + "&primaryKeyIdstring=" + PrimaryKeyIdstring + "&label1=Select File:&label4=Remarks:&type=" + Type + "&roleID=" + RoleId + "&action=2&ocmflag=1&TB_iframe=true&height=220&width=490&modal=true&allowTransparency=true";

                }

            }

            // $("#TB_window,#TB_iframeContent").css('display', 'block');
            $("#TB_title").css('display', 'none');
            $('.TB_overlayBG').css('display', 'block');
            $(".background_bg").css('display', 'block');
            $('#TB_closeAjaxWindow').css('display', 'none');
            url = EncodeUrlParameters(url);
            $("a#clck").attr('href', encodeURI(url)).click();

        }
    }
});

function blockSpecialChar(e) {
    var k = e.keyCode;
    return ((k > 64 && k < 91) || (k > 96 && k < 123) || k == 8 || (k >= 48 && k <= 57));
}

function allownums1(evt) {
    // var x = $('#fromhrs1,#fromhrs2,#fromhrs3,#fromhrs4,#fromhrs5,#tohrs1,#tohrs2,#tohrs3,#tohrs4,#tohrs5,#mineligiblehrs').val();
    var x = $('#TotalHours').val();

    if (x.length == 0) {

    }
    else {
        if (x.length > 0 && x.length < 3 && x < 25 && x > 0) {
            return true;
        }
        else {

            $('#TotalHours').val(''); return false;
        }
    }
}

function allownums2(evt) {
    // var x = $('#fromhrs1,#fromhrs2,#fromhrs3,#fromhrs4,#fromhrs5,#tohrs1,#tohrs2,#tohrs3,#tohrs4,#tohrs5,#mineligiblehrs').val();
    var x = $('#TotalHours1').val();

    if (x.length == 0) {

    }
    else {
        if (x.length > 0 && x.length < 3 && x < 25 && x > 0) {
            return true;
        }
        else {

            $('#TotalHours1').val(''); return false;
        }
    }
}

function allownums3(evt) {
    // var x = $('#fromhrs1,#fromhrs2,#fromhrs3,#fromhrs4,#fromhrs5,#tohrs1,#tohrs2,#tohrs3,#tohrs4,#tohrs5,#mineligiblehrs').val();
    var x = $('#TotalHours2').val();

    if (x.length == 0) {

    }
    else {
        if (x.length > 0 && x.length < 3 && x < 25 && x > 0) {
            return true;
        }
        else {

            $('#TotalHours2').val(''); return false;
        }
    }
}

$(document).on('change', '#editBuscardAvailed', function () {
    var b = $("#editBuscardAvailed option:selected").text();
    if (b == 'Yes') {
        $('#busamountedithide').show();
    }
    else {
        $('#busamountedithide').hide();
    }

});


function PopulateEditSingaporeDeductionComponentDetails(MonthName, PayrollYear) {

    var option_html = '';

    var maritalstatus = 0;
    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '","maritalstatus":"' + maritalstatus + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetDropdownSPDDataUK",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        success: function (msg) {

            if (msg.d.length > 0) {


                if (msg.d.length > 0) {

                    var year = '';
                    year += "<option value='-1'>--Select Year--</option>";
                    if (msg.d[0].length != 0) {
                        $.each(msg.d[0], function (i, data) {
                            year += '<option value="' + data.Year + '">' + data.Year + '</option>';
                        });
                    }
                    $('#edit_AdvisedYear').html(year);
                    $(".popup_edit .inner_cont ul li:nth-child(5) select option:contains(" + PayrollYear + ")").attr('selected', true);


                    var month = '';
                    month += "<option value='-1'>--Select Month--</option>";
                    if (msg.d[1].length != 0) {
                        $.each(msg.d[1], function (i, data) {
                            month += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                        });
                    }
                    $('#edit_AdvisedMonth').html(month);
                    $(".popup_edit .inner_cont ul li:nth-child(4) select option:contains(" + MonthName + ")").attr('selected', true);


                    var currency = msg.d[3][0].Currency;
                    $('#edit_currency').html(currency);

                }

            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });

}
function onlyNumbers(evt) {
    var e = event || evt; // for trans-browser compatibility
    var charCode = e.which || e.keyCode;
    if (charCode > 31 && (charCode < 48 || charCode > 57))
        return false;
    return true;
}

$(document).on('popupprogresseventshowfilesize', function (event, data) {
    errorpopup('File size cannot exceed ' + data.size + ' MB.');
});

function SetDateForServianAssociate(startdate, dateType) {
    var returnval = [];
    var componentGroupId = $('#bonus').val();
    if ((componentGroupId == "22" || componentGroupId == "39" || componentGroupId == "101") && (CountryId == "8" || CountryId == "9")) {
        if (ServianAssociatedtls[2].length > 0) {

            var date = new Date();
            var strDate = parseInt(ServianAssociatedtls[2][0].Date);
            if (dateType == 1) { //For startDate
                var strMonth = parseInt(ServianAssociatedtls[2][0].Month);
                var minDate = new Date(date.getFullYear(), date.getMonth() + strMonth, 1);
                var maxDate = new Date(date.getFullYear(), date.getMonth(), strDate);
            }
            else if (dateType == 2) {   //For EndDate

                var minDate = new Date(startdate);

                if (componentGroupId == "22") {
                    strDate = date.toLocaleString().split(',')[0] == minDate.toLocaleString().split(',')[0] ? minDate.getDate() : minDate.getDate() + 1; //OT 22
                    date = minDate;
                }

                var maxDate = new Date(date.getFullYear(), date.getMonth(), strDate);
            }
            returnval.push(minDate);
            returnval.push(maxDate);
        }
    }
    return returnval;
}

function IsAssociateServianContino() {

    var componentGroupId = $('#bonus').val();
    var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + loginId + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/IsAssociateServianContino",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        async: false,
        success: function (msg) {
            if (msg.d.length > 0) {
                ServianAssociatedtls = msg.d;
                //console.log('arr-', ServianAssociatedtls);
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function IsAssociateExist(transportationType, PayrollMonth, Year, frequencyType, pkey, multipletrnsport) {
    var datastring = JSON.stringify({
        associateId: loginId,
        TransportationType: transportationType,
        PayrollMonth: PayrollMonth,
        Year: Year,
        frequencyType: frequencyType,
        KeyId: pkey,
        multipletrnsport: multipletrnsport
    });
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/IsAssociateExist",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        cache: false,
        async: false,
        success: function (msg) {
            if (msg.d.length > 0) {
                var dlapflag = JSON.parse(msg.d)
                FlagStatus = dlapflag.Table[0]["flag"];
                DeclarationFlag = dlapflag.Table1[0]["DeclarationFlag"];
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}


$(document).on('click', '#fileattach', function () {
    var url = "";
    if ($(this).hasClass('disabled'))
        return false;
    else {
        var projectID = '0';
        var componentGroupId = $('#bonus').val();
        var Type = '';

        if ($('#a_valid').hasClass('selected')) {
            Type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {

            Type = 2;
        }
        var specialcase = $('select[id*="splcase"]').val();
        if (componentGroupId == '48' && CountryId == "17") {
            var transportationType = $('#MTTransportationType').val();
            var PayrollMonth = $("#MTPayrollMonth").val();
            var Year = $("#MTPayrollYear").val();
            var frequencyType = $("#MTFrequencyType").val();
            IsAssociateExist(transportationType, PayrollMonth, Year, frequencyType,0, checkmultipletrnsport);
            if (FlagStatus == 0 && checkmultipletrnsport == 0) {
                FlagStatus = 0;
            }
            else {
                FlagStatus = 1;
            }
            url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&remarks=" + FlagStatus + "&specialcase=" + specialcase + "&CountryId=" + CountryId + "&label1=Invoice/Attestation:&label2=DeclarationForm:&label3=ApprovalMail:&roleID=" + RoleId + "&Type=" + Type + "&Dflag=" + DeclarationFlag + "&action=3&ocmflag=1&button=1&TB_iframe=true&height=319&width=490&modal=true&allowTransparency=true";
        }
        else if (componentGroupId == '22' && CountryId == "7") {
            url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&CountryId=" + CountryId + "&label1=TMApprovalMail:&label2=ApprovalMail:&roleID=" + RoleId + "&Type=" + Type + "&action=3&ocmflag=1&button=1&TB_iframe=true&height=319&width=490&modal=true&allowTransparency=true";
        }
        else {
            url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&specialcase=" + specialcase + "&CountryId=" + CountryId + "&label1=ApprovalMail:&roleID=" + RoleId + "&Type=" + Type + "&action=3&ocmflag=1&button=1&TB_iframe=true&height=319&width=490&modal=true&allowTransparency=true";
        }
        //LogInfoIntoDB(url);
        url = EncodeUrlParameters(url);
        $("a#clck").attr('href', encodeURI(url)).click();

        $("#TB_window,#TB_iframeContent").css('display', 'block');
        $("#TB_window").css('z-index', 1000);
        $("#TB_title").css('display', 'none');
        $(".background_bg").css('display', 'block');

    }

});

$(document).on('click', '#fileattachedit', function () {
    var url = "";
    if ($(this).hasClass('disabled'))
        return false;
    else {
        var projectID = '0';
        var componentGroupId = $('#bonus').val();
        var Type = '';

        if ($('#a_valid').hasClass('selected')) {
            Type = 1;
        }
        else if ($('#a_exceptions').hasClass('selected')) {

            Type = 2;
        }
        var specialcase = $('select[id*="splcase"]').val();
        if (componentGroupId == '48' && CountryId == "17") {
            var transportationType = $('#editTransportationType').val();
            var PayrollMonth = $("#edit_PayrollMonth").val();
            var Year = $("#edit_PayrollYear").val();
            var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
            var pkey = obj.attr('pkey')
            var editFrequencyType = $("#editFrequencyType").val();
            IsAssociateExist(transportationType, PayrollMonth, Year, editFrequencyType, pkey, 0);
            url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&remarks=" + FlagStatus + "&specialcase=" + specialcase + "&CountryId=" + CountryId + "&label1=Invoice/Attestation:&label2=DeclarationForm:&label3=ApprovalMail:&roleID=" + RoleId + "&Type=" + Type + "&Dflag=" + DeclarationFlag + "&action=3&ocmflag=1&button=2&TB_iframe=true&height=319&width=490&modal=true&allowTransparency=true";
        }
        else if (componentGroupId == '22' && CountryId == "7") {
            url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&CountryId=" + CountryId + "&label1=TMApprovalMail:&label2=ApprovalMail:&roleID=" + RoleId + "&Type=" + Type + "&action=3&ocmflag=1&button=2&TB_iframe=true&height=319&width=490&modal=true&allowTransparency=true";
        }
        else {
            url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&specialcase=" + specialcase + "&CountryId=" + CountryId + "&label1=ApprovalMail:&roleID=" + RoleId + "&Type=" + Type + "&action=3&ocmflag=1&button=2&TB_iframe=true&height=319&width=490&modal=true&allowTransparency=true";
        }
        //LogInfoIntoDB(url);
        url = EncodeUrlParameters(url);
        $("a#clck").attr('href', encodeURI(url)).click();

        $("#TB_window,#TB_iframeContent").css('display', 'block');
        $("#TB_window").css('z-index', 1000);
        $("#TB_title").css('display', 'none');
        $(".background_bg").css('display', 'block');

    }

});

$(document).on('eventhandlerocmsuccesspopup', function () {
    $('.TB_overlayBG').css('display', 'none');
    $('#TB_window').css('display', 'none');
    $('#TB_iframeContent').css('display', 'none');
    succpopup('File uploaded successfully');
});

$(document).on('eventhandlerocmclose', function () {

    $('.TB_overlayBG').css('display', 'none');
    $('#TB_window').css('display', 'none');
    $('#TB_iframeContent').css('display', 'none');
});

$(document).on('eventhandlerocm', function () {
    //alert('event was fired');
    GetFileFromSession(1);
});


function ShowAttachementIcon() {
    var switchvariableid = FileUploadID;
    var approvalMail = MailUploadID;
    var specialcaseMail = SplCaseMail;
    var label1;
    var label2;
    var label3;
    var componentGroupId = $('#bonus').val();
    if (componentGroupId == "48" && CountryId == "17") {
        label1 = "Invoice";
        label2 = "DeclarartionForm";
        label3 = "ApprovalMail";
    }
    else if (componentGroupId == "22" && CountryId == "7") {
        label1 = "TMApprovalMail";
        label2 = "ApprovalMail";
    }
    else if (componentGroupId == "18" && (CountryId == "14" || CountryId == "15" || CountryId == "16" || CountryId == "17")) {
        label1 = "Invoice Receipt";
    }
    else if ((componentGroupId == "47" || componentGroupId == "48" || componentGroupId == "51") && (CountryId == "14" || CountryId == "15" || CountryId == "16")) {
        label1 = "Invoice";
    }
    else if (componentGroupId == "46" || componentGroupId == "21") {
        label1 = "Attached Mail";
    }
    else if ((componentGroupId == "22" || componentGroupId == "101" || componentGroupId == "39") && (CountryId == "8" || CountryId == "9")) {
        label1 = "Approval Mail";
    }
    else if (CountryId == "7") {
        label1 = "Approval Mail";
    }
    else {
        label1 = "SpecialCaseMail";
        label2 = "DeclarartionForm";
        label3 = "ApprovalMail";
    }
    if (switchvariableid != "") {

        // var val = "<label style='color:Green'>File Uploaded Successfully</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img id=\"splCaseMailUpload\" Style='--x:-2863px;--y:-1019px;width:27px;height:19px;display:none' fileuploadid=\"" + switchvariableid + "\" /></a>";
        var val = "<label>" + label1 + "</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_uploadocm").html('');
        $("#aft_uploadocm").append(val);
        $("#aft_uploadocm").attr("fileuploadid", switchvariableid);
        $("#aft_uploadocm").show();
    }
    if (approvalMail != "") {
        // var val = "<label style='color:Green'>File Uploaded Successfully</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img id=\"splCaseMailUpload\" Style='--x:-2863px;--y:-1019px;width:27px;height:19px;display:none' fileuploadid=\"" + switchvariableid + "\" /></a>";
        var val = "<label>" + label2 + "</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + approvalMail + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + approvalMail + "\" /></a>";
        $("#aft_uploadocmapproval").html('');
        $("#aft_uploadocmapproval").append(val);
        $("#aft_uploadocmapproval").attr("fileuploadid", approvalMail);
        $("#aft_uploadocmapproval").show();
    }
    if (specialcaseMail != "") {
        // var val = "<label style='color:Green'>File Uploaded Successfully</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img id=\"splCaseMailUpload\" Style='--x:-2863px;--y:-1019px;width:27px;height:19px;display:none' fileuploadid=\"" + switchvariableid + "\" /></a>";
        var val = "<label>" + label3 + "</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + specialcaseMail + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + specialcaseMail + "\" /></a>";
        $("#aft_uploadocmsplcasemail").html('');
        $("#aft_uploadocmsplcasemail").append(val);
        $("#aft_uploadocmsplcasemail").attr("fileuploadid", specialcaseMail);
        $("#aft_uploadocmsplcasemail").show();
    }
    $('.TB_overlayBG').css('display', 'none');
    $('#TB_window').css('display', 'none');
    $('#TB_iframeContent').css('display', 'none');
    succpopup('File uploaded successfully.');
    $(".background_bg").css('display', 'block');
    isAttachFileOpen = 1;
}
$(document).on('eventhandlerocmedit', function () {
    //alert('event was fired');
    GetFileFromSession(2);

});


function ShowAttachementIconEditCase() {
    var switchvariableid = FileUploadID;
    var approvalMail = MailUploadID;
    var specialcaseMail = SplCaseMail;
    var label1;
    var label2;
    var label3;
    var componentGroupId = $('#bonus').val();
    if (componentGroupId == "48" && CountryId == "17") {
        label1 = "Invoice";
        label2 = "DeclarartionForm";
        label3 = "ApprovalMail";
        $("#aft_uploadocmsplcasemailedit").html('');
    }
    else if (componentGroupId == "22" && CountryId == "7") {
        label1 = "TMApprovalMail";
        label2 = "ApprovalMail";
    }
    else if (componentGroupId == "18" && (CountryId == "14" || CountryId == "15" || CountryId == "16" || CountryId == "17")) {
        label1 = "Invoice Receipt";
    }
    else if ((componentGroupId == "47" || componentGroupId == "48" || componentGroupId == "51") && (CountryId == "14" || CountryId == "15" || CountryId == "16")) {
        label1 = "Invoice";
    }
    else if (componentGroupId == "46" || componentGroupId == "21") {
        label1 = "Attached Mail";
    }
    else if ((componentGroupId == "22" || componentGroupId == "101" || componentGroupId == "39") && (CountryId == "8" || CountryId == "9")) {
        label1 = "Approval Mail";
    }
    else if (CountryId == "7") {
        label1 = "Approval Mail";
    }
    else {
        label1 = "SpecialCaseMail";
        label2 = "DeclarartionForm";
        label3 = "ApprovalMail";
    }
    if (switchvariableid != "") {

        // var val = "<label style='color:Green'>File Uploaded Successfully</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img id=\"splCaseMailUpload\" Style='--x:-2863px;--y:-1019px;width:27px;height:19px;display:none' fileuploadid=\"" + switchvariableid + "\" /></a>";
        var val = "<label>" + label1 + "</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_uploadocmedit").html('');
        $("#aft_uploadocmedit").append(val);
        $("#aft_uploadocmedit").attr("fileuploadid", switchvariableid);
        $("#aft_uploadocmedit").show();
    }
    if (approvalMail != "") {
        // var val = "<label style='color:Green'>File Uploaded Successfully</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img id=\"splCaseMailUpload\" Style='--x:-2863px;--y:-1019px;width:27px;height:19px;display:none' fileuploadid=\"" + switchvariableid + "\" /></a>";
        var val = "<label>" + label2 + "</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + approvalMail + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + approvalMail + "\" /></a>";
        $("#aft_uploadocmapprovaledit").html('');
        $("#aft_uploadocmapprovaledit").append(val);
        $("#aft_uploadocmapprovaledit").attr("fileuploadid", approvalMail);
        $("#aft_uploadocmapprovaledit").show();
    }
    if (specialcaseMail != "") {
        // var val = "<label style='color:Green'>File Uploaded Successfully</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img id=\"splCaseMailUpload\" Style='--x:-2863px;--y:-1019px;width:27px;height:19px;display:none' fileuploadid=\"" + switchvariableid + "\" /></a>";
        var val = "<label>" + label3 + "</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + specialcaseMail + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + specialcaseMail + "\" /></a>";
        $("#aft_uploadocmsplcasemailedit").html('');
        $("#aft_uploadocmsplcasemailedit").append(val);
        $("#aft_uploadocmsplcasemailedit").attr("fileuploadid", specialcaseMail);
        $("#aft_uploadocmsplcasemailedit").show();
    }
    $('.TB_overlayBG').css('display', 'none');
    $('#TB_window').css('display', 'none');
    $('#TB_iframeContent').css('display', 'none');
    succpopup('File uploaded successfully.');
    $(".background_bg").css('display', 'block');
    isAttachFileOpen = 1;
}
$(document).on('aft_uploadocmsplcasemail a', function () {
    //alert('event was fired');
    GetFileFromSession();
    var switchvariableid = SplCaseMail;
    if (switchvariableid != "0") {
        var val = "<label>ApprovalMail:</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_uploadocmsplcasemail").html('');
        $("#aft_uploadocmsplcasemail").append(val);
        $("#aft_uploadocmsplcasemail").attr("fileuploadid", switchvariableid);
        $("#aft_uploadocmsplcasemail").show();
    }
});

$(document).on('aft_uploadocmapproval a', function () {
    //alert('event was fired');
    GetFileFromSession();
    var switchvariableid = MailUploadID;
    if (switchvariableid != "0") {
        var val = "<label>ApprovalMail:</label><a style=\"cursor:pointer\" href='#' fileuploadid=\"" + switchvariableid + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + switchvariableid + "\" /></a>";
        $("#aft_uploadocmapproval").html('');
        $("#aft_uploadocmapproval").append(val);
        $("#aft_uploadocmapproval").attr("fileuploadid", switchvariableid);
        $("#aft_uploadocmapproval").show();
    }
});

$(document).on('click', '#aft_uploadocm a,#aft_uploadocmsplcasemail a,#aft_uploadocmapproval a ,#aft_uploadocmedit a,#aft_uploadocmsplcasemailedit a,#aft_uploadocmapprovaledit a', function () {
    //var fileUploadId = $('#aft_upload').attr('fileuploadid');
    var fileUploadId = $(this).find('splCaseMailUpload').attr('fileuploadid');
    var fileUploadId1 = $(this).attr('fileuploadid');
    if (fileUploadId1 != '') {
        window.location = '../Download.aspx?fileUploadId=' + fileUploadId1;
    }
});
function PopulateOTProject(StartDate) {
    var componentGroupId = $('#bonus').val();
    var datastring = '{"associateId":"' + loginId + '","StartDate":"' + StartDate + '"}';
    var option_html = '';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetAPACProject",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            option_html = '';
            option_html += "<option value='-1'>--Select--</option>";
            if (msg.d.length > 0) {
                $.each(msg.d, function (i, data) {

                    option_html += "<option name='" + data.Name + "'value='" + data.ID + "'>" + data.ID + "</option>";
                });
            }
            if (componentGroupId == 22) {
                if (OTnew == 1) {
                    $('.popup_new #OT_Projectid').html('');
                    $('.popup_new #OT_Projectid').html(option_html);
                }
                else if (OTedit == 1) {
                    $('.popup_edit #OT_Projectid').html('');
                    $('.popup_edit #OT_Projectid').html(option_html);
                }
            }
            else if (componentGroupId == 39 || componentGroupId == 101) {
                if (OCAnew == 1) {
                    $('.popup_new #OCA_ProjectID').html('');
                    $('.popup_new #OCA_ProjectID').html(option_html);
                }
                else if (OCAedit == 1) {
                    $('.popup_edit #OCA_ProjectID').html('');
                    $('.popup_edit #OCA_ProjectID').html(option_html);
                }
            }
            //$('#OT_Projectid').find('option:nth-child(1)').attr('selected', 'selected');
            //$(".popup_edit .inner_cont ul li:nth-child(9) select option:contains(" + type + ")").attr('selected', 'selected');
            //$('.popup_edit .inner_cont #EditAllowanceTypeOT').val(type);

        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}
$(document).on('change', '#OT_Projectid', function () {
    if (OTnew == 1) {
        var name = $('.popup_new #OT_Projectid option:selected').attr("name");
        $('.popup_new #OT_ProjectDesc').text($.trim(name));
        otproject = $('.popup_new #OT_Projectid option:selected').val();
    }
    else if (OTedit == 1) {
        var name = $('.popup_edit #OT_Projectid option:selected').attr("name");
        $('.popup_edit #OT_ProjectDesc').text($.trim(name));
        otproject = $('.popup_edit #OT_Projectid option:selected').val();
    }

});
$(document).on('change', '#OCA_ProjectID', function () {
    if (OCAnew == 1) {
        var name = $('.popup_new #OCA_ProjectID option:selected').attr("name");
        $('.popup_new #OCA_ProjectDesc').text($.trim(name));
        ocaproject = $('.popup_new #OCA_ProjectID option:selected').val();
    }
    else if (OCAedit == 1) {
        var name = $('.popup_edit #OCA_ProjectID option:selected').attr("name");
        $('.popup_edit #OCA_ProjectDesc').text($.trim(name));
        ocaproject = $('.popup_edit #OCA_ProjectID option:selected').val();
    }

});

function EncodeUrlParameters(url) {
    let urlParts = url.split('?');
    if (urlParts.length < 2) {
        return url;
    }
    let baseUrl = urlParts[0];
    let qryString = urlParts[1];
    let qryParms = qryString.split('&');
    let encodeParams = qryParms.map(parm => {
        let [k, v] = parm.split('=');
        let enCodedKey = k;//encodeURIComponent(k);
        let enCodedValue = "";
        if (k == "AssociateId") {
            enCodedValue = v !== undefined ? v : '';
        } else {
            enCodedValue = v !== undefined ? encodeURIComponent(v) : '';
        }

        return enCodedValue ? `${enCodedKey}=${enCodedValue}` : enCodedKey;
    });
    let encUrl = `${baseUrl}?${encodeParams.join('&')}`;
    return encUrl;
}
$(document).on('input', '.things,.thingsedit', function () {
    this.value = this.value.replace(/[^a-zA-Z0-9]/g, '');
});
$(document).on('focus', '.things,.thingsedit', function () {
    $(".thingsmsg").show()
});
$(document).on('blur', '.things,.thingsedit', function () {
    $(".thingsmsg").hide()
});

function LogInfoIntoDB(logText) {
    $.ajax({
        url: '../WebMethods.aspx/LogInfoIntoDB',
        type: 'POST',
        contentType: 'application/json',
        data: JSON.stringify({ LogText: logText }),
        async: false,
        success: function (response) {
        },
        error: function (xhr, status, error) {
            alert('Error: ' + error);
        }
    });
}
