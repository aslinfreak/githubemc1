function succpopupclose_1() {
    $('#form1').removeAttr("disabled");
    $('#form1').css("background-color", "");
    $('#divPopUp2').css('display', 'none');
    $('.popup_msg1').css('display', 'none');
    //$('.background_bg').css('display', 'none');
    //$("#uploadeditbtn").addClass("disablebutton");
    //$("#editbtn_BPS").addClass("disablebutton");
    //$("#editbtn_UBS").addClass("disablebutton");
    //$("#editbtn_CLBPSNsa").addClass("disablebutton");
    //$("#editbtn_trans").addClass("disablebutton");
    if ($('#bonus').val() == 48 && CountryId == 17) {
        $('.background_bg').css('display', 'block');
    }
    else {
        $('.background_bg').css('display', 'none');
    }
    $('.background_bg').css('display', 'block');
}

function getComponentNames() {
    var comp = $("#bonus").val();
    $.ajax({
        type: "GET",
        url: "../WebMethods.aspx/GetComponentGroupNames",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        cache: false,
        async: false,
        success: function (msg) {
            if (msg.d.length > 0) {
                var option_html = '';
                var compDrpdown = '';
                if (CountryId == 8 || CountryId == 9) {
                    compDrpdown = msg.d.sort((a, b) => b.ComponentGroupId - a.ComponentGroupId);;
                }
                else {
                    compDrpdown = msg.d;
                }
                $.each(compDrpdown, function (i, data) {
                    option_html += "<option value='" + data.ComponentGroupId + "'>" + data.ComponentGroupName + "</option>";
                });
                $('#bonus').html(option_html);

                //adding for shift allowance
                $('#bonus').find('option:nth-child(1)').attr('selected', 'selected');
                var compName = $('#bonus').find('option:nth-child(1)').text();
                $("#selectbon").text(compName);

                //IsAssociateServianContino();

                if ($('#bonus').val() == 15 || $('#bonus').val() == 16 || $('#bonus').val() == 41) {
                    $('#deletebtn').hide();
                    $('#SAdeletebtn').show();
                    $('#divprojfilter').show();
                    $('#drpdown_filter').parent().addClass('mleft10');
                    $('#aid').css("width", "120px").removeClass('mleft50').addClass('mleft20');
                    //  getcutoffDate();
                    // populateFilterDropdown();
                    $("#bonus").change();
                }
                else if ($('#bonus').val() == 17) {
                    $('._savelist').hide();
                    $('.btnlist').hide();
                    $('#deletebtn').show();
                    $('#divprojfilter').hide();
                    $('#drpdown_filter').parent().removeClass('mleft10')
                    $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
                    // getcutoffDate();
                    //if (comp == 14 || comp == 13 || comp == 18 || compName == 'Joining Bonus' || comp == 19 || comp == 20) {
                    //  populateFilterDropdown();

                    //}
                    $("#bonus").change();
                }
                else if ($('#bonus').val() == 29 || $('#bonus').val() == 32 || $('#bonus').val() == 33
                    || $('#bonus').val() == 46 || $('#bonus').val() == 49 || $('#bonus').val() == 50
                    || $('#bonus').val() == 34 || $('#bonus').val() == 35 || $('#bonus').val() == 36
                    || $('#bonus').val() == 37 || $('#bonus').val() == 39 || $('#bonus').val() == 40
                    || $('#bonus').val() == 31 || ($('#bonus').val() == 18) && CountryId == 3
                    || $('#bonus').val() == 24 || $('#bonus').val() == 25 || $('#bonus').val() == 42
                    || $('#bonus').val() == 26 || $('#bonus').val() == 27 || $('#bonus').val() == 28
                    || (($('#bonus').val() == 22) && CountryId == 7) || $('#bonus').val() == 21
                    || $('#bonus').val() == 52 || $('#bonus').val() == 59 || $('#bonus').val() == 57
                    || $('#bonus').val() == 85 || $('#bonus').val() == 86 || $('#bonus').val() == 87
                    || $('#bonus').val() == 88 || $('#bonus').val() == 89 || $('#bonus').val() == 76
                    || $('#bonus').val() == 77 || $('#bonus').val() == 78 || $('#bonus').val() == 82
                    || $('#bonus').val() == 91 || $('#bonus').val() == 92 || $('#bonus').val() == 93
                    || $('#bonus').val() == 95 || $('#bonus').val() == 96 || $('#bonus').val() == 97
                    || $('#bonus').val() == 90 || $('#bonus').val() == 58) {

                    $('#deletebtn').show();
                    $('#divprojfilter').hide();
                    $('#drpdown_filter').hide();
                    $('#drpdown_filter').parent().removeClass('mleft10');
                    $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
                    //  getcutoffDate();
                    // populateFilterDropdown();
                    var message = '';
                    if (($('#bonus').val() == 22) && CountryId == 7) {
                        message = "\u2022 Please note overtime allowance can only be raised if comp off is not provided by your BU. If you have not received comp off, please upload approval email from your Talent Manager to claim the overtime allowance.</br>"
                        message += "\u2022 Amount should be claimed separately for each day.</br>";
                        message += "\u2022 Amount cannot be claimed for future dates.</br>";
                        errorpopup_1(message);
                    }
                    if (($('#bonus').val() == 39) && CountryId == 7) {
                        message = "\u2022 Amount should be claimed separately for each day.</br>";
                        message += "\u2022 Amount cannot be claimed for future dates.</br>";
                        errorpopup_1(message);
                    }
                    if (($('#bonus').val() == 28) && CountryId == 7) {
                        message = "Amount cannot be claimed for future months.</br>";
                        errorpopup_1(message);
                    }

                    $("#bonus").change();
                }

                else {
                    $('#deletebtn').show();
                    $('#divprojfilter').hide();
                    $('#drpdown_filter').parent().removeClass('mleft10')
                    $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
                    $('#bid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
                    //  getcutoffDate();
                    //if (comp == 2 || comp == 3 || comp == 18 || compName == 'Joining Bonus' || comp == 19 || comp == 20) {
                    //    //populateFilterDropdown();
                    //}
                    $("#bonus").change();
                }
            }
            $('#progressBackgroundFilter,#processMessage').hide();
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

$(document).on('change', '#bonus', function () {
    OnLoad = 1;
    $("#NoData").remove();
    $('#ddlMonth').html('');
    monthHTML = '';
    monthHTML += '<option value="0">All</option>' + '<option value="1">January</option>' + '<option value="2">February</option>' + '<option value="3">March</option>' + '<option value="4">April</option>' + '<option value="5">May</option>' + '<option value="6">June</option>' + '<option value="7">July</option>' + '<option value="8">August</option>' + '<option value="9">September</option>' + '<option value="10">October</option>' + '<option value="11">November</option>' + '<option value="12">December</option>';
    $('#ddlMonth').html(monthHTML);
    var d = new Date();
    var CurrentMonth = d.getMonth() + 1;
    $('#ddlMonth').find('option:nth-child(' + (CurrentMonth + 1) + ')').attr('selected', 'selected');
    $('#selectMonth').text($('#ddlMonth').find('option:nth-child(' + (CurrentMonth + 1) + ')').text());

    $("#progressBackgroundFilter").show();
    $("#processMessage").show();

    //  $("#idpopup_msg1").css("margin-top", "-350px");
    var comp = $("#bonus").val();
    getcutoffDate();
    //if (comp == 2 || comp == 3 || comp == 15 || comp == 16 || comp == 17 || comp == 18 || comp == 19 || comp == 20 || comp == 21  || comp == 22 || comp == 23 || comp == 24 || comp == 25 || comp == 26 || comp == 27 || comp == 28 || comp == 29 || comp == 30 || comp == 31 || comp == 32 || comp == 33 || comp == 34 || comp == 35 || comp == 36 || comp == 37 || comp == 38 || comp == 39 || comp == 40 || comp == 42) {
    if (comp == 48 && CountryId == 17) {
        populateTransportFilterDropdown();
    }
    else if ((comp == 22 || comp == 39 || comp == 101) && (CountryId == 8 || CountryId == 9)) {
        IsAssociateServianContino();
        populateFilterDropdown();
    }
    else {
        populateFilterDropdown();
        if (comp == 22 && RoleId == 19 && (CountryId == 11 || CountryId == 12 || CountryId == 13 || CountryId == 8 || CountryId == 9)) {
            $('#aid1').hide();
            $('#aid2').hide();
            $('#aid3').hide();
        }

    }
    // }

    var d = new Date();
    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();
    //cut off enddate//
    var cutoffdatesplit = cutoffdate.split('/');
    // Month is zero-indexed so subtract one from the month inside the constructor
    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
    var cutoff_date = date.getTime();

    //cut off start  date //
    var cutoffstartdatesplit = cutoffStartdate.split('/');
    // Month is zero-indexed so subtract one from the month inside the constructor
    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
    var cutoffStart_date = date.getTime();

    var todaysplit = today.split('/');
    // = new Date(c Month is zero-indexed so subtract one from the month inside the constructor
    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
    var today_date = Date1.getTime();

    $('#aid').val('');
    $('#bid').val('');
    if (comp == 2 || comp == 3 || comp == 17 || (comp == 18 && CountryId == 2) || comp == 19 || comp == 20 ||
        comp == 75 || comp == 71 || comp == 72 || comp == 73 || comp == 74 || comp == 94) {

        $("#mailattach").addClass('disabled');
        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#displayrecords").val("5");
        $("#selectRecord").text("5");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        $("#a_otherGeo").hide();
        $('.btnlist').hide();
        if (comp == 3) { var CustomizeJB = '~1~2~3~4~5~'; }
        else if (comp == 2 && (CountryId != 18 && CountryId != 19 && CountryId != 20)) {
            var CustomizeRB = '~1~2~3~4~5~6~7~8~9~10~';
            $("#a_otherGeo").show();
        }
        else if (comp == 17 && CountryId == 2) { var CustomizeSAR = '~1~2~3~4~5~6~'; }
        else if (comp == 18) { var CustomizeSF = '~1~2~3~4~'; }
        else if (comp == 19) { var CustomizeAP = '~1~2~3~4~6~9'; }
        else if (comp == 20) { var CustomizeAD = '~1~2~4~5~6~7~' }
    }
    else if ((comp == 18 && (CountryId == 4)) || comp == 23 || comp == 24 || comp == 29 || comp == 30 || comp == 33 ||
        comp == 46 || comp == 49 || comp == 34 || comp == 35 || comp == 36 || comp == 37 || comp == 38 || comp == 31 ||
        comp == 32 || comp == 28 || comp == 50 || comp == 57 || comp == 85 || comp == 86 || comp == 87 || comp == 88 ||
        comp == 89 || comp == 58) {
        $("#mailattach").addClass('disabled');
        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#drpdown_filter').hide();
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        //getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        $("#a_otherGeo").hide();
        $('.btnlist').hide();

        if (comp == 29) {
            var CustomizeSoB = '~1~5~6~7~';
            //$('#divFAQ').show();
        }
        if (comp == 28 && CountryId == 7) {
            message = "Amount cannot be claimed for future months.</br>";
            errorpopup_1(message);
        }
    }
    else if (comp == 42 || comp == 26 || comp == 27) {

        $('#deletebtn').show();
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        $("#a_otherGeo").hide();
        $('.btnlist').hide();
        $('#mailattach').hide();
        $('#customize').hide();

    }
    else if ((comp == 39 || comp == 22) && CountryId == 3) {

        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#drpdown_filter').hide();
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        //$("#a_otherGeo").show();
        $('.btnlist').hide();

    }
    else if ((comp == 22) && (CountryId == 5 || CountryId == 6 || CountryId == 7 || CountryId == 8 || CountryId == 9 ||
        CountryId == 10 || CountryId == 11 || CountryId == 12 || CountryId == 13)) {

        $("#mailattach").addClass('disabled');
        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#drpdown_filter').hide();
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        //$("#a_otherGeo").show();
        $('.btnlist').hide();
        var CustomizeOT = '~1~2~3~4~5~6~7~9~10';
        if (CountryId == 7) {
            var message = "\u2022 Please note overtime allowance can only be raised if comp off is not provided by your BU. If you have not received comp off, please upload approval email from your Talent Manager to claim the overtime allowance.</br>"
            message += "\u2022 Amount should be claimed separately for each day.</br>";
            message += "\u2022 Amount cannot be claimed for future dates.</br>";
            errorpopup_1(message);
        }
        if (CountryId == 8) {
            var message = "</br>The form is to be filled out by Associates where compensatory time off cannot be taken due to "
            message += "project circumstances or when the same is due for expiry. The overtime hours worked will be cashed out ";
            message += "at the employees normal rate of pay. A business case must be raised to explain why compensatory day off ";
            message += "could not be used. This form of compensation is not to be used to earn extra money by employees.";
            errorpopup(message);
        }
    }
    else if (comp == 21 || ((comp == 39 || comp == 101) && CountryId != 3)) {

        $("#mailattach").addClass('disabled');
        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#drpdown_filter').hide();
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        //getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        //$("#a_otherGeo").show();
        $('.btnlist').hide();

        if (comp == 39 && CountryId == 7) {
            var message = "\u2022 Amount should be claimed separately for each day.</br>";
            message += "\u2022 Amount cannot be claimed for future dates.</br>";
            errorpopup_1(message);
        }
    }
    else if (comp == 15 || comp == 16 || comp == 41) {

        $('#upload').show();
        $("#mailattach").addClass('disabled');
        getProjIDforShiftUser();
        $('#deletebtn').hide();
        $('#divprojfilter').show();
        $('#drpdown_filter').parent().addClass('mleft10');
        $('#proid').css("width", '90px');
        $('#aid').css("width", "120px").removeClass('mleft50').addClass('mleft20');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        if (comp == 15) { var CustomizeSDA = '~1~2~3~4~5~6~9~'; }
        else if (comp == 16) { var CustomizeNSA = '~1~2~3~4~5~8~'; }
    }
    else {

        $('#upload').show();
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $('#bid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $('#deletebtn').hide();
        $('#SAdeletebtn').show();
        $('#divprojfilter').hide();
        $("#ulRecord").css('display', 'none');
        $('.refPage').css('display', 'none');
        $("#a_valid").click();
        $("#a_otherGeo").hide()
    }
});

function populateTransportFilterDropdown() {
    $('#drpdown_filter').html('');
    $('#searchtxt').css('display', 'block');
    $('#filterdrpdwn').css('display', 'none');
    var datastring = '{"componentGroupId":"' + $('#bonus').val() + '"}';
    $.ajax({
        type: "POST",
        url: "../WebMethods.aspx/GetFilterDropdownData",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: datastring,
        async: false,
        cache: false,
        success: function (msg) {
            var option_html = '';
            var txt_html = '';
            var count = 1;
            $.each(msg.d, function (i, data) {
                option_html += "<option value='" + data.CUserDefined1 + "'>" + data.CDescription + "</option>";
                txt_html += "<input type='text'  class='txtbx_med_190 mleft10 search flft' id='bid" + count + "'  name='" + data.CUserDefined1 + "'  placeholder='Search " + data.CDescription + "'  title='Search " + data.CDescription + "'/>"
                //txt_html += "<label for='aid" + count + "'>Search " + data.CDescription + "</label>"
                count++;
            });
            $('#searchtxt').html(txt_html);
            $('input').placeholder({ customClass: 'my-placeholder' });

        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function OnUploadButtonClick() {
    // Bulck Upload
    var componentGroupId = $('#bonus').val();
    var check = this.GetFileUploadCount(componentGroupId);
    if (check) {
        var projectID = '';
        var url = "";

        if (componentGroupId == 15 || componentGroupId == 16 || componentGroupId == 41) {
            projectID = $('#proid').val();
        }
        if (isCutOffDateOver == 0) {
            if (ocm == "0") {
                url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&CountryId=" + CountryId + "&label1=Select File:&roleID=" + RoleId + "&action=1&ocmflag=1&TB_iframe=true&height=220&width=490&modal=true&allowTransparency=true";
            }
            else {
                url = clienturl + "componentGroupId=" + componentGroupId + "&projectID=" + projectID + "&CountryId=" + CountryId + "&label1=Select File:&roleID=" + RoleId + "&action=1&ocmflag=1&TB_iframe=true&height=220&width=490&modal=true&allowTransparency=true";
            }
            url = EncodeUrlParameters(url);
            $("a#clck").attr('href', encodeURI(url)).click();
            $('#TB_title').css('display', 'none');
            $('.TB_overlayBG').css('display', 'block');
            $('#TB_closeAjaxWindow').css('display', 'none');
        }
        else {
            errorpopup("Upload frozen");
        }
    }
}

function opentemplate() {
    var componentGroupId = $('#bonus').val();
    var keycode = '';

    if (componentGroupId == 2) {
        keycode = 'Referral Bonus Template Path SGP';
    }
    else if (componentGroupId == 3 && CountryId != 20) {
        keycode = 'Joining Bonus Template Path SGP';
    }
    else if (componentGroupId == 3 && CountryId == 20) {
        keycode = 'Joining Bonus Template';
    }

    else if (componentGroupId == 15) {
        keycode = 'Sixth Day Allowance Template';
    }

    else if (componentGroupId == 16 && CountryId == 6) {
        keycode = 'Night Shift Allowance Template MYS';
    }
    else if (componentGroupId == 16 && CountryId == 7) {
        keycode = 'Night Shift Allowance Template CHN';
    }
    else if (componentGroupId == 16) {
        keycode = 'Night Shift Allowance Template';
    }

    else if (componentGroupId == 17 && CountryId == 2) {
        keycode = 'Service Apartment Recovery Template';
    }
    else if (componentGroupId == 17 && CountryId == 8) {
        keycode = 'Austraila Service Apartment Recovery Template';
    }
    else if (componentGroupId == 17 && CountryId != 2 && CountryId != 8) {
        keycode = 'APAC Service Apartment Recovery Template';
    }
    else if (componentGroupId == 18 && CountryId == 2) {
        keycode = 'School Fees Template Path';
    }
    else if (componentGroupId == 18 && (CountryId != 2 && CountryId != 14 && CountryId != 15 && CountryId != 16 && CountryId != 17)) {
        keycode = 'APAC School Fees Template Path';
    }
    else if (componentGroupId == 18 && (CountryId == 14 || CountryId == 15 || CountryId == 16)) {
        keycode = 'CE School Fees Template Path';
    }
    else if (componentGroupId == 18 && (CountryId == 17)) {
        keycode = 'France School Fees Template Path';
    }
    else if (componentGroupId == 19 && CountryId == 2) {
        keycode = 'Additional Payout Template';
    }
    else if (componentGroupId == 19 && CountryId == 4) {
        keycode = 'Japan Additional Payout Template';
    }
    else if (componentGroupId == 19 && CountryId == 5) {
        keycode = 'HongKong Additional Payout Template';
    }
    else if (componentGroupId == 19 && CountryId == 6) {
        keycode = 'Malaysia Additional Payout Template';
    }
    else if (componentGroupId == 19 && CountryId == 7) {
        keycode = 'China Additional Payout Template';
    }
    else if (componentGroupId == 19 && CountryId == 8) {
        keycode = 'Austraila Additional Payout Template';
    }
    else if (componentGroupId == 19 && CountryId == 10) {
        keycode = 'Qatar Additional Payout Template';
    }
    else if (componentGroupId == 19 && CountryId == 11) {
        keycode = 'SaudiaArbia Additional Payout Template';
    }
    else if (componentGroupId == 19 && (CountryId == 12 || CountryId == 13)) {
        keycode = 'UAE Additional Payout Template';
    }
    else if (componentGroupId == 20 && CountryId == 2) {
        keycode = 'Additional Deduction Template';
    }
    else if (componentGroupId == 20 && CountryId == 4) {
        keycode = 'Additional Deduction Template-Japan';
    }
    else if (componentGroupId == 20 && CountryId == 5) {
        keycode = 'Additional Deduction Template-HongKong';
    }
    else if (componentGroupId == 20 && CountryId == 6) {
        keycode = 'Additional Deduction Template-Malaysia';
    }
    else if (componentGroupId == 20 && CountryId == 8) {
        keycode = 'Additional Deduction Template-Australia';
    }
    else if (componentGroupId == 20 && CountryId == 9) {
        keycode = 'Additional Deduction Template-NewZealand';
    }
    else if (componentGroupId == 20 && CountryId == 10) {
        keycode = 'Additional Deduction Template-Qatar';
    }
    else if (componentGroupId == 20 && (CountryId == 12 || CountryId == 13)) {
        keycode = 'APAC Additional Deduction Template-UAE';
    }
    else if (componentGroupId == 21 && CountryId == 4) {
        keycode = 'Japan Statutory Payout Template';
    }
    else if (componentGroupId == 21 && CountryId == 7) {
        keycode = 'China Statutory Payout Template';
    }
    else if (componentGroupId == 22 && CountryId == 3) {
        keycode = 'OverTime Allowance Template';
    }
    else if (componentGroupId == 22 && CountryId == 4) {
        keycode = 'Japan OverTime Allowance Template';
    }
    else if (componentGroupId == 22 && (CountryId == 7 || CountryId == 10)) {
        keycode = 'APAC OverTime Allowance Template';
    }
    else if (componentGroupId == 22 && (CountryId != 7 || CountryId != 10 || CountryId != 4 || CountryId != 3)) {
        keycode = 'APAC_OverTime Allowance Template';
    }
    else if (componentGroupId == 23) {
        keycode = 'BroadBand Allowance Template';
    }
    else if (componentGroupId == 24) {
        keycode = 'Parking Allowance Template';
    }
    else if (componentGroupId == 25 && CountryId == 7) {
        keycode = 'China Maternity Allowance Template';
    }
    else if (componentGroupId == 25 && CountryId != 7) {
        keycode = 'Maternity Allowance Template';
    }
    else if (componentGroupId == 26) {
        keycode = 'WarmFee Allowance Template(Dalain)';
    }
    else if (componentGroupId == 27) {
        keycode = 'WarmFee Allowance Template(Tianjin)';
    }
    else if (componentGroupId == 28) {
        keycode = 'InCityOnsite Allowance Template';
    }
    else if (componentGroupId == 29) {
        keycode = 'Sign On Bonus Template';
    }
    else if (componentGroupId == 30) {
        keycode = 'Relocation Template';
    }
    else if (componentGroupId == 31) {
        keycode = 'Net Travel Template';
    }
    else if (componentGroupId == 32) {
        keycode = 'Commuting Allowance Template';
    }
    else if (componentGroupId == 33) {
        keycode = 'Rewards And Regonition Template';
    }
    else if (componentGroupId == 34) {
        keycode = 'Transition Template';
    }
    else if (componentGroupId == 35) {
        keycode = 'Honorarium Template';
    }
    else if (componentGroupId == 36) {
        keycode = 'Insurance Premium Taxation Template';
    }
    else if (componentGroupId == 37) {
        keycode = 'Insurance Premium Compensation Template';
    }
    else if (componentGroupId == 38) {
        keycode = 'Car Damage & Traffic Fine Allowance Template';
    }
    else if (componentGroupId == 39 && CountryId == 3) {
        keycode = 'OnCall Allowance Template';
    }
    else if (componentGroupId == 39 && CountryId == 7) {
        keycode = 'China OnCall Allowance Template';
    }
    else if (componentGroupId == 101 && CountryId == 8) {
        keycode = 'StandBy and OnCall Allowance Template';
    }
    else if (componentGroupId == 39 && (CountryId != 7 && CountryId != 3)) {
        keycode = 'APAC OnCall Allowance Template';
    }
    else if (componentGroupId == 41) {
        keycode = 'Malaysia Shift Allowance Template';
    }
    else if (componentGroupId == 42) {
        keycode = 'High Temperature Allowance Template';
    }
    else if (componentGroupId == 46) {
        keycode = 'Benefits Template';
    }
    else if (componentGroupId == 49) {
        keycode = 'Retention Bonus Template';
    }
    else if (componentGroupId == 57) {
        keycode = 'Recognition Bonus Template';
    }
    else if (componentGroupId == 51 && CountryId == 15) {
        keycode = 'CE Wellness Benefit Template';
    }
    else if (componentGroupId == 45 && CountryId == 15) {
        keycode = 'Car Parking Benefit Template';
    }
    else if (componentGroupId == 47) {
        keycode = 'CE Mobile Taxation Template';
    }
    else if (componentGroupId == 48 && CountryId != 17) {
        keycode = 'CE Transportation Reimbursement Template';
    }
    else if (componentGroupId == 48 && CountryId == 17) {
        keycode = 'France Transportation Reimbursement Template';
    }
    else if (componentGroupId == 50 && (CountryId != 18 && CountryId != 19)) {
        keycode = 'CE Miscellaneous Inputs Template';
    }
    else if (componentGroupId == 50 && (CountryId == 18 || CountryId == 19)) {
        keycode = 'Miscellaneous Inputs Template';
    }
    else if (componentGroupId == 52) {
        keycode = 'Lunch Voucher Template';
    }
    else if (componentGroupId == 53 && (CountryId == 18 || CountryId == 19)) {
        keycode = 'Kit Allowance Template';
    }
    else if (componentGroupId == 82) {
        keycode = 'Cash Advance Template';
    }
    else if (componentGroupId == 91) {
        keycode = 'Cognizant Cheer Deduction Template';
    }
    else if (componentGroupId == 92) {
        keycode = 'Net Pay With Held Template';
    }
    else if (componentGroupId == 93) {
        keycode = 'HMO under deduction Template';
    }
    else if (componentGroupId == 95) {
        keycode = 'India Negative Salary Template';
    }
    else if (componentGroupId == 96) {
        keycode = 'Tuition Fee Template';
    }
    else if (componentGroupId == 97) {
        keycode = 'HMU FeeTemplate';
    }
    else if (componentGroupId == 66 && (CountryId == 18 || CountryId == 19)) {
        keycode = 'Salary Advance Template';
    }
    else if (componentGroupId == 67 && (CountryId == 18 || CountryId == 19)) {
        keycode = 'Non India Travel Allowance Template';
    }
    else if (componentGroupId == 59) {
        keycode = 'Year End Bonus Template';
    }
    else if (componentGroupId == 54) {
        keycode = 'UK Allowance Template';
    }
    else if (componentGroupId == 55) {
        keycode = 'Onetime Subsistence Allowance Template';
    }
    else if (componentGroupId == 56) {
        keycode = 'Travel Allowance Template';
    }
    else if (componentGroupId == 62) {
        keycode = 'Sales commission Template';
    }
    else if (componentGroupId == 64) {
        keycode = 'Special pay Template';
    }
    else if (componentGroupId == 69) {
        keycode = 'Shadow payroll Template';
    }
    else if (componentGroupId == 60) {
        keycode = 'One Off Bonus Template';
    }
    else if (componentGroupId == 61) {
        keycode = 'PSU Cash Bridge Template';
    }
    else if (componentGroupId == 63) {
        keycode = 'Singapore Deduction Template';
    }
    else if (componentGroupId == 65) {
        keycode = 'India Travel advance Template';
    }
    else if (componentGroupId == 68) {
        keycode = 'Miscellaneous deductions Template';
    }
    else if (componentGroupId == 70) {
        keycode = 'India Net deduction Template';
    }
    else if (componentGroupId == 60) {
        keycode = 'One Off Bonus Template';
    }
    else if (componentGroupId == 71) {
        keycode = 'Business incentive Template';
    }
    else if (componentGroupId == 72) {
        keycode = 'WFH Allowance Template';
    }
    else if (componentGroupId == 73) {
        keycode = 'Financial Assistance Template';
    }
    else if (componentGroupId == 74) {
        keycode = 'WFH Allowance Adjustment Template';
    }
    else if (componentGroupId == 75) {
        keycode = 'FINRA Bonus Template';
    }
    else if (componentGroupId == 94) {
        keycode = 'Loan Stoppage Template';
    }
    else if (componentGroupId == 79) {
        keycode = 'Sick Leave Conversion Template';
    }
    else if (componentGroupId == 80) {
        keycode = 'One Time Payment Template';
    }
    else if (componentGroupId == 81) {
        keycode = 'Cognizant Cheer Earning Template';
    }
    else if (componentGroupId == 83) {
        keycode = 'Lost Badge-ID-Yubikey-Landyard Template';
    }
    else if (componentGroupId == 84) {
        keycode = 'HDMF Contribution Template';
    }

    else if (componentGroupId == 76) {
        keycode = 'YearEndIcentiveTemplate';
    }
    else if (componentGroupId == 77) {
        keycode = 'MidYearTemplate';
    }
    else if (componentGroupId == 78) {
        keycode = '13thMonthPayTemplate';
    }
    else if (componentGroupId == 85) {
        keycode = 'HDMF Multipurpose Loan Template';
    }
    else if (componentGroupId == 86) {
        keycode = 'HDMF Calamity Loan Template';
    }
    else if (componentGroupId == 87) {
        keycode = 'SSS Salary Loan Template';
    }
    else if (componentGroupId == 88) {
        keycode = 'SSS Calamity Loan Template';
    }
    else if (componentGroupId == 89) {
        keycode = 'SSS SLERP Loan Template';
    }
    else if (componentGroupId == 90) {
        keycode = 'Travel Advance Template';
    }
    var datastring = '{"keycode":"' + keycode + '","componentGroupID":"' + componentGroupId + '","criteriaType":"0"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetEmptyTemplateURL",
        contentType: "application/json; charset=utf-8",
        data: datastring,
        dataType: "json",
        cache: false,
        success: function (msg) {
            if (msg.d != '') {
                const url = msg.d;
                $("#progressBackgroundFilter, #processMessage").show();
                const checkInterval = setTimeout(() => {
                    $("#progressBackgroundFilter, #processMessage").hide();
                }, 5000);
                window.location.href = url;
            }
            else {
                errorpopup('No Template to download');
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

function getFAQ() {
    var componentGroupId = $('#bonus').val();
    $('#divApprovalmsg1').css('color', 'red');
    $('#divApprovalmsg1').animate({ 'color': 'blue' }, StartApprovalmsgAnimate);

    var keycode = '';
    keycode = 'FAQ';


    var datastring = '{"keycode":"' + keycode + '","componentGroupID":"' + componentGroupId + '"}';
    $.ajax({
        type: "POST",
        url: "../APAC_WebMethods.aspx/GetFAQDocument",
        contentType: "application/json; charset=utf-8",
        data: datastring,
        dataType: "json",
        cache: false,
        success: function (msg) {
            if (msg.d != '') {
                var url = msg.d;
                //window.open(url);
                window.location.href = url;
            }
            else {
                errorpopup('No Template to download');
            }
        },
        error: function (xhr) {
            errorpopup(parent.document.getElementById("hdnSession").value);
        }
    });
}

$(document).on('change', '#bonus', function () {
    OnLoad = 1;
    $("#NoData").remove();
    $('#ddlMonth').html('');
    monthHTML = '';
    monthHTML += '<option value="0">All</option>' + '<option value="1">January</option>' + '<option value="2">February</option>' + '<option value="3">March</option>' + '<option value="4">April</option>' + '<option value="5">May</option>' + '<option value="6">June</option>' + '<option value="7">July</option>' + '<option value="8">August</option>' + '<option value="9">September</option>' + '<option value="10">October</option>' + '<option value="11">November</option>' + '<option value="12">December</option>';
    $('#ddlMonth').html(monthHTML);
    var d = new Date();
    var CurrentMonth = d.getMonth() + 1;
    $('#ddlMonth').find('option:nth-child(' + (CurrentMonth + 1) + ')').attr('selected', 'selected');
    $('#selectMonth').text($('#ddlMonth').find('option:nth-child(' + (CurrentMonth + 1) + ')').text());

    $("#progressBackgroundFilter").show();
    $("#processMessage").show();

    //  $("#idpopup_msg1").css("margin-top", "-350px");
    var comp = $("#bonus").val();
    getcutoffDate();
    //if (comp == 2 || comp == 3 || comp == 15 || comp == 16 || comp == 17 || comp == 18 || comp == 19 || comp == 20 || comp == 21  || comp == 22 || comp == 23 || comp == 24 || comp == 25 || comp == 26 || comp == 27 || comp == 28 || comp == 29 || comp == 30 || comp == 31 || comp == 32 || comp == 33 || comp == 34 || comp == 35 || comp == 36 || comp == 37 || comp == 38 || comp == 39 || comp == 40 || comp == 42) {
    if (comp == 48 && CountryId == 17) {
        populateTransportFilterDropdown();
    }
    else if ((comp == 22 || comp == 39 || comp == 101) && (CountryId == 8 || CountryId == 9)) {
        IsAssociateServianContino();
        populateFilterDropdown();
    }
    else {
        populateFilterDropdown();
        if (comp == 22 && RoleId == 19 && (CountryId == 11 || CountryId == 12 || CountryId == 13 || CountryId == 8 || CountryId == 9)) {
            $('#aid1').hide();
            $('#aid2').hide();
            $('#aid3').hide();
        }

    }
    // }

    var d = new Date();
    var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();
    //cut off enddate//
    var cutoffdatesplit = cutoffdate.split('/');
    // Month is zero-indexed so subtract one from the month inside the constructor
    var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
    var cutoff_date = date.getTime();

    //cut off start  date //
    var cutoffstartdatesplit = cutoffStartdate.split('/');
    // Month is zero-indexed so subtract one from the month inside the constructor
    var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
    var cutoffStart_date = date.getTime();

    var todaysplit = today.split('/');
    // = new Date(c Month is zero-indexed so subtract one from the month inside the constructor
    var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
    var today_date = Date1.getTime();

    $('#aid').val('');
    $('#bid').val('');
    if (comp == 2 || comp == 3 || comp == 17 || (comp == 18 && CountryId == 2) || comp == 19 || comp == 20 ||
        comp == 75 || comp == 71 || comp == 72 || comp == 73 || comp == 74 || comp == 94) {

        $("#mailattach").addClass('disabled');
        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#displayrecords").val("5");
        $("#selectRecord").text("5");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        $("#a_otherGeo").hide();
        $('.btnlist').hide();
        if (comp == 3) { var CustomizeJB = '~1~2~3~4~5~'; }
        else if (comp == 2 && (CountryId != 18 && CountryId != 19 && CountryId != 20)) {
            var CustomizeRB = '~1~2~3~4~5~6~7~8~9~10~';
            $("#a_otherGeo").show();
        }
        else if (comp == 17 && CountryId == 2) { var CustomizeSAR = '~1~2~3~4~5~6~'; }
        else if (comp == 18) { var CustomizeSF = '~1~2~3~4~'; }
        else if (comp == 19) { var CustomizeAP = '~1~2~3~4~6~9'; }
        else if (comp == 20) { var CustomizeAD = '~1~2~4~5~6~7~' }
    }
    else if ((comp == 18 && (CountryId == 4)) || comp == 23 || comp == 24 || comp == 29 || comp == 30 || comp == 33 ||
        comp == 46 || comp == 49 || comp == 34 || comp == 35 || comp == 36 || comp == 37 || comp == 38 || comp == 31 ||
        comp == 32 || comp == 28 || comp == 50 || comp == 57 || comp == 85 || comp == 86 || comp == 87 || comp == 88 ||
        comp == 89 || comp == 58) {
        $("#mailattach").addClass('disabled');
        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#drpdown_filter').hide();
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        //getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        $("#a_otherGeo").hide();
        $('.btnlist').hide();

        if (comp == 29) {
            var CustomizeSoB = '~1~5~6~7~';
            //$('#divFAQ').show();
        }
        if (comp == 28 && CountryId == 7) {
            message = "Amount cannot be claimed for future months.</br>";
            errorpopup_1(message);
        }
    }
    else if (comp == 42 || comp == 26 || comp == 27) {

        $('#deletebtn').show();
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        $("#a_otherGeo").hide();
        $('.btnlist').hide();
        $('#mailattach').hide();
        $('#customize').hide();

    }
    else if ((comp == 39 || comp == 22) && CountryId == 3) {

        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#drpdown_filter').hide();
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        //$("#a_otherGeo").show();
        $('.btnlist').hide();

    }
    else if ((comp == 22) && (CountryId == 5 || CountryId == 6 || CountryId == 7 || CountryId == 8 || CountryId == 9 ||
        CountryId == 10 || CountryId == 11 || CountryId == 12 || CountryId == 13)) {

        $("#mailattach").addClass('disabled');
        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#drpdown_filter').hide();
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        //$("#a_otherGeo").show();
        $('.btnlist').hide();
        var CustomizeOT = '~1~2~3~4~5~6~7~9~10';
        if (CountryId == 7) {
            var message = "\u2022 Please note overtime allowance can only be raised if comp off is not provided by your BU. If you have not received comp off, please upload approval email from your Talent Manager to claim the overtime allowance.</br>"
            message += "\u2022 Amount should be claimed separately for each day.</br>";
            message += "\u2022 Amount cannot be claimed for future dates.</br>";
            errorpopup_1(message);
        }
        if (CountryId == 8) {
            var message = "</br>The form is to be filled out by Associates where compensatory time off cannot be taken due to "
            message += "project circumstances or when the same is due for expiry. The overtime hours worked will be cashed out ";
            message += "at the employees normal rate of pay. A business case must be raised to explain why compensatory day off ";
            message += "could not be used. This form of compensation is not to be used to earn extra money by employees.";
            errorpopup(message);
        }
    }
    else if (comp == 21 || ((comp == 39 || comp == 101) && CountryId != 3)) {

        $("#mailattach").addClass('disabled');
        $('#upload').show();
        $('#upload_cba').hide();
        $('#deletebtn').show();
        $('#divprojfilter').hide();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#drpdown_filter').hide();
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        //getTotalPages();
        $("#displayrecords").val("10");
        $("#selectRecord").text("10");
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        //$("#a_otherGeo").show();
        $('.btnlist').hide();

        if (comp == 39 && CountryId == 7) {
            var message = "\u2022 Amount should be claimed separately for each day.</br>";
            message += "\u2022 Amount cannot be claimed for future dates.</br>";
            errorpopup_1(message);
        }
    }
    else if (comp == 15 || comp == 16 || comp == 41) {

        $('#upload').show();
        $("#mailattach").addClass('disabled');
        getProjIDforShiftUser();
        $('#deletebtn').hide();
        $('#divprojfilter').show();
        $('#drpdown_filter').parent().addClass('mleft10');
        $('#proid').css("width", '90px');
        $('#aid').css("width", "120px").removeClass('mleft50').addClass('mleft20');
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        // getTotalPages();
        $("#ulRecord").css('display', 'block');
        $("#displayrecords").data("prev", $("#displayrecords").val());
        $("#a_valid").click();
        if (comp == 15) { var CustomizeSDA = '~1~2~3~4~5~6~9~'; }
        else if (comp == 16) { var CustomizeNSA = '~1~2~3~4~5~8~'; }
    }
    else {

        $('#upload').show();
        $("#a_exceptions").removeClass("selected");
        $("#a_valid").addClass("selected");
        $('.new_btn').show();
        $('#drpdown_filter').parent().removeClass('mleft10');
        $('#aid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $('#bid').css("width", "180px").removeClass('mleft20').addClass('mleft50');
        $('#deletebtn').hide();
        $('#SAdeletebtn').show();
        $('#divprojfilter').hide();
        $("#ulRecord").css('display', 'none');
        $('.refPage').css('display', 'none');
        $("#a_valid").click();
        $("#a_otherGeo").hide()
    }
});

$(document).on('change', '#drpdown_filter', function () {
    $("#aid").val("");
    $("#bid").val("");
    var compgrp = $("#bonus").val();
    var type = '';
    if ($('#a_valid').hasClass('selected')) {
        type = 1;
    }
    else if ($('#a_duplicates').hasClass('selected')) {
        type = 2;
    }


});

                    else if (componentGroupId == 47 || (componentGroupId == 48 && CountryId != 17)) {//mobile/Transport
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("height", '195px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '660px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;

                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Assignment Start Date</label><span id="SB_Year" class="M_20">' + editdata.AssignmentStartDate + '</span></li>';
                                if (componentGroupId == 48) {//transportation reimbursement 
                                    list += ' <li><label>StartDate</label><span id="asso_name" class="M_20">' + editdata.StartDate + '</span></li>';
                                    list += '<li><label>EndDate</label><span id="asso_name" class="M_20">' + editdata.EndDate + '</span></li>';
                                }
                                else if (componentGroupId == 47) {// mobile taxation

                                    list += ' <li><label>StartDate<span class="red">*</span></label><input type="text" class="popup_date" id="MB_editstartdate" value="' + editdata.StartDate + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                    list += '<li><label>EndDate</label><input type="text" class="popup_date" id="MB_editenddate" value="' + editdata.EndDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                }
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                list += '<li><label>PayoutType</label><span class="M_20"><select name="editMTpayoutType" id="editMTpayoutType" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li></ul>';
                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Invoice</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';

                                    }

                                }
                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Invoice</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';

                                    }
                                }

                                list += '</ul>';

                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditMobileComponentDetails(editdata.PayoutType);
                                if (componentGroupId == 47) {
                                    $("#MB_editstartdate").datepicker("destroy");
                                    $("#MB_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                    $("#MB_editenddate").datepicker("destroy");
                                    $("#MB_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                }
                            }

                            GetSessionTimeoutEdit();

                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;

                                var mailattachments = editdata.ApprovalMail;
                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Assignment Start Date</label><span id="SB_Year" class="M_20">' + editdata.AssignmentStartDate + '</span></li>';

                                list += ' <li><label >StartDate <span class="red">*</span></label><input type="text" class="popup_date" id="MB_editstartdate" value="' + editdata.StartDate + '" style="margin-left:-25px;width:137px;height:20px;" /></li>';
                                if (componentGroupId == 47) {//mobile
                                    list += '<li><label>EndDate</label><input type="text" class="popup_date" id="MB_editenddate" value="' + editdata.EndDate + '" style="margin-left:-21px;width:137px;height:20px;" /></li>';
                                }
                                else if (componentGroupId == 48) {
                                    list += '<li><label>EndDate</label><label style="margin-left:-23px;"><span id="MB_editenddate">' + editdata.EndDate + '</span></label></li>';
                                }
                                list += '<li><label>Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                list += '<li><label>PayoutType</label><span class="M_20"><select name="editMTpayoutType" id="editMTpayoutType" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li>';
                                list += '</ul>';
                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Invoice</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                    }

                                }
                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                    }
                                    else {
                                        var val = "<label>Invoice</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';

                                    }
                                }
                                list += '</ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                PopulateEditMobileComponentDetails(editdata.PayoutType);

                                $("#MB_editstartdate").datepicker("destroy");
                                $("#MB_editstartdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                if (componentGroupId == 47) {
                                    $("#MB_editenddate").datepicker("destroy");
                                    $("#MB_editenddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
                                }
                            }

                            GetSessionTimeoutEdit();
                        }
                    }

                    else if ((componentGroupId == 48 && CountryId == 17)) {//Transport
                        $('.inner_cont').css("height", '');
                        var componentGroupId = $("#bonus").val();
                        $('.inner_cont').css("height", '390px');
                        $('.inner_cont').css("margin-left", '25px');
                        $('.inner_cont').css("width", '650px');

                        var type = '';
                        if ($('#a_valid').hasClass('selected')) {
                            type = 1;
                        }
                        else if ($('#a_exceptions').hasClass('selected')) {
                            type = 2;
                        }

                        var list = '';
                        if (type == 1) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var mailattachments = editdata.ApprovalMail;
                                var invoiceattachments = editdata.InVoice;
                                var decl = editdata.DeclarationForm;
                                frequenyvalue = editdata.FrequencyType;
                                trans_monthlyamount = editdata.Amount;
                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20" id="TR_assoid">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Assignment Start Date</label><span id="ass_SD_transport" class="M_20">' + editdata.AssignmentStartDate + '</span></li>';
                                if (editdata.status == 12) {
                                    list += '<li><label>Transportation Type<span class="red">*</span></label><span class="M_20"><select name="editTransportationType" id="editTransportationType"  style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                    list += '<li><label>Frequency Type</label><span class="M_20">' + editdata.FrequencyType + '</span></li>';
                                    if (editdata.FrequencyType == 'Yearly') {
                                        list += '<li><label style="width: 220px;" id="amountLabeledit">Amount Paid(Annual amount)<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" style="width:85px;margin-left: -25px;"/></li>';
                                    }
                                    else {
                                        list += '<li><label style="width: 220px;" id="amountLabeledit">Amount Paid(Monthly amount)<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" style="width:85px;margin-left: -25px;"/></li>';
                                        //list += '<li><label>Monthly Amount</label><span class="M_20">' + editdata.Amount + '</span></li>';
                                    }
                                    list += '<li><label>Month of Declaration</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                    list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.PayrollYear + '</span></li>';
                                    // list += '<li><label>Frequency Type</label><span class="M_20">' + editdata.FrequencyType + '</span></li>';
                                    list += '<li><label style="width: 195px;">Declaring Multiple Allowance</label><span class="M_20"><select name="editspecialCaseReason" id="editspecialCaseReason" style="width: 100px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                    //list += '<li><label style="width:212px;">1st time of purchase of navigo pass</label><span class="M_20" style="margin-left: 4px;">' + editdata.BuscardAvailed + '</span></li>';
                                    //list += '<li><label>Pass Amount</label><span class="M_20">' + editdata.BuscardAmount + '</span></li>';
                                    list += '<li><label>Invoice Number<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.PassNumber + '" class="M_40 new_upload" id="TR_PassNumber" /></li>';
                                    // list += '<li style="margin-left:1px;"><label>Approval Mail:<span class="red">*</span></label></li></ul>';
                                }
                                else {
                                    list += '<li><label>Transportation Type<span class="red">*</span></label><span class="M_20"><select name="editTransportationType" id="editTransportationType" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                    list += '<li><label>Frequency Type</label><span class="M_20" ><select name="editFrequencyType" id="editFrequencyType" style="height:22px;text-indent:6px;width: 78px;"><option>--select--</option></select></span></li>';
                                    if (editdata.FrequencyType == 'Yearly') {
                                        list += '<li><label style="width: 220px;" id="amountLabeledit">Amount Paid(Annual amount)<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" style="width:85px;margin-left: -25px;"/></li>';
                                    }
                                    else {
                                        list += '<li><label style="width: 220px;" id="amountLabeledit">Amount Paid(Monthly amount)<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.Amount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" style="width:85px;margin-left: -25px;"/></li>';
                                        //list += '<li><label>Monthly Amount</label><span class="M_20">' + editdata.Amount + '</span></li>';
                                    }
                                    //list += '<li><label>Month of Declaration</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                    list += '<li><label>Month of Declaration</label><span id="SB_AdvisedMonth" class="M_20"><select name="edit_PayrollMonth" id="edit_PayrollMonth" style="height:22px;text-indent:6px;width: 78px;"><option>--select--</option></select></span></li>';
                                    list += '<li><label>Year</label><span id="SB_Year" class="M_20"><select name="edit_PayrollYear" id="edit_PayrollYear" style="height:22px;text-indent:6px;width: 78px;"><option>--select--</option></select></span></li>';
                                    // list += '<li><label>Frequency Type</label><span class="M_20" ><select name="editFrequencyType" id="editFrequencyType" style="height:22px;text-indent:6px;width: 78px;"><option>--select--</option></select></span></li>';
                                    list += '<li><label style="width: 195px;">Declaring Multiple Allowance</label><span class="M_20"><select name="editspecialCaseReason" id="editspecialCaseReason" style="width: 100px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                    //list += '<li><label  style="width:212px;">1st time of purchase of navigo pass</label><span class="M_20"><select name="editBuscardAvailed" id="editBuscardAvailed" style="height:22px;text-indent:6px;margin-left:30px;width: 48px;"><option>--select--</option></select></span></li>';
                                    //list += '<li><label>Pass Amount<span class="red" id="busamountedithide">*</span></label><input class="M_20" type="text" value="' + editdata.BuscardAmount + '" class="M_40 new_upload" id="busamountedithide" style ="width: 110px;" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                    list += '<li><label>Invoice Number<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.PassNumber + '" class="M_40 new_upload" id="TR_PassNumber" /></li>';
                                    //list += '<li style="margin-left:1px;"><label>Approval Mail:<span class="red">*</span></label></li></ul>';
                                }
                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0 && invoiceattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        list += '<li style="padding-top:5px;margin-left:325px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        list += '<li style="padding-top:15px;margin-left:325px"><div id="aft_uploadocmsplcasemailedit"></div></li></ul>';
                                    }
                                    else {
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail/Attestation</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                        var val1 = "";
                                        if (decl) {
                                            val1 = "<label>Declaration</label><a href='#' fileuploadid=\"" + decl + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + decl + "\" /></a>";
                                        }
                                        list += '<li style="padding-top:5px;margin-left:325px;"><div id="aft_uploadocmapprovaledit">' + val1 + '</div></li>';
                                        var val2 = "<label>Invoice</label><a href='#' fileuploadid=\"" + invoiceattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + invoiceattachments + "\" /></a>";
                                        list += '<li style="padding-top:15px;margin-left:325px;"><div id="aft_uploadocmsplcasemailedit">' + val2 + '</div></li>';
                                    }
                                }

                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label>Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0 && invoiceattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        list += '<li style="padding-top:5px;margin-left:325px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        list += '<li style="padding-top:15px;margin-left:325px"><div id="aft_uploadocmsplcasemailedit"></div></li></ul>';
                                    }
                                    else {
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Approval Mail/Attestation</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                        var val1 = "";
                                        if (decl) {
                                            val1 = "<label>Declaration</label><a href='#' fileuploadid=\"" + decl + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + decl + "\" /></a>";
                                        }
                                        list += '<li style="padding-top:5px;margin-left:325px;"><div id="aft_uploadocmapprovaledit">' + val1 + '</div></li>';
                                        var val2 = "<label>Invoice</label><a href='#' fileuploadid=\"" + invoiceattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + invoiceattachments + "\" /></a>";
                                        list += '<li style="padding-top:15px;margin-left:325px;"><div id="aft_uploadocmsplcasemailedit">' + val2 + '</div></li>';
                                    }
                                }

                                list += ' </ul>';

                                $('.popup_edit .inner_cont').html('').html(list);

                                if (editdata.BuscardAvailed == 'Yes') {
                                    $('#busamountedithide').show();
                                }
                                else {
                                    $('#busamountedithide').hide();
                                }
                                ReplaceAmount(editdata.TransportationType, editdata.Amount, editdata.AssociateID, editdata.FrequencyType);
                                //PopulateEditMobileComponentDetails(editdata.PayoutType);
                                PopulateEditTransportComponentDetails(editdata.FrequencyType, editdata.BuscardAvailed, editdata.SpecialCaseReason, editdata.TransportationType, editdata.PayrollMonth, editdata.PayrollYear);
                                disableFreqtype();
                            }
                            var monthId = editdata.MonthID;
                            var payrollYear = editdata.PayrollYear;
                            var transportationType = editdata.TransportationType;
                            var PK_Id = editdata.PK_MaternityAllowanceID;
                            var associateId = editdata.AssociateID;
                            var frequencyType = editdata.FrequencyType === "Weekly" ? 1 : editdata.FrequencyType === "Monthly" ? 2 : editdata.FrequencyType === "Yearly" ? 3 : null;
                            IsAssociateExist(transportationType, monthId, payrollYear, frequencyType, PK_Id, 0);
                            GetSessionTimeoutEdit();

                        }
                        else if (type == 2) {
                            if (msg.d.length > 0) {
                                var editdata = msg.d[0][0];
                                var expremarks = (msg.d[0][0].ExceptionReason.length > 20) ? msg.d[0][0].ExceptionReason.substring(0, 20) + '...' : msg.d[0][0].ExceptionReason;
                                frequenyvalue = editdata.FrequencyType;
                                var mailattachments = editdata.ApprovalMail;
                                var invoiceattachments = editdata.InVoice;
                                var decl = editdata.DeclarationForm;
                                $('#editval').attr("pkey", pkey);
                                list += '<ul  pkey=' + pkey + '><li><label>Associate ID</label><span class="M_20" id="TR_assoid">' + editdata.AssociateID + '</span></li>';
                                list += '<li><label>Associate Name</label><span id="asso_name" class="M_20">' + editdata.Name + '</span></li>';
                                list += '<li><label>Assignment Start Date</label><span id="ass_SD_transport" class="M_20">' + editdata.AssignmentStartDate + '</span></li>';

                                //if (editdata.FrequencyType == 'Yearly') {
                                //    list += '<li><label>Transportation Type</label><span class="M_20"><select name="editTransportationType" id="editTransportationType" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                //    list += '<li><label>Monthly Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.MonthlyAmount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                //    //list += '<li><label>Monthly Amount</label><span class="M_20">' + editdata.MonthlyAmount + '</span></li>';

                                //    list += '<li><label>PayrollMonth</label><span id="SB_AdvisedMonth" class="M_20" monthid=' + editdata.MonthID + '>' + editdata.PayrollMonth + '</span></li>';
                                //    list += '<li><label>Year</label><span id="SB_Year" class="M_20">' + editdata.PayrollYear + '</span></li>';
                                //    list += '<li><label>Frequency Type</label><span class="M_20">' + editdata.FrequencyType + '</span></li>';
                                //    list += '<li><label>SpecialCaseReason </label><span class="M_20"><select name="editspecialCaseReason" id="editspecialCaseReason" style="width: 160px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                //    list += '<li><label>Bus Card Availed</label><span class="M_20">' + editdata.BusCardAvailed + '</span></li>';
                                //    list += '<li><label>Bus Card Amount</label><span class="M_20">' + editdata.BusCardAmount + '</span></li>';
                                //    list += '<li><label>Navigo Pass Number<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.PassNumber + '" class="M_40 new_upload" id="TR_PassNumber" /></li>';
                                //    //list += '<li><label>Approval Mail:</label></li></ul>';
                                //}
                                //else {
                                list += '<li><label>Transportation Type<span class="red">*</span></label><span class="M_20"><select name="editTransportationType" id="editTransportationType" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Frequency Type</label><span class="M_20"><select name="editFrequencyType" id="editFrequencyType" style="height:22px;text-indent:6px;width: 78px;"><option>--select--</option></select></span></li>';
                                if (frequenyvalue == 'Yearly') {
                                    list += '<li><label>Amount Paid(Annual amount)<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.MonthlyAmount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                }
                                else {
                                    list += '<li><label>Amount Paid(Monthly amount)<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.MonthlyAmount + '" class="M_40 new_upload" id="WBamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                }
                                list += '<li><label>Month of Declaration</label><span class="M_20"><select name="edit_PayrollMonth" id="edit_PayrollMonth" style="height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                list += '<li style="margin-top: 20px;"><label>Year</label><span class="M_20"><select name="edit_PayrollYear" id="edit_PayrollYear" style="height:22px;text-indent:6px;width: 70px;"><option>--select--</option></select></span></li>';
                                //list += '<li><label>Frequency Type</label><span class="M_20"><select name="editFrequencyType" id="editFrequencyType" style="height:22px;text-indent:6px;width: 78px;"><option>--select--</option></select></span></li>';
                                list += '<li><label>Declaring Multiple Allowance </label><span class="M_20"><select name="editspecialCaseReason" id="editspecialCaseReason" style="width: 150px; height:22px;text-indent:6px;"><option>--select--</option></select></span></li>';
                                //list += '<li><label  style="width:232px;">1st time of purchase of navigo pass</label><span class="M_20" style="margin - left: 3px;"><select name="editBuscardAvailed" id="editBuscardAvailed" style="height:22px;text-indent:6px;width: 48px;"><option>--select--</option></select></span></li>';
                                //list += '<li><label>Pass Amount<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.BusCardAmount + '" class="M_40 new_upload" id="busamountedithide" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" /></li>';
                                list += '<li><label>Invoice Number<span class="red">*</span></label><input class="M_20" type="text" value="' + editdata.PassNumber + '" class="M_40 new_upload" id="TR_PassNumber" /></li>';
                                //}

                                list += '<li style="margin-top: 20px;" livalue="' + msg.d[0][0].ExceptionReason.replace(/(^\s*,)|(,\s*$)/g, '') + '"><label>Exception Remarks</label><span style="margin-left:-18px;">' + expremarks + '</span></li></ul>';
                                //list += '<li style="margin-left:1px;"><label>Approval Mail:<span class="red">*</span></label></li>;
                                if (ocm == "1") {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label style="margin-left: 11px;">Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0 && invoiceattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        list += '<ul><li style="padding-top:5px;margin-left:315px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        list += '<ul><li style="padding-top:15px;margin-left:315px"><div id="aft_uploadocmsplcasemailedit"></div></li></ul>';
                                    }
                                    else {
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Invoice/Attestation</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                        var val1 = "<label>Declaration</label><a href='#' fileuploadid=\"" + invoiceattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + invoiceattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;margin-left:325px;"><div id="aft_uploadocmapprovaledit">' + val1 + '</div></li>';
                                        var val2 = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + decl + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + decl + "\" /></a>";
                                        list += '<li style="padding-top:15px;margin-left:325px"><div id="aft_uploadocmsplcasemailedit">' + val2 + '</div></li>';
                                    }
                                }
                                else {
                                    list += '<ul  class="mtop10" id="ocmfile1" style="margin-left:9px;"> <li><label style="margin-left: 11px;">Attach Mail(s)<span class="red">*</span></label><a id="fileattachedit" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a></li>';
                                    if (mailattachments == 0 && invoiceattachments == 0) {
                                        list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        list += '<ul><li style="padding-top:5px;margin-left:315px;"><div id="aft_uploadocmapprovaledit"></div></li></ul>';
                                        list += '<ul><li style="padding-top:15px;margin-left:315px"><div id="aft_uploadocmsplcasemailedit"></div></li></ul>';
                                    }
                                    else {
                                        if (mailattachments == 0) {
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit"></div></li></ul>';
                                        }
                                        else {
                                            var val = "<label>Invoice/Attestation</label><a href='#' fileuploadid=\"" + mailattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + mailattachments + "\" /></a>";
                                            list += '<li style="padding-top:5px;"><div id="aft_uploadocmedit">' + val + '</div></li>';
                                        }
                                        var val1 = "<label>Declaration</label><a href='#' fileuploadid=\"" + invoiceattachments + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + invoiceattachments + "\" /></a>";
                                        list += '<li style="padding-top:5px;margin-left:325px;"><div id="aft_uploadocmapprovaledit">' + val1 + '</div></li>';
                                        var val2 = "<label>Approval Mail</label><a href='#' fileuploadid=\"" + decl + "\" ><img class=\"spriteImage\" style=\"--x:-2863px;--y:-1019px;width:27px;height:19px\" id=\"splCaseMailUpload\" fileuploadid=\"" + decl + "\" /></a>";
                                        list += '<li style="padding-top:15px;margin-left:325px"><div id="aft_uploadocmsplcasemailedit">' + val2 + '</div></li>';
                                    }
                                }
                                list += ' </ul>';
                                $('.popup_edit .inner_cont').html('').html(list);
                                ReplaceAmount(editdata.TransportationType, editdata.Amount, editdata.AssociateID);
                                PopulateEditTransportComponentDetails(editdata.FrequencyType, editdata.BusCardAvailed, editdata.SpecialCaseReason, editdata.TransportationType, editdata.PayrollMonth, editdata.PayrollYear);
                                disableFreqtype();
                            }
                            GetSessionTimeoutEdit();
                        }
                    }
    else if (componentGroupId == 47 || (componentGroupId == 48 && CountryId != 17)) { //Mobile/Transport
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var startdate = '';
        var enddate = '';
        var associateId = obj.find('li:nth-child(1) span').text();
        var assignmentstartdate = obj.find('li:nth-child(3) span').text();
        if (componentGroupId == 47) {
            startdate = obj.find('li:nth-child(4) input').val();
            enddate = obj.find('li:nth-child(5) input').val();
        }
        else if (componentGroupId == 48 && type == 2) {
            startdate = obj.find('li:nth-child(4) input').val();
            enddate = obj.find('li:nth-child(5) span').text();
        }
        else if (componentGroupId == 48 && type == 1) {
            startdate = obj.find('li:nth-child(4) span').text();
            enddate = obj.find('li:nth-child(5) span').text();
        }
        var Amount = obj.find('li:nth-child(6) input').val();
        var payoutType = obj.find('li:nth-child(7) select').val();

        if (componentGroupId == 47) {
            if ($.trim(Amount) == '' || payoutType == '-1' || $.trim(startdate) == '') {
                $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        else if (componentGroupId == 48) {
            if ($.trim(Amount) == '' || payoutType == '-1' || $.trim(startdate) == '' || $.trim(enddate) == '') {
                $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
            }
        }
        if (error == '') {
            var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","assignmentstartdate":"' + assignmentstartdate + '","startdate":"' + startdate + '","enddate":"' + enddate + '","amount":"' + Amount + '","mailUploadId":"' + mailUploadId + '","payoutType":"' + payoutType + '"}';
            $.ajax({
                type: "POST",
                url: "../APAC_WebMethods.aspx/ValidateMobileTransportNewDataAPAC",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: datastring,
                cache: false,
                success: function (msg) {
                    if (msg.d == 'success') {
                        $('.popup_edit .innerErrorHolder').removeClass("red");
                        $('.popup_edit .innerErrorHolder').addClass("green");
                        $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    else {
                        $('.popup_edit .innerErrorHolder').removeClass("green");
                        $('.popup_edit .innerErrorHolder').addClass("red");
                        msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                        $('.popup_edit .innerErrorHolder').text(msg.d);
                        $("#progressBackgroundFilter").hide();
                        $("#processMessage").hide();
                    }
                    if ($('#aid1').val() == '' || $('#aid2').val() == ''
                        || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();
                        }
                    }
                },
                error: function (xhr) {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
                }
            });
        }
        else {
            error = error.replace(/(^\s*,)|(,\s*$)/g, '');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $('.popup_edit .innerErrorHolder').text(error);
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
        }
    }

    else if (componentGroupId == 48 && CountryId == 17) { //Transport
        var obj = $(this).closest('.popup_edit').find('.inner_cont ul');
        var pkey = obj.attr('pkey');
        var monthlyAmount1 = '';
        var payrollmonth = '';
        var year = '';
        var frequencyType = '';
        var splcase = '';
        //var buscardavailed = '';
        //var buscardAmount = '';
        var transportationType = '';
        var associateId = obj.find('li:nth-child(1) span').text();
        var assignmentstartdate = obj.find('li:nth-child(3) #ass_SD_transport').text();
        var passNumber = obj.find('li:nth-child(10) input').val();
        //// var frequency_val1 = frequenyvalue;
        var frequencyType = '';
        frequencyType = obj.find('li:nth-child(5) select').val();
        if (frequencyType == 'undefined' || frequencyType == undefined) {
            frequencyType = obj.find('li:nth-child(5) span').text();
            if (frequencyType == 'Yearly')
                frequencyType = 3;
        }
        if (frequencyType == '3' && frequenyvalue == 'Yearly' && type == 1) {
            ////monthlyAmount = $('#WBamountv').text();
            transportationType = obj.find('li:nth-child(4) select').val();
            payrollmonth = obj.find('li:nth-child(7) select').val();
            year = obj.find('li:nth-child(8) select').val();
            //   frequencyType = obj.find('li:nth-child(8) span').text();
            splcase = obj.find('li:nth-child(9) select').val();
            //buscardavailed = obj.find('li:nth-child(10) span').text();
            //buscardAmount = obj.find('li:nth-child(11) span').text();
        }
        else {
            ////monthlyAmount = $('#WBamountv').text();
            transportationType = obj.find('li:nth-child(4) select').val();
            if (type == 1) {
                payrollmonth = obj.find('li:nth-child(7) select').val();
                year = obj.find('li:nth-child(8) select').val();
            }
            else {
                payrollmonth = obj.find('li:nth-child(7) select').val();
                year = obj.find('li:nth-child(8) select').val();
            }
            //  frequencyType = obj.find('li:nth-child(8) select').val();
            splcase = obj.find('li:nth-child(9) select').val();
            //buscardavailed = obj.find('li:nth-child(10) select').val();
            //buscardAmount = obj.find('li:nth-child(11) input').val();
        }
        ////ReplaceAmount2(transportationType,  associateId);
        monthlyAmount1 = $('#WBamountv').text();
        if (monthlyAmount1 == undefined || monthlyAmount1 == 'undefined' || monthlyAmount1 == '' || monthlyAmount1 == "") {
            monthlyAmount1 = $('#WBamount').val();
        }
        ////console.log("point2")
        if (InvoiceUploadIdSF == undefined) {
            //// console.log("point3")
            InvoiceUploadIdSF = '';
        }
        if (Decl == undefined) {
            //// console.log("point3")
            Decl = '';
        }
        //if (buscardAmount == undefined || buscardAmount == 'undefined') {
        //    buscardAmount = "";
        //}

        if (ocm == "1") {
            if ($("#aft_uploadocmapprovaledit").attr("fileuploadid")) {
                InvoiceUploadIdSF = FileUploadID;
                Decl = MailUploadID;
                transportMailUploadID = SplCaseMail;
            }
        } else {
            if ($("#aft_uploadocmedit").attr("fileuploadid")) {
                InvoiceUploadIdSF = FileUploadID;
                Decl = MailUploadID;
                transportMailUploadID = SplCaseMail;
            }
        }

        if (splcase == '-1') {
            transportMailUploadID = '';
        }
        if ($.trim(associateId) == '' || $.trim(assignmentstartdate) == '' || monthlyAmount1 == '' || passNumber == '') {

            $('.popup_edit .innerErrorHolder').text('Please fill all Fields');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        //if ($.trim(buscardavailed) == 1 && $.trim(buscardAmount) == '') {
        //    $('.popup_edit .innerErrorHolder').text('Please Enter Pass amount');
        //    $('.popup_edit .innerErrorHolder').removeClass("green");
        //    $('.popup_edit .innerErrorHolder').addClass("red");
        //    $("#progressBackgroundFilter").hide();
        //    $("#processMessage").hide();
        //    return false;
        //}

        if ((FlagStatus === '' && DeclarationFlag === '') &&
            ($("#aft_uploadocmsplcasemailedit a").attr("fileuploadid") == '')) {
            $('.popup_new .innerErrorHolder').text('Please add all required attachments');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        } else {
            var errorMessage = [];
            if (InvoiceUploadIdSF == '' && ($("#aft_uploadocmsplcasemailedit a").attr("fileuploadid") == ''
                || $("#aft_uploadocmsplcasemailedit a").attr("fileuploadid") == undefined)) {
                errorMessage.push('Invoice');
            }
            if (DeclarationFlag == '1' && Decl == '') {
                errorMessage.push('Declaration Form');
            }
            if (FlagStatus == '1' && transportMailUploadID == '') {
                errorMessage.push('Approval mail');
            }

            if (errorMessage.length > 0) {
                $('.popup_edit .innerErrorHolder').text('Please attach ' + errorMessage.join(', '));
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }

        if (DeclarationFlag == '1' && (Decl == undefined || Decl == '' || Decl == 0)) {
            $('.popup_edit .innerErrorHolder').text('Please attach the Declaration Form');
            $('.popup_edit .innerErrorHolder').removeClass("green");
            $('.popup_edit .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        if (FlagStatus === '1' || FlagStatus === undefined) {
            if (transportMailUploadID == '') {
                $('.popup_edit .innerErrorHolder').text('Please attach the approval mail');
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }


        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","keyId":"' + pkey + '","assignmentstartdate":"' + assignmentstartdate + '","monthlyAmount":"' + monthlyAmount1 + '","transportationType":"' + transportationType + '","payrollmonth":"' + payrollmonth + '","year":"' + year + '","frequencyType":"' + frequencyType + '","splcase":"' + splcase + '","mailUploadId":"' + transportMailUploadID + '","splcasemailId":"' + InvoiceUploadIdSF + '","passNumber":"' + passNumber + '","declaration":"' + Decl + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/ValidateTransportNewDataFrance",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_edit .innerErrorHolder').removeClass("red");
                    $('.popup_edit .innerErrorHolder').addClass("green");
                    $('.popup_edit .innerErrorHolder').text('Updated Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                    DeclarationFlag = '';
                    FlagStatus = '';
                    checkmultipletrnsport = 0;
                }
                else {
                    $('.popup_edit .innerErrorHolder').removeClass("green");
                    $('.popup_edit .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_edit .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == ''
                    || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An error occurred: Please raise a GSD under : One Cognizant - One Cognizant Helpdesk (CTI :  1C App Store; Special Pay /Special Pay Allowances;");
            }
        });

    }

  else if (componentGroupId == 47 || (componentGroupId == 48 && CountryId != 17))// transport/mobile taxation
  {
      $('.inner_cont').css("height", '');
      var componentGroupId = $("#bonus").val();
      $('.inner_cont').css("height", '160px');
      $('.inner_cont').css("margin-left", '25px');
      $('.inner_cont').css("width", '660px');
      $('.popup_new .inner_cont').text('');
      var type = '';
      if ($('#a_valid').hasClass('selected')) {
          type = 1;
      }
      else if ($('#a_exceptions').hasClass('selected')) {
          type = 2;
      }
      var obj = $('.popup_new').find('ul:first-child');
      obj.find('li:first-child span');
      var windowWidth = '100%';
      var windowHeight = '100%';
      //var popupHeight = $(".popup_new").height();
      var popupWidth = $(".popup_new").width();
      //console.log(window.parent)
      var ele = window.parent.document.getElementById('background');
      //console.log(ele)
      $(ele).fadeIn("slow");
      $(".background_bg").fadeIn("slow");
      $('.popup_new').fadeIn("slow");
      $(".background_bg").css({
          "opacity": "0.5"
      });
      var popupHeight = $('.popup_new').find(".middle").height();
      $('.popup_new').css({
          'position': 'absolute',
          'z-index': '100',
          "top": ((($(window).height() - popupHeight) / 2) - 16) + "px",
          "left": "10%"
      });
      $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
      $('.popup_new').show();


      var list = '';
      list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><input class="M_20 assoidCls" type="text" id="MT_associateid"  maxlength="11" /></li>';
      list += '<li><label class="M_15">Associate Name</label><label id="MTAssoname" style="margin-left:-18px;"></label></li>';
      list += '<li><label class="M_15">AssignmentStartDate</label><label id="MTDOJ" style="margin-left:-23px;"></label></li>';
      list += '<li><label class="M_15">StartDate<span class="red">*</span></label><input type="text" id="MB_startdate" value=""  class="popup_date" style="width:137px;height:20px;margin-left:-18px;" /></li>';
      if (componentGroupId == 47) {
          list += '<li><label class="M_15">EndDate</label><input type="text" id="MB_enddate" value="" class="popup_date"   style="width:137px;height:20px;margin-left:-18px;"/></li>';
      }
      else if (componentGroupId == 48) {
          list += '<li><label class="M_15">EndDate</label><label style="margin-left:-23px;"><span id="MB_enddate"></span></label></li>';
      }
      list += '<li><label class="M_15">Amount<span class="red">*</span></label><input class="M_20" id="AD_amount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text"/></li>';
      list += '<li><label class="M_15">PayoutType</label><select name="MTPayoutType" id="MTPayoutType" class="styled" style="margin-left:-18px;"><option value="-1" selected="selected">--Select PayoutType --</option></select></li>';
      list += '</ul>';
      if (ocm == "1") {

          list += '<ul style="margin-left:5px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
          list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';

      }
      else {
          list += '<ul style="margin-left:5px;"  id="ocmfile"> <li><label>Attach Mail(s)<span class="red"></span></label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
          list += '<li style="padding-top:5px;"><div id="aft_uploadocm"></div></li></ul>';
      }



      $.ajax({
          type: "POST",
          url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          data: datastring,
          cache: false,
          success: function (msg) {
              if (msg.d.length > 0) {
                  var payouttype = '';
                  //year += "<option value='-1'>--Select Year--</option>";
                  if (msg.d[0].length != 0) {
                      $.each(msg.d[0], function (i, data) {
                          payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                      });
                  }
                  $('#MTPayoutType').html(payouttype);
                  $('#MTPayoutType').find('option:nth-child(6)').attr('selected', 'selected');
                  $('#selectcMTPayoutType').text($("#MTPayoutType option:selected").text());
                  $('.popup_new .innerErrorHolder').text('');

                  $('.popup_new .innerErrorHolder').text('');
              }
          },
          error: function (xhr) {
              errorpopup(parent.document.getElementById("hdnSession").value);
          }
      });
      $('.popup_new .inner_cont').html('').html(list);

      $("#MB_startdate").datepicker("destroy");
      $("#MB_startdate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
      if (componentGroupId == 47) {
          $("#MB_enddate").datepicker("destroy");
          $("#MB_enddate").datepicker({ changeMonth: true, changeYear: true, prevText: "", nextText: "", onFocus: 'show' });
      }

      var datastring = '{"associateId":"' + loginId + '","componentGroupId":"' + componentGroupId + '","isActive":"0"}';
      $.ajax({
          type: "POST",
          url: "../APAC_WebMethods.aspx/GetAssociateProjectIdAndNameForUploader",
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          data: datastring,
          cache: false,
          success: function (msg) {
              if (msg.d.length > 0) {
                  if (msg.d[0].STATUS != 0) {
                      $('.popup_new .innerErrorHolder').html("");
                      $('#carAssoname').text($.trim(msg.d[0].Name));
                  }
              }
          },
          error: function (xhr) {
              $('.popup_edit .innerErrorHolder').removeClass("green");
              $('.popup_edit .innerErrorHolder').addClass("red");
              $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
          }
      });
      GetSessionTimeout();
  }
  else if (componentGroupId == 48 && CountryId == 17)// transport
  {
      $('.inner_cont').css("height", '');
      var componentGroupId = $("#bonus").val();
      $('.inner_cont').css("height", '351px');
      $('.inner_cont').css("margin-left", '25px');
      $('.inner_cont').css("width", '660px');
      $('.popup_new .viewport').css("height", '505px');
      $('.popup_new .viewport').css("width", "806px");
      $('.popup_new .inner_cont').text('');
      $('.popup_new .viewport').css("display", 'block');
      $('.popup_new .scrollbar').css("display", 'none');
      var type = '';
      FileUploadID = '';
      if ($('#a_valid').hasClass('selected')) {
          type = 1;
      }
      else if ($('#a_exceptions').hasClass('selected')) {
          type = 2;
      }
      var obj = $('.popup_new').find('ul:first-child');
      obj.find('li:first-child span');
      var windowWidth = '100%';
      var windowHeight = '100%';
      var popupHeight = $(".popup_new").height();
      var popupWidth = $(".popup_new").width();
      //console.log(window.parent)
      var ele = window.parent.document.getElementById('background');
      //console.log(ele)
      $(ele).fadeIn("slow");
      $(".background_bg").fadeIn("slow");
      $('.popup_new').fadeIn("slow");
      $(".background_bg").css({
          "opacity": "0.5"
      });
      $('.popup_new').css({
          'position': 'absolute',
          'z-index': '100',
          "top": '10px',
          "left": "10%"
      });
      $('.popup_new .inner_cont ul:first-child li:first-child input').focus();
      $('.popup_new').css("top", "10px");
      $('.popup_new .scrollbar').show();
      $('.popup_new .scrollbar').css("left", "100px");
      $('.popup_new').show();


      var list = '';
      list += '<ul ><li><label class="M_15">Associate ID<span class="red">*</span></label><label id="MT_associateid" class="M_20">' + loginId + '</label></li>';
      list += '<li><label class="M_15">Associate Name</label><label id="MTAssoname" style="margin-left:-18px;"></label></li>';
      list += '<li><label class="M_15">AssignmentStartDate</label><label id="MTDOJ" style="margin-left:-23px;"></label></li>';
      list += '<li><label class="M_15">Transportation Type<span class="red">*</span></label><select name="MTTransportationType" id="MTTransportationType" style="margin-left:-18px;"><option value="-1" selected="selected">--Select TransportationType --</option></select></li>';
      list += '<li><label class="M_15">Invoice Number<span class="red">*</span></label><input class="M_20" id="PassNumber_1" type="text"/></li>';
      list += '<li><label class="M_15">Frequency Type</label><select name="MTFrequencyType" id="MTFrequencyType" style="margin-left:-18px; width:80px"><option value="-1" selected="selected">--Select Frequency Type --</option></select></li>';
      list += '<li><label class="M_15"id="amountLabel">Amount Paid(Monthly amount)<span class="red">*</span></label><input class="M_20" id="ADmonthlyamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text"/></li>';
      list += '<li><label class="M_15">Month of Declaration</label><select name="MTPayrollMonth" id="MTPayrollMonth" style="margin-left:-18px;"><option value="-1" selected="selected">--Select Month of Declaration --</option></select></li>';
      list += '<li></li>'
      list += '<li><label class="M_15">Payroll Year</label><select name="MTPayrollYear" id="MTPayrollYear" style="margin-left:-18px;"><option value="-1" selected="selected">--Select Payroll Year--</option></select></li>';
      //list += '<li><label class="M_15">Frequency Type</label><select name="MTFrequencyType" id="MTFrequencyType" style="margin-left:-18px; width:80px"><option value="-1" selected="selected">--Select Frequency Type --</option></select></li>';
      ////list += '<ul><li style="margin-left:-31px;"><label style="width: 325px;font-weight:italic">1st time of purchase of navigo pass<span class="red"></span></label></li></ul>';
      //list += '<ul ><li><label class="M_48" style="width: 232px;">1st time of purchase of navigo pass</label><select name="MTBusCardAvailed" id="MTBusCardAvailed" style="margin-left:-10px;"><option value="-1" selected="selected">--Select --</option></select></li>';
      //list += '<li><label class="M_48">Pass Amount<span class="red" id="busamounthide">*</span></label><input class="M_20" id="AD_buscardamount" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text"/></li>';
      list += '<li><label class="M_48" style="width: 202px;margin-left: -15px;">Declaring Multiple Allowance</label><select name="MTSpecialCaseReason" id="MTSpecialCaseReason" style="margin-left:-18px;"><option value="-1" selected="selected">--Select  Multiple Allowance --</option></select></li>';
      list += '<li></li>'
      list += '<li style="margin-left:-31px;"><label style="width: 325px;font-style:italic;font-weight:bold;margin-left: 14px;">(applicable if using more than one mode of transport)</label></li></ul>';
      list += '<ul ><li id="TransportType" style="display:none;margin-left: 19px;"><label class="M_48">Transportation Type<span class="red">*</span></label><select name="MTTransportationType_1" id="MTTransportationType_1" style="margin-left:-18px;"><option value="-1" selected="selected">--Select TransportationType --</option></select></li>';
      list += '<li id="MonthlyAmount" style="display:none;"><label class="M_48" id="amountLabelFreq" style="margin-left: -12px;">Monthly Amount(Monthly amount)<span class="red">*</span></label><input class="M_20" id="AD_monthlyamount_1" onkeypress="return allowValuesAfterDecimal(event,id,8,2)" type="text"/></li>';
      list += '<li id="PassNumber" style="display:none;"><label class="M_48" style="margin-left: -14px;">Invoice Number<span class="red">*</span></label><input class="M_20" id="PassNumber_2" type="text"/></li>';
      list += '<li id="FrequencyType2" style="margin-left: 19px;margin-top: 30px;"><label class="M_48">Frequency Type</label><select name="FrequencyType_2" id="FrequencyType_2" style="margin-left:-18px;"><option value="-1" selected="selected">--Select Frequency Type --</option></select></li>';
      //list += '<ul  id="textmsg" style="display:block;"><li style="margin-left:-31px;"><label style="width: 325px;">Invoice and Approval mail :<span class="red">*</span></label></li></ul>';
      if (ocm == "1") {
          list += '<ul /*style="margin-left:-31px;"*/  style ="margin-top: 20px;" id="ocmfile"> <li /*style="margin-left: 17px;"*/ style="margin-right: -118px;"><label id="mailattchedfield">Attach Mail(s)<span class="red"></span>*</label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
          list += '<li style="padding-top:5px;"><div id="aft_uploadocm" style="margin-left: 124px;"></div></li>';
          list += '<li style="padding-top:5px;margin-left:338px;"><div id="aft_uploadocmapproval"></div></li>';
          list += '<li style="padding-top:5px;margin-left:338px;"><div id="aft_uploadocmsplcasemail"></div></li></ul>';
      }
      else {

          list += '<ul /*style="margin-left:-31px;"*/  style ="margin-top: 20px;" id="ocmfile"> <li /*style="margin-left: 17px;"*/ style="margin-right: -118px;"><label id="mailattchedfield">Attach Mail(s)<span class="red"></span>*</label><a id="fileattach" style="" class="pull-left btn btn-primary" tabindex="0">Attach File</a>';
          list += '<li style="padding-top:5px;"><div id="aft_uploadocm" style="margin-left: 124px;"></div></li>';
          list += '<li style="padding-top:5px;margin-left:338px;"><div id="aft_uploadocmapproval"></div></li>';
          list += '<li style="padding-top:5px;margin-left:338px;"><div id="aft_uploadocmsplcasemail"></div></li></ul>';
      }


      $.ajax({
          type: "POST",
          url: "../APAC_WebMethods.aspx/GetSignonBonusDropdownDetailsNLD",
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          data: datastring,
          cache: false,
          success: function (msg) {
              if (msg.d.length > 0) {
                  var payouttype = '';
                  var transporttype = '';
                  var transporttype_1 = '';
                  //year += "<option value='-1'>--Select Year--</option>";
                  if (msg.d[0].length != 0) {
                      $.each(msg.d[0], function (i, data) {
                          payouttype += '<option value="' + data.PayoutTypeID + '">' + data.PayoutType + '</option>';
                      });
                  }
                  $('#MTPayoutType').html(payouttype);
                  $('#MTPayoutType').find('option:nth-child(6)').attr('selected', 'selected');
                  $('#selectcMTPayoutType').text($("#MTPayoutType option:selected").text());


                  payouttype = '';
                  //For FrequencyType
                  if (msg.d[0].length != 0) {
                      $.each(msg.d[0], function (i, data) {
                          payouttype += '<option value="' + data.FrequencyTypeID + '">' + data.FrequencyType + '</option>';
                      });
                  }
                  $('#MTFrequencyType').html(payouttype);
                  $('#MTFrequencyType').find('option:nth-child(8)').attr('selected', 'selected');
                  $('#selectcMTFrequencyType').text($("#MTFrequencyType option:selected").text());

                  if (msg.d[0].length != 0) {
                      $.each(msg.d[0], function (i, data) {
                          payouttype += '<option value="' + data.FrequencyTypeID + '">' + data.FrequencyType + '</option>';
                      });
                  }
                  $('#MTFrequencyType_1').html(payouttype);
                  $('#MTFrequencyType_1').find('option:nth-child(8)').attr('selected', 'selected');
                  $('#selectcMTFrequencyType_1').text($("#MTFrequencyType_1 option:selected").text());

                  payouttype = '';
                  payouttype += '<option value="-1"> Select  Multiple Allowance</option>';
                  //For SpecialCaseReason
                  if (msg.d[1].length != 0) {
                      $.each(msg.d[1], function (i, data) {
                          payouttype += '<option value="' + data.SpecialCaseID + '">' + data.SpecialCaseReason + '</option>';
                      });
                  }
                  $('#MTSpecialCaseReason').html(payouttype);
                  //$('#MTSpecialCaseReason').find('option:nth-child(9)').attr('selected', 'selected');
                  //$('#selectcMTSpecialCaseReason').text($("#MTSpecialCaseReason option:selected").text());

                  transporttype = '';
                  transporttype += '<option value="-1">--Select Transport type--</option>';
                  //For Trasnport Type
                  if (msg.d[2].length != 0 && msg.d[2][0].TransportType != 0) {
                      $.each(msg.d[2], function (i, data) {

                          transporttype += '<option value="' + data.TransportType + '">' + data.TransportType + '</option>';
                      });
                  }
                  $('#MTTransportationType').html(transporttype);
                  $('#MTTransportationType').find('option:nth-child(1)').attr('selected', 'selected');
                  $('#selectcMTTransportationType').text($("#MTTransportationType option:selected").text());

                  transporttype_1 = '';
                  transporttype_1 += '<option value="-1">--Select Transport type--</option>';
                  if (msg.d[2].length != 0 && msg.d[2][0].TransportType != 0) {
                      $.each(msg.d[2], function (i, data) {
                          transporttype_1 += '<option value="' + data.TransportType + '">' + data.TransportType + '</option>';
                      });
                  }
                  $('#MTTransportationType_1').html(transporttype_1);
                  $('#MTTransportationType_1').find('option:nth-child(1)').attr('selected', 'selected');
                  $('#selectcMTTransportationType_1').text($("#MTTransportationType_1 option:selected").text());
                  frequencyType_2 = '';
                  //frequencyType_2 += '<option value="-1">--Select Frequency Type--</option>';
                  if (msg.d[0].length != 0 && msg.d[0][0].FrequencyType != 0) {
                      $.each(msg.d[0], function (i, data) {
                          frequencyType_2 += '<option value="' + data.FrequencyTypeID + '">' + data.FrequencyType + '</option>';
                      });
                  }
                  $('#FrequencyType_2').html(frequencyType_2);
                  $('#FrequencyType_2').find('option:nth-child(1)').attr('selected', 'selected');
                  $('#selectcFrequencyType_2').text($("#FrequencyType_2 option:selected").text());

                  payouttype = '';
                  //For BusCardAvailed
                  if (msg.d[3].length != 0) {
                      $.each(msg.d[3], function (i, data) {
                          payouttype += '<option value="' + data.BusCardAvailedID + '">' + data.BusCardAvailed + '</option>';
                      });
                  }
                  $('#MTBusCardAvailed').html(payouttype);
                  $('#MTBusCardAvailed').find('option:nth-child(10)').attr('selected', 'selected');
                  $('#selectcMTBusCardAvailed').text($("#MTBusCardAvailed option:selected").text());

                  payouttype = '';
                  //For Year
                  if (msg.d[4].length != 0) {
                      $.each(msg.d[4], function (i, data) {
                          payouttype += '<option value="' + data.Year + '">' + data.Year + '</option>';
                      });
                  }
                  $('#MTPayrollYear').html(payouttype);
                  $('#MTPayrollYear').find('option:nth-child(7)').attr('selected', 'selected');
                  $('#selectcMTPayrollYear').text($("#MTPayrollYear option:selected").text());

                  payouttype = '';
                  //For PayrollMonth
                  if (msg.d[5].length != 0) {
                      $.each(msg.d[5], function (i, data) {
                          payouttype += '<option value="' + data.MonthID + '">' + data.MonthName + '</option>';
                      });
                  }
                  $('#MTPayrollMonth').html(payouttype);
                  $('#MTPayrollMonth').find('option:nth-child(1)').attr('selected', 'selected');
                  $('#selectcMTPayrollMonth').text($("#MTPayrollMonth option:selected").text());

                  $('.popup_new .innerErrorHolder').text('');

                  $('#MTSpecialCaseReason').trigger("change");
              }
          },
          error: function (xhr) {
              errorpopup(parent.document.getElementById("hdnSession").value);
          }
      });


      $(document).on('change', '#MTBusCardAvailed', function () {
          var b = $("#MTBusCardAvailed option:selected").text();
          if (b == 'Yes') {
              $('#busamounthide').show();
          }
          else {
              $('#busamounthide').hide();
          }

      });

      $('.popup_new .inner_cont').html('').html(list);
      $('.sdk').css("width", '70%');
      $('.apprmailFra').hide();
      GetSessionTimeout();
      PopulateAssignmentStartDate();
  }

    else if (componentGroupId == 47 || (componentGroupId == 48 && CountryId != 17)) {//Mobile/Transport
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');

        var AssociateID = obj.find('li:nth-child(1) input').val();
        var AssignmentStartDate = $('#MTDOJ').text();
        var startDate = obj.find('li:nth-child(4) input').val();
        if (componentGroupId == 47) {
            var endDate = obj.find('li:nth-child(5) input').val();
        }
        else if (componentGroupId == 48) {
            var endDate = obj.find('li:nth-child(5) span').text();
        }
        var Amount = obj.find('li:nth-child(6) input').val();
        var PayoutType = obj.find('li:nth-child(7) select').val();

        if (componentGroupId == 48) {
            if ($.trim(AssociateID) == '' || $.trim(AssignmentStartDate) == '' || startDate == '' || endDate == '' || Amount == '') {

                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }
        else if (componentGroupId == 47) {
            if ($.trim(AssociateID) == '' || $.trim(AssignmentStartDate) == '' || startDate == '' || Amount == '') {

                $('.popup_new .innerErrorHolder').text('Please fill all Fields');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + AssociateID + '","startDate":"' + startDate + '","endDate":"' + endDate + '","assignmentStartDate":"' + AssignmentStartDate + '","amount":"' + Amount + '","mailUploadId":"' + mailUploadId + '","payoutType":"' + PayoutType + '"}';


        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveMobileTransportNewDataCE",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_new .innerErrorHolder').removeClass("red");
                    $('.popup_new .innerErrorHolder').addClass("green");
                    $('.popup_new .innerErrorHolder').text('Saved Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                else {
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_new .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                    else {
                        keyPressEnter();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_edit .innerErrorHolder').removeClass("green");
                $('.popup_edit .innerErrorHolder').addClass("red");
                $('.popup_edit .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });

    }

    else if (componentGroupId == 48 && CountryId == 17) {//Mobile/Transport
        var invoiceUploadId = '';
        var monthlyAmount1 = '';
        var monthlyAmount2 = '';
        var passNumber_2 = '';
        var transportationType_1 = '';
        var monthlyAmount2 = '';
        var frequencytype2 = '';
        if (ocm == "1") {
            var invoiceUploadId = FileUploadID;
            var declUploadId = MailUploadID;
            var transportMailUploadID = SplCaseMail;
        }
        else {
            var invoiceUploadId = FileUploadID;
            var declUploadId = MailUploadID;
            var transportMailUploadID = SplCaseMail;
        }
        var obj = $(this).closest('.popup_new').find('.inner_cont ul');
        var associateId = obj.find('li:nth-child(1) #MT_associateid').text();
        var assignmentstartdate = obj.find('li:nth-child(3) #MTDOJ').text();
        var passNumber_1 = obj.find('li:nth-child(5) input').val();
        var transportationType = obj.find('li:nth-child(4) select').val();
        // var monthlyAmount = obj.find('li:nth-child(6) input').val();
        var payrollmonth = obj.find('li:nth-child(8) select').val();
        var year = obj.find('li:nth-child(10) select').val();
        var frequencyType = obj.find('li:nth-child(6) select').val();
        var splcase = $('#MTSpecialCaseReason').val();
        //var buscardavailed = $('#MTBusCardAvailed').val();
        //var buscardAmount = $('#AD_buscardamount').val();
        var frequencytype2 = $('#FrequencyType_2').prop('selectedIndex') + 1;
        if (frequencytype2 == '' || frequencytype2 == 'undefined') {
            frequencytype2 = 0;
        }
        if (splcase == 1) {
            var transportationType_1 = $('#MTTransportationType_1').val();
            var passNumber_2 = $('#PassNumber_2').val();
            var monthlyAmount2 = $('#AD_monthlyamount_1v').text();
            var frequencytype2 = $('#FrequencyType_2').prop('selectedIndex') + 1;

            if (monthlyAmount2 == undefined || monthlyAmount2 == 'undefined' || monthlyAmount2 == '' || monthlyAmount2 == "") {
                monthlyAmount2 = $('#AD_monthlyamount_1').val();
            }
        }
        monthlyAmount1 = $('#ADmonthlyamountv').text();

        if (monthlyAmount1 == undefined || monthlyAmount1 == 'undefined' || monthlyAmount1 == '' || monthlyAmount1 == "") {
            monthlyAmount1 = $('#ADmonthlyamount').val();
        }
        if (invoiceUploadId == undefined) {
            invoiceUploadId = '';
        }
        if (declUploadId == undefined) {
            declUploadId = '';
        }

        if ($.trim(associateId) == '' || $.trim(assignmentstartdate) == '' || monthlyAmount1 == '' || monthlyAmount1 == 0 || passNumber_1 == 0 || transportationType == -1) {
            $('.popup_new .innerErrorHolder').text('Please fill all Fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        //if ($.trim(buscardavailed) == 1 && $.trim(buscardAmount) == '') {
        //    $('.popup_new .innerErrorHolder').text('Please Enter Pass amount');
        //    $('.popup_new .innerErrorHolder').removeClass("green");
        //    $('.popup_new .innerErrorHolder').addClass("red");
        //    $("#progressBackgroundFilter").hide();
        //    $("#processMessage").hide();
        //    return false;
        //}
        if ($.trim(splcase) == 1 && (transportationType_1 == '-1' || monthlyAmount2 == 0 || passNumber_2 == 0 || frequencytype2 === '-1' || frequencytype2 === '')) {
            $('.popup_new .innerErrorHolder').text('Please enter all fields');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        if (FlagStatus === '' && DeclarationFlag === '') {
            $('.popup_new .innerErrorHolder').text('Please add all required attachments');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        var errorMessage = [];
        if (invoiceUploadId == '') {
            errorMessage.push('Invoice');
        }
        if (DeclarationFlag == '1' && declUploadId == '') {
            errorMessage.push('Declaration Form');
        }
        if (FlagStatus == '1' && transportMailUploadID == '') {
            errorMessage.push('Approval mail');
        }

        if (errorMessage.length > 0) {
            $('.popup_new .innerErrorHolder').text('Please attach ' + errorMessage.join(', '));
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        if (FlagStatus === '1' || checkmultipletrnsport === '1') {
            if (transportMailUploadID == '') {
                $('.popup_new .innerErrorHolder').text('Please attach the approval mail');
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $("#progressBackgroundFilter").hide();
                $("#processMessage").hide();
                return false;
            }
        }
        if (invoiceUploadId == '') {
            $('.popup_new .innerErrorHolder').text('Please attach the invoice Form');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }
        if (DeclarationFlag == "1" && (declUploadId == '' || declUploadId == '0' || declUploadId == undefined)) {
            $('.popup_new .innerErrorHolder').text('Please attach the Declaration Form');
            $('.popup_new .innerErrorHolder').removeClass("green");
            $('.popup_new .innerErrorHolder').addClass("red");
            $("#progressBackgroundFilter").hide();
            $("#processMessage").hide();
            return false;
        }

        var datastring = '{"componentGroupId":"' + componentGroupId + '","associateId":"' + associateId + '","assignmentstartdate":"' + assignmentstartdate + '","monthlyAmount":"' + monthlyAmount1 + '","transportationType":"' + transportationType + '","payrollmonth":"' + payrollmonth + '","year":"' + year + '","frequencyType":"' + frequencyType + '","splcase":"' + splcase + '","mailUploadId":"' + transportMailUploadID + '","splcasemailId":"' + invoiceUploadId + '" ,"transportationType_1":"' + transportationType_1 + '" ,"monthlyAmount_1":"' + monthlyAmount2 + '" ,"passNumber_1":"' + passNumber_1 + '" ,"passNumber_2":"' + passNumber_2 + '","declaration":"' + declUploadId + '","frequencytype2":"' + frequencytype2 + '"}';

        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/SaveMobileTransportNewDataFrance",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    $('.popup_new .innerErrorHolder').removeClass("red");
                    $('.popup_new .innerErrorHolder').addClass("green");
                    $('.popup_new .innerErrorHolder').text('Saved Successfully');
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                    DeclarationFlag = '';
                    FlagStatus = '';
                    checkmultipletrnsport = 0;
                }
                else {
                    $('.popup_new .innerErrorHolder').removeClass("green");
                    $('.popup_new .innerErrorHolder').addClass("red");
                    msg.d = msg.d.replace(/(^\s*,)|(,\s*$)/g, '');
                    $('.popup_new .innerErrorHolder').text(msg.d);
                    $("#progressBackgroundFilter").hide();
                    $("#processMessage").hide();
                }
                if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                    if (type == 1) {
                        BindValidGridtbl();
                    }
                    else if (type == 2) {
                        BindExceptionsGridtbl();
                    }
                    else {
                        keyPressEnter();
                    }
                }
            },
            error: function (xhr) {
                $('.popup_new .innerErrorHolder').removeClass("green");
                $('.popup_new .innerErrorHolder').addClass("red");
                $('.popup_new .innerErrorHolder').text("An unexpected error has occurred - Please contact administrator for further assisstance or drop a mail to SPaytechteam - SPayTechTeam@cognizant.com");
            }
        });

    }

    if (componentGroupId == 47 || componentGroupId == 48 || componentGroupId == 52) {//mobile/transport/lunchvoucher
        var selected = '';
        var len = $('#tbl_MobileTaxation tbody').find(':checked').length;
        $('#tbl_MobileTaxation tbody').find(':checked').each(function (i) {
            selected += $.trim($(this).parent().parent().attr('pk_id'));
            if (i < len - 1) {
                selected += ',';
            }
        });
        var datastring = '{"componentGroupId":"' + componentGroupId + '","type":"' + type + '","selected":"' + selected + '"}';
        $.ajax({
            type: "POST",
            url: "../APAC_WebMethods.aspx/DeleteAPACComponentData",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: datastring,
            cache: false,
            success: function (msg) {
                if (msg.d == 'success') {
                    succpopup('Deleted Successfully');
                    $("#mtvalid").prop("checked", false);

                    if ($('#aid1').val() == '' || $('#aid2').val() == '' || $('#bid1').val() == '' || $('#bid2').val() == '') {
                        if (type == 1) {
                            BindValidGridtbl();
                        }
                        else if (type == 2) {
                            BindExceptionsGridtbl();//RB
                        }
                        else if (type == 3) {
                            BindOtherGeoGridtbl();
                        }
                    }
                    else {
                        keyPressEnter();
                    }

                }
                else {
                    errorpopup(msg.d);
                }
            },
            error: function (xhr) {
                errorpopup(parent.document.getElementById("hdnSession").value);
            }
        });
    }

 else if (componentGroupId == 47 || (componentGroupId == 48 && CountryId != 17)) //Mobile/Transport 
 {
     $("#mailattach").addClass('disabled');
     $("#divApprovalmsg1").show();
     $("#ulQuarter").hide();
     $(".tbl_upload_holder").hide();
     $("#mailattach").hide();
     $("#customize").hide();
     $('#deletebtn').show();

     $('#divMobileTaxation').show();
     $('#divMobileTaxation').css('display', 'block');
     $('#divMobileTaxation .dataTableScroll').css('display', 'block');
     $('#tbl_MobileTaxation').css('display', 'block');
     $('#divMobileTaxation .viewport').css('display', 'block');
     $('#divMobileTaxation .viewport').css('overflow', 'scroll');
     $('#tbl_MobileTaxation').find('tbody').html('');
     $('#tbl_MobileTaxation').css('display', 'block');

     //$("#disLabel").css("margin-left", "300px");

     $("#customize").css("left", "280px");
     $("#ulRecord").css('display', 'block');
     //$("#ulRecord li").css("width", "");
     //$("#ulRecord li").addClass("mleft50");
     ////$("#ulRecord li").css("margin-left", "250px");
     ////$("#ulRecord li").css("margin-top", "");
     //$("#ulRecord li").css("left", "30px");
     $('.new_btn').css("margin-left", "13px");
     $("#aid1").attr("maxlength", "11");
     $("#aid1").numeric();
     getTotalPages();
     $("#NoData").remove();
     var htmldata = '';

     htmldata += '<tr><th class="MTtd1"><input type="checkbox" id="MTvalidchk" /></th>';
     htmldata += ' <th class="sort MTtd2" column="AssociateID">Associate ID </th>';
     htmldata += ' <th class="MTtd3" column="AssociateName">Associate Name </th>';
     htmldata += ' <th class="MTtd4">Assignment Start Date</th>';
     //if (componentGroupId == 47) {
     //    htmldata += ' <th class="MTtd5">Start Date of subscription</th>';
     //    htmldata += ' <th class="MTtd6">End Date of subscription</th>';
     //}
     //else if (componentGroupId == 48) {
     htmldata += ' <th class="MTtd5">Start Date</th>';
     htmldata += ' <th class="MTtd6">End Date</th>';
     //}
     htmldata += ' <th class="MTtd7">PayoutType</th>';
     htmldata += ' <th class="sort MTtd8" column="Amount">Amount</th>';
     htmldata += ' <th class="sort MTtd9" column="Status">Status</th>';
     htmldata += ' <th class="MTtd10">Edit</th></tr>';
     htmldata += ' </tr>';

     $('#tbl_MobileTaxation').find('thead').html('').html(htmldata);

     if (msg.d.length > 0) {
         $("#divMobileTaxation .refPage").css("display", "block");
         var classname = '';

         $.each(msg.d, function (i, data) {
             if ((i % 2) == 0) {
                 classname = 'even';
             }
             else {
                 classname = 'odd';
             }
             var remarks = '';
             //if (data.Remarks != null) {
             //    remarks = (data.Remarks.length > 30) ? data.Remarks.substring(0, 30) + '...' : data.Remarks;
             //}
             //grid_html += '<tr pk_id=' + data.PK_ReferralBonusID + ' status=' + data.Status + '><td><input type="checkbox" class="referralvalid" id=' + (i + 1) + ' /></td><td class="ref">' + data.ReferrorAssociateID + '</td><td>' + data.RefereeAssociateID + '</td><td style="text-align:center;">' + data.RefereeBGstatus + '</td><td style="text-align:center;">' + data.Amount + '</td><td style="text-align:center;">' + data.SpecialCaseReason + '</td><td>' + data.Status + '</td><td remarks="' + data.Remarks + '" style="text-align:center;">' + remarks + '</td><td><img class="view_details" src="../Images/view_btn.png" /></td><td><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';

             var d = new Date();
             var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

             // End date//
             var cutoffdatesplit = cutoffdate.split('/');
             // Month is zero-indexed so subtract one from the month inside the constructor
             var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
             var cutoff_date = date.getTime();

             //cut off start  date //
             var cutoffstartdatesplit = cutoffStartdate.split('/');
             // Month is zero-indexed so subtract one from the month inside the constructor
             var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
             var cutoffStart_date = date.getTime();

             var todaysplit = today.split('/');
             // Month is zero-indexed so subtract one from the month inside the constructor
             var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
             var today_date = Date1.getTime();

             var gridMailIdval = "";

             if (cutoff_date == NaN) {
                 grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
             }
             else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                 grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' /></td>';
             }
             else {
                 if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                     if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                         grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + '/></td>';
                     }
                     else {
                         grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                     }
                 }
                 else {
                     grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                 }
             }
             grid_html += '<td class="MBtd2">' + data.AssociateID + '</td>';
             grid_html += '<td class="MBtd3">' + data.AssociateName + '</td>';
             grid_html += '<td class="MBtd4">' + data.AssignmentStartDate + '</td>';
             grid_html += '<td class="MBtd5">' + data.StartDate + '</td>';
             grid_html += '<td class="MBtd6">' + data.EndDate + '</td>';
             grid_html += '<td class="MBtd7">' + data.PayoutType + '</td>';
             grid_html += '<td class="MBtd8">' + data.Amount + '</td>';
             grid_html += '<td class="MBtd9">' + data.Status + '</td>';
             if (cutoff_date == NaN) {
                 grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
             }
             else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                 grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
             }
             else {
                 if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                     if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                         grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"  style="pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                     }
                     else {
                         grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                     }
                 }
                 else {
                     grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                 }
             }

         });
         $('#tbl_MobileTaxation').find('tbody').html('').html(grid_html);
     }
     else {
         $("#tbl_MobileTaxation").append("<tr class='even' id='NoData'><td colspan='10' class='text-center'>No data available</td></tr>");
         $(".dataTableScroll .scrollbar").hide();
         $("#WBvalid").attr("Disabled", "Disabled");
     }
 }
 else if (componentGroupId == 48 && CountryId == 17) //Transport 
 {
     $("#mailattach").addClass('disabled');
     $("#divApprovalmsg1").show();
     $("#ulQuarter").hide();
     $(".tbl_upload_holder").hide();
     $("#mailattach").hide();
     $("#customize").hide();
     $('#deletebtn').show();

     $('#divMobileTaxation').show();
     $('#divMobileTaxation').css('display', 'block');
     $('#divMobileTaxation .dataTableScroll').css('display', 'block');
     $('#tbl_MobileTaxation').css('display', 'block');
     $('#divMobileTaxation .viewport').css('display', 'block');
     $('#divMobileTaxation .viewport').css('overflow', 'scroll');
     $('#tbl_MobileTaxation').find('tbody').html('');
     $('#tbl_MobileTaxation').css('display', 'block');
     if (RoleId == 19) {
         $('#dwnload_Data').hide();
         $('#dwnload_Report').css('float', 'right');
         dwnload_Data
     }
     //$("#disLabel").css("margin-left", "300px");
     $("#customize").css("left", "280px");
     $("#ulRecord").css('display', 'block');
     //$("#ulRecord li").css("width", "");
     //$("#ulRecord li").addClass("mleft50");
     ////$("#ulRecord li").css("margin-left", "250px");
     ////$("#ulRecord li").css("margin-top", "");
     //$("#ulRecord li").css("left", "30px");
     $('.new_btn').css("margin-left", "13px");
     getTotalPages();
     $("#NoData").remove();
     var htmldata = '';
     htmldata += '<tr><th class="MTtd1"><input type="checkbox" id="MTvalidchk" /></th>';
     htmldata += ' <th class="sort MTtd2" column="AssociateID">Associate ID </th>';
     htmldata += ' <th class="MTtd3" column="AssociateName">Associate Name </th>';
     htmldata += ' <th class="MTtd4">Assignment Start Date</th>';
     htmldata += ' <th class="MTtd5">Invoice Amount</th>';
     htmldata += ' <th class="MTtd6">Transportation Type</th>';
     htmldata += ' <th class="MTtd7">Month Of Declaration</th>';
     htmldata += ' <th class="MTtd7">Payroll year</th>';
     htmldata += ' <th class="MTtd7">Frequency Type</th>';
     htmldata += ' <th class="MTtd7">Declaring Multiple Allowance</th>';
     //htmldata += ' <th class="MTtd7">Pass Availed</th>';
     //htmldata += ' <th class="MTtd7">Pass Amount</th>';
     htmldata += ' <th class="MTtd7">Approval Mail</th>';
     htmldata += ' <th class="MTtd7">Invoice</th>';
     htmldata += ' <th class="MTtd7">Declaration</th>';
     htmldata += ' <th class="MTtd7">Rejection Reason</th>';
     htmldata += ' <th class="sort MTtd9" column="Status">Status</th>';
     htmldata += ' <th class="MTtd10">Edit</th></tr>';
     htmldata += ' </tr>';

     $('#tbl_MobileTaxation').find('thead').html('').html(htmldata);

     if (msg.d.length > 0) {
         $("#divMobileTaxation .refPage").css("display", "block");
         var classname = '';

         $.each(msg.d, function (i, data) {
             if ((i % 2) == 0) {
                 classname = 'even';
             }
             else {
                 classname = 'odd';
             }
             var remarks = '';

             var d = new Date();
             var today = d.getDate() + "/" + (d.getMonth() + 1) + "/" + d.getFullYear();

             // End date//
             var cutoffdatesplit = cutoffdate.split('/');
             // Month is zero-indexed so subtract one from the month inside the constructor
             var date = new Date(cutoffdatesplit[2], cutoffdatesplit[1] - 1, cutoffdatesplit[0]); //Y M D
             var cutoff_date = date.getTime();

             //cut off start  date //
             var cutoffstartdatesplit = cutoffStartdate.split('/');
             // Month is zero-indexed so subtract one from the month inside the constructor
             var date = new Date(cutoffstartdatesplit[2], cutoffstartdatesplit[1] - 1, cutoffstartdatesplit[0]); //Y M D
             var cutoffStart_date = date.getTime();

             var todaysplit = today.split('/');
             // Month is zero-indexed so subtract one from the month inside the constructor
             var Date1 = new Date(todaysplit[2], todaysplit[1] - 1, todaysplit[0]); //Y M D
             var today_date = Date1.getTime();


             var gridMailIdval = "";

             if (data.FileUploadID == 0) {
                 gridMailIdval = "<div></div>";
             }
             else {
                 gridMailIdval = '<input type="button" style="cursor:pointer" id=' + data.FileUploadID + ' class="mail_btn" fileuploadid=' + data.FileUploadID + '/>';
             }

             var invoiceMailIdval = "";
             var specialcaseReason = (data.SpecialCaseReason.length > 20) ? data.SpecialCaseReason.substring(0, 20) + '...' : data.SpecialCaseReason;
             if (data.InVoice == 0) {
                 invoiceMailIdval = "<div></div>";
             }
             else {
                 invoiceMailIdval = '<input type="button" style="cursor:pointer" id=' + data.InVoice + ' class="mail_btn" fileuploadid=' + data.InVoice + '/>';
             }
             var Decl = "";

             if (data.DeclarationForm == 0 || data.DeclarationForm == 'undefined') {
                 Decl = "<div></div>";
             }
             else {
                 Decl = '<input type="button" style="cursor:pointer" id=' + data.DeclarationForm + ' class="mail_btn" fileuploadid=' + data.DeclarationForm + '/>';
             }
             if (cutoff_date == NaN) {
                 grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
             }
             else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                 grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' /></td>';
             }
             else {
                 if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                     if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                         grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + '/></td>';
                     }
                     else {
                         grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                     }
                 }
                 else {
                     grid_html += ' <tr  class="' + classname + '" pk_id="' + data.PK_MaternityAllowanceID + '" status=' + data.Status + '><td class="MBtd1"><input type="checkbox"  class="MTvalid" id=' + (i + 1) + ' disabled="true"/></td>';
                 }
             }

             grid_html += '<td class="MBtd2">' + data.AssociateID + '</td>';
             grid_html += '<td class="MBtd3">' + data.AssociateName + '</td>';
             grid_html += '<td class="MBtd4">' + data.AssignmentStartDate + '</td>';
             grid_html += '<td class="MBtd5">' + data.Amount + '</td>';
             grid_html += '<td class="MBtd6">' + data.TransportationType + '</td>';
             grid_html += '<td class="MBtd7">' + data.PayrollMonth + '</td>';
             grid_html += '<td class="MBtd7">' + data.Year + '</td>';
             grid_html += '<td class="MBtd7">' + data.FrequencyType + '</td>';
             grid_html += '<td class="MBtd7" title="' + data.SpecialCaseReason + '">' + specialcaseReason + '</td>';
             //grid_html += '<td class="MBtd7">' + data.BuscardAvailed + '</td>';
             //grid_html += '<td class="MBtd7">' + data.BuscardAmount + '</td>';
             grid_html += '<td class="MBtd7">' + gridMailIdval + '</td>';
             grid_html += '<td class="MBtd7">' + invoiceMailIdval + '</td>';
             grid_html += '<td class="MBtd7">' + Decl + '</td>';
             grid_html += '<td class="MBtd7">' + data.RejectionReason + '</td>';
             grid_html += '<td class="MBtd9">' + data.Status + '</td>';
             if (cutoff_date == NaN) {
                 grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';
             }
             else if (today_date >= cutoffStart_date && today_date <= cutoff_date) {
                 grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px" /></td></tr>';
             }
             else {

                 if (today_date <= reworkendcutoff_date && today_date >= reworkstartcutoff_date) {
                     if (data.Status == "Rejected" || data.Status == "Resubmitted") {
                         grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px"  style="pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                     }
                     else {
                         grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                     }
                 }
                 else {
                     grid_html += '<td width="60px"><img class="edit_details spriteImage" style="--x:-2569px;--y:-929px;width:18px;height:20px;pointer-events:none; cursor:default" disabled="disabled" /></td></tr>';

                 }
             }


         });
         $('#tbl_MobileTaxation').find('tbody').html('').html(grid_html);
     }
     else {
         $("#tbl_MobileTaxation").append("<tr class='even' id='NoData'><td colspan='18' class='text-center'>No data available</td></tr>");
         $(".dataTableScroll .scrollbar").hide();
         $("#MTvalidchk").attr("Disabled", "Disabled");
     }
 }
